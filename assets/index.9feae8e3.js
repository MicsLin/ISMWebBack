const kz=function(){const u=document.createElement("link").relList;if(u&&u.supports&&u.supports("modulepreload"))return;for(const C of document.querySelectorAll('link[rel="modulepreload"]'))b(C);new MutationObserver(C=>{for(const S of C)if(S.type==="childList")for(const M of S.addedNodes)M.tagName==="LINK"&&M.rel==="modulepreload"&&b(M)}).observe(document,{childList:!0,subtree:!0});function p(C){const S={};return C.integrity&&(S.integrity=C.integrity),C.referrerpolicy&&(S.referrerPolicy=C.referrerpolicy),C.crossorigin==="use-credentials"?S.credentials="include":C.crossorigin==="anonymous"?S.credentials="omit":S.credentials="same-origin",S}function b(C){if(C.ep)return;C.ep=!0;const S=p(C);fetch(C.href,S)}};kz();function GR(a,u){const p=Object.create(null),b=a.split(",");for(let C=0;C<b.length;C++)p[b[C]]=!0;return u?C=>!!p[C.toLowerCase()]:C=>!!p[C]}const Sz="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Ez=GR(Sz);function QL(a){return!!a||a===""}function qR(a){if(Hr(a)){const u={};for(let p=0;p<a.length;p++){const b=a[p],C=Lc(b)?Az(b):qR(b);if(C)for(const S in C)u[S]=C[S]}return u}else{if(Lc(a))return a;if(Qi(a))return a}}const Oz=/;(?![^(]*\))/g,Tz=/:(.+)/;function Az(a){const u={};return a.split(Oz).forEach(p=>{if(p){const b=p.split(Tz);b.length>1&&(u[b[0].trim()]=b[1].trim())}}),u}function ea(a){let u="";if(Lc(a))u=a;else if(Hr(a))for(let p=0;p<a.length;p++){const b=ea(a[p]);b&&(u+=b+" ")}else if(Qi(a))for(const p in a)a[p]&&(u+=p+" ");return u.trim()}function Nz(a,u){if(a.length!==u.length)return!1;let p=!0;for(let b=0;p&&b<a.length;b++)p=T5(a[b],u[b]);return p}function T5(a,u){if(a===u)return!0;let p=qI(a),b=qI(u);if(p||b)return p&&b?a.getTime()===u.getTime():!1;if(p=Hr(a),b=Hr(u),p||b)return p&&b?Nz(a,u):!1;if(p=Qi(a),b=Qi(u),p||b){if(!p||!b)return!1;const C=Object.keys(a).length,S=Object.keys(u).length;if(C!==S)return!1;for(const M in a){const D=a.hasOwnProperty(M),I=u.hasOwnProperty(M);if(D&&!I||!D&&I||!T5(a[M],u[M]))return!1}}return String(a)===String(u)}function KR(a,u){return a.findIndex(p=>T5(p,u))}const Mt=a=>a==null?"":Hr(a)||Qi(a)&&(a.toString===o9||!sa(a.toString))?JSON.stringify(a,e9,2):String(a),e9=(a,u)=>u&&u.__v_isRef?e9(a,u.value):YC(u)?{[`Map(${u.size})`]:[...u.entries()].reduce((p,[b,C])=>(p[`${b} =>`]=C,p),{})}:lk(u)?{[`Set(${u.size})`]:[...u.values()]}:Qi(u)&&!Hr(u)&&!r9(u)?String(u):u,Ls={},KC=[],B1=()=>{},Mz=()=>!1,Rz=/^on[^a-z]/,eN=a=>Rz.test(a),YR=a=>a.startsWith("onUpdate:"),vm=Object.assign,t9=(a,u)=>{const p=a.indexOf(u);p>-1&&a.splice(p,1)},Dz=Object.prototype.hasOwnProperty,Wa=(a,u)=>Dz.call(a,u),Hr=Array.isArray,YC=a=>tN(a)==="[object Map]",lk=a=>tN(a)==="[object Set]",qI=a=>a instanceof Date,sa=a=>typeof a=="function",Lc=a=>typeof a=="string",XR=a=>typeof a=="symbol",Qi=a=>a!==null&&typeof a=="object",n9=a=>Qi(a)&&sa(a.then)&&sa(a.catch),o9=Object.prototype.toString,tN=a=>o9.call(a),Iz=a=>tN(a).slice(8,-1),r9=a=>tN(a)==="[object Object]",JR=a=>Lc(a)&&a!=="NaN"&&a[0]!=="-"&&""+parseInt(a,10)===a,O6=GR(",key,ref,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),nN=a=>{const u=Object.create(null);return p=>u[p]||(u[p]=a(p))},Pz=/-(\w)/g,Jp=nN(a=>a.replace(Pz,(u,p)=>p?p.toUpperCase():"")),Lz=/\B([A-Z])/g,ck=nN(a=>a.replace(Lz,"-$1").toLowerCase()),oN=nN(a=>a.charAt(0).toUpperCase()+a.slice(1)),z7=nN(a=>a?`on${oN(a)}`:""),g5=(a,u)=>!Object.is(a,u),T6=(a,u)=>{for(let p=0;p<a.length;p++)a[p](u)},L6=(a,u,p)=>{Object.defineProperty(a,u,{configurable:!0,enumerable:!1,value:p})},B6=a=>{const u=parseFloat(a);return isNaN(u)?a:u};let qp;const u6=[];class a9{constructor(u=!1){this.active=!0,this.effects=[],this.cleanups=[],!u&&qp&&(this.parent=qp,this.index=(qp.scopes||(qp.scopes=[])).push(this)-1)}run(u){if(this.active)try{return this.on(),u()}finally{this.off()}}on(){this.active&&(u6.push(this),qp=this)}off(){this.active&&(u6.pop(),qp=u6[u6.length-1])}stop(u){if(this.active){if(this.effects.forEach(p=>p.stop()),this.cleanups.forEach(p=>p()),this.scopes&&this.scopes.forEach(p=>p.stop(!0)),this.parent&&!u){const p=this.parent.scopes.pop();p&&p!==this&&(this.parent.scopes[this.index]=p,p.index=this.index)}this.active=!1}}}function s9(a){return new a9(a)}function Bz(a,u){u=u||qp,u&&u.active&&u.effects.push(a)}function Fz(){return qp}function Hz(a){qp&&qp.cleanups.push(a)}const QR=a=>{const u=new Set(a);return u.w=0,u.n=0,u},i9=a=>(a.w&sb)>0,l9=a=>(a.n&sb)>0,zz=({deps:a})=>{if(a.length)for(let u=0;u<a.length;u++)a[u].w|=sb},Vz=a=>{const{deps:u}=a;if(u.length){let p=0;for(let b=0;b<u.length;b++){const C=u[b];i9(C)&&!l9(C)?C.delete(a):u[p++]=C,C.w&=~sb,C.n&=~sb}u.length=p}},eR=new WeakMap;let n5=0,sb=1;const tR=30,JE=[];let rw;const aw=Symbol(""),nR=Symbol("");class eD{constructor(u,p=null,b){this.fn=u,this.scheduler=p,this.active=!0,this.deps=[],Bz(this,b)}run(){if(!this.active)return this.fn();if(!JE.includes(this))try{return JE.push(rw=this),$z(),sb=1<<++n5,n5<=tR?zz(this):KI(this),this.fn()}finally{n5<=tR&&Vz(this),sb=1<<--n5,mw(),JE.pop();const u=JE.length;rw=u>0?JE[u-1]:void 0}}stop(){this.active&&(KI(this),this.onStop&&this.onStop(),this.active=!1)}}function KI(a){const{deps:u}=a;if(u.length){for(let p=0;p<u.length;p++)u[p].delete(a);u.length=0}}let QC=!0;const tD=[];function uk(){tD.push(QC),QC=!1}function $z(){tD.push(QC),QC=!0}function mw(){const a=tD.pop();QC=a===void 0?!0:a}function bm(a,u,p){if(!c9())return;let b=eR.get(a);b||eR.set(a,b=new Map);let C=b.get(p);C||b.set(p,C=QR()),u9(C)}function c9(){return QC&&rw!==void 0}function u9(a,u){let p=!1;n5<=tR?l9(a)||(a.n|=sb,p=!i9(a)):p=!a.has(rw),p&&(a.add(rw),rw.deps.push(a))}function H1(a,u,p,b,C,S){const M=eR.get(a);if(!M)return;let D=[];if(u==="clear")D=[...M.values()];else if(p==="length"&&Hr(a))M.forEach((I,q)=>{(q==="length"||q>=b)&&D.push(I)});else switch(p!==void 0&&D.push(M.get(p)),u){case"add":Hr(a)?JR(p)&&D.push(M.get("length")):(D.push(M.get(aw)),YC(a)&&D.push(M.get(nR)));break;case"delete":Hr(a)||(D.push(M.get(aw)),YC(a)&&D.push(M.get(nR)));break;case"set":YC(a)&&D.push(M.get(aw));break}if(D.length===1)D[0]&&oR(D[0]);else{const I=[];for(const q of D)q&&I.push(...q);oR(QR(I))}}function oR(a,u){for(const p of Hr(a)?a:[...a])(p!==rw||p.allowRecurse)&&(p.scheduler?p.scheduler():p.run())}const Uz=GR("__proto__,__v_isRef,__isVue"),d9=new Set(Object.getOwnPropertyNames(Symbol).map(a=>Symbol[a]).filter(XR)),jz=nD(),Zz=nD(!1,!0),Wz=nD(!0),YI=Gz();function Gz(){const a={};return["includes","indexOf","lastIndexOf"].forEach(u=>{a[u]=function(...p){const b=Ga(this);for(let S=0,M=this.length;S<M;S++)bm(b,"get",S+"");const C=b[u](...p);return C===-1||C===!1?b[u](...p.map(Ga)):C}}),["push","pop","shift","unshift","splice"].forEach(u=>{a[u]=function(...p){uk();const b=Ga(this)[u].apply(this,p);return mw(),b}}),a}function nD(a=!1,u=!1){return function(b,C,S){if(C==="__v_isReactive")return!a;if(C==="__v_isReadonly")return a;if(C==="__v_raw"&&S===(a?u?cV:h9:u?p9:g9).get(b))return b;const M=Hr(b);if(!a&&M&&Wa(YI,C))return Reflect.get(YI,C,S);const D=Reflect.get(b,C,S);return(XR(C)?d9.has(C):Uz(C))||(a||bm(b,"get",C),u)?D:fl(D)?!M||!JR(C)?D.value:D:Qi(D)?a?v9(D):fw(D):D}}const qz=m9(),Kz=m9(!0);function m9(a=!1){return function(p,b,C,S){let M=p[b];if(!a&&(C=Ga(C),M=Ga(M),!Hr(p)&&fl(M)&&!fl(C)))return M.value=C,!0;const D=Hr(p)&&JR(b)?Number(b)<p.length:Wa(p,b),I=Reflect.set(p,b,C,S);return p===Ga(S)&&(D?g5(C,M)&&H1(p,"set",b,C):H1(p,"add",b,C)),I}}function Yz(a,u){const p=Wa(a,u);a[u];const b=Reflect.deleteProperty(a,u);return b&&p&&H1(a,"delete",u,void 0),b}function Xz(a,u){const p=Reflect.has(a,u);return(!XR(u)||!d9.has(u))&&bm(a,"has",u),p}function Jz(a){return bm(a,"iterate",Hr(a)?"length":aw),Reflect.ownKeys(a)}const f9={get:jz,set:qz,deleteProperty:Yz,has:Xz,ownKeys:Jz},Qz={get:Wz,set(a,u){return!0},deleteProperty(a,u){return!0}},eV=vm({},f9,{get:Zz,set:Kz}),oD=a=>Qi(a)?fw(a):a,rD=a=>Qi(a)?v9(a):a,aD=a=>a,rN=a=>Reflect.getPrototypeOf(a);function d6(a,u,p=!1,b=!1){a=a.__v_raw;const C=Ga(a),S=Ga(u);u!==S&&!p&&bm(C,"get",u),!p&&bm(C,"get",S);const{has:M}=rN(C),D=b?aD:p?rD:oD;if(M.call(C,u))return D(a.get(u));if(M.call(C,S))return D(a.get(S));a!==C&&a.get(u)}function m6(a,u=!1){const p=this.__v_raw,b=Ga(p),C=Ga(a);return a!==C&&!u&&bm(b,"has",a),!u&&bm(b,"has",C),a===C?p.has(a):p.has(a)||p.has(C)}function f6(a,u=!1){return a=a.__v_raw,!u&&bm(Ga(a),"iterate",aw),Reflect.get(a,"size",a)}function XI(a){a=Ga(a);const u=Ga(this);return rN(u).has.call(u,a)||(u.add(a),H1(u,"add",a,a)),this}function JI(a,u){u=Ga(u);const p=Ga(this),{has:b,get:C}=rN(p);let S=b.call(p,a);S||(a=Ga(a),S=b.call(p,a));const M=C.call(p,a);return p.set(a,u),S?g5(u,M)&&H1(p,"set",a,u):H1(p,"add",a,u),this}function QI(a){const u=Ga(this),{has:p,get:b}=rN(u);let C=p.call(u,a);C||(a=Ga(a),C=p.call(u,a)),b&&b.call(u,a);const S=u.delete(a);return C&&H1(u,"delete",a,void 0),S}function eP(){const a=Ga(this),u=a.size!==0,p=a.clear();return u&&H1(a,"clear",void 0,void 0),p}function g6(a,u){return function(b,C){const S=this,M=S.__v_raw,D=Ga(M),I=u?aD:a?rD:oD;return!a&&bm(D,"iterate",aw),M.forEach((q,re)=>b.call(C,I(q),I(re),S))}}function p6(a,u,p){return function(...b){const C=this.__v_raw,S=Ga(C),M=YC(S),D=a==="entries"||a===Symbol.iterator&&M,I=a==="keys"&&M,q=C[a](...b),re=p?aD:u?rD:oD;return!u&&bm(S,"iterate",I?nR:aw),{next(){const{value:fe,done:le}=q.next();return le?{value:fe,done:le}:{value:D?[re(fe[0]),re(fe[1])]:re(fe),done:le}},[Symbol.iterator](){return this}}}}function q0(a){return function(...u){return a==="delete"?!1:this}}function tV(){const a={get(S){return d6(this,S)},get size(){return f6(this)},has:m6,add:XI,set:JI,delete:QI,clear:eP,forEach:g6(!1,!1)},u={get(S){return d6(this,S,!1,!0)},get size(){return f6(this)},has:m6,add:XI,set:JI,delete:QI,clear:eP,forEach:g6(!1,!0)},p={get(S){return d6(this,S,!0)},get size(){return f6(this,!0)},has(S){return m6.call(this,S,!0)},add:q0("add"),set:q0("set"),delete:q0("delete"),clear:q0("clear"),forEach:g6(!0,!1)},b={get(S){return d6(this,S,!0,!0)},get size(){return f6(this,!0)},has(S){return m6.call(this,S,!0)},add:q0("add"),set:q0("set"),delete:q0("delete"),clear:q0("clear"),forEach:g6(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(S=>{a[S]=p6(S,!1,!1),p[S]=p6(S,!0,!1),u[S]=p6(S,!1,!0),b[S]=p6(S,!0,!0)}),[a,p,u,b]}const[nV,oV,rV,aV]=tV();function sD(a,u){const p=u?a?aV:rV:a?oV:nV;return(b,C,S)=>C==="__v_isReactive"?!a:C==="__v_isReadonly"?a:C==="__v_raw"?b:Reflect.get(Wa(p,C)&&C in b?p:b,C,S)}const sV={get:sD(!1,!1)},iV={get:sD(!1,!0)},lV={get:sD(!0,!1)},g9=new WeakMap,p9=new WeakMap,h9=new WeakMap,cV=new WeakMap;function uV(a){switch(a){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function dV(a){return a.__v_skip||!Object.isExtensible(a)?0:uV(Iz(a))}function fw(a){return a&&a.__v_isReadonly?a:iD(a,!1,f9,sV,g9)}function mV(a){return iD(a,!1,eV,iV,p9)}function v9(a){return iD(a,!0,Qz,lV,h9)}function iD(a,u,p,b,C){if(!Qi(a)||a.__v_raw&&!(u&&a.__v_isReactive))return a;const S=C.get(a);if(S)return S;const M=dV(a);if(M===0)return a;const D=new Proxy(a,M===2?b:p);return C.set(a,D),D}function F1(a){return b9(a)?F1(a.__v_raw):!!(a&&a.__v_isReactive)}function b9(a){return!!(a&&a.__v_isReadonly)}function y9(a){return F1(a)||b9(a)}function Ga(a){const u=a&&a.__v_raw;return u?Ga(u):a}function ek(a){return L6(a,"__v_skip",!0),a}function w9(a){c9()&&(a=Ga(a),a.dep||(a.dep=QR()),u9(a.dep))}function x9(a,u){a=Ga(a),a.dep&&oR(a.dep)}const tP=a=>Qi(a)?fw(a):a;function fl(a){return Boolean(a&&a.__v_isRef===!0)}function $o(a){return _9(a,!1)}function fV(a){return _9(a,!0)}class gV{constructor(u,p){this._shallow=p,this.dep=void 0,this.__v_isRef=!0,this._rawValue=p?u:Ga(u),this._value=p?u:tP(u)}get value(){return w9(this),this._value}set value(u){u=this._shallow?u:Ga(u),g5(u,this._rawValue)&&(this._rawValue=u,this._value=this._shallow?u:tP(u),x9(this))}}function _9(a,u){return fl(a)?a:new gV(a,u)}function vo(a){return fl(a)?a.value:a}const pV={get:(a,u,p)=>vo(Reflect.get(a,u,p)),set:(a,u,p,b)=>{const C=a[u];return fl(C)&&!fl(p)?(C.value=p,!0):Reflect.set(a,u,p,b)}};function C9(a){return F1(a)?a:new Proxy(a,pV)}function k9(a){const u=Hr(a)?new Array(a.length):{};for(const p in a)u[p]=S9(a,p);return u}class hV{constructor(u,p){this._object=u,this._key=p,this.__v_isRef=!0}get value(){return this._object[this._key]}set value(u){this._object[this._key]=u}}function S9(a,u){const p=a[u];return fl(p)?p:new hV(a,u)}class vV{constructor(u,p,b){this._setter=p,this.dep=void 0,this._dirty=!0,this.__v_isRef=!0,this.effect=new eD(u,()=>{this._dirty||(this._dirty=!0,x9(this))}),this.__v_isReadonly=b}get value(){const u=Ga(this);return w9(u),u._dirty&&(u._dirty=!1,u._value=u.effect.run()),u._value}set value(u){this._setter(u)}}function bo(a,u){let p,b;const C=sa(a);return C?(p=a,b=B1):(p=a.get,b=a.set),new vV(p,b,C||!b)}Promise.resolve();function bV(a,u,...p){const b=a.vnode.props||Ls;let C=p;const S=u.startsWith("update:"),M=S&&u.slice(7);if(M&&M in b){const re=`${M==="modelValue"?"model":M}Modifiers`,{number:fe,trim:le}=b[re]||Ls;le?C=p.map(ue=>ue.trim()):fe&&(C=p.map(B6))}let D,I=b[D=z7(u)]||b[D=z7(Jp(u))];!I&&S&&(I=b[D=z7(ck(u))]),I&&Qp(I,a,6,C);const q=b[D+"Once"];if(q){if(!a.emitted)a.emitted={};else if(a.emitted[D])return;a.emitted[D]=!0,Qp(q,a,6,C)}}function E9(a,u,p=!1){const b=u.emitsCache,C=b.get(a);if(C!==void 0)return C;const S=a.emits;let M={},D=!1;if(!sa(a)){const I=q=>{const re=E9(q,u,!0);re&&(D=!0,vm(M,re))};!p&&u.mixins.length&&u.mixins.forEach(I),a.extends&&I(a.extends),a.mixins&&a.mixins.forEach(I)}return!S&&!D?(b.set(a,null),null):(Hr(S)?S.forEach(I=>M[I]=null):vm(M,S),b.set(a,M),M)}function lD(a,u){return!a||!eN(u)?!1:(u=u.slice(2).replace(/Once$/,""),Wa(a,u[0].toLowerCase()+u.slice(1))||Wa(a,ck(u))||Wa(a,u))}let wf=null,aN=null;function F6(a){const u=wf;return wf=a,aN=a&&a.type.__scopeId||null,u}function th(a){aN=a}function nh(){aN=null}function yV(a,u=wf,p){if(!u||a._n)return a;const b=(...C)=>{b._d&&uP(-1);const S=F6(u),M=a(...C);return F6(S),b._d&&uP(1),M};return b._n=!0,b._c=!0,b._d=!0,b}function V7(a){const{type:u,vnode:p,proxy:b,withProxy:C,props:S,propsOptions:[M],slots:D,attrs:I,emit:q,render:re,renderCache:fe,data:le,setupState:ue,ctx:ke,inheritAttrs:xe}=a;let me,J;const ae=F6(a);try{if(p.shapeFlag&4){const G=C||b;me=Kp(re.call(G,G,fe,S,ue,le,ke)),J=I}else{const G=u;me=Kp(G.length>1?G(S,{attrs:I,slots:D,emit:q}):G(S,null)),J=u.props?I:wV(I)}}catch(G){a5.length=0,cN(G,a,1),me=ta(lw)}let De=me;if(J&&xe!==!1){const G=Object.keys(J),{shapeFlag:Ae}=De;G.length&&Ae&7&&(M&&G.some(YR)&&(J=xV(J,M)),De=h5(De,J))}return p.dirs&&(De.dirs=De.dirs?De.dirs.concat(p.dirs):p.dirs),p.transition&&(De.transition=p.transition),me=De,F6(ae),me}const wV=a=>{let u;for(const p in a)(p==="class"||p==="style"||eN(p))&&((u||(u={}))[p]=a[p]);return u},xV=(a,u)=>{const p={};for(const b in a)(!YR(b)||!(b.slice(9)in u))&&(p[b]=a[b]);return p};function _V(a,u,p){const{props:b,children:C,component:S}=a,{props:M,children:D,patchFlag:I}=u,q=S.emitsOptions;if(u.dirs||u.transition)return!0;if(p&&I>=0){if(I&1024)return!0;if(I&16)return b?nP(b,M,q):!!M;if(I&8){const re=u.dynamicProps;for(let fe=0;fe<re.length;fe++){const le=re[fe];if(M[le]!==b[le]&&!lD(q,le))return!0}}}else return(C||D)&&(!D||!D.$stable)?!0:b===M?!1:b?M?nP(b,M,q):!0:!!M;return!1}function nP(a,u,p){const b=Object.keys(u);if(b.length!==Object.keys(a).length)return!0;for(let C=0;C<b.length;C++){const S=b[C];if(u[S]!==a[S]&&!lD(p,S))return!0}return!1}function CV({vnode:a,parent:u},p){for(;u&&u.subTree===a;)(a=u.vnode).el=p,u=u.parent}const kV=a=>a.__isSuspense;function SV(a,u){u&&u.pendingBranch?Hr(a)?u.effects.push(...a):u.effects.push(a):h$(a)}function A6(a,u){if(sc){let p=sc.provides;const b=sc.parent&&sc.parent.provides;b===p&&(p=sc.provides=Object.create(b)),p[a]=u}}function Dg(a,u,p=!1){const b=sc||wf;if(b){const C=b.parent==null?b.vnode.appContext&&b.vnode.appContext.provides:b.parent.provides;if(C&&a in C)return C[a];if(arguments.length>1)return p&&sa(u)?u.call(b.proxy):u}}function dk(a){return sa(a)?{setup:a,name:a.name}:a}const rR=a=>!!a.type.__asyncLoader,O9=a=>a.type.__isKeepAlive;function T9(a,u){N9(a,"a",u)}function A9(a,u){N9(a,"da",u)}function N9(a,u,p=sc){const b=a.__wdc||(a.__wdc=()=>{let C=p;for(;C;){if(C.isDeactivated)return;C=C.parent}a()});if(sN(u,b,p),p){let C=p.parent;for(;C&&C.parent;)O9(C.parent.vnode)&&EV(b,u,p,C),C=C.parent}}function EV(a,u,p,b){const C=sN(u,a,b,!0);iN(()=>{t9(b[u],C)},p)}function sN(a,u,p=sc,b=!1){if(p){const C=p[a]||(p[a]=[]),S=u.__weh||(u.__weh=(...M)=>{if(p.isUnmounted)return;uk(),tk(p);const D=Qp(u,p,a,M);return iw(),mw(),D});return b?C.unshift(S):C.push(S),S}}const U1=a=>(u,p=sc)=>(!dR||a==="sp")&&sN(a,u,p),OV=U1("bm"),A5=U1("m"),TV=U1("bu"),AV=U1("u"),M9=U1("bum"),iN=U1("um"),NV=U1("sp"),MV=U1("rtg"),RV=U1("rtc");function DV(a,u=sc){sN("ec",a,u)}let aR=!0;function IV(a){const u=D9(a),p=a.proxy,b=a.ctx;aR=!1,u.beforeCreate&&oP(u.beforeCreate,a,"bc");const{data:C,computed:S,methods:M,watch:D,provide:I,inject:q,created:re,beforeMount:fe,mounted:le,beforeUpdate:ue,updated:ke,activated:xe,deactivated:me,beforeDestroy:J,beforeUnmount:ae,destroyed:De,unmounted:G,render:Ae,renderTracked:ye,renderTriggered:Pt,errorCaptured:Ft,serverPrefetch:qn,expose:wn,inheritAttrs:Ke,components:nn,directives:H,filters:it}=u;if(q&&PV(q,b,null,a.appContext.config.unwrapInjectedRef),M)for(const cn in M){const In=M[cn];sa(In)&&(b[cn]=In.bind(p))}if(C){const cn=C.call(p,p);Qi(cn)&&(a.data=fw(cn))}if(aR=!0,S)for(const cn in S){const In=S[cn],pn=sa(In)?In.bind(p,p):sa(In.get)?In.get.bind(p,p):B1,Sn=!sa(In)&&sa(In.set)?In.set.bind(p):B1,Q=bo({get:pn,set:Sn});Object.defineProperty(b,cn,{enumerable:!0,configurable:!0,get:()=>Q.value,set:xn=>Q.value=xn})}if(D)for(const cn in D)R9(D[cn],b,p,cn);if(I){const cn=sa(I)?I.call(p):I;Reflect.ownKeys(cn).forEach(In=>{A6(In,cn[In])})}re&&oP(re,a,"c");function wt(cn,In){Hr(In)?In.forEach(pn=>cn(pn.bind(p))):In&&cn(In.bind(p))}if(wt(OV,fe),wt(A5,le),wt(TV,ue),wt(AV,ke),wt(T9,xe),wt(A9,me),wt(DV,Ft),wt(RV,ye),wt(MV,Pt),wt(M9,ae),wt(iN,G),wt(NV,qn),Hr(wn))if(wn.length){const cn=a.exposed||(a.exposed={});wn.forEach(In=>{Object.defineProperty(cn,In,{get:()=>p[In],set:pn=>p[In]=pn})})}else a.exposed||(a.exposed={});Ae&&a.render===B1&&(a.render=Ae),Ke!=null&&(a.inheritAttrs=Ke),nn&&(a.components=nn),H&&(a.directives=H)}function PV(a,u,p=B1,b=!1){Hr(a)&&(a=sR(a));for(const C in a){const S=a[C];let M;Qi(S)?"default"in S?M=Dg(S.from||C,S.default,!0):M=Dg(S.from||C):M=Dg(S),fl(M)&&b?Object.defineProperty(u,C,{enumerable:!0,configurable:!0,get:()=>M.value,set:D=>M.value=D}):u[C]=M}}function oP(a,u,p){Qp(Hr(a)?a.map(b=>b.bind(u.proxy)):a.bind(u.proxy),u,p)}function R9(a,u,p,b){const C=b.includes(".")?J9(p,b):()=>p[b];if(Lc(a)){const S=u[a];sa(S)&&xf(C,S)}else if(sa(a))xf(C,a.bind(p));else if(Qi(a))if(Hr(a))a.forEach(S=>R9(S,u,p,b));else{const S=sa(a.handler)?a.handler.bind(p):u[a.handler];sa(S)&&xf(C,S,a)}}function D9(a){const u=a.type,{mixins:p,extends:b}=u,{mixins:C,optionsCache:S,config:{optionMergeStrategies:M}}=a.appContext,D=S.get(u);let I;return D?I=D:!C.length&&!p&&!b?I=u:(I={},C.length&&C.forEach(q=>H6(I,q,M,!0)),H6(I,u,M)),S.set(u,I),I}function H6(a,u,p,b=!1){const{mixins:C,extends:S}=u;S&&H6(a,S,p,!0),C&&C.forEach(M=>H6(a,M,p,!0));for(const M in u)if(!(b&&M==="expose")){const D=LV[M]||p&&p[M];a[M]=D?D(a[M],u[M]):u[M]}return a}const LV={data:rP,props:J2,emits:J2,methods:J2,computed:J2,beforeCreate:Du,created:Du,beforeMount:Du,mounted:Du,beforeUpdate:Du,updated:Du,beforeDestroy:Du,beforeUnmount:Du,destroyed:Du,unmounted:Du,activated:Du,deactivated:Du,errorCaptured:Du,serverPrefetch:Du,components:J2,directives:J2,watch:FV,provide:rP,inject:BV};function rP(a,u){return u?a?function(){return vm(sa(a)?a.call(this,this):a,sa(u)?u.call(this,this):u)}:u:a}function BV(a,u){return J2(sR(a),sR(u))}function sR(a){if(Hr(a)){const u={};for(let p=0;p<a.length;p++)u[a[p]]=a[p];return u}return a}function Du(a,u){return a?[...new Set([].concat(a,u))]:u}function J2(a,u){return a?vm(vm(Object.create(null),a),u):u}function FV(a,u){if(!a)return u;if(!u)return a;const p=vm(Object.create(null),a);for(const b in u)p[b]=Du(a[b],u[b]);return p}function HV(a,u,p,b=!1){const C={},S={};L6(S,lN,1),a.propsDefaults=Object.create(null),I9(a,u,C,S);for(const M in a.propsOptions[0])M in C||(C[M]=void 0);p?a.props=b?C:mV(C):a.type.props?a.props=C:a.props=S,a.attrs=S}function zV(a,u,p,b){const{props:C,attrs:S,vnode:{patchFlag:M}}=a,D=Ga(C),[I]=a.propsOptions;let q=!1;if((b||M>0)&&!(M&16)){if(M&8){const re=a.vnode.dynamicProps;for(let fe=0;fe<re.length;fe++){let le=re[fe];const ue=u[le];if(I)if(Wa(S,le))ue!==S[le]&&(S[le]=ue,q=!0);else{const ke=Jp(le);C[ke]=iR(I,D,ke,ue,a,!1)}else ue!==S[le]&&(S[le]=ue,q=!0)}}}else{I9(a,u,C,S)&&(q=!0);let re;for(const fe in D)(!u||!Wa(u,fe)&&((re=ck(fe))===fe||!Wa(u,re)))&&(I?p&&(p[fe]!==void 0||p[re]!==void 0)&&(C[fe]=iR(I,D,fe,void 0,a,!0)):delete C[fe]);if(S!==D)for(const fe in S)(!u||!Wa(u,fe))&&(delete S[fe],q=!0)}q&&H1(a,"set","$attrs")}function I9(a,u,p,b){const[C,S]=a.propsOptions;let M=!1,D;if(u)for(let I in u){if(O6(I))continue;const q=u[I];let re;C&&Wa(C,re=Jp(I))?!S||!S.includes(re)?p[re]=q:(D||(D={}))[re]=q:lD(a.emitsOptions,I)||q!==b[I]&&(b[I]=q,M=!0)}if(S){const I=Ga(p),q=D||Ls;for(let re=0;re<S.length;re++){const fe=S[re];p[fe]=iR(C,I,fe,q[fe],a,!Wa(q,fe))}}return M}function iR(a,u,p,b,C,S){const M=a[p];if(M!=null){const D=Wa(M,"default");if(D&&b===void 0){const I=M.default;if(M.type!==Function&&sa(I)){const{propsDefaults:q}=C;p in q?b=q[p]:(tk(C),b=q[p]=I.call(null,u),iw())}else b=I}M[0]&&(S&&!D?b=!1:M[1]&&(b===""||b===ck(p))&&(b=!0))}return b}function P9(a,u,p=!1){const b=u.propsCache,C=b.get(a);if(C)return C;const S=a.props,M={},D=[];let I=!1;if(!sa(a)){const re=fe=>{I=!0;const[le,ue]=P9(fe,u,!0);vm(M,le),ue&&D.push(...ue)};!p&&u.mixins.length&&u.mixins.forEach(re),a.extends&&re(a.extends),a.mixins&&a.mixins.forEach(re)}if(!S&&!I)return b.set(a,KC),KC;if(Hr(S))for(let re=0;re<S.length;re++){const fe=Jp(S[re]);aP(fe)&&(M[fe]=Ls)}else if(S)for(const re in S){const fe=Jp(re);if(aP(fe)){const le=S[re],ue=M[fe]=Hr(le)||sa(le)?{type:le}:le;if(ue){const ke=lP(Boolean,ue.type),xe=lP(String,ue.type);ue[0]=ke>-1,ue[1]=xe<0||ke<xe,(ke>-1||Wa(ue,"default"))&&D.push(fe)}}}const q=[M,D];return b.set(a,q),q}function aP(a){return a[0]!=="$"}function sP(a){const u=a&&a.toString().match(/^\s*function (\w+)/);return u?u[1]:a===null?"null":""}function iP(a,u){return sP(a)===sP(u)}function lP(a,u){return Hr(u)?u.findIndex(p=>iP(p,a)):sa(u)&&iP(u,a)?0:-1}const L9=a=>a[0]==="_"||a==="$stable",cD=a=>Hr(a)?a.map(Kp):[Kp(a)],VV=(a,u,p)=>{const b=yV((...C)=>cD(u(...C)),p);return b._c=!1,b},B9=(a,u,p)=>{const b=a._ctx;for(const C in a){if(L9(C))continue;const S=a[C];if(sa(S))u[C]=VV(C,S,b);else if(S!=null){const M=cD(S);u[C]=()=>M}}},F9=(a,u)=>{const p=cD(u);a.slots.default=()=>p},$V=(a,u)=>{if(a.vnode.shapeFlag&32){const p=u._;p?(a.slots=Ga(u),L6(u,"_",p)):B9(u,a.slots={})}else a.slots={},u&&F9(a,u);L6(a.slots,lN,1)},UV=(a,u,p)=>{const{vnode:b,slots:C}=a;let S=!0,M=Ls;if(b.shapeFlag&32){const D=u._;D?p&&D===1?S=!1:(vm(C,u),!p&&D===1&&delete C._):(S=!u.$stable,B9(u,C)),M=u}else u&&(F9(a,u),M={default:1});if(S)for(const D in C)!L9(D)&&!(D in M)&&delete C[D]};function Mn(a,u){const p=wf;if(p===null)return a;const b=p.proxy,C=a.dirs||(a.dirs=[]);for(let S=0;S<u.length;S++){let[M,D,I,q=Ls]=u[S];sa(M)&&(M={mounted:M,updated:M}),M.deep&&tw(D),C.push({dir:M,instance:b,value:D,oldValue:void 0,arg:I,modifiers:q})}return a}function Y2(a,u,p,b){const C=a.dirs,S=u&&u.dirs;for(let M=0;M<C.length;M++){const D=C[M];S&&(D.oldValue=S[M].value);let I=D.dir[b];I&&(uk(),Qp(I,p,8,[a.el,D,a,u]),mw())}}function H9(){return{app:null,config:{isNativeTag:Mz,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let jV=0;function ZV(a,u){return function(b,C=null){C!=null&&!Qi(C)&&(C=null);const S=H9(),M=new Set;let D=!1;const I=S.app={_uid:jV++,_component:b,_props:C,_container:null,_context:S,_instance:null,version:y$,get config(){return S.config},set config(q){},use(q,...re){return M.has(q)||(q&&sa(q.install)?(M.add(q),q.install(I,...re)):sa(q)&&(M.add(q),q(I,...re))),I},mixin(q){return S.mixins.includes(q)||S.mixins.push(q),I},component(q,re){return re?(S.components[q]=re,I):S.components[q]},directive(q,re){return re?(S.directives[q]=re,I):S.directives[q]},mount(q,re,fe){if(!D){const le=ta(b,C);return le.appContext=S,re&&u?u(le,q):a(le,q,fe),D=!0,I._container=q,q.__vue_app__=I,dD(le.component)||le.component.proxy}},unmount(){D&&(a(null,I._container),delete I._container.__vue_app__)},provide(q,re){return S.provides[q]=re,I}};return I}}const Pu=SV;function WV(a){return GV(a)}function GV(a,u){const{insert:p,remove:b,patchProp:C,createElement:S,createText:M,createComment:D,setText:I,setElementText:q,parentNode:re,nextSibling:fe,setScopeId:le=B1,cloneNode:ue,insertStaticContent:ke}=a,xe=(ne,Oe,Ve,yt=null,Ct=null,rn=null,Un=!1,En=null,hn=!!Oe.dynamicChildren)=>{if(ne===Oe)return;ne&&!QE(ne,Oe)&&(yt=dt(ne),xn(ne,Ct,rn,!0),ne=null),Oe.patchFlag===-2&&(hn=!1,Oe.dynamicChildren=null);const{type:Je,ref:qt,shapeFlag:Hn}=Oe;switch(Je){case p5:me(ne,Oe,Ve,yt);break;case lw:J(ne,Oe,Ve,yt);break;case N6:ne==null&&ae(Oe,Ve,yt,Un);break;case Pi:nn(ne,Oe,Ve,yt,Ct,rn,Un,En,hn);break;default:Hn&1?Ae(ne,Oe,Ve,yt,Ct,rn,Un,En,hn):Hn&6?H(ne,Oe,Ve,yt,Ct,rn,Un,En,hn):(Hn&64||Hn&128)&&Je.process(ne,Oe,Ve,yt,Ct,rn,Un,En,hn,ze)}qt!=null&&Ct&&lR(qt,ne&&ne.ref,rn,Oe||ne,!Oe)},me=(ne,Oe,Ve,yt)=>{if(ne==null)p(Oe.el=M(Oe.children),Ve,yt);else{const Ct=Oe.el=ne.el;Oe.children!==ne.children&&I(Ct,Oe.children)}},J=(ne,Oe,Ve,yt)=>{ne==null?p(Oe.el=D(Oe.children||""),Ve,yt):Oe.el=ne.el},ae=(ne,Oe,Ve,yt)=>{[ne.el,ne.anchor]=ke(ne.children,Oe,Ve,yt)},De=({el:ne,anchor:Oe},Ve,yt)=>{let Ct;for(;ne&&ne!==Oe;)Ct=fe(ne),p(ne,Ve,yt),ne=Ct;p(Oe,Ve,yt)},G=({el:ne,anchor:Oe})=>{let Ve;for(;ne&&ne!==Oe;)Ve=fe(ne),b(ne),ne=Ve;b(Oe)},Ae=(ne,Oe,Ve,yt,Ct,rn,Un,En,hn)=>{Un=Un||Oe.type==="svg",ne==null?ye(Oe,Ve,yt,Ct,rn,Un,En,hn):qn(ne,Oe,Ct,rn,Un,En,hn)},ye=(ne,Oe,Ve,yt,Ct,rn,Un,En)=>{let hn,Je;const{type:qt,props:Hn,shapeFlag:Dn,transition:Uo,patchFlag:Xn,dirs:so}=ne;if(ne.el&&ue!==void 0&&Xn===-1)hn=ne.el=ue(ne.el);else{if(hn=ne.el=S(ne.type,rn,Hn&&Hn.is,Hn),Dn&8?q(hn,ne.children):Dn&16&&Ft(ne.children,hn,null,yt,Ct,rn&&qt!=="foreignObject",Un,En),so&&Y2(ne,null,yt,"created"),Hn){for(const Rr in Hn)Rr!=="value"&&!O6(Rr)&&C(hn,Rr,null,Hn[Rr],rn,ne.children,yt,Ct,Ht);"value"in Hn&&C(hn,"value",null,Hn.value),(Je=Hn.onVnodeBeforeMount)&&Wp(Je,yt,ne)}Pt(hn,ne,ne.scopeId,Un,yt)}so&&Y2(ne,null,yt,"beforeMount");const So=(!Ct||Ct&&!Ct.pendingBranch)&&Uo&&!Uo.persisted;So&&Uo.beforeEnter(hn),p(hn,Oe,Ve),((Je=Hn&&Hn.onVnodeMounted)||So||so)&&Pu(()=>{Je&&Wp(Je,yt,ne),So&&Uo.enter(hn),so&&Y2(ne,null,yt,"mounted")},Ct)},Pt=(ne,Oe,Ve,yt,Ct)=>{if(Ve&&le(ne,Ve),yt)for(let rn=0;rn<yt.length;rn++)le(ne,yt[rn]);if(Ct){let rn=Ct.subTree;if(Oe===rn){const Un=Ct.vnode;Pt(ne,Un,Un.scopeId,Un.slotScopeIds,Ct.parent)}}},Ft=(ne,Oe,Ve,yt,Ct,rn,Un,En,hn=0)=>{for(let Je=hn;Je<ne.length;Je++){const qt=ne[Je]=En?eb(ne[Je]):Kp(ne[Je]);xe(null,qt,Oe,Ve,yt,Ct,rn,Un,En)}},qn=(ne,Oe,Ve,yt,Ct,rn,Un)=>{const En=Oe.el=ne.el;let{patchFlag:hn,dynamicChildren:Je,dirs:qt}=Oe;hn|=ne.patchFlag&16;const Hn=ne.props||Ls,Dn=Oe.props||Ls;let Uo;(Uo=Dn.onVnodeBeforeUpdate)&&Wp(Uo,Ve,Oe,ne),qt&&Y2(Oe,ne,Ve,"beforeUpdate");const Xn=Ct&&Oe.type!=="foreignObject";if(Je?wn(ne.dynamicChildren,Je,En,Ve,yt,Xn,rn):Un||In(ne,Oe,En,null,Ve,yt,Xn,rn,!1),hn>0){if(hn&16)Ke(En,Oe,Hn,Dn,Ve,yt,Ct);else if(hn&2&&Hn.class!==Dn.class&&C(En,"class",null,Dn.class,Ct),hn&4&&C(En,"style",Hn.style,Dn.style,Ct),hn&8){const so=Oe.dynamicProps;for(let So=0;So<so.length;So++){const Rr=so[So],ur=Hn[Rr],vs=Dn[Rr];(vs!==ur||Rr==="value")&&C(En,Rr,ur,vs,Ct,ne.children,Ve,yt,Ht)}}hn&1&&ne.children!==Oe.children&&q(En,Oe.children)}else!Un&&Je==null&&Ke(En,Oe,Hn,Dn,Ve,yt,Ct);((Uo=Dn.onVnodeUpdated)||qt)&&Pu(()=>{Uo&&Wp(Uo,Ve,Oe,ne),qt&&Y2(Oe,ne,Ve,"updated")},yt)},wn=(ne,Oe,Ve,yt,Ct,rn,Un)=>{for(let En=0;En<Oe.length;En++){const hn=ne[En],Je=Oe[En],qt=hn.el&&(hn.type===Pi||!QE(hn,Je)||hn.shapeFlag&70)?re(hn.el):Ve;xe(hn,Je,qt,null,yt,Ct,rn,Un,!0)}},Ke=(ne,Oe,Ve,yt,Ct,rn,Un)=>{if(Ve!==yt){for(const En in yt){if(O6(En))continue;const hn=yt[En],Je=Ve[En];hn!==Je&&En!=="value"&&C(ne,En,Je,hn,Un,Oe.children,Ct,rn,Ht)}if(Ve!==Ls)for(const En in Ve)!O6(En)&&!(En in yt)&&C(ne,En,Ve[En],null,Un,Oe.children,Ct,rn,Ht);"value"in yt&&C(ne,"value",Ve.value,yt.value)}},nn=(ne,Oe,Ve,yt,Ct,rn,Un,En,hn)=>{const Je=Oe.el=ne?ne.el:M(""),qt=Oe.anchor=ne?ne.anchor:M("");let{patchFlag:Hn,dynamicChildren:Dn,slotScopeIds:Uo}=Oe;Uo&&(En=En?En.concat(Uo):Uo),ne==null?(p(Je,Ve,yt),p(qt,Ve,yt),Ft(Oe.children,Ve,qt,Ct,rn,Un,En,hn)):Hn>0&&Hn&64&&Dn&&ne.dynamicChildren?(wn(ne.dynamicChildren,Dn,Ve,Ct,rn,Un,En),(Oe.key!=null||Ct&&Oe===Ct.subTree)&&z9(ne,Oe,!0)):In(ne,Oe,Ve,qt,Ct,rn,Un,En,hn)},H=(ne,Oe,Ve,yt,Ct,rn,Un,En,hn)=>{Oe.slotScopeIds=En,ne==null?Oe.shapeFlag&512?Ct.ctx.activate(Oe,Ve,yt,Un,hn):it(Oe,Ve,yt,Ct,rn,Un,hn):kn(ne,Oe,hn)},it=(ne,Oe,Ve,yt,Ct,rn,Un)=>{const En=ne.component=a$(ne,yt,Ct);if(O9(ne)&&(En.ctx.renderer=ze),s$(En),En.asyncDep){if(Ct&&Ct.registerDep(En,wt),!ne.el){const hn=En.subTree=ta(lw);J(null,hn,Oe,Ve)}return}wt(En,ne,Oe,Ve,Ct,rn,Un)},kn=(ne,Oe,Ve)=>{const yt=Oe.component=ne.component;if(_V(ne,Oe,Ve))if(yt.asyncDep&&!yt.asyncResolved){cn(yt,Oe,Ve);return}else yt.next=Oe,g$(yt.update),yt.update();else Oe.component=ne.component,Oe.el=ne.el,yt.vnode=Oe},wt=(ne,Oe,Ve,yt,Ct,rn,Un)=>{const En=()=>{if(ne.isMounted){let{next:qt,bu:Hn,u:Dn,parent:Uo,vnode:Xn}=ne,so=qt,So;hn.allowRecurse=!1,qt?(qt.el=Xn.el,cn(ne,qt,Un)):qt=Xn,Hn&&T6(Hn),(So=qt.props&&qt.props.onVnodeBeforeUpdate)&&Wp(So,Uo,qt,Xn),hn.allowRecurse=!0;const Rr=V7(ne),ur=ne.subTree;ne.subTree=Rr,xe(ur,Rr,re(ur.el),dt(ur),ne,Ct,rn),qt.el=Rr.el,so===null&&CV(ne,Rr.el),Dn&&Pu(Dn,Ct),(So=qt.props&&qt.props.onVnodeUpdated)&&Pu(()=>Wp(So,Uo,qt,Xn),Ct)}else{let qt;const{el:Hn,props:Dn}=Oe,{bm:Uo,m:Xn,parent:so}=ne,So=rR(Oe);if(hn.allowRecurse=!1,Uo&&T6(Uo),!So&&(qt=Dn&&Dn.onVnodeBeforeMount)&&Wp(qt,so,Oe),hn.allowRecurse=!0,Hn&&Be){const Rr=()=>{ne.subTree=V7(ne),Be(Hn,ne.subTree,ne,Ct,null)};So?Oe.type.__asyncLoader().then(()=>!ne.isUnmounted&&Rr()):Rr()}else{const Rr=ne.subTree=V7(ne);xe(null,Rr,Ve,yt,ne,Ct,rn),Oe.el=Rr.el}if(Xn&&Pu(Xn,Ct),!So&&(qt=Dn&&Dn.onVnodeMounted)){const Rr=Oe;Pu(()=>Wp(qt,so,Rr),Ct)}Oe.shapeFlag&256&&ne.a&&Pu(ne.a,Ct),ne.isMounted=!0,Oe=Ve=yt=null}},hn=new eD(En,()=>G9(ne.update),ne.scope),Je=ne.update=hn.run.bind(hn);Je.id=ne.uid,hn.allowRecurse=Je.allowRecurse=!0,Je()},cn=(ne,Oe,Ve)=>{Oe.component=ne;const yt=ne.vnode.props;ne.vnode=Oe,ne.next=null,zV(ne,Oe.props,yt,Ve),UV(ne,Oe.children,Ve),uk(),fD(void 0,ne.update),mw()},In=(ne,Oe,Ve,yt,Ct,rn,Un,En,hn=!1)=>{const Je=ne&&ne.children,qt=ne?ne.shapeFlag:0,Hn=Oe.children,{patchFlag:Dn,shapeFlag:Uo}=Oe;if(Dn>0){if(Dn&128){Sn(Je,Hn,Ve,yt,Ct,rn,Un,En,hn);return}else if(Dn&256){pn(Je,Hn,Ve,yt,Ct,rn,Un,En,hn);return}}Uo&8?(qt&16&&Ht(Je,Ct,rn),Hn!==Je&&q(Ve,Hn)):qt&16?Uo&16?Sn(Je,Hn,Ve,yt,Ct,rn,Un,En,hn):Ht(Je,Ct,rn,!0):(qt&8&&q(Ve,""),Uo&16&&Ft(Hn,Ve,yt,Ct,rn,Un,En,hn))},pn=(ne,Oe,Ve,yt,Ct,rn,Un,En,hn)=>{ne=ne||KC,Oe=Oe||KC;const Je=ne.length,qt=Oe.length,Hn=Math.min(Je,qt);let Dn;for(Dn=0;Dn<Hn;Dn++){const Uo=Oe[Dn]=hn?eb(Oe[Dn]):Kp(Oe[Dn]);xe(ne[Dn],Uo,Ve,null,Ct,rn,Un,En,hn)}Je>qt?Ht(ne,Ct,rn,!0,!1,Hn):Ft(Oe,Ve,yt,Ct,rn,Un,En,hn,Hn)},Sn=(ne,Oe,Ve,yt,Ct,rn,Un,En,hn)=>{let Je=0;const qt=Oe.length;let Hn=ne.length-1,Dn=qt-1;for(;Je<=Hn&&Je<=Dn;){const Uo=ne[Je],Xn=Oe[Je]=hn?eb(Oe[Je]):Kp(Oe[Je]);if(QE(Uo,Xn))xe(Uo,Xn,Ve,null,Ct,rn,Un,En,hn);else break;Je++}for(;Je<=Hn&&Je<=Dn;){const Uo=ne[Hn],Xn=Oe[Dn]=hn?eb(Oe[Dn]):Kp(Oe[Dn]);if(QE(Uo,Xn))xe(Uo,Xn,Ve,null,Ct,rn,Un,En,hn);else break;Hn--,Dn--}if(Je>Hn){if(Je<=Dn){const Uo=Dn+1,Xn=Uo<qt?Oe[Uo].el:yt;for(;Je<=Dn;)xe(null,Oe[Je]=hn?eb(Oe[Je]):Kp(Oe[Je]),Ve,Xn,Ct,rn,Un,En,hn),Je++}}else if(Je>Dn)for(;Je<=Hn;)xn(ne[Je],Ct,rn,!0),Je++;else{const Uo=Je,Xn=Je,so=new Map;for(Je=Xn;Je<=Dn;Je++){const Ze=Oe[Je]=hn?eb(Oe[Je]):Kp(Oe[Je]);Ze.key!=null&&so.set(Ze.key,Je)}let So,Rr=0;const ur=Dn-Xn+1;let vs=!1,ut=0;const rt=new Array(ur);for(Je=0;Je<ur;Je++)rt[Je]=0;for(Je=Uo;Je<=Hn;Je++){const Ze=ne[Je];if(Rr>=ur){xn(Ze,Ct,rn,!0);continue}let Lt;if(Ze.key!=null)Lt=so.get(Ze.key);else for(So=Xn;So<=Dn;So++)if(rt[So-Xn]===0&&QE(Ze,Oe[So])){Lt=So;break}Lt===void 0?xn(Ze,Ct,rn,!0):(rt[Lt-Xn]=Je+1,Lt>=ut?ut=Lt:vs=!0,xe(Ze,Oe[Lt],Ve,null,Ct,rn,Un,En,hn),Rr++)}const Ot=vs?qV(rt):KC;for(So=Ot.length-1,Je=ur-1;Je>=0;Je--){const Ze=Xn+Je,Lt=Oe[Ze],ho=Ze+1<qt?Oe[Ze+1].el:yt;rt[Je]===0?xe(null,Lt,Ve,ho,Ct,rn,Un,En,hn):vs&&(So<0||Je!==Ot[So]?Q(Lt,Ve,ho,2):So--)}}},Q=(ne,Oe,Ve,yt,Ct=null)=>{const{el:rn,type:Un,transition:En,children:hn,shapeFlag:Je}=ne;if(Je&6){Q(ne.component.subTree,Oe,Ve,yt);return}if(Je&128){ne.suspense.move(Oe,Ve,yt);return}if(Je&64){Un.move(ne,Oe,Ve,ze);return}if(Un===Pi){p(rn,Oe,Ve);for(let Hn=0;Hn<hn.length;Hn++)Q(hn[Hn],Oe,Ve,yt);p(ne.anchor,Oe,Ve);return}if(Un===N6){De(ne,Oe,Ve);return}if(yt!==2&&Je&1&&En)if(yt===0)En.beforeEnter(rn),p(rn,Oe,Ve),Pu(()=>En.enter(rn),Ct);else{const{leave:Hn,delayLeave:Dn,afterLeave:Uo}=En,Xn=()=>p(rn,Oe,Ve),so=()=>{Hn(rn,()=>{Xn(),Uo&&Uo()})};Dn?Dn(rn,Xn,so):so()}else p(rn,Oe,Ve)},xn=(ne,Oe,Ve,yt=!1,Ct=!1)=>{const{type:rn,props:Un,ref:En,children:hn,dynamicChildren:Je,shapeFlag:qt,patchFlag:Hn,dirs:Dn}=ne;if(En!=null&&lR(En,null,Ve,ne,!0),qt&256){Oe.ctx.deactivate(ne);return}const Uo=qt&1&&Dn,Xn=!rR(ne);let so;if(Xn&&(so=Un&&Un.onVnodeBeforeUnmount)&&Wp(so,Oe,ne),qt&6)Sr(ne.component,Ve,yt);else{if(qt&128){ne.suspense.unmount(Ve,yt);return}Uo&&Y2(ne,null,Oe,"beforeUnmount"),qt&64?ne.type.remove(ne,Oe,Ve,Ct,ze,yt):Je&&(rn!==Pi||Hn>0&&Hn&64)?Ht(Je,Oe,Ve,!1,!0):(rn===Pi&&Hn&384||!Ct&&qt&16)&&Ht(hn,Oe,Ve),yt&&et(ne)}(Xn&&(so=Un&&Un.onVnodeUnmounted)||Uo)&&Pu(()=>{so&&Wp(so,Oe,ne),Uo&&Y2(ne,null,Oe,"unmounted")},Ve)},et=ne=>{const{type:Oe,el:Ve,anchor:yt,transition:Ct}=ne;if(Oe===Pi){_t(Ve,yt);return}if(Oe===N6){G(ne);return}const rn=()=>{b(Ve),Ct&&!Ct.persisted&&Ct.afterLeave&&Ct.afterLeave()};if(ne.shapeFlag&1&&Ct&&!Ct.persisted){const{leave:Un,delayLeave:En}=Ct,hn=()=>Un(Ve,rn);En?En(ne.el,rn,hn):hn()}else rn()},_t=(ne,Oe)=>{let Ve;for(;ne!==Oe;)Ve=fe(ne),b(ne),ne=Ve;b(Oe)},Sr=(ne,Oe,Ve)=>{const{bum:yt,scope:Ct,update:rn,subTree:Un,um:En}=ne;yt&&T6(yt),Ct.stop(),rn&&(rn.active=!1,xn(Un,ne,Oe,Ve)),En&&Pu(En,Oe),Pu(()=>{ne.isUnmounted=!0},Oe),Oe&&Oe.pendingBranch&&!Oe.isUnmounted&&ne.asyncDep&&!ne.asyncResolved&&ne.suspenseId===Oe.pendingId&&(Oe.deps--,Oe.deps===0&&Oe.resolve())},Ht=(ne,Oe,Ve,yt=!1,Ct=!1,rn=0)=>{for(let Un=rn;Un<ne.length;Un++)xn(ne[Un],Oe,Ve,yt,Ct)},dt=ne=>ne.shapeFlag&6?dt(ne.component.subTree):ne.shapeFlag&128?ne.suspense.next():fe(ne.anchor||ne.el),Et=(ne,Oe,Ve)=>{ne==null?Oe._vnode&&xn(Oe._vnode,null,null,!0):xe(Oe._vnode||null,ne,Oe,null,null,null,Ve),Y9(),Oe._vnode=ne},ze={p:xe,um:xn,m:Q,r:et,mt:it,mc:Ft,pc:In,pbc:wn,n:dt,o:a};let oo,Be;return u&&([oo,Be]=u(ze)),{render:Et,hydrate:oo,createApp:ZV(Et,oo)}}function lR(a,u,p,b,C=!1){if(Hr(a)){a.forEach((le,ue)=>lR(le,u&&(Hr(u)?u[ue]:u),p,b,C));return}if(rR(b)&&!C)return;const S=b.shapeFlag&4?dD(b.component)||b.component.proxy:b.el,M=C?null:S,{i:D,r:I}=a,q=u&&u.r,re=D.refs===Ls?D.refs={}:D.refs,fe=D.setupState;if(q!=null&&q!==I&&(Lc(q)?(re[q]=null,Wa(fe,q)&&(fe[q]=null)):fl(q)&&(q.value=null)),Lc(I)){const le=()=>{re[I]=M,Wa(fe,I)&&(fe[I]=M)};M?(le.id=-1,Pu(le,p)):le()}else if(fl(I)){const le=()=>{I.value=M};M?(le.id=-1,Pu(le,p)):le()}else sa(I)&&rb(I,D,12,[M,re])}function Wp(a,u,p,b=null){Qp(a,u,7,[p,b])}function z9(a,u,p=!1){const b=a.children,C=u.children;if(Hr(b)&&Hr(C))for(let S=0;S<b.length;S++){const M=b[S];let D=C[S];D.shapeFlag&1&&!D.dynamicChildren&&((D.patchFlag<=0||D.patchFlag===32)&&(D=C[S]=eb(C[S]),D.el=M.el),p||z9(M,D))}}function qV(a){const u=a.slice(),p=[0];let b,C,S,M,D;const I=a.length;for(b=0;b<I;b++){const q=a[b];if(q!==0){if(C=p[p.length-1],a[C]<q){u[b]=C,p.push(b);continue}for(S=0,M=p.length-1;S<M;)D=S+M>>1,a[p[D]]<q?S=D+1:M=D;q<a[p[S]]&&(S>0&&(u[b]=p[S-1]),p[S]=b)}}for(S=p.length,M=p[S-1];S-- >0;)p[S]=M,M=u[M];return p}const KV=a=>a.__isTeleport,V9="components";function uc(a,u){return XV(V9,a,!0,u)||a}const YV=Symbol();function XV(a,u,p=!0,b=!1){const C=wf||sc;if(C){const S=C.type;if(a===V9){const D=u$(S);if(D&&(D===u||D===Jp(u)||D===oN(Jp(u))))return S}const M=cP(C[a]||S[a],u)||cP(C.appContext[a],u);return!M&&b?S:M}}function cP(a,u){return a&&(a[u]||a[Jp(u)]||a[oN(Jp(u))])}const Pi=Symbol(void 0),p5=Symbol(void 0),lw=Symbol(void 0),N6=Symbol(void 0),a5=[];let sw=null;function Bt(a=!1){a5.push(sw=a?null:[])}function JV(){a5.pop(),sw=a5[a5.length-1]||null}let z6=1;function uP(a){z6+=a}function $9(a){return a.dynamicChildren=z6>0?sw||KC:null,JV(),z6>0&&sw&&sw.push(a),a}function An(a,u,p,b,C,S){return $9(Y(a,u,p,b,C,S,!0))}function jr(a,u,p,b,C){return $9(ta(a,u,p,b,C,!0))}function cR(a){return a?a.__v_isVNode===!0:!1}function QE(a,u){return a.type===u.type&&a.key===u.key}const lN="__vInternal",U9=({key:a})=>a!=null?a:null,M6=({ref:a})=>a!=null?Lc(a)||fl(a)||sa(a)?{i:wf,r:a}:a:null;function Y(a,u=null,p=null,b=0,C=null,S=a===Pi?0:1,M=!1,D=!1){const I={__v_isVNode:!0,__v_skip:!0,type:a,props:u,key:u&&U9(u),ref:u&&M6(u),scopeId:aN,slotScopeIds:null,children:p,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:S,patchFlag:b,dynamicProps:C,dynamicChildren:null,appContext:null};return D?(uD(I,p),S&128&&a.normalize(I)):p&&(I.shapeFlag|=Lc(p)?8:16),z6>0&&!M&&sw&&(I.patchFlag>0||S&6)&&I.patchFlag!==32&&sw.push(I),I}const ta=QV;function QV(a,u=null,p=null,b=0,C=null,S=!1){if((!a||a===YV)&&(a=lw),cR(a)){const D=h5(a,u,!0);return p&&uD(D,p),D}if(d$(a)&&(a=a.__vccOpts),u){u=e$(u);let{class:D,style:I}=u;D&&!Lc(D)&&(u.class=ea(D)),Qi(I)&&(y9(I)&&!Hr(I)&&(I=vm({},I)),u.style=qR(I))}const M=Lc(a)?1:kV(a)?128:KV(a)?64:Qi(a)?4:sa(a)?2:0;return Y(a,u,p,b,C,M,S,!0)}function e$(a){return a?y9(a)||lN in a?vm({},a):a:null}function h5(a,u,p=!1){const{props:b,ref:C,patchFlag:S,children:M}=a,D=u?t$(b||{},u):b;return{__v_isVNode:!0,__v_skip:!0,type:a.type,props:D,key:D&&U9(D),ref:u&&u.ref?p&&C?Hr(C)?C.concat(M6(u)):[C,M6(u)]:M6(u):C,scopeId:a.scopeId,slotScopeIds:a.slotScopeIds,children:M,target:a.target,targetAnchor:a.targetAnchor,staticCount:a.staticCount,shapeFlag:a.shapeFlag,patchFlag:u&&a.type!==Pi?S===-1?16:S|16:S,dynamicProps:a.dynamicProps,dynamicChildren:a.dynamicChildren,appContext:a.appContext,dirs:a.dirs,transition:a.transition,component:a.component,suspense:a.suspense,ssContent:a.ssContent&&h5(a.ssContent),ssFallback:a.ssFallback&&h5(a.ssFallback),el:a.el,anchor:a.anchor}}function Bc(a=" ",u=0){return ta(p5,null,a,u)}function gs(a="",u=!1){return u?(Bt(),jr(lw,null,a)):ta(lw,null,a)}function Kp(a){return a==null||typeof a=="boolean"?ta(lw):Hr(a)?ta(Pi,null,a.slice()):typeof a=="object"?eb(a):ta(p5,null,String(a))}function eb(a){return a.el===null||a.memo?a:h5(a)}function uD(a,u){let p=0;const{shapeFlag:b}=a;if(u==null)u=null;else if(Hr(u))p=16;else if(typeof u=="object")if(b&65){const C=u.default;C&&(C._c&&(C._d=!1),uD(a,C()),C._c&&(C._d=!0));return}else{p=32;const C=u._;!C&&!(lN in u)?u._ctx=wf:C===3&&wf&&(wf.slots._===1?u._=1:(u._=2,a.patchFlag|=1024))}else sa(u)?(u={default:u,_ctx:wf},p=32):(u=String(u),b&64?(p=16,u=[Bc(u)]):p=8);a.children=u,a.shapeFlag|=p}function t$(...a){const u={};for(let p=0;p<a.length;p++){const b=a[p];for(const C in b)if(C==="class")u.class!==b.class&&(u.class=ea([u.class,b.class]));else if(C==="style")u.style=qR([u.style,b.style]);else if(eN(C)){const S=u[C],M=b[C];S!==M&&(u[C]=S?[].concat(S,M):M)}else C!==""&&(u[C]=b[C])}return u}function Ig(a,u,p,b){let C;const S=p&&p[b];if(Hr(a)||Lc(a)){C=new Array(a.length);for(let M=0,D=a.length;M<D;M++)C[M]=u(a[M],M,void 0,S&&S[M])}else if(typeof a=="number"){C=new Array(a);for(let M=0;M<a;M++)C[M]=u(M+1,M,void 0,S&&S[M])}else if(Qi(a))if(a[Symbol.iterator])C=Array.from(a,(M,D)=>u(M,D,void 0,S&&S[D]));else{const M=Object.keys(a);C=new Array(M.length);for(let D=0,I=M.length;D<I;D++){const q=M[D];C[D]=u(a[q],q,D,S&&S[D])}}else C=[];return p&&(p[b]=C),C}const uR=a=>a?j9(a)?dD(a)||a.proxy:uR(a.parent):null,V6=vm(Object.create(null),{$:a=>a,$el:a=>a.vnode.el,$data:a=>a.data,$props:a=>a.props,$attrs:a=>a.attrs,$slots:a=>a.slots,$refs:a=>a.refs,$parent:a=>uR(a.parent),$root:a=>uR(a.root),$emit:a=>a.emit,$options:a=>D9(a),$forceUpdate:a=>()=>G9(a.update),$nextTick:a=>v5.bind(a.proxy),$watch:a=>b$.bind(a)}),n$={get({_:a},u){const{ctx:p,setupState:b,data:C,props:S,accessCache:M,type:D,appContext:I}=a;let q;if(u[0]!=="$"){const ue=M[u];if(ue!==void 0)switch(ue){case 0:return b[u];case 1:return C[u];case 3:return p[u];case 2:return S[u]}else{if(b!==Ls&&Wa(b,u))return M[u]=0,b[u];if(C!==Ls&&Wa(C,u))return M[u]=1,C[u];if((q=a.propsOptions[0])&&Wa(q,u))return M[u]=2,S[u];if(p!==Ls&&Wa(p,u))return M[u]=3,p[u];aR&&(M[u]=4)}}const re=V6[u];let fe,le;if(re)return u==="$attrs"&&bm(a,"get",u),re(a);if((fe=D.__cssModules)&&(fe=fe[u]))return fe;if(p!==Ls&&Wa(p,u))return M[u]=3,p[u];if(le=I.config.globalProperties,Wa(le,u))return le[u]},set({_:a},u,p){const{data:b,setupState:C,ctx:S}=a;if(C!==Ls&&Wa(C,u))C[u]=p;else if(b!==Ls&&Wa(b,u))b[u]=p;else if(Wa(a.props,u))return!1;return u[0]==="$"&&u.slice(1)in a?!1:(S[u]=p,!0)},has({_:{data:a,setupState:u,accessCache:p,ctx:b,appContext:C,propsOptions:S}},M){let D;return p[M]!==void 0||a!==Ls&&Wa(a,M)||u!==Ls&&Wa(u,M)||(D=S[0])&&Wa(D,M)||Wa(b,M)||Wa(V6,M)||Wa(C.config.globalProperties,M)}},o$=H9();let r$=0;function a$(a,u,p){const b=a.type,C=(u?u.appContext:a.appContext)||o$,S={uid:r$++,vnode:a,type:b,parent:u,appContext:C,root:null,next:null,subTree:null,update:null,scope:new a9(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:u?u.provides:Object.create(C.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:P9(b,C),emitsOptions:E9(b,C),emit:null,emitted:null,propsDefaults:Ls,inheritAttrs:b.inheritAttrs,ctx:Ls,data:Ls,props:Ls,attrs:Ls,slots:Ls,refs:Ls,setupState:Ls,setupContext:null,suspense:p,suspenseId:p?p.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return S.ctx={_:S},S.root=u?u.root:S,S.emit=bV.bind(null,S),a.ce&&a.ce(S),S}let sc=null;const cw=()=>sc||wf,tk=a=>{sc=a,a.scope.on()},iw=()=>{sc&&sc.scope.off(),sc=null};function j9(a){return a.vnode.shapeFlag&4}let dR=!1;function s$(a,u=!1){dR=u;const{props:p,children:b}=a.vnode,C=j9(a);HV(a,p,C,u),$V(a,b);const S=C?i$(a,u):void 0;return dR=!1,S}function i$(a,u){const p=a.type;a.accessCache=Object.create(null),a.proxy=ek(new Proxy(a.ctx,n$));const{setup:b}=p;if(b){const C=a.setupContext=b.length>1?c$(a):null;tk(a),uk();const S=rb(b,a,0,[a.props,C]);if(mw(),iw(),n9(S)){if(S.then(iw,iw),u)return S.then(M=>{dP(a,M)}).catch(M=>{cN(M,a,0)});a.asyncDep=S}else dP(a,S)}else Z9(a)}function dP(a,u,p){sa(u)?a.render=u:Qi(u)&&(a.setupState=C9(u)),Z9(a)}function Z9(a,u,p){const b=a.type;a.render||(a.render=b.render||B1),tk(a),uk(),IV(a),mw(),iw()}function l$(a){return new Proxy(a.attrs,{get(u,p){return bm(a,"get","$attrs"),u[p]}})}function c$(a){const u=b=>{a.exposed=b||{}};let p;return{get attrs(){return p||(p=l$(a))},slots:a.slots,emit:a.emit,expose:u}}function dD(a){if(a.exposed)return a.exposeProxy||(a.exposeProxy=new Proxy(C9(ek(a.exposed)),{get(u,p){if(p in u)return u[p];if(p in V6)return V6[p](a)}}))}function u$(a){return sa(a)&&a.displayName||a.name}function d$(a){return sa(a)&&"__vccOpts"in a}function rb(a,u,p,b){let C;try{C=b?a(...b):a()}catch(S){cN(S,u,p)}return C}function Qp(a,u,p,b){if(sa(a)){const S=rb(a,u,p,b);return S&&n9(S)&&S.catch(M=>{cN(M,u,p)}),S}const C=[];for(let S=0;S<a.length;S++)C.push(Qp(a[S],u,p,b));return C}function cN(a,u,p,b=!0){const C=u?u.vnode:null;if(u){let S=u.parent;const M=u.proxy,D=p;for(;S;){const q=S.ec;if(q){for(let re=0;re<q.length;re++)if(q[re](a,M,D)===!1)return}S=S.parent}const I=u.appContext.config.errorHandler;if(I){rb(I,null,10,[a,M,D]);return}}m$(a,p,C,b)}function m$(a,u,p,b=!0){console.error(a)}let $6=!1,mR=!1;const hm=[];let P1=0;const s5=[];let o5=null,$C=0;const i5=[];let J0=null,UC=0;const W9=Promise.resolve();let mD=null,fR=null;function v5(a){const u=mD||W9;return a?u.then(this?a.bind(this):a):u}function f$(a){let u=P1+1,p=hm.length;for(;u<p;){const b=u+p>>>1;b5(hm[b])<a?u=b+1:p=b}return u}function G9(a){(!hm.length||!hm.includes(a,$6&&a.allowRecurse?P1+1:P1))&&a!==fR&&(a.id==null?hm.push(a):hm.splice(f$(a.id),0,a),q9())}function q9(){!$6&&!mR&&(mR=!0,mD=W9.then(X9))}function g$(a){const u=hm.indexOf(a);u>P1&&hm.splice(u,1)}function K9(a,u,p,b){Hr(a)?p.push(...a):(!u||!u.includes(a,a.allowRecurse?b+1:b))&&p.push(a),q9()}function p$(a){K9(a,o5,s5,$C)}function h$(a){K9(a,J0,i5,UC)}function fD(a,u=null){if(s5.length){for(fR=u,o5=[...new Set(s5)],s5.length=0,$C=0;$C<o5.length;$C++)o5[$C]();o5=null,$C=0,fR=null,fD(a,u)}}function Y9(a){if(i5.length){const u=[...new Set(i5)];if(i5.length=0,J0){J0.push(...u);return}for(J0=u,J0.sort((p,b)=>b5(p)-b5(b)),UC=0;UC<J0.length;UC++)J0[UC]();J0=null,UC=0}}const b5=a=>a.id==null?1/0:a.id;function X9(a){mR=!1,$6=!0,fD(a),hm.sort((p,b)=>b5(p)-b5(b));const u=B1;try{for(P1=0;P1<hm.length;P1++){const p=hm[P1];p&&p.active!==!1&&rb(p,null,14)}}finally{P1=0,hm.length=0,Y9(),$6=!1,mD=null,(hm.length||s5.length||i5.length)&&X9(a)}}function v$(a,u){return gD(a,null,{flush:"post"})}const mP={};function xf(a,u,p){return gD(a,u,p)}function gD(a,u,{immediate:p,deep:b,flush:C,onTrack:S,onTrigger:M}=Ls){const D=sc;let I,q=!1,re=!1;if(fl(a)?(I=()=>a.value,q=!!a._shallow):F1(a)?(I=()=>a,b=!0):Hr(a)?(re=!0,q=a.some(F1),I=()=>a.map(J=>{if(fl(J))return J.value;if(F1(J))return tw(J);if(sa(J))return rb(J,D,2)})):sa(a)?u?I=()=>rb(a,D,2):I=()=>{if(!(D&&D.isUnmounted))return fe&&fe(),Qp(a,D,3,[le])}:I=B1,u&&b){const J=I;I=()=>tw(J())}let fe,le=J=>{fe=me.onStop=()=>{rb(J,D,4)}},ue=re?[]:mP;const ke=()=>{if(!!me.active)if(u){const J=me.run();(b||q||(re?J.some((ae,De)=>g5(ae,ue[De])):g5(J,ue)))&&(fe&&fe(),Qp(u,D,3,[J,ue===mP?void 0:ue,le]),ue=J)}else me.run()};ke.allowRecurse=!!u;let xe;C==="sync"?xe=ke:C==="post"?xe=()=>Pu(ke,D&&D.suspense):xe=()=>{!D||D.isMounted?p$(ke):ke()};const me=new eD(I,xe);return u?p?ke():ue=me.run():C==="post"?Pu(me.run.bind(me),D&&D.suspense):me.run(),()=>{me.stop(),D&&D.scope&&t9(D.scope.effects,me)}}function b$(a,u,p){const b=this.proxy,C=Lc(a)?a.includes(".")?J9(b,a):()=>b[a]:a.bind(b,b);let S;sa(u)?S=u:(S=u.handler,p=u);const M=sc;tk(this);const D=gD(C,S.bind(b),p);return M?tk(M):iw(),D}function J9(a,u){const p=u.split(".");return()=>{let b=a;for(let C=0;C<p.length&&b;C++)b=b[p[C]];return b}}function tw(a,u){if(!Qi(a)||a.__v_skip||(u=u||new Set,u.has(a)))return a;if(u.add(a),fl(a))tw(a.value,u);else if(Hr(a))for(let p=0;p<a.length;p++)tw(a[p],u);else if(lk(a)||YC(a))a.forEach(p=>{tw(p,u)});else if(r9(a))for(const p in a)tw(a[p],u);return a}function _f(a,u,p){const b=arguments.length;return b===2?Qi(u)&&!Hr(u)?cR(u)?ta(a,null,[u]):ta(a,u):ta(a,null,u):(b>3?p=Array.prototype.slice.call(arguments,2):b===3&&cR(p)&&(p=[p]),ta(a,u,p))}const y$="3.2.13",w$="http://www.w3.org/2000/svg",HC=typeof document!="undefined"?document:null,fP=new Map,x$={insert:(a,u,p)=>{u.insertBefore(a,p||null)},remove:a=>{const u=a.parentNode;u&&u.removeChild(a)},createElement:(a,u,p,b)=>{const C=u?HC.createElementNS(w$,a):HC.createElement(a,p?{is:p}:void 0);return a==="select"&&b&&b.multiple!=null&&C.setAttribute("multiple",b.multiple),C},createText:a=>HC.createTextNode(a),createComment:a=>HC.createComment(a),setText:(a,u)=>{a.nodeValue=u},setElementText:(a,u)=>{a.textContent=u},parentNode:a=>a.parentNode,nextSibling:a=>a.nextSibling,querySelector:a=>HC.querySelector(a),setScopeId(a,u){a.setAttribute(u,"")},cloneNode(a){const u=a.cloneNode(!0);return"_value"in a&&(u._value=a._value),u},insertStaticContent(a,u,p,b){const C=p?p.previousSibling:u.lastChild;let S=fP.get(a);if(!S){const M=HC.createElement("template");if(M.innerHTML=b?`<svg>${a}</svg>`:a,S=M.content,b){const D=S.firstChild;for(;D.firstChild;)S.appendChild(D.firstChild);S.removeChild(D)}fP.set(a,S)}return u.insertBefore(S.cloneNode(!0),p),[C?C.nextSibling:u.firstChild,p?p.previousSibling:u.lastChild]}};function _$(a,u,p){const b=a._vtc;b&&(u=(u?[u,...b]:[...b]).join(" ")),u==null?a.removeAttribute("class"):p?a.setAttribute("class",u):a.className=u}function C$(a,u,p){const b=a.style,C=b.display;if(!p)a.removeAttribute("style");else if(Lc(p))u!==p&&(b.cssText=p);else{for(const S in p)gR(b,S,p[S]);if(u&&!Lc(u))for(const S in u)p[S]==null&&gR(b,S,"")}"_vod"in a&&(b.display=C)}const gP=/\s*!important$/;function gR(a,u,p){if(Hr(p))p.forEach(b=>gR(a,u,b));else if(u.startsWith("--"))a.setProperty(u,p);else{const b=k$(a,u);gP.test(p)?a.setProperty(ck(b),p.replace(gP,""),"important"):a[b]=p}}const pP=["Webkit","Moz","ms"],$7={};function k$(a,u){const p=$7[u];if(p)return p;let b=Jp(u);if(b!=="filter"&&b in a)return $7[u]=b;b=oN(b);for(let C=0;C<pP.length;C++){const S=pP[C]+b;if(S in a)return $7[u]=S}return u}const hP="http://www.w3.org/1999/xlink";function S$(a,u,p,b,C){if(b&&u.startsWith("xlink:"))p==null?a.removeAttributeNS(hP,u.slice(6,u.length)):a.setAttributeNS(hP,u,p);else{const S=Ez(u);p==null||S&&!QL(p)?a.removeAttribute(u):a.setAttribute(u,S?"":p)}}function E$(a,u,p,b,C,S,M){if(u==="innerHTML"||u==="textContent"){b&&M(b,C,S),a[u]=p==null?"":p;return}if(u==="value"&&a.tagName!=="PROGRESS"){a._value=p;const D=p==null?"":p;a.value!==D&&(a.value=D),p==null&&a.removeAttribute(u);return}if(p===""||p==null){const D=typeof a[u];if(D==="boolean"){a[u]=QL(p);return}else if(p==null&&D==="string"){a[u]="",a.removeAttribute(u);return}else if(D==="number"){try{a[u]=0}catch{}a.removeAttribute(u);return}}try{a[u]=p}catch{}}let U6=Date.now,Q9=!1;if(typeof window!="undefined"){U6()>document.createEvent("Event").timeStamp&&(U6=()=>performance.now());const a=navigator.userAgent.match(/firefox\/(\d+)/i);Q9=!!(a&&Number(a[1])<=53)}let pR=0;const O$=Promise.resolve(),T$=()=>{pR=0},A$=()=>pR||(O$.then(T$),pR=U6());function nb(a,u,p,b){a.addEventListener(u,p,b)}function N$(a,u,p,b){a.removeEventListener(u,p,b)}function M$(a,u,p,b,C=null){const S=a._vei||(a._vei={}),M=S[u];if(b&&M)M.value=b;else{const[D,I]=R$(u);if(b){const q=S[u]=D$(b,C);nb(a,D,q,I)}else M&&(N$(a,D,M,I),S[u]=void 0)}}const vP=/(?:Once|Passive|Capture)$/;function R$(a){let u;if(vP.test(a)){u={};let p;for(;p=a.match(vP);)a=a.slice(0,a.length-p[0].length),u[p[0].toLowerCase()]=!0}return[ck(a.slice(2)),u]}function D$(a,u){const p=b=>{const C=b.timeStamp||U6();(Q9||C>=p.attached-1)&&Qp(I$(b,p.value),u,5,[b])};return p.value=a,p.attached=A$(),p}function I$(a,u){if(Hr(u)){const p=a.stopImmediatePropagation;return a.stopImmediatePropagation=()=>{p.call(a),a._stopped=!0},u.map(b=>C=>!C._stopped&&b(C))}else return u}const bP=/^on[a-z]/,P$=(a,u,p,b,C=!1,S,M,D,I)=>{u==="class"?_$(a,b,C):u==="style"?C$(a,p,b):eN(u)?YR(u)||M$(a,u,p,b,M):(u[0]==="."?(u=u.slice(1),!0):u[0]==="^"?(u=u.slice(1),!1):L$(a,u,b,C))?E$(a,u,b,S,M,D,I):(u==="true-value"?a._trueValue=b:u==="false-value"&&(a._falseValue=b),S$(a,u,b,C))};function L$(a,u,p,b){return b?!!(u==="innerHTML"||u==="textContent"||u in a&&bP.test(u)&&sa(p)):u==="spellcheck"||u==="draggable"||u==="form"||u==="list"&&a.tagName==="INPUT"||u==="type"&&a.tagName==="TEXTAREA"||bP.test(u)&&Lc(p)?!1:u in a}function B$(a){const u=cw();if(!u)return;const p=()=>hR(u.subTree,a(u.proxy));v$(p),A5(()=>{const b=new MutationObserver(p);b.observe(u.subTree.el.parentNode,{childList:!0}),iN(()=>b.disconnect())})}function hR(a,u){if(a.shapeFlag&128){const p=a.suspense;a=p.activeBranch,p.pendingBranch&&!p.isHydrating&&p.effects.push(()=>{hR(p.activeBranch,u)})}for(;a.component;)a=a.component.subTree;if(a.shapeFlag&1&&a.el)yP(a.el,u);else if(a.type===Pi)a.children.forEach(p=>hR(p,u));else if(a.type===N6){let{el:p,anchor:b}=a;for(;p&&(yP(p,u),p!==b);)p=p.nextSibling}}function yP(a,u){if(a.nodeType===1){const p=a.style;for(const b in u)p.setProperty(`--${b}`,u[b])}}const nk=a=>{const u=a.props["onUpdate:modelValue"];return Hr(u)?p=>T6(u,p):u};function F$(a){a.target.composing=!0}function wP(a){const u=a.target;u.composing&&(u.composing=!1,H$(u,"input"))}function H$(a,u){const p=document.createEvent("HTMLEvents");p.initEvent(u,!0,!0),a.dispatchEvent(p)}const zn={created(a,{modifiers:{lazy:u,trim:p,number:b}},C){a._assign=nk(C);const S=b||C.props&&C.props.type==="number";nb(a,u?"change":"input",M=>{if(M.target.composing)return;let D=a.value;p?D=D.trim():S&&(D=B6(D)),a._assign(D)}),p&&nb(a,"change",()=>{a.value=a.value.trim()}),u||(nb(a,"compositionstart",F$),nb(a,"compositionend",wP),nb(a,"change",wP))},mounted(a,{value:u}){a.value=u==null?"":u},beforeUpdate(a,{value:u,modifiers:{lazy:p,trim:b,number:C}},S){if(a._assign=nk(S),a.composing||document.activeElement===a&&(p||b&&a.value.trim()===u||(C||a.type==="number")&&B6(a.value)===u))return;const M=u==null?"":u;a.value!==M&&(a.value=M)}},XC={deep:!0,created(a,u,p){a._assign=nk(p),nb(a,"change",()=>{const b=a._modelValue,C=y5(a),S=a.checked,M=a._assign;if(Hr(b)){const D=KR(b,C),I=D!==-1;if(S&&!I)M(b.concat(C));else if(!S&&I){const q=[...b];q.splice(D,1),M(q)}}else if(lk(b)){const D=new Set(b);S?D.add(C):D.delete(C),M(D)}else M(eB(a,S))})},mounted:xP,beforeUpdate(a,u,p){a._assign=nk(p),xP(a,u,p)}};function xP(a,{value:u,oldValue:p},b){a._modelValue=u,Hr(u)?a.checked=KR(u,b.props.value)>-1:lk(u)?a.checked=u.has(b.props.value):u!==p&&(a.checked=T5(u,eB(a,!0)))}const uN={deep:!0,created(a,{value:u,modifiers:{number:p}},b){const C=lk(u);nb(a,"change",()=>{const S=Array.prototype.filter.call(a.options,M=>M.selected).map(M=>p?B6(y5(M)):y5(M));a._assign(a.multiple?C?new Set(S):S:S[0])}),a._assign=nk(b)},mounted(a,{value:u}){_P(a,u)},beforeUpdate(a,u,p){a._assign=nk(p)},updated(a,{value:u}){_P(a,u)}};function _P(a,u){const p=a.multiple;if(!(p&&!Hr(u)&&!lk(u))){for(let b=0,C=a.options.length;b<C;b++){const S=a.options[b],M=y5(S);if(p)Hr(u)?S.selected=KR(u,M)>-1:S.selected=u.has(M);else if(T5(y5(S),u)){a.selectedIndex!==b&&(a.selectedIndex=b);return}}!p&&a.selectedIndex!==-1&&(a.selectedIndex=-1)}}function y5(a){return"_value"in a?a._value:a.value}function eB(a,u){const p=u?"_trueValue":"_falseValue";return p in a?a[p]:u}const z$=["ctrl","shift","alt","meta"],V$={stop:a=>a.stopPropagation(),prevent:a=>a.preventDefault(),self:a=>a.target!==a.currentTarget,ctrl:a=>!a.ctrlKey,shift:a=>!a.shiftKey,alt:a=>!a.altKey,meta:a=>!a.metaKey,left:a=>"button"in a&&a.button!==0,middle:a=>"button"in a&&a.button!==1,right:a=>"button"in a&&a.button!==2,exact:(a,u)=>z$.some(p=>a[`${p}Key`]&&!u.includes(p))},CP=(a,u)=>(p,...b)=>{for(let C=0;C<u.length;C++){const S=V$[u[C]];if(S&&S(p,u))return}return a(p,...b)},$$=vm({patchProp:P$},x$);let kP;function U$(){return kP||(kP=WV($$))}const j$=(...a)=>{const u=U$().createApp(...a),{mount:p}=u;return u.mount=b=>{const C=Z$(b);if(!C)return;const S=u._component;!sa(S)&&!S.render&&!S.template&&(S.template=C.innerHTML),C.innerHTML="";const M=p(C,!1,C instanceof SVGElement);return C instanceof Element&&(C.removeAttribute("v-cloak"),C.setAttribute("data-v-app","")),M},u};function Z$(a){return Lc(a)?document.querySelector(a):a}var W$=!1;function G$(){return tB().__VUE_DEVTOOLS_GLOBAL_HOOK__}function tB(){return typeof navigator!="undefined"&&typeof window!="undefined"?window:typeof global!="undefined"?global:{}}const q$=typeof Proxy=="function",K$="devtools-plugin:setup",Y$="plugin:settings:set";let zC,vR;function X$(){var a;return zC!==void 0||(typeof window!="undefined"&&window.performance?(zC=!0,vR=window.performance):typeof global!="undefined"&&((a=global.perf_hooks)===null||a===void 0?void 0:a.performance)?(zC=!0,vR=global.perf_hooks.performance):zC=!1),zC}function J$(){return X$()?vR.now():Date.now()}class Q${constructor(u,p){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=u,this.hook=p;const b={};if(u.settings)for(const M in u.settings){const D=u.settings[M];b[M]=D.defaultValue}const C=`__vue-devtools-plugin-settings__${u.id}`;let S=Object.assign({},b);try{const M=localStorage.getItem(C),D=JSON.parse(M);Object.assign(S,D)}catch{}this.fallbacks={getSettings(){return S},setSettings(M){try{localStorage.setItem(C,JSON.stringify(M))}catch{}S=M},now(){return J$()}},p&&p.on(Y$,(M,D)=>{M===this.plugin.id&&this.fallbacks.setSettings(D)}),this.proxiedOn=new Proxy({},{get:(M,D)=>this.target?this.target.on[D]:(...I)=>{this.onQueue.push({method:D,args:I})}}),this.proxiedTarget=new Proxy({},{get:(M,D)=>this.target?this.target[D]:D==="on"?this.proxiedOn:Object.keys(this.fallbacks).includes(D)?(...I)=>(this.targetQueue.push({method:D,args:I,resolve:()=>{}}),this.fallbacks[D](...I)):(...I)=>new Promise(q=>{this.targetQueue.push({method:D,args:I,resolve:q})})})}async setRealTarget(u){this.target=u;for(const p of this.onQueue)this.target.on[p.method](...p.args);for(const p of this.targetQueue)p.resolve(await this.target[p.method](...p.args))}}function eU(a,u){const p=a,b=tB(),C=G$(),S=q$&&p.enableEarlyProxy;if(C&&(b.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__||!S))C.emit(K$,a,u);else{const M=S?new Q$(p,C):null;(b.__VUE_DEVTOOLS_PLUGINS__=b.__VUE_DEVTOOLS_PLUGINS__||[]).push({pluginDescriptor:p,setupFn:u,proxy:M}),M&&u(M.proxiedTarget)}}/*!
  * pinia v2.0.36
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */let nB;const dN=a=>nB=a,oB=Symbol();function bR(a){return a&&typeof a=="object"&&Object.prototype.toString.call(a)==="[object Object]"&&typeof a.toJSON!="function"}var l5;(function(a){a.direct="direct",a.patchObject="patch object",a.patchFunction="patch function"})(l5||(l5={}));function tU(){const a=s9(!0),u=a.run(()=>$o({}));let p=[],b=[];const C=ek({install(S){dN(C),C._a=S,S.provide(oB,C),S.config.globalProperties.$pinia=C,b.forEach(M=>p.push(M)),b=[]},use(S){return!this._a&&!W$?b.push(S):p.push(S),this},_p:p,_a:null,_e:a,_s:new Map,state:u});return C}const rB=()=>{};function SP(a,u,p,b=rB){a.push(u);const C=()=>{const S=a.indexOf(u);S>-1&&(a.splice(S,1),b())};return!p&&Fz()&&Hz(C),C}function VC(a,...u){a.slice().forEach(p=>{p(...u)})}function yR(a,u){a instanceof Map&&u instanceof Map&&u.forEach((p,b)=>a.set(b,p)),a instanceof Set&&u instanceof Set&&u.forEach(a.add,a);for(const p in u){if(!u.hasOwnProperty(p))continue;const b=u[p],C=a[p];bR(C)&&bR(b)&&a.hasOwnProperty(p)&&!fl(b)&&!F1(b)?a[p]=yR(C,b):a[p]=b}return a}const nU=Symbol();function oU(a){return!bR(a)||!a.hasOwnProperty(nU)}const{assign:Q0}=Object;function rU(a){return!!(fl(a)&&a.effect)}function aU(a,u,p,b){const{state:C,actions:S,getters:M}=u,D=p.state.value[a];let I;function q(){D||(p.state.value[a]=C?C():{});const re=k9(p.state.value[a]);return Q0(re,S,Object.keys(M||{}).reduce((fe,le)=>(fe[le]=ek(bo(()=>{dN(p);const ue=p._s.get(a);return M[le].call(ue,ue)})),fe),{}))}return I=aB(a,q,u,p,b,!0),I}function aB(a,u,p={},b,C,S){let M;const D=Q0({actions:{}},p),I={deep:!0};let q,re,fe=ek([]),le=ek([]),ue;const ke=b.state.value[a];!S&&!ke&&(b.state.value[a]={}),$o({});let xe;function me(Pt){let Ft;q=re=!1,typeof Pt=="function"?(Pt(b.state.value[a]),Ft={type:l5.patchFunction,storeId:a,events:ue}):(yR(b.state.value[a],Pt),Ft={type:l5.patchObject,payload:Pt,storeId:a,events:ue});const qn=xe=Symbol();v5().then(()=>{xe===qn&&(q=!0)}),re=!0,VC(fe,Ft,b.state.value[a])}const J=S?function(){const{state:Ft}=p,qn=Ft?Ft():{};this.$patch(wn=>{Q0(wn,qn)})}:rB;function ae(){M.stop(),fe=[],le=[],b._s.delete(a)}function De(Pt,Ft){return function(){dN(b);const qn=Array.from(arguments),wn=[],Ke=[];function nn(kn){wn.push(kn)}function H(kn){Ke.push(kn)}VC(le,{args:qn,name:Pt,store:Ae,after:nn,onError:H});let it;try{it=Ft.apply(this&&this.$id===a?this:Ae,qn)}catch(kn){throw VC(Ke,kn),kn}return it instanceof Promise?it.then(kn=>(VC(wn,kn),kn)).catch(kn=>(VC(Ke,kn),Promise.reject(kn))):(VC(wn,it),it)}}const G={_p:b,$id:a,$onAction:SP.bind(null,le),$patch:me,$reset:J,$subscribe(Pt,Ft={}){const qn=SP(fe,Pt,Ft.detached,()=>wn()),wn=M.run(()=>xf(()=>b.state.value[a],Ke=>{(Ft.flush==="sync"?re:q)&&Pt({storeId:a,type:l5.direct,events:ue},Ke)},Q0({},I,Ft)));return qn},$dispose:ae},Ae=fw(G);b._s.set(a,Ae);const ye=b._e.run(()=>(M=s9(),M.run(()=>u())));for(const Pt in ye){const Ft=ye[Pt];if(fl(Ft)&&!rU(Ft)||F1(Ft))S||(ke&&oU(Ft)&&(fl(Ft)?Ft.value=ke[Pt]:yR(Ft,ke[Pt])),b.state.value[a][Pt]=Ft);else if(typeof Ft=="function"){const qn=De(Pt,Ft);ye[Pt]=qn,D.actions[Pt]=Ft}}return Q0(Ae,ye),Q0(Ga(Ae),ye),Object.defineProperty(Ae,"$state",{get:()=>b.state.value[a],set:Pt=>{me(Ft=>{Q0(Ft,Pt)})}}),b._p.forEach(Pt=>{Q0(Ae,M.run(()=>Pt({store:Ae,app:b._a,pinia:b,options:D})))}),ke&&S&&p.hydrate&&p.hydrate(Ae.$state,ke),q=!0,re=!0,Ae}function ub(a,u,p){let b,C;const S=typeof u=="function";typeof a=="string"?(b=a,C=S?p:u):(C=a,b=a.id);function M(D,I){const q=cw();return D=D||q&&Dg(oB,null),D&&dN(D),D=nB,D._s.has(b)||(S?aB(b,u,C,D):aU(b,C,D)),D._s.get(b)}return M.$id=b,M}function sB(a){{a=Ga(a);const u={};for(const p in a){const b=a[p];(fl(b)||F1(b))&&(u[p]=S9(a,p))}return u}}const sU=ub("darkMode",()=>{const a=$o(!1);return{isDarkMode:a,darkModeSwitch:p=>{let b=document.querySelector("#app");p?(a.value=!0,b.classList.add("dark")):(a.value=!1,b.classList.remove("dark"))}}}),pD=ub("menu",()=>{const a=$o(!0),u=$o(!1),p=()=>a.value=!a.value,b=D=>{D<640?(a.value=!1,u.value=!0):(a.value=!0,u.value=!1)},C=$o([{name:"\u4F7F\u7528\u8005\u914D\u7F6E\u6A94\u6848",key:"Menu.userProfile",icon:"fa-user",size:"lg",url:"",isDisplayed:!0,isFocus:!1,bounce:!1},{name:"\u8A2D\u5B9A",key:"Menu.settings",icon:"fa-gear",size:"lg",url:"",isDisplayed:!0,isFocus:!1,spin:!1},{name:"\u767B\u51FA",key:"Menu.logout",icon:"fa-right-from-bracket",size:"lg",url:"",isDisplayed:!0,isFocus:!1,flip:!1}]),S=(D="",I=!1)=>{if(D==C.value[0].key)return C.value[0].bounce=I;if(D==C.value[1].key)return C.value[1].spin=I;if(D==C.value[2].key)return C.value[2].flip=I},M=$o([{name:"\u6703\u54E1\u7CFB\u7D71",key:"Menu.product",icon:"fa-sitemap",size:"lg",url:"",isDisplayed:!1,isFocus:!1},{name:"\u7522\u54C1\u7BA1\u7406",key:"Menu.product",icon:"fa-sitemap",size:"lg",url:"product",isDisplayed:!0,isFocus:!0},{name:"\u6700\u65B0\u6D88\u606F",key:"Menu.news",icon:"fa-newspaper",size:"lg",url:"news",isDisplayed:!0,isFocus:!1},{name:"\u670D\u52D9\u4E2D\u5FC3",key:"Menu.services",icon:"fa-screwdriver-wrench",size:"lg",url:"serviceCenters",isDisplayed:!0,isFocus:!1},{name:"Banner",key:"Menu.banner",icon:"fa-rectangle-ad",size:"lg",url:"banner",isDisplayed:!0,isFocus:!1},{name:"Feedback",key:"Menu.feedback",icon:"fa-comments",size:"lg",url:"feedback",isDisplayed:!0,isFocus:!1},{name:"Partners",key:"Menu.partners",icon:"fa-handshake",size:"lg",url:"partners",isDisplayed:!0,isFocus:!1},{name:"About",key:"Menu.about",icon:"fa-circle-info",size:"lg",url:"about",isDisplayed:!0,isFocus:!1},{name:"GA\u7CFB\u7D71",key:"Menu.analytics",icon:"fa-magnifying-glass-chart",size:"lg",url:"",isDisplayed:!0,isFocus:!1}]);return{isDisplayedMenu:a,isSmScreenMenu:u,menuSwitch:p,menuBestUIUXWhenScreenResize:b,menuSetting:C,menuSettingHover:S,menuPages:M}}),iU={class:"fixed w-full z-50"},lU={class:"h-full flex justify-between items-center"},cU={class:"flex items-center gap-2 sm:gap-8"},uU=Y("strong",{class:"text-2xl cursor-pointer",id:"backToTop"},"Dashboard",-1),dU={class:"sm:hidden"},mU={setup(a){const u=sU(),p=pD(),b=$o({isBeatFade:!1,click:()=>p.menuSwitch()}),C=bo(()=>u.isDarkMode?["vertical","text-green-400"]:["horizontal","text-red-400"]);return A5(()=>{document.getElementById("backToTop").addEventListener("click",()=>{window.scrollTo({top:0,behavior:"smooth"}),setTimeout(()=>{window.scrollTo({top:0,behavior:"auto"})},1e3)})}),(S,M)=>{const D=uc("font-awesome-icon");return Bt(),An("nav",iU,[Y("div",lU,[Y("div",cU,[Y("span",{class:"cursor-pointer",onMouseover:M[0]||(M[0]=I=>b.value.isBeatFade=!0),onMouseleave:M[1]||(M[1]=I=>b.value.isBeatFade=!1)},[ta(D,{icon:"bars",size:"2xl","beat-fade":b.value.isBeatFade,onClick:b.value.click},null,8,["beat-fade","onClick"])],32),uU]),Y("div",null,[Y("span",dU,Mt(S.$t("Header.darkMode"))+":",1),Y("button",{onClick:M[2]||(M[2]=I=>vo(u).darkModeSwitch(!vo(u).isDarkMode))},[ta(D,{icon:"toggle-on",size:"2xl",flip:vo(C)[0],class:ea(vo(C)[1])},null,8,["flip","class"])])])])])}}};/*!
  * vue-router v4.2.2
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */const jC=typeof window!="undefined";function fU(a){return a.__esModule||a[Symbol.toStringTag]==="Module"}const ps=Object.assign;function U7(a,u){const p={};for(const b in u){const C=u[b];p[b]=Pg(C)?C.map(a):a(C)}return p}const c5=()=>{},Pg=Array.isArray,gU=/\/$/,pU=a=>a.replace(gU,"");function j7(a,u,p="/"){let b,C={},S="",M="";const D=u.indexOf("#");let I=u.indexOf("?");return D<I&&D>=0&&(I=-1),I>-1&&(b=u.slice(0,I),S=u.slice(I+1,D>-1?D:u.length),C=a(S)),D>-1&&(b=b||u.slice(0,D),M=u.slice(D,u.length)),b=yU(b!=null?b:u,p),{fullPath:b+(S&&"?")+S+M,path:b,query:C,hash:M}}function hU(a,u){const p=u.query?a(u.query):"";return u.path+(p&&"?")+p+(u.hash||"")}function EP(a,u){return!u||!a.toLowerCase().startsWith(u.toLowerCase())?a:a.slice(u.length)||"/"}function vU(a,u,p){const b=u.matched.length-1,C=p.matched.length-1;return b>-1&&b===C&&ok(u.matched[b],p.matched[C])&&iB(u.params,p.params)&&a(u.query)===a(p.query)&&u.hash===p.hash}function ok(a,u){return(a.aliasOf||a)===(u.aliasOf||u)}function iB(a,u){if(Object.keys(a).length!==Object.keys(u).length)return!1;for(const p in a)if(!bU(a[p],u[p]))return!1;return!0}function bU(a,u){return Pg(a)?OP(a,u):Pg(u)?OP(u,a):a===u}function OP(a,u){return Pg(u)?a.length===u.length&&a.every((p,b)=>p===u[b]):a.length===1&&a[0]===u}function yU(a,u){if(a.startsWith("/"))return a;if(!a)return u;const p=u.split("/"),b=a.split("/"),C=b[b.length-1];(C===".."||C===".")&&b.push("");let S=p.length-1,M,D;for(M=0;M<b.length;M++)if(D=b[M],D!==".")if(D==="..")S>1&&S--;else break;return p.slice(0,S).join("/")+"/"+b.slice(M-(M===b.length?1:0)).join("/")}var w5;(function(a){a.pop="pop",a.push="push"})(w5||(w5={}));var u5;(function(a){a.back="back",a.forward="forward",a.unknown=""})(u5||(u5={}));function wU(a){if(!a)if(jC){const u=document.querySelector("base");a=u&&u.getAttribute("href")||"/",a=a.replace(/^\w+:\/\/[^\/]+/,"")}else a="/";return a[0]!=="/"&&a[0]!=="#"&&(a="/"+a),pU(a)}const xU=/^[^#]+#/;function _U(a,u){return a.replace(xU,"#")+u}function CU(a,u){const p=document.documentElement.getBoundingClientRect(),b=a.getBoundingClientRect();return{behavior:u.behavior,left:b.left-p.left-(u.left||0),top:b.top-p.top-(u.top||0)}}const mN=()=>({left:window.pageXOffset,top:window.pageYOffset});function kU(a){let u;if("el"in a){const p=a.el,b=typeof p=="string"&&p.startsWith("#"),C=typeof p=="string"?b?document.getElementById(p.slice(1)):document.querySelector(p):p;if(!C)return;u=CU(C,a)}else u=a;"scrollBehavior"in document.documentElement.style?window.scrollTo(u):window.scrollTo(u.left!=null?u.left:window.pageXOffset,u.top!=null?u.top:window.pageYOffset)}function TP(a,u){return(history.state?history.state.position-u:-1)+a}const wR=new Map;function SU(a,u){wR.set(a,u)}function EU(a){const u=wR.get(a);return wR.delete(a),u}let OU=()=>location.protocol+"//"+location.host;function lB(a,u){const{pathname:p,search:b,hash:C}=u,S=a.indexOf("#");if(S>-1){let D=C.includes(a.slice(S))?a.slice(S).length:1,I=C.slice(D);return I[0]!=="/"&&(I="/"+I),EP(I,"")}return EP(p,a)+b+C}function TU(a,u,p,b){let C=[],S=[],M=null;const D=({state:le})=>{const ue=lB(a,location),ke=p.value,xe=u.value;let me=0;if(le){if(p.value=ue,u.value=le,M&&M===ke){M=null;return}me=xe?le.position-xe.position:0}else b(ue);C.forEach(J=>{J(p.value,ke,{delta:me,type:w5.pop,direction:me?me>0?u5.forward:u5.back:u5.unknown})})};function I(){M=p.value}function q(le){C.push(le);const ue=()=>{const ke=C.indexOf(le);ke>-1&&C.splice(ke,1)};return S.push(ue),ue}function re(){const{history:le}=window;!le.state||le.replaceState(ps({},le.state,{scroll:mN()}),"")}function fe(){for(const le of S)le();S=[],window.removeEventListener("popstate",D),window.removeEventListener("beforeunload",re)}return window.addEventListener("popstate",D),window.addEventListener("beforeunload",re,{passive:!0}),{pauseListeners:I,listen:q,destroy:fe}}function AP(a,u,p,b=!1,C=!1){return{back:a,current:u,forward:p,replaced:b,position:window.history.length,scroll:C?mN():null}}function AU(a){const{history:u,location:p}=window,b={value:lB(a,p)},C={value:u.state};C.value||S(b.value,{back:null,current:b.value,forward:null,position:u.length-1,replaced:!0,scroll:null},!0);function S(I,q,re){const fe=a.indexOf("#"),le=fe>-1?(p.host&&document.querySelector("base")?a:a.slice(fe))+I:OU()+a+I;try{u[re?"replaceState":"pushState"](q,"",le),C.value=q}catch(ue){console.error(ue),p[re?"replace":"assign"](le)}}function M(I,q){const re=ps({},u.state,AP(C.value.back,I,C.value.forward,!0),q,{position:C.value.position});S(I,re,!0),b.value=I}function D(I,q){const re=ps({},C.value,u.state,{forward:I,scroll:mN()});S(re.current,re,!0);const fe=ps({},AP(b.value,I,null),{position:re.position+1},q);S(I,fe,!1),b.value=I}return{location:b,state:C,push:D,replace:M}}function NU(a){a=wU(a);const u=AU(a),p=TU(a,u.state,u.location,u.replace);function b(S,M=!0){M||p.pauseListeners(),history.go(S)}const C=ps({location:"",base:a,go:b,createHref:_U.bind(null,a)},u,p);return Object.defineProperty(C,"location",{enumerable:!0,get:()=>u.location.value}),Object.defineProperty(C,"state",{enumerable:!0,get:()=>u.state.value}),C}function MU(a){return a=location.host?a||location.pathname+location.search:"",a.includes("#")||(a+="#"),NU(a)}function RU(a){return typeof a=="string"||a&&typeof a=="object"}function cB(a){return typeof a=="string"||typeof a=="symbol"}const K0={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},uB=Symbol("");var NP;(function(a){a[a.aborted=4]="aborted",a[a.cancelled=8]="cancelled",a[a.duplicated=16]="duplicated"})(NP||(NP={}));function rk(a,u){return ps(new Error,{type:a,[uB]:!0},u)}function D1(a,u){return a instanceof Error&&uB in a&&(u==null||!!(a.type&u))}const MP="[^/]+?",DU={sensitive:!1,strict:!1,start:!0,end:!0},IU=/[.+*?^${}()[\]/\\]/g;function PU(a,u){const p=ps({},DU,u),b=[];let C=p.start?"^":"";const S=[];for(const q of a){const re=q.length?[]:[90];p.strict&&!q.length&&(C+="/");for(let fe=0;fe<q.length;fe++){const le=q[fe];let ue=40+(p.sensitive?.25:0);if(le.type===0)fe||(C+="/"),C+=le.value.replace(IU,"\\$&"),ue+=40;else if(le.type===1){const{value:ke,repeatable:xe,optional:me,regexp:J}=le;S.push({name:ke,repeatable:xe,optional:me});const ae=J||MP;if(ae!==MP){ue+=10;try{new RegExp(`(${ae})`)}catch(G){throw new Error(`Invalid custom RegExp for param "${ke}" (${ae}): `+G.message)}}let De=xe?`((?:${ae})(?:/(?:${ae}))*)`:`(${ae})`;fe||(De=me&&q.length<2?`(?:/${De})`:"/"+De),me&&(De+="?"),C+=De,ue+=20,me&&(ue+=-8),xe&&(ue+=-20),ae===".*"&&(ue+=-50)}re.push(ue)}b.push(re)}if(p.strict&&p.end){const q=b.length-1;b[q][b[q].length-1]+=.7000000000000001}p.strict||(C+="/?"),p.end?C+="$":p.strict&&(C+="(?:/|$)");const M=new RegExp(C,p.sensitive?"":"i");function D(q){const re=q.match(M),fe={};if(!re)return null;for(let le=1;le<re.length;le++){const ue=re[le]||"",ke=S[le-1];fe[ke.name]=ue&&ke.repeatable?ue.split("/"):ue}return fe}function I(q){let re="",fe=!1;for(const le of a){(!fe||!re.endsWith("/"))&&(re+="/"),fe=!1;for(const ue of le)if(ue.type===0)re+=ue.value;else if(ue.type===1){const{value:ke,repeatable:xe,optional:me}=ue,J=ke in q?q[ke]:"";if(Pg(J)&&!xe)throw new Error(`Provided param "${ke}" is an array but it is not repeatable (* or + modifiers)`);const ae=Pg(J)?J.join("/"):J;if(!ae)if(me)le.length<2&&(re.endsWith("/")?re=re.slice(0,-1):fe=!0);else throw new Error(`Missing required param "${ke}"`);re+=ae}}return re||"/"}return{re:M,score:b,keys:S,parse:D,stringify:I}}function LU(a,u){let p=0;for(;p<a.length&&p<u.length;){const b=u[p]-a[p];if(b)return b;p++}return a.length<u.length?a.length===1&&a[0]===40+40?-1:1:a.length>u.length?u.length===1&&u[0]===40+40?1:-1:0}function BU(a,u){let p=0;const b=a.score,C=u.score;for(;p<b.length&&p<C.length;){const S=LU(b[p],C[p]);if(S)return S;p++}if(Math.abs(C.length-b.length)===1){if(RP(b))return 1;if(RP(C))return-1}return C.length-b.length}function RP(a){const u=a[a.length-1];return a.length>0&&u[u.length-1]<0}const FU={type:0,value:""},HU=/[a-zA-Z0-9_]/;function zU(a){if(!a)return[[]];if(a==="/")return[[FU]];if(!a.startsWith("/"))throw new Error(`Invalid path "${a}"`);function u(ue){throw new Error(`ERR (${p})/"${q}": ${ue}`)}let p=0,b=p;const C=[];let S;function M(){S&&C.push(S),S=[]}let D=0,I,q="",re="";function fe(){!q||(p===0?S.push({type:0,value:q}):p===1||p===2||p===3?(S.length>1&&(I==="*"||I==="+")&&u(`A repeatable param (${q}) must be alone in its segment. eg: '/:ids+.`),S.push({type:1,value:q,regexp:re,repeatable:I==="*"||I==="+",optional:I==="*"||I==="?"})):u("Invalid state to consume buffer"),q="")}function le(){q+=I}for(;D<a.length;){if(I=a[D++],I==="\\"&&p!==2){b=p,p=4;continue}switch(p){case 0:I==="/"?(q&&fe(),M()):I===":"?(fe(),p=1):le();break;case 4:le(),p=b;break;case 1:I==="("?p=2:HU.test(I)?le():(fe(),p=0,I!=="*"&&I!=="?"&&I!=="+"&&D--);break;case 2:I===")"?re[re.length-1]=="\\"?re=re.slice(0,-1)+I:p=3:re+=I;break;case 3:fe(),p=0,I!=="*"&&I!=="?"&&I!=="+"&&D--,re="";break;default:u("Unknown state");break}}return p===2&&u(`Unfinished custom RegExp for param "${q}"`),fe(),M(),C}function VU(a,u,p){const b=PU(zU(a.path),p),C=ps(b,{record:a,parent:u,children:[],alias:[]});return u&&!C.record.aliasOf==!u.record.aliasOf&&u.children.push(C),C}function $U(a,u){const p=[],b=new Map;u=PP({strict:!1,end:!0,sensitive:!1},u);function C(re){return b.get(re)}function S(re,fe,le){const ue=!le,ke=UU(re);ke.aliasOf=le&&le.record;const xe=PP(u,re),me=[ke];if("alias"in re){const De=typeof re.alias=="string"?[re.alias]:re.alias;for(const G of De)me.push(ps({},ke,{components:le?le.record.components:ke.components,path:G,aliasOf:le?le.record:ke}))}let J,ae;for(const De of me){const{path:G}=De;if(fe&&G[0]!=="/"){const Ae=fe.record.path,ye=Ae[Ae.length-1]==="/"?"":"/";De.path=fe.record.path+(G&&ye+G)}if(J=VU(De,fe,xe),le?le.alias.push(J):(ae=ae||J,ae!==J&&ae.alias.push(J),ue&&re.name&&!IP(J)&&M(re.name)),ke.children){const Ae=ke.children;for(let ye=0;ye<Ae.length;ye++)S(Ae[ye],J,le&&le.children[ye])}le=le||J,(J.record.components&&Object.keys(J.record.components).length||J.record.name||J.record.redirect)&&I(J)}return ae?()=>{M(ae)}:c5}function M(re){if(cB(re)){const fe=b.get(re);fe&&(b.delete(re),p.splice(p.indexOf(fe),1),fe.children.forEach(M),fe.alias.forEach(M))}else{const fe=p.indexOf(re);fe>-1&&(p.splice(fe,1),re.record.name&&b.delete(re.record.name),re.children.forEach(M),re.alias.forEach(M))}}function D(){return p}function I(re){let fe=0;for(;fe<p.length&&BU(re,p[fe])>=0&&(re.record.path!==p[fe].record.path||!dB(re,p[fe]));)fe++;p.splice(fe,0,re),re.record.name&&!IP(re)&&b.set(re.record.name,re)}function q(re,fe){let le,ue={},ke,xe;if("name"in re&&re.name){if(le=b.get(re.name),!le)throw rk(1,{location:re});xe=le.record.name,ue=ps(DP(fe.params,le.keys.filter(ae=>!ae.optional).map(ae=>ae.name)),re.params&&DP(re.params,le.keys.map(ae=>ae.name))),ke=le.stringify(ue)}else if("path"in re)ke=re.path,le=p.find(ae=>ae.re.test(ke)),le&&(ue=le.parse(ke),xe=le.record.name);else{if(le=fe.name?b.get(fe.name):p.find(ae=>ae.re.test(fe.path)),!le)throw rk(1,{location:re,currentLocation:fe});xe=le.record.name,ue=ps({},fe.params,re.params),ke=le.stringify(ue)}const me=[];let J=le;for(;J;)me.unshift(J.record),J=J.parent;return{name:xe,path:ke,params:ue,matched:me,meta:ZU(me)}}return a.forEach(re=>S(re)),{addRoute:S,resolve:q,removeRoute:M,getRoutes:D,getRecordMatcher:C}}function DP(a,u){const p={};for(const b of u)b in a&&(p[b]=a[b]);return p}function UU(a){return{path:a.path,redirect:a.redirect,name:a.name,meta:a.meta||{},aliasOf:void 0,beforeEnter:a.beforeEnter,props:jU(a),children:a.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in a?a.components||null:a.component&&{default:a.component}}}function jU(a){const u={},p=a.props||!1;if("component"in a)u.default=p;else for(const b in a.components)u[b]=typeof p=="boolean"?p:p[b];return u}function IP(a){for(;a;){if(a.record.aliasOf)return!0;a=a.parent}return!1}function ZU(a){return a.reduce((u,p)=>ps(u,p.meta),{})}function PP(a,u){const p={};for(const b in a)p[b]=b in u?u[b]:a[b];return p}function dB(a,u){return u.children.some(p=>p===a||dB(a,p))}const mB=/#/g,WU=/&/g,GU=/\//g,qU=/=/g,KU=/\?/g,fB=/\+/g,YU=/%5B/g,XU=/%5D/g,gB=/%5E/g,JU=/%60/g,pB=/%7B/g,QU=/%7C/g,hB=/%7D/g,ej=/%20/g;function hD(a){return encodeURI(""+a).replace(QU,"|").replace(YU,"[").replace(XU,"]")}function tj(a){return hD(a).replace(pB,"{").replace(hB,"}").replace(gB,"^")}function xR(a){return hD(a).replace(fB,"%2B").replace(ej,"+").replace(mB,"%23").replace(WU,"%26").replace(JU,"`").replace(pB,"{").replace(hB,"}").replace(gB,"^")}function nj(a){return xR(a).replace(qU,"%3D")}function oj(a){return hD(a).replace(mB,"%23").replace(KU,"%3F")}function rj(a){return a==null?"":oj(a).replace(GU,"%2F")}function j6(a){try{return decodeURIComponent(""+a)}catch{}return""+a}function aj(a){const u={};if(a===""||a==="?")return u;const b=(a[0]==="?"?a.slice(1):a).split("&");for(let C=0;C<b.length;++C){const S=b[C].replace(fB," "),M=S.indexOf("="),D=j6(M<0?S:S.slice(0,M)),I=M<0?null:j6(S.slice(M+1));if(D in u){let q=u[D];Pg(q)||(q=u[D]=[q]),q.push(I)}else u[D]=I}return u}function LP(a){let u="";for(let p in a){const b=a[p];if(p=nj(p),b==null){b!==void 0&&(u+=(u.length?"&":"")+p);continue}(Pg(b)?b.map(S=>S&&xR(S)):[b&&xR(b)]).forEach(S=>{S!==void 0&&(u+=(u.length?"&":"")+p,S!=null&&(u+="="+S))})}return u}function sj(a){const u={};for(const p in a){const b=a[p];b!==void 0&&(u[p]=Pg(b)?b.map(C=>C==null?null:""+C):b==null?b:""+b)}return u}const ij=Symbol(""),BP=Symbol(""),fN=Symbol(""),vB=Symbol(""),_R=Symbol("");function e5(){let a=[];function u(b){return a.push(b),()=>{const C=a.indexOf(b);C>-1&&a.splice(C,1)}}function p(){a=[]}return{add:u,list:()=>a,reset:p}}function tb(a,u,p,b,C){const S=b&&(b.enterCallbacks[C]=b.enterCallbacks[C]||[]);return()=>new Promise((M,D)=>{const I=fe=>{fe===!1?D(rk(4,{from:p,to:u})):fe instanceof Error?D(fe):RU(fe)?D(rk(2,{from:u,to:fe})):(S&&b.enterCallbacks[C]===S&&typeof fe=="function"&&S.push(fe),M())},q=a.call(b&&b.instances[C],u,p,I);let re=Promise.resolve(q);a.length<3&&(re=re.then(I)),re.catch(fe=>D(fe))})}function Z7(a,u,p,b){const C=[];for(const S of a)for(const M in S.components){let D=S.components[M];if(!(u!=="beforeRouteEnter"&&!S.instances[M]))if(lj(D)){const q=(D.__vccOpts||D)[u];q&&C.push(tb(q,p,b,S,M))}else{let I=D();C.push(()=>I.then(q=>{if(!q)return Promise.reject(new Error(`Couldn't resolve component "${M}" at "${S.path}"`));const re=fU(q)?q.default:q;S.components[M]=re;const le=(re.__vccOpts||re)[u];return le&&tb(le,p,b,S,M)()}))}}return C}function lj(a){return typeof a=="object"||"displayName"in a||"props"in a||"__vccOpts"in a}function FP(a){const u=Dg(fN),p=Dg(vB),b=bo(()=>u.resolve(vo(a.to))),C=bo(()=>{const{matched:I}=b.value,{length:q}=I,re=I[q-1],fe=p.matched;if(!re||!fe.length)return-1;const le=fe.findIndex(ok.bind(null,re));if(le>-1)return le;const ue=HP(I[q-2]);return q>1&&HP(re)===ue&&fe[fe.length-1].path!==ue?fe.findIndex(ok.bind(null,I[q-2])):le}),S=bo(()=>C.value>-1&&mj(p.params,b.value.params)),M=bo(()=>C.value>-1&&C.value===p.matched.length-1&&iB(p.params,b.value.params));function D(I={}){return dj(I)?u[vo(a.replace)?"replace":"push"](vo(a.to)).catch(c5):Promise.resolve()}return{route:b,href:bo(()=>b.value.href),isActive:S,isExactActive:M,navigate:D}}const cj=dk({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:FP,setup(a,{slots:u}){const p=fw(FP(a)),{options:b}=Dg(fN),C=bo(()=>({[zP(a.activeClass,b.linkActiveClass,"router-link-active")]:p.isActive,[zP(a.exactActiveClass,b.linkExactActiveClass,"router-link-exact-active")]:p.isExactActive}));return()=>{const S=u.default&&u.default(p);return a.custom?S:_f("a",{"aria-current":p.isExactActive?a.ariaCurrentValue:null,href:p.href,onClick:p.navigate,class:C.value},S)}}}),uj=cj;function dj(a){if(!(a.metaKey||a.altKey||a.ctrlKey||a.shiftKey)&&!a.defaultPrevented&&!(a.button!==void 0&&a.button!==0)){if(a.currentTarget&&a.currentTarget.getAttribute){const u=a.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(u))return}return a.preventDefault&&a.preventDefault(),!0}}function mj(a,u){for(const p in u){const b=u[p],C=a[p];if(typeof b=="string"){if(b!==C)return!1}else if(!Pg(C)||C.length!==b.length||b.some((S,M)=>S!==C[M]))return!1}return!0}function HP(a){return a?a.aliasOf?a.aliasOf.path:a.path:""}const zP=(a,u,p)=>a!=null?a:u!=null?u:p,fj=dk({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(a,{attrs:u,slots:p}){const b=Dg(_R),C=bo(()=>a.route||b.value),S=Dg(BP,0),M=bo(()=>{let q=vo(S);const{matched:re}=C.value;let fe;for(;(fe=re[q])&&!fe.components;)q++;return q}),D=bo(()=>C.value.matched[M.value]);A6(BP,bo(()=>M.value+1)),A6(ij,D),A6(_R,C);const I=$o();return xf(()=>[I.value,D.value,a.name],([q,re,fe],[le,ue,ke])=>{re&&(re.instances[fe]=q,ue&&ue!==re&&q&&q===le&&(re.leaveGuards.size||(re.leaveGuards=ue.leaveGuards),re.updateGuards.size||(re.updateGuards=ue.updateGuards))),q&&re&&(!ue||!ok(re,ue)||!le)&&(re.enterCallbacks[fe]||[]).forEach(xe=>xe(q))},{flush:"post"}),()=>{const q=C.value,re=a.name,fe=D.value,le=fe&&fe.components[re];if(!le)return VP(p.default,{Component:le,route:q});const ue=fe.props[re],ke=ue?ue===!0?q.params:typeof ue=="function"?ue(q):ue:null,me=_f(le,ps({},ke,u,{onVnodeUnmounted:J=>{J.component.isUnmounted&&(fe.instances[re]=null)},ref:I}));return VP(p.default,{Component:me,route:q})||me}}});function VP(a,u){if(!a)return null;const p=a(u);return p.length===1?p[0]:p}const gj=fj;function pj(a){const u=$U(a.routes,a),p=a.parseQuery||aj,b=a.stringifyQuery||LP,C=a.history,S=e5(),M=e5(),D=e5(),I=fV(K0);let q=K0;jC&&a.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const re=U7.bind(null,dt=>""+dt),fe=U7.bind(null,rj),le=U7.bind(null,j6);function ue(dt,Et){let ze,oo;return cB(dt)?(ze=u.getRecordMatcher(dt),oo=Et):oo=dt,u.addRoute(oo,ze)}function ke(dt){const Et=u.getRecordMatcher(dt);Et&&u.removeRoute(Et)}function xe(){return u.getRoutes().map(dt=>dt.record)}function me(dt){return!!u.getRecordMatcher(dt)}function J(dt,Et){if(Et=ps({},Et||I.value),typeof dt=="string"){const Ve=j7(p,dt,Et.path),yt=u.resolve({path:Ve.path},Et),Ct=C.createHref(Ve.fullPath);return ps(Ve,yt,{params:le(yt.params),hash:j6(Ve.hash),redirectedFrom:void 0,href:Ct})}let ze;if("path"in dt)ze=ps({},dt,{path:j7(p,dt.path,Et.path).path});else{const Ve=ps({},dt.params);for(const yt in Ve)Ve[yt]==null&&delete Ve[yt];ze=ps({},dt,{params:fe(Ve)}),Et.params=fe(Et.params)}const oo=u.resolve(ze,Et),Be=dt.hash||"";oo.params=re(le(oo.params));const ne=hU(b,ps({},dt,{hash:tj(Be),path:oo.path})),Oe=C.createHref(ne);return ps({fullPath:ne,hash:Be,query:b===LP?sj(dt.query):dt.query||{}},oo,{redirectedFrom:void 0,href:Oe})}function ae(dt){return typeof dt=="string"?j7(p,dt,I.value.path):ps({},dt)}function De(dt,Et){if(q!==dt)return rk(8,{from:Et,to:dt})}function G(dt){return Pt(dt)}function Ae(dt){return G(ps(ae(dt),{replace:!0}))}function ye(dt){const Et=dt.matched[dt.matched.length-1];if(Et&&Et.redirect){const{redirect:ze}=Et;let oo=typeof ze=="function"?ze(dt):ze;return typeof oo=="string"&&(oo=oo.includes("?")||oo.includes("#")?oo=ae(oo):{path:oo},oo.params={}),ps({query:dt.query,hash:dt.hash,params:"path"in oo?{}:dt.params},oo)}}function Pt(dt,Et){const ze=q=J(dt),oo=I.value,Be=dt.state,ne=dt.force,Oe=dt.replace===!0,Ve=ye(ze);if(Ve)return Pt(ps(ae(Ve),{state:typeof Ve=="object"?ps({},Be,Ve.state):Be,force:ne,replace:Oe}),Et||ze);const yt=ze;yt.redirectedFrom=Et;let Ct;return!ne&&vU(b,oo,ze)&&(Ct=rk(16,{to:yt,from:oo}),Q(oo,oo,!0,!1)),(Ct?Promise.resolve(Ct):wn(yt,oo)).catch(rn=>D1(rn)?D1(rn,2)?rn:Sn(rn):In(rn,yt,oo)).then(rn=>{if(rn){if(D1(rn,2))return Pt(ps({replace:Oe},ae(rn.to),{state:typeof rn.to=="object"?ps({},Be,rn.to.state):Be,force:ne}),Et||yt)}else rn=nn(yt,oo,!0,Oe,Be);return Ke(yt,oo,rn),rn})}function Ft(dt,Et){const ze=De(dt,Et);return ze?Promise.reject(ze):Promise.resolve()}function qn(dt){const Et=_t.values().next().value;return Et&&typeof Et.runWithContext=="function"?Et.runWithContext(dt):dt()}function wn(dt,Et){let ze;const[oo,Be,ne]=hj(dt,Et);ze=Z7(oo.reverse(),"beforeRouteLeave",dt,Et);for(const Ve of oo)Ve.leaveGuards.forEach(yt=>{ze.push(tb(yt,dt,Et))});const Oe=Ft.bind(null,dt,Et);return ze.push(Oe),Ht(ze).then(()=>{ze=[];for(const Ve of S.list())ze.push(tb(Ve,dt,Et));return ze.push(Oe),Ht(ze)}).then(()=>{ze=Z7(Be,"beforeRouteUpdate",dt,Et);for(const Ve of Be)Ve.updateGuards.forEach(yt=>{ze.push(tb(yt,dt,Et))});return ze.push(Oe),Ht(ze)}).then(()=>{ze=[];for(const Ve of dt.matched)if(Ve.beforeEnter&&!Et.matched.includes(Ve))if(Pg(Ve.beforeEnter))for(const yt of Ve.beforeEnter)ze.push(tb(yt,dt,Et));else ze.push(tb(Ve.beforeEnter,dt,Et));return ze.push(Oe),Ht(ze)}).then(()=>(dt.matched.forEach(Ve=>Ve.enterCallbacks={}),ze=Z7(ne,"beforeRouteEnter",dt,Et),ze.push(Oe),Ht(ze))).then(()=>{ze=[];for(const Ve of M.list())ze.push(tb(Ve,dt,Et));return ze.push(Oe),Ht(ze)}).catch(Ve=>D1(Ve,8)?Ve:Promise.reject(Ve))}function Ke(dt,Et,ze){for(const oo of D.list())qn(()=>oo(dt,Et,ze))}function nn(dt,Et,ze,oo,Be){const ne=De(dt,Et);if(ne)return ne;const Oe=Et===K0,Ve=jC?history.state:{};ze&&(oo||Oe?C.replace(dt.fullPath,ps({scroll:Oe&&Ve&&Ve.scroll},Be)):C.push(dt.fullPath,Be)),I.value=dt,Q(dt,Et,ze,Oe),Sn()}let H;function it(){H||(H=C.listen((dt,Et,ze)=>{if(!Sr.listening)return;const oo=J(dt),Be=ye(oo);if(Be){Pt(ps(Be,{replace:!0}),oo).catch(c5);return}q=oo;const ne=I.value;jC&&SU(TP(ne.fullPath,ze.delta),mN()),wn(oo,ne).catch(Oe=>D1(Oe,12)?Oe:D1(Oe,2)?(Pt(Oe.to,oo).then(Ve=>{D1(Ve,20)&&!ze.delta&&ze.type===w5.pop&&C.go(-1,!1)}).catch(c5),Promise.reject()):(ze.delta&&C.go(-ze.delta,!1),In(Oe,oo,ne))).then(Oe=>{Oe=Oe||nn(oo,ne,!1),Oe&&(ze.delta&&!D1(Oe,8)?C.go(-ze.delta,!1):ze.type===w5.pop&&D1(Oe,20)&&C.go(-1,!1)),Ke(oo,ne,Oe)}).catch(c5)}))}let kn=e5(),wt=e5(),cn;function In(dt,Et,ze){Sn(dt);const oo=wt.list();return oo.length?oo.forEach(Be=>Be(dt,Et,ze)):console.error(dt),Promise.reject(dt)}function pn(){return cn&&I.value!==K0?Promise.resolve():new Promise((dt,Et)=>{kn.add([dt,Et])})}function Sn(dt){return cn||(cn=!dt,it(),kn.list().forEach(([Et,ze])=>dt?ze(dt):Et()),kn.reset()),dt}function Q(dt,Et,ze,oo){const{scrollBehavior:Be}=a;if(!jC||!Be)return Promise.resolve();const ne=!ze&&EU(TP(dt.fullPath,0))||(oo||!ze)&&history.state&&history.state.scroll||null;return v5().then(()=>Be(dt,Et,ne)).then(Oe=>Oe&&kU(Oe)).catch(Oe=>In(Oe,dt,Et))}const xn=dt=>C.go(dt);let et;const _t=new Set,Sr={currentRoute:I,listening:!0,addRoute:ue,removeRoute:ke,hasRoute:me,getRoutes:xe,resolve:J,options:a,push:G,replace:Ae,go:xn,back:()=>xn(-1),forward:()=>xn(1),beforeEach:S.add,beforeResolve:M.add,afterEach:D.add,onError:wt.add,isReady:pn,install(dt){const Et=this;dt.component("RouterLink",uj),dt.component("RouterView",gj),dt.config.globalProperties.$router=Et,Object.defineProperty(dt.config.globalProperties,"$route",{enumerable:!0,get:()=>vo(I)}),jC&&!et&&I.value===K0&&(et=!0,G(C.location).catch(Be=>{}));const ze={};for(const Be in K0)ze[Be]=bo(()=>I.value[Be]);dt.provide(fN,Et),dt.provide(vB,fw(ze)),dt.provide(_R,I);const oo=dt.unmount;_t.add(dt),dt.unmount=function(){_t.delete(dt),_t.size<1&&(q=K0,H&&H(),H=null,I.value=K0,et=!1,cn=!1),oo()}}};function Ht(dt){return dt.reduce((Et,ze)=>Et.then(()=>qn(ze)),Promise.resolve())}return Sr}function hj(a,u){const p=[],b=[],C=[],S=Math.max(u.matched.length,a.matched.length);for(let M=0;M<S;M++){const D=u.matched[M];D&&(a.matched.find(q=>ok(q,D))?b.push(D):p.push(D));const I=a.matched[M];I&&(u.matched.find(q=>ok(q,I))||C.push(I))}return[p,b,C]}function kl(){return Dg(fN)}const vj={class:"fixed z-40 h-full"},bj={class:"sm:hidden"},yj={class:"border-b"},wj={key:0,class:"py-2"},xj={class:"text-center"},_j=Bc("\u2009 "),Cj={class:"flex justify-center gap-4"},kj=["title"],Sj=["title"],Ej=["title"],Oj=["onClick"],Tj={key:0,class:"pl-2"},Aj={class:"hidden sm:grid sm:grid-cols-2"},Nj=["onClick"],Mj={setup(a){const u=pD(),{isDisplayedMenu:p,isSmScreenMenu:b,menuSetting:C,menuPages:S}=sB(u),M=kl(),D=$o({onfocus:"bg-opacity-50 bg-blue-400",focusOut:"cursor-pointer hover:bg-blue-400 hover:bg-opacity-20"}),I=bo(()=>{let le=[];return S.value.forEach(ue=>{ue&&ue.isDisplayed&&le.push(ue)}),C.value.forEach(ue=>{ue&&ue.isDisplayed&&le.push(ue)}),le}),q=window.location.hash.slice(2),re=le=>{let ue=S.value.findIndex(ke=>ke.url==le);if(ue==-1)return console.warn("wrong url");S.value[ue].isFocus||(S.value.map(ke=>ke.isFocus=!1),S.value[ue].isFocus=!0,M.push(le),b.value&&(p.value=!1))};return(()=>re(q))(),(le,ue)=>{const ke=uc("font-awesome-icon");return Bt(),An("aside",vj,[Y("div",bj,[Y("article",yj,[vo(p)?(Bt(),An("div",wj,[Y("h2",xj,[Y("strong",null,Mt(le.$t("Menu.title")),1),_j,Y("small",null,Mt(le.$t("Menu.version")),1)]),Y("ul",Cj,[(Bt(!0),An(Pi,null,Ig(vo(C),(xe,me)=>(Bt(),An("li",{class:"cursor-pointer",key:"menuSetting"+me,title:le.$t(xe.key)},[ta(ke,{icon:xe.icon,onMouseover:J=>vo(u).menuSettingHover(xe.key,!0),onMouseleave:J=>vo(u).menuSettingHover(xe.key,!1),bounce:xe.bounce,spin:xe.spin,flip:xe.flip},null,8,["icon","onMouseover","onMouseleave","bounce","spin","flip"])],8,kj))),128))])])):(Bt(),An("div",{key:1,class:ea(["text-center py-2",[vo(p)?"":D.value.focusOut]]),title:le.$t(vo(C)[0].key)},[ta(ke,{icon:"fa-user",size:"lg"})],10,Sj))]),(Bt(!0),An(Pi,null,Ig(vo(S),(xe,me)=>(Bt(),An("article",{key:"page"+me,title:le.$t(xe.key)},[xe.isDisplayed?(Bt(),An("div",{key:0,class:ea(["py-2 rounded-sm",[[vo(p)?"px-4":"text-center"],[xe.isFocus?D.value.onfocus:D.value.focusOut]]]),onClick:J=>re(xe.url)},[ta(ke,{icon:xe.icon,size:xe.size},null,8,["icon","size"]),vo(p)?(Bt(),An("span",Tj,Mt(le.$t(xe.key)),1)):gs("",!0)],10,Oj)):gs("",!0)],8,Ej))),128))]),Y("div",Aj,[(Bt(!0),An(Pi,null,Ig(vo(I),(xe,me)=>(Bt(),An("article",{class:ea(["p-4 text-center rounded-sm",[xe.isFocus?D.value.onfocus:D.value.focusOut]]),key:"page"+me,onClick:J=>re(xe.url)},[Y("p",null,[ta(ke,{icon:xe.icon,size:"2xl"},null,8,["icon"])]),Y("p",null,Mt(le.$t(xe.key)),1)],10,Nj))),128))])])}}},Li=ub("popup",()=>{const a=$o({isPopup:!1,key:"",data:null});function u(b="",C=null,S=!0){a.value.key=b,a.value.data=C,a.value.isPopup=S}function p(){a.value.key="",a.value.data=null,a.value.isPopup=!1}return{popupInfos:a,popupFunction:u,$reset:p}}),vD=ub("storage",()=>{const a="Ism20230906_WebAdmin",u=function(){let I={local:{},session:{}},q=le=>!!(le&&typeof le=="object"&&!Array.isArray(le)),re=localStorage.getItem(a),fe=sessionStorage.getItem(a);if(re){let le=JSON.parse(re);q(le)&&(I.local=le)}if(fe){let le=JSON.parse(fe);q(le)&&(I.session=le)}return I}(),p=$o(u.local),b=$o(u.session);return{localStorageInfos:p,setLocalStorageData:(I="",q)=>{if(I){p.value[I]=q;let re=JSON.stringify(p.value);localStorage.setItem(a,re)}},removeLocalStorage:()=>{p.value={},localStorage.removeItem(a)},sessionStorageInfos:b,setSessionStorageData:(I="",q)=>{if(I){b.value[I]=q;let re=JSON.stringify(b.value);sessionStorage.setItem(a,re)}},removeSessionStorage:()=>{b.value={},sessionStorage.removeItem(a)}}}),gl=ub("globle",()=>{class a{constructor(){this.isTest=!1,this.pathName="",this.hostDomain=""}getPathName(){var re;let D="/web/BackEnd",q=(re=vD().localStorageInfos)==null?void 0:re.pathName;q&&(D=q),this.pathName=D}getHostDomain(){return this.isTest?this.hostDomain="192.168.123.20"+this.pathName:this.hostDomain=window.location.host+this.pathName}}const u=new a;u.getPathName(),u.getHostDomain();const p=$o({pathName:u.pathName,serverURL:u.hostDomain,token:"",adminId:"",pagesPermit:"",language:"zh"}),b=$o({imgs:{folder:"imgs",path:u.hostDomain+"/files/imgs"},files:{folder:"files",path:u.hostDomain+"/files/files"},getUrl:(M="",D="")=>{let I="";return M=="imgs"&&(I=b.value.imgs.path),M=="files"&&(I=b.value.files.path),`http://${I}/${D}`}});return{globleInfos:p,debug:M=>{window.location.href.search("debug=d8g")>0&&console.log(M)},fileFolderPath:b,changingUrlSetting:()=>{u.getPathName(),u.getHostDomain(),p.value.pathName=u.pathName,p.value.serverURL=u.hostDomain}}}),bD=ub("alert",()=>({saveSuccess:(S="en")=>{let M={zh:"\u5132\u5B58\u6210\u529F!",en:"Saved successfully!"},D=M[S]||M.en;return alert(D)},deleteSuccess:(S="en")=>{let M={zh:"\u522A\u9664\u6210\u529F!",en:"Deleted successfully!"},D=M[S]||M.en;return alert(D)},deleteConfirmed:(S="en",M="")=>{M&&(M=M+`
`);let D={zh:M+"\u78BA\u8A8D\u522A\u9664?",en:M+"Confirm delete?"},I=D[S]||D.en;return confirm(I)},updateConfirmed:(S="en",M="")=>{M&&(M=M+`
`);let D={zh:M+"\u78BA\u8A8D\u4FEE\u6539?",en:M+"Confirm update?"},I=D[S]||D.en;return confirm(I)},updatingServiceCenterCompanyMajorTitle:(S="en")=>{let M={zh:"\u6703\u66F4\u65B0\u524D\u53F0\u986F\u793A\u7684\u8CC7\u8A0A",en:"The information displayed on the front stage will be updated"};return M[S]||M.en}})),ate=ub("routeParams",()=>({route:$o({news:{isRefreshPage:!1},product:{currentPage:"list",category:{isRefreshPage:!1},list:{isRefreshPage:!1}},serviceCenters:{isRefreshPage:!1},banner:{isRefreshPage:!1},feedback:{isRefreshPage:!1},partners:{isRefreshPage:!1},about:{isRefreshPage:!1}})}));(function(){var a=function(t){if(t===null)return"null";if(t===void 0)return"undefined";var n=typeof t;return n==="object"&&(Array.prototype.isPrototypeOf(t)||t.constructor&&t.constructor.name==="Array")?"array":n==="object"&&(String.prototype.isPrototypeOf(t)||t.constructor&&t.constructor.name==="String")?"string":n},u=function(t){return{eq:t}},p=u(function(t,n){return t===n}),b=function(t){return u(function(n,o){if(n.length!==o.length)return!1;for(var s=n.length,l=0;l<s;l++)if(!t.eq(n[l],o[l]))return!1;return!0})},C=function(t){return u(function(n,o){var s=Object.keys(n),l=Object.keys(o);if(!function(y,_){return function(E,T){return u(function(P,V){return E.eq(T(P),T(V))})}(b(y),function(E){return function(T,P){return Array.prototype.slice.call(T).sort(P)}(E,_)})}(p).eq(s,l))return!1;for(var d=s.length,m=0;m<d;m++){var f=s[m];if(!t.eq(n[f],o[f]))return!1}return!0})},S=u(function(t,n){if(t===n)return!0;var o=a(t);return o===a(n)&&(function(s){return["undefined","boolean","number","string","function","xml","null"].indexOf(s)!==-1}(o)?t===n:o==="array"?b(S).eq(t,n):o==="object"&&C(S).eq(t,n))});const M=Object.getPrototypeOf,D=(t,n,o)=>{var s;return!!o(t,n.prototype)||((s=t.constructor)===null||s===void 0?void 0:s.name)===n.name},I=t=>n=>(o=>{const s=typeof o;return o===null?"null":s==="object"&&Array.isArray(o)?"array":s==="object"&&D(o,String,(l,d)=>d.isPrototypeOf(l))?"string":s})(n)===t,q=t=>n=>typeof n===t,re=t=>n=>t===n,fe=(t,n)=>ue(t)&&D(t,n,(o,s)=>M(o)===s),le=I("string"),ue=I("object"),ke=t=>fe(t,Object),xe=I("array"),me=re(null),J=q("boolean"),ae=re(void 0),De=t=>t==null,G=t=>!De(t),Ae=q("function"),ye=q("number"),Pt=(t,n)=>{if(xe(t)){for(let o=0,s=t.length;o<s;++o)if(!n(t[o]))return!1;return!0}return!1},Ft=()=>{},qn=(t,n)=>(...o)=>t(n.apply(null,o)),wn=(t,n)=>o=>t(n(o)),Ke=t=>()=>t,nn=t=>t,H=(t,n)=>t===n;function it(t,...n){return(...o)=>{const s=n.concat(o);return t.apply(null,s)}}const kn=t=>n=>!t(n),wt=t=>()=>{throw new Error(t)},cn=t=>t(),In=t=>{t()},pn=Ke(!1),Sn=Ke(!0);class Q{constructor(n,o){this.tag=n,this.value=o}static some(n){return new Q(!0,n)}static none(){return Q.singletonNone}fold(n,o){return this.tag?o(this.value):n()}isSome(){return this.tag}isNone(){return!this.tag}map(n){return this.tag?Q.some(n(this.value)):Q.none()}bind(n){return this.tag?n(this.value):Q.none()}exists(n){return this.tag&&n(this.value)}forall(n){return!this.tag||n(this.value)}filter(n){return!this.tag||n(this.value)?this:Q.none()}getOr(n){return this.tag?this.value:n}or(n){return this.tag?this:n}getOrThunk(n){return this.tag?this.value:n()}orThunk(n){return this.tag?this:n()}getOrDie(n){if(this.tag)return this.value;throw new Error(n!=null?n:"Called getOrDie on None")}static from(n){return G(n)?Q.some(n):Q.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(n){this.tag&&n(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}Q.singletonNone=new Q(!1);const xn=Array.prototype.slice,et=Array.prototype.indexOf,_t=Array.prototype.push,Sr=(t,n)=>et.call(t,n),Ht=(t,n)=>Sr(t,n)>-1,dt=(t,n)=>{for(let o=0,s=t.length;o<s;o++)if(n(t[o],o))return!0;return!1},Et=(t,n)=>{const o=t.length,s=new Array(o);for(let l=0;l<o;l++){const d=t[l];s[l]=n(d,l)}return s},ze=(t,n)=>{for(let o=0,s=t.length;o<s;o++)n(t[o],o)},oo=(t,n)=>{for(let o=t.length-1;o>=0;o--)n(t[o],o)},Be=(t,n)=>{const o=[],s=[];for(let l=0,d=t.length;l<d;l++){const m=t[l];(n(m,l)?o:s).push(m)}return{pass:o,fail:s}},ne=(t,n)=>{const o=[];for(let s=0,l=t.length;s<l;s++){const d=t[s];n(d,s)&&o.push(d)}return o},Oe=(t,n,o)=>(oo(t,(s,l)=>{o=n(o,s,l)}),o),Ve=(t,n,o)=>(ze(t,(s,l)=>{o=n(o,s,l)}),o),yt=(t,n,o)=>{for(let s=0,l=t.length;s<l;s++){const d=t[s];if(n(d,s))return Q.some(d);if(o(d,s))break}return Q.none()},Ct=(t,n)=>yt(t,n,pn),rn=(t,n)=>{for(let o=0,s=t.length;o<s;o++)if(n(t[o],o))return Q.some(o);return Q.none()},Un=t=>{const n=[];for(let o=0,s=t.length;o<s;++o){if(!xe(t[o]))throw new Error("Arr.flatten item "+o+" was not an array, input: "+t);_t.apply(n,t[o])}return n},En=(t,n)=>Un(Et(t,n)),hn=(t,n)=>{for(let o=0,s=t.length;o<s;++o)if(n(t[o],o)!==!0)return!1;return!0},Je=t=>{const n=xn.call(t,0);return n.reverse(),n},qt=(t,n)=>ne(t,o=>!Ht(n,o)),Hn=(t,n)=>{const o={};for(let s=0,l=t.length;s<l;s++){const d=t[s];o[String(d)]=n(d,s)}return o},Dn=(t,n)=>{const o=xn.call(t,0);return o.sort(n),o},Uo=(t,n)=>n>=0&&n<t.length?Q.some(t[n]):Q.none(),Xn=t=>Uo(t,0),so=t=>Uo(t,t.length-1),So=Ae(Array.from)?Array.from:t=>xn.call(t),Rr=(t,n)=>{for(let o=0;o<t.length;o++){const s=n(t[o],o);if(s.isSome())return s}return Q.none()},ur=Object.keys,vs=Object.hasOwnProperty,ut=(t,n)=>{const o=ur(t);for(let s=0,l=o.length;s<l;s++){const d=o[s];n(t[d],d)}},rt=(t,n)=>Ot(t,(o,s)=>({k:s,v:n(o,s)})),Ot=(t,n)=>{const o={};return ut(t,(s,l)=>{const d=n(s,l);o[d.k]=d.v}),o},Ze=t=>(n,o)=>{t[o]=n},Lt=(t,n,o,s)=>{ut(t,(l,d)=>{(n(l,d)?o:s)(l,d)})},ho=(t,n)=>{const o={};return Lt(t,n,Ze(o),Ft),o},io=(t,n)=>{const o=[];return ut(t,(s,l)=>{o.push(n(s,l))}),o},Dt=t=>io(t,nn),Zt=(t,n)=>fn(t,n)?Q.from(t[n]):Q.none(),fn=(t,n)=>vs.call(t,n),dr=(t,n)=>fn(t,n)&&t[n]!==void 0&&t[n]!==null,$n=t=>{const n={};return ze(t,o=>{n[o]={}}),ur(n)},Ar=t=>t.length!==void 0,xr=Array.isArray,Dr=(t,n,o)=>{if(!t)return!1;if(o=o||t,Ar(t)){for(let s=0,l=t.length;s<l;s++)if(n.call(o,t[s],s,t)===!1)return!1}else for(const s in t)if(fn(t,s)&&n.call(o,t[s],s,t)===!1)return!1;return!0},Xr=(t,n)=>{const o=[];return Dr(t,(s,l)=>{o.push(n(s,l,t))}),o},zr=(t,n)=>{const o=[];return Dr(t,(s,l)=>{n&&!n(s,l,t)||o.push(s)}),o},bs=(t,n,o,s)=>{let l=ae(o)?t[0]:o;for(let d=0;d<t.length;d++)l=n.call(s,l,t[d],d);return l},Ys=(t,n,o)=>{for(let s=0,l=t.length;s<l;s++)if(n.call(o,t[s],s,t))return s;return-1},Bs=t=>t[t.length-1],Bi=t=>{let n,o=!1;return(...s)=>(o||(o=!0,n=t.apply(null,s)),n)},Ra=()=>wi(0,0),wi=(t,n)=>({major:t,minor:n}),Pe={nu:wi,detect:(t,n)=>{const o=String(n).toLowerCase();return t.length===0?Ra():((s,l)=>{const d=((f,y)=>{for(let _=0;_<f.length;_++){const E=f[_];if(E.test(y))return E}})(s,l);if(!d)return{major:0,minor:0};const m=f=>Number(l.replace(d,"$"+f));return wi(m(1),m(2))})(t,o)},unknown:Ra},ot=(t,n)=>{const o=String(n).toLowerCase();return Ct(t,s=>s.search(o))},It=(t,n,o)=>n===""||t.length>=n.length&&t.substr(o,o+n.length)===n,Tt=(t,n)=>Rn(t,n)?((o,s)=>o.substring(s))(t,n.length):t,Cn=(t,n,o=0,s)=>{const l=t.indexOf(n,o);return l!==-1&&(!!ae(s)||l+n.length<=s)},Rn=(t,n)=>It(t,n,0),On=(t,n)=>It(t,n,t.length-n.length),To=t=>n=>n.replace(t,""),Qn=To(/^\s+|\s+$/g),fr=To(/^\s+/g),Ir=To(/\s+$/g),mr=t=>t.length>0,Jo=t=>!mr(t),ma=(t,n=10)=>{const o=parseInt(t,n);return isNaN(o)?Q.none():Q.some(o)},cs=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Mo=t=>n=>Cn(n,t),Ne=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:t=>Cn(t,"edge/")&&Cn(t,"chrome")&&Cn(t,"safari")&&Cn(t,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,cs],search:t=>Cn(t,"chrome")&&!Cn(t,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:t=>Cn(t,"msie")||Cn(t,"trident")},{name:"Opera",versionRegexes:[cs,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Mo("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Mo("firefox")},{name:"Safari",versionRegexes:[cs,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:t=>(Cn(t,"safari")||Cn(t,"mobile/"))&&Cn(t,"applewebkit")}],$e=[{name:"Windows",search:Mo("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:t=>Cn(t,"iphone")||Cn(t,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Mo("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:Mo("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Mo("linux"),versionRegexes:[]},{name:"Solaris",search:Mo("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Mo("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:Mo("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],vt={browsers:Ke(Ne),oses:Ke($e)},en="Edge",Yt="Chromium",dn="Opera",Eo="Firefox",go="Safari",Lo=t=>{const n=t.current,o=t.version,s=l=>()=>n===l;return{current:n,version:o,isEdge:s(en),isChromium:s(Yt),isIE:s("IE"),isOpera:s(dn),isFirefox:s(Eo),isSafari:s(go)}},ir=()=>Lo({current:void 0,version:Pe.unknown()}),Er=Lo,Qo="Windows",qr="Android",Ms="Linux",Xs="macOS",Hl="Solaris",ka="FreeBSD",Sa="ChromeOS",ys=t=>{const n=t.current,o=t.version,s=l=>()=>n===l;return{current:n,version:o,isWindows:s(Qo),isiOS:s("iOS"),isAndroid:s(qr),isMacOS:s(Xs),isLinux:s(Ms),isSolaris:s(Hl),isFreeBSD:s(ka),isChromeOS:s(Sa)}},ya=()=>ys({current:void 0,version:Pe.unknown()}),Fs=ys,Hs=t=>window.matchMedia(t).matches;let kf=Bi(()=>((t,n,o)=>{const s=vt.browsers(),l=vt.oses(),d=n.bind(y=>((_,E)=>Rr(E.brands,T=>{const P=T.brand.toLowerCase();return Ct(_,V=>{var B;return P===((B=V.brand)===null||B===void 0?void 0:B.toLowerCase())}).map(V=>({current:V.name,version:Pe.nu(parseInt(T.version,10),0)}))}))(s,y)).orThunk(()=>((y,_)=>ot(y,_).map(E=>{const T=Pe.detect(E.versionRegexes,_);return{current:E.name,version:T}}))(s,t)).fold(ir,Er),m=((y,_)=>ot(y,_).map(E=>{const T=Pe.detect(E.versionRegexes,_);return{current:E.name,version:T}}))(l,t).fold(ya,Fs),f=((y,_,E,T)=>{const P=y.isiOS()&&/ipad/i.test(E)===!0,V=y.isiOS()&&!P,B=y.isiOS()||y.isAndroid(),Z=B||T("(pointer:coarse)"),z=P||!V&&B&&T("(min-device-width:768px)"),W=V||B&&!z,te=_.isSafari()&&y.isiOS()&&/safari/i.test(E)===!1,se=!W&&!z&&!te;return{isiPad:Ke(P),isiPhone:Ke(V),isTablet:Ke(z),isPhone:Ke(W),isTouch:Ke(Z),isAndroid:y.isAndroid,isiOS:y.isiOS,isWebView:Ke(te),isDesktop:Ke(se)}})(m,d,t,o);return{browser:d,os:m,deviceType:f}})(navigator.userAgent,Q.from(navigator.userAgentData),Hs));const zl=()=>kf(),yo=navigator.userAgent,Sf=zl(),wa=Sf.browser,qa=Sf.os,lu=Sf.deviceType,xa=yo.indexOf("Windows Phone")!==-1,_r={transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",documentMode:wa.isIE()?document.documentMode||7:10,cacheSuffix:null,container:null,canHaveCSP:!wa.isIE(),windowsPhone:xa,browser:{current:wa.current,version:wa.version,isChromium:wa.isChromium,isEdge:wa.isEdge,isFirefox:wa.isFirefox,isIE:wa.isIE,isOpera:wa.isOpera,isSafari:wa.isSafari},os:{current:qa.current,version:qa.version,isAndroid:qa.isAndroid,isChromeOS:qa.isChromeOS,isFreeBSD:qa.isFreeBSD,isiOS:qa.isiOS,isLinux:qa.isLinux,isMacOS:qa.isMacOS,isSolaris:qa.isSolaris,isWindows:qa.isWindows},deviceType:{isDesktop:lu.isDesktop,isiPad:lu.isiPad,isiPhone:lu.isiPhone,isPhone:lu.isPhone,isTablet:lu.isTablet,isTouch:lu.isTouch,isWebView:lu.isWebView}},Rs=/^\s*|\s*$/g,Do=t=>De(t)?"":(""+t).replace(Rs,""),Sl=function(t,n,o,s){s=s||this,t&&(o&&(t=t[o]),Dr(t,(l,d)=>n.call(s,l,d,o)!==!1&&(Sl(l,n,o,s),!0)))},an={trim:Do,isArray:xr,is:(t,n)=>n?!(n!=="array"||!xr(t))||typeof t===n:t!==void 0,toArray:t=>{if(xr(t))return t;{const n=[];for(let o=0,s=t.length;o<s;o++)n[o]=t[o];return n}},makeMap:(t,n,o={})=>{const s=le(t)?t.split(n||","):t||[];let l=s.length;for(;l--;)o[s[l]]={};return o},each:Dr,map:Xr,grep:zr,inArray:(t,n)=>{if(t){for(let o=0,s=t.length;o<s;o++)if(t[o]===n)return o}return-1},hasOwn:fn,extend:(t,...n)=>{for(let o=0;o<n.length;o++){const s=n[o];for(const l in s)if(fn(s,l)){const d=s[l];d!==void 0&&(t[l]=d)}}return t},walk:Sl,resolve:(t,n=window)=>{const o=t.split(".");for(let s=0,l=o.length;s<l&&(n=n[o[s]]);s++);return n},explode:(t,n)=>xe(t)?t:t===""?[]:Xr(t.split(n||","),Do),_addCacheSuffix:t=>{const n=_r.cacheSuffix;return n&&(t+=(t.indexOf("?")===-1?"?":"&")+n),t}},Fa=(t,n,o=H)=>t.exists(s=>o(s,n)),Ka=(t,n,o)=>t.isSome()&&n.isSome()?Q.some(o(t.getOrDie(),n.getOrDie())):Q.none(),Kr=(t,n)=>t?Q.some(n):Q.none(),Ef=typeof window!="undefined"?window:Function("return this;")(),wm=(t,n)=>((o,s)=>{let l=s!=null?s:Ef;for(let d=0;d<o.length&&l!=null;++d)l=l[o[d]];return l})(t.split("."),n),Zr=Object.getPrototypeOf,Lu=t=>{const n=wm("ownerDocument.defaultView",t);return ue(t)&&((o=>((s,l)=>{const d=((m,f)=>wm(m,f))(s,l);if(d==null)throw new Error(s+" not available on this browser");return d})("HTMLElement",o))(n).prototype.isPrototypeOf(t)||/^HTML\w*Element$/.test(Zr(t).constructor.name))},Jr=t=>t.dom.nodeName.toLowerCase(),xm=t=>t.dom.nodeType,Ha=t=>n=>xm(n)===t,dc=t=>xi(t)&&Lu(t.dom),xi=Ha(1),vr=Ha(3),Bu=Ha(9),za=Ha(11),Fu=t=>n=>xi(n)&&Jr(n)===t,Hu=(t,n,o)=>{if(!(le(o)||J(o)||ye(o)))throw console.error("Invalid call to Attribute.set. Key ",n,":: Value ",o,":: Element ",t),new Error("Attribute value was not simple");t.setAttribute(n,o+"")},Yr=(t,n,o)=>{Hu(t.dom,n,o)},el=(t,n)=>{const o=t.dom;ut(n,(s,l)=>{Hu(o,l,s)})},ws=(t,n)=>{const o=t.dom.getAttribute(n);return o===null?void 0:o},Fi=(t,n)=>Q.from(ws(t,n)),kd=(t,n)=>{const o=t.dom;return!(!o||!o.hasAttribute)&&o.hasAttribute(n)},Da=(t,n)=>{t.dom.removeAttribute(n)},Sd=t=>Ve(t.dom.attributes,(n,o)=>(n[o.name]=o.value,n),{}),_m=(t,n)=>{const o=ws(t,n);return o===void 0||o===""?[]:o.split(" ")},Hi=t=>t.dom.classList!==void 0,Vl=t=>_m(t,"class"),Lg=(t,n)=>((o,s,l)=>{const d=_m(o,s).concat([l]);return Yr(o,s,d.join(" ")),!0})(t,"class",n),oh=(t,n)=>((o,s,l)=>{const d=ne(_m(o,s),m=>m!==l);return d.length>0?Yr(o,s,d.join(" ")):Da(o,s),!1})(t,"class",n),Ed=(t,n)=>{Hi(t)?t.dom.classList.add(n):Lg(t,n)},Bg=t=>{(Hi(t)?t.dom.classList:Vl(t)).length===0&&Da(t,"class")},Od=(t,n)=>{Hi(t)?t.dom.classList.remove(n):oh(t,n),Bg(t)},Fg=(t,n)=>Hi(t)&&t.dom.classList.contains(n),Td=t=>{if(t==null)throw new Error("Node cannot be null or undefined");return{dom:t}},Cm=(t,n)=>{const o=(n||document).createElement("div");if(o.innerHTML=t,!o.hasChildNodes()||o.childNodes.length>1){const s="HTML does not have a single root node";throw console.error(s,t),new Error(s)}return Td(o.childNodes[0])},us=(t,n)=>{const o=(n||document).createElement(t);return Td(o)},Fc=(t,n)=>{const o=(n||document).createTextNode(t);return Td(o)},Ue=Td,km=(t,n,o)=>Q.from(t.dom.elementFromPoint(n,o)).map(Td),Sm=(t,n)=>{const o=[],s=d=>(o.push(d),n(d));let l=n(t);do l=l.bind(s);while(l.isSome());return o},tl=(t,n)=>{const o=t.dom;if(o.nodeType!==1)return!1;{const s=o;if(s.matches!==void 0)return s.matches(n);if(s.msMatchesSelector!==void 0)return s.msMatchesSelector(n);if(s.webkitMatchesSelector!==void 0)return s.webkitMatchesSelector(n);if(s.mozMatchesSelector!==void 0)return s.mozMatchesSelector(n);throw new Error("Browser lacks native selectors")}},Of=t=>t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11||t.childElementCount===0,Ur=(t,n)=>t.dom===n.dom,Hc=(t,n)=>{const o=t.dom,s=n.dom;return o!==s&&o.contains(s)},rh=t=>Ue(t.dom.ownerDocument),mc=t=>Bu(t)?t:rh(t),Ad=t=>Ue(mc(t).dom.defaultView),pl=t=>Q.from(t.dom.parentNode).map(Ue),Hg=t=>Q.from(t.dom.parentElement).map(Ue),W1=(t,n)=>{const o=Ae(n)?n:pn;let s=t.dom;const l=[];for(;s.parentNode!==null&&s.parentNode!==void 0;){const d=s.parentNode,m=Ue(d);if(l.push(m),o(m)===!0)break;s=d}return l},nl=t=>Q.from(t.dom.previousSibling).map(Ue),zu=t=>Q.from(t.dom.nextSibling).map(Ue),Vu=t=>Je(Sm(t,nl)),zg=t=>Sm(t,zu),fa=t=>Et(t.dom.childNodes,Ue),$u=(t,n)=>{const o=t.dom.childNodes;return Q.from(o[n]).map(Ue)},Tf=t=>$u(t,0),zi=t=>$u(t,t.dom.childNodes.length-1),Uu=t=>t.dom.childNodes.length,fc=t=>za(t)&&G(t.dom.host),$l=Ae(Element.prototype.attachShadow)&&Ae(Node.prototype.getRootNode),ts=Ke($l),ns=$l?t=>Ue(t.dom.getRootNode()):mc,ol=t=>fc(t)?t:(n=>{const o=n.dom.head;if(o==null)throw new Error("Head is not available yet");return Ue(o)})(mc(t)),zs=t=>Ue(t.dom.host),Em=t=>{if(ts()&&G(t.target)){const n=Ue(t.target);if(xi(n)&&Af(n)&&t.composed&&t.composedPath){const o=t.composedPath();if(o)return Xn(o)}}return Q.from(t.target)},Af=t=>G(t.dom.shadowRoot),Om=t=>{const n=vr(t)?t.dom.parentNode:t.dom;if(n==null||n.ownerDocument===null)return!1;const o=n.ownerDocument;return(s=>{const l=ns(s);return fc(l)?Q.some(l):Q.none()})(Ue(n)).fold(()=>o.body.contains(n),wn(Om,zs))};var zc=(t,n,o,s,l)=>t(o,s)?Q.some(o):Ae(l)&&l(o)?Q.none():n(o,s,l);const ga=(t,n,o)=>{let s=t.dom;const l=Ae(o)?o:pn;for(;s.parentNode;){s=s.parentNode;const d=Ue(s);if(n(d))return Q.some(d);if(l(d))break}return Q.none()},os=(t,n,o)=>zc((s,l)=>l(s),ga,t,n,o),Ul=(t,n,o)=>ga(t,s=>tl(s,n),o),xs=(t,n)=>((o,s)=>{const l=s===void 0?document:s.dom;return Of(l)?Q.none():Q.from(l.querySelector(o)).map(Ue)})(n,t),Ya=(t,n,o)=>zc((s,l)=>tl(s,l),Ul,t,n,o),El=(t,n=!1)=>{return Om(t)?t.dom.isContentEditable:(o=t,Ya(o,"[contenteditable]")).fold(Ke(n),s=>Tm(s)==="true");var o},Tm=t=>t.dom.contentEditable,Nd=t=>t.style!==void 0&&Ae(t.style.getPropertyValue),sr=(t,n,o)=>{if(!le(o))throw console.error("Invalid call to CSS.set. Property ",n,":: Value ",o,":: Element ",t),new Error("CSS value must be a string: "+o);Nd(t)&&t.style.setProperty(n,o)},_i=(t,n,o)=>{const s=t.dom;sr(s,n,o)},Vc=(t,n)=>{const o=t.dom;ut(n,(s,l)=>{sr(o,l,s)})},jl=(t,n)=>{const o=t.dom,s=window.getComputedStyle(o).getPropertyValue(n);return s!==""||Om(t)?s:Nf(o,n)},Nf=(t,n)=>Nd(t)?t.style.getPropertyValue(n):"",Zl=(t,n)=>{const o=t.dom,s=Nf(o,n);return Q.from(s).filter(l=>l.length>0)},cu=t=>{const n={},o=t.dom;if(Nd(o))for(let s=0;s<o.style.length;s++){const l=o.style.item(s);n[l]=o.style[l]}return n},ah=(t,n)=>{((o,s)=>{Nd(o)&&o.style.removeProperty(s)})(t.dom,n),Fa(Fi(t,"style").map(Qn),"")&&Da(t,"style")},Vi=(t,n)=>{pl(t).each(o=>{o.dom.insertBefore(n.dom,t.dom)})},hl=(t,n)=>{zu(t).fold(()=>{pl(t).each(o=>{lr(o,n)})},o=>{Vi(o,n)})},ju=(t,n)=>{Tf(t).fold(()=>{lr(t,n)},o=>{t.dom.insertBefore(n.dom,o.dom)})},lr=(t,n)=>{t.dom.appendChild(n.dom)},Mf=(t,n)=>{Vi(t,n),lr(n,t)},X=(t,n)=>{ze(n,o=>{lr(t,o)})},de=t=>{t.dom.textContent="",ze(fa(t),n=>{ce(n)})},ce=t=>{const n=t.dom;n.parentNode!==null&&n.parentNode.removeChild(n)},_e=t=>{const n=fa(t);var o,s;n.length>0&&(o=t,ze(s=n,(l,d)=>{const m=d===0?o:s[d-1];hl(m,l)})),ce(t)},nt=t=>Et(t,Ue),at=t=>t.dom.innerHTML,zt=(t,n)=>{const o=rh(t).dom,s=Ue(o.createDocumentFragment()),l=((d,m)=>{const f=(m||document).createElement("div");return f.innerHTML=d,fa(Ue(f))})(n,o);X(s,l),de(t),lr(t,s)},mn=(t,n,o,s)=>((l,d,m,f,y)=>{const _=((E,T)=>P=>{E(P)&&T((V=>{const B=Ue(Em(V).getOr(V.target)),Z=()=>V.stopPropagation(),z=()=>V.preventDefault(),W=qn(z,Z);return((te,se,be,Ce,Ie,je,st)=>({target:te,x:se,y:be,stop:Ce,prevent:Ie,kill:je,raw:st}))(B,V.clientX,V.clientY,Z,z,W,V)})(P))})(m,f);return l.dom.addEventListener(d,_,!1),{unbind:it(sn,l,d,_,!1)}})(t,n,o,s),sn=(t,n,o,s)=>{t.dom.removeEventListener(n,o,s)},un=(t,n)=>({left:t,top:n,translate:(o,s)=>un(t+o,n+s)}),Bn=un,Kn=(t,n)=>t!==void 0?t:n!==void 0?n:0,cr=t=>{const n=t.dom,o=n.ownerDocument.body;return o===n?Bn(o.offsetLeft,o.offsetTop):Om(t)?(s=>{const l=s.getBoundingClientRect();return Bn(l.left,l.top)})(n):Bn(0,0)},Jt=t=>{const n=t!==void 0?t.dom:document,o=n.body.scrollLeft||n.documentElement.scrollLeft,s=n.body.scrollTop||n.documentElement.scrollTop;return Bn(o,s)},Bo=(t,n)=>{zl().browser.isSafari()&&Ae(t.dom.scrollIntoViewIfNeeded)?t.dom.scrollIntoViewIfNeeded(!1):t.dom.scrollIntoView(n)},Or=(t,n,o,s)=>({x:t,y:n,width:o,height:s,right:t+o,bottom:n+s}),no=t=>{const n=t===void 0?window:t,o=n.document,s=Jt(Ue(o));return(l=>{const d=l===void 0?window:l;return zl().browser.isFirefox()?Q.none():Q.from(d.visualViewport)})(n).fold(()=>{const l=n.document.documentElement,d=l.clientWidth,m=l.clientHeight;return Or(s.left,s.top,d,m)},l=>Or(Math.max(l.pageLeft,s.left),Math.max(l.pageTop,s.top),l.width,l.height))},Go=(t,n)=>{let o=[];return ze(fa(t),s=>{n(s)&&(o=o.concat([s])),o=o.concat(Go(s,n))}),o},Jn=(t,n)=>((o,s)=>{const l=s===void 0?document:s.dom;return Of(l)?[]:Et(l.querySelectorAll(o),Ue)})(n,t),Cr=(t,n,o)=>Ul(t,n,o).isSome();class qo{constructor(n,o){this.node=n,this.rootNode=o,this.current=this.current.bind(this),this.next=this.next.bind(this),this.prev=this.prev.bind(this),this.prev2=this.prev2.bind(this)}current(){return this.node}next(n){return this.node=this.findSibling(this.node,"firstChild","nextSibling",n),this.node}prev(n){return this.node=this.findSibling(this.node,"lastChild","previousSibling",n),this.node}prev2(n){return this.node=this.findPreviousNode(this.node,n),this.node}findSibling(n,o,s,l){if(n){if(!l&&n[o])return n[o];if(n!==this.rootNode){let d=n[s];if(d)return d;for(let m=n.parentNode;m&&m!==this.rootNode;m=m.parentNode)if(d=m[s],d)return d}}}findPreviousNode(n,o){if(n){const s=n.previousSibling;if(this.rootNode&&s===this.rootNode)return;if(s){if(!o){for(let d=s.lastChild;d;d=d.lastChild)if(!d.lastChild)return d}return s}const l=n.parentNode;if(l&&l!==this.rootNode)return l}}}const gr=t=>n=>!!n&&n.nodeType===t,Xa=t=>!!t&&!Object.getPrototypeOf(t),vn=gr(1),Js=t=>{const n=t.toLowerCase();return o=>G(o)&&o.nodeName.toLowerCase()===n},Na=t=>{const n=t.map(o=>o.toLowerCase());return o=>{if(o&&o.nodeName){const s=o.nodeName.toLowerCase();return Ht(n,s)}return!1}},rl=(t,n)=>{const o=n.toLowerCase().split(" ");return s=>{if(vn(s)){const l=s.ownerDocument.defaultView;if(l)for(let d=0;d<o.length;d++){const m=l.getComputedStyle(s,null);if((m?m.getPropertyValue(t):null)===o[d])return!0}}return!1}},Rf=t=>n=>vn(n)&&n.hasAttribute(t),gc=t=>vn(t)&&t.hasAttribute("data-mce-bogus"),na=t=>vn(t)&&t.tagName==="TABLE",pc=t=>n=>!!(vn(n)&&(n.contentEditable===t||n.getAttribute("data-mce-contenteditable")===t)),Ci=Na(["textarea","input"]),tn=gr(3),vl=gr(4),gw=gr(7),Ja=gr(8),Qs=gr(9),sh=gr(11),kt=Js("br"),al=Js("img"),$c=pc("true"),rr=pc("false"),hc=Na(["td","th"]),Ol=Na(["td","th","caption"]),$i=Na(["video","audio","object","embed"]),mb=Js("li"),ki=Js("details"),Vr=Js("summary"),Tl="\uFEFF",ds="\xA0",ei=t=>t===Tl,Vg=((t,n)=>{const o=s=>t(s)?Q.from(s.dom.nodeValue):Q.none();return{get:s=>{if(!t(s))throw new Error("Can only get text value of a text node");return o(s).getOr("")},getOption:o,set:(s,l)=>{if(!t(s))throw new Error("Can only set raw text value of a text node");s.dom.nodeValue=l}}})(vr),uu=t=>Vg.get(t),fb=t=>Vg.getOption(t),ti=["pre"].concat(["h1","h2","h3","h4","h5","h6"]),ct=t=>{let n;return o=>(n=n||Hn(t,Sn),fn(n,Jr(o)))},rs=ct(["article","aside","details","div","dt","figcaption","footer","form","fieldset","header","hgroup","html","main","nav","section","summary","body","p","dl","multicol","dd","figure","address","center","blockquote","h1","h2","h3","h4","h5","h6","listing","xmp","pre","plaintext","menu","dir","ul","ol","li","hr","table","tbody","thead","tfoot","th","tr","td","caption"]),Df=t=>xi(t)&&!rs(t),bl=t=>xi(t)&&Jr(t)==="br",Zu=ct(["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"]),Si=ct(["ul","ol","dl"]),Va=ct(["li","dd","dt"]),Am=ct(["thead","tbody","tfoot"]),Nm=ct(["td","th"]),uo=ct(["pre","script","textarea","style"]),Uc=ct(ti),If=t=>Uc(t)||Df(t),du=()=>{const t=us("br");return Yr(t,"data-mce-bogus","1"),t},Wu=t=>{de(t),lr(t,du())},Mm=t=>{zi(t).each(n=>{nl(n).each(o=>{rs(t)&&bl(n)&&rs(o)&&ce(n)})})},Vs=Tl,$g=ei,Gu=t=>t.replace(/\uFEFF/g,""),Pf=vn,Qa=tn,Al=t=>(Qa(t)&&(t=t.parentNode),Pf(t)&&t.hasAttribute("data-mce-caret")),vc=t=>Qa(t)&&$g(t.data),ni=t=>Al(t)||vc(t),Ug=t=>t.firstChild!==t.lastChild||!kt(t.firstChild),gi=t=>{const n=t.container();return!!tn(n)&&(n.data.charAt(t.offset())===Vs||t.isAtStart()&&vc(n.previousSibling))},qu=t=>{const n=t.container();return!!tn(n)&&(n.data.charAt(t.offset()-1)===Vs||t.isAtEnd()&&vc(n.nextSibling))},jg=t=>Qa(t)&&t.data[0]===Vs,Lf=t=>Qa(t)&&t.data[t.data.length-1]===Vs,mu=t=>t&&t.hasAttribute("data-mce-caret")?((n=>{var o;const s=n.getElementsByTagName("br"),l=s[s.length-1];gc(l)&&((o=l.parentNode)===null||o===void 0||o.removeChild(l))})(t),t.removeAttribute("data-mce-caret"),t.removeAttribute("data-mce-bogus"),t.removeAttribute("style"),t.removeAttribute("data-mce-style"),t.removeAttribute("_moz_abspos"),t):null,Md=t=>Al(t.startContainer),gb=$c,jc=rr,ih=kt,Rm=tn,Rd=Na(["script","style","textarea"]),bc=Na(["img","input","textarea","hr","iframe","video","audio","object","embed"]),Bf=Na(["table"]),Dm=ni,yc=t=>!Dm(t)&&(Rm(t)?!Rd(t.parentNode):bc(t)||ih(t)||Bf(t)||G1(t)),G1=t=>!(n=>vn(n)&&n.getAttribute("unselectable")==="true")(t)&&jc(t),Ia=(t,n)=>yc(t)&&((o,s)=>{for(let l=o.parentNode;l&&l!==s;l=l.parentNode){if(G1(l))return!1;if(gb(l))return!0}return!0})(t,n),fk=/^[ \t\r\n]*$/,Wl=t=>fk.test(t),q1=t=>{for(const n of t)if(!ei(n))return!1;return!0},lh=t=>t===`
`||t==="\r",Dd=(t,n=4,o=!0,s=!0)=>{const l=((f,y)=>y<=0?"":new Array(y+1).join(" "))(0,n),d=t.replace(/\t/g,l);return Ve(d,(f,y)=>(_=>" \f	\v".indexOf(_)!==-1)(y)||y===ds?f.pcIsSpace||f.str===""&&o||f.str.length===d.length-1&&s||((_,E)=>E<_.length&&E>=0&&lh(_[E]))(d,f.str.length+1)?{pcIsSpace:!1,str:f.str+ds}:{pcIsSpace:!0,str:f.str+" "}:{pcIsSpace:lh(y),str:f.str+y},{pcIsSpace:!1,str:""}).str},sl=(t,n)=>yc(t)&&!((o,s)=>tn(o)&&Wl(o.data)&&!((l,d)=>{const m=Ue(d),f=Ue(l);return Cr(f,"pre,code",it(Ur,m))})(o,s))(t,n)||(o=>vn(o)&&o.nodeName==="A"&&!o.hasAttribute("href")&&(o.hasAttribute("name")||o.hasAttribute("id")))(t)||Ff(t),Ff=Rf("data-mce-bookmark"),Im=Rf("data-mce-bogus"),gk=t=>vn(t)&&t.getAttribute("data-mce-bogus")==="all",Ma=(t,n=!0)=>((o,s)=>{let l=0;if(sl(o,o))return!1;{let d=o.firstChild;if(!d)return!0;const m=new qo(d,o);do{if(s){if(gk(d)){d=m.next(!0);continue}if(Im(d)){d=m.next();continue}}if(kt(d))l++,d=m.next();else{if(sl(d,o))return!1;d=m.next()}}while(d);return l<=1}})(t.dom,n),Hf="data-mce-block",Zg=t=>(n=>ne(ur(n),o=>!/[A-Z]/.test(o)))(t).join(","),pb=(t,n)=>G(n.querySelector(t))?(n.setAttribute(Hf,"true"),n.getAttribute("data-mce-selected")==="inline-boundary"&&n.removeAttribute("data-mce-selected"),!0):(n.removeAttribute(Hf),!1),K1=(t,n)=>{const o=Zg(t.getTransparentElements()),s=Zg(t.getBlockElements());return ne(n.querySelectorAll(o),l=>pb(s,l))},Wg=(t,n)=>{var o;const s=n?"lastChild":"firstChild";for(let l=t[s];l;l=l[s])if(Ma(Ue(l)))return void((o=l.parentNode)===null||o===void 0||o.removeChild(l))},zf=(t,n,o)=>{const s=t.getBlockElements(),l=Ue(n),d=f=>Jr(f)in s,m=f=>Ur(f,l);ze(nt(o),f=>{ga(f,d,m).each(y=>{const _=((E,T)=>ne(fa(E),P=>d(P)&&!t.isValidChild(Jr(y),Jr(P))))(f);if(_.length>0){const E=Hg(y);ze(_,T=>{ga(T,d,m).each(P=>{((V,B)=>{const Z=document.createRange(),z=V.parentNode;if(z){Z.setStartBefore(V),Z.setEndBefore(B);const W=Z.extractContents();Wg(W,!0),Z.setStartAfter(B),Z.setEndAfter(V);const te=Z.extractContents();Wg(te,!1),Ma(Ue(W))||z.insertBefore(W,V),Ma(Ue(B))||z.insertBefore(B,V),Ma(Ue(te))||z.insertBefore(te,V),z.removeChild(V)}})(P.dom,T.dom)})}),E.each(T=>K1(t,T.dom))}})})},Gl=(t,n)=>{const o=K1(t,n);zf(t,n,o),((s,l,d)=>{ze([...d,...Ku(s,l)?[l]:[]],m=>ze(Jn(Ue(m),m.nodeName.toLowerCase()),f=>{pw(s,f.dom)&&_e(f)}))})(t,n,o)},Vf=(t,n)=>{if(Y1(t,n)){const o=Zg(t.getBlockElements());pb(o,n)}},Pm=t=>t.hasAttribute(Hf),Gg=(t,n)=>fn(t.getTransparentElements(),n),Y1=(t,n)=>vn(n)&&Gg(t,n.nodeName),Ku=(t,n)=>Y1(t,n)&&Pm(n),pw=(t,n)=>Y1(t,n)&&!Pm(n),hb=(t,n)=>n.type===1&&Gg(t,n.name)&&le(n.attr(Hf)),ch=zl().browser,uh=t=>Ct(t,xi),qg=(t,n)=>t.children&&Ht(t.children,n),Pr=(t,n={})=>{let o=0;const s={},l=Ue(t),d=mc(l),m=y=>new Promise((_,E)=>{let T;const P=an._addCacheSuffix(y),V=(se=>Zt(s,se).getOrThunk(()=>({id:"mce-u"+o++,passed:[],failed:[],count:0})))(P);s[P]=V,V.count++;const B=(se,be)=>{ze(se,In),V.status=be,V.passed=[],V.failed=[],T&&(T.onload=null,T.onerror=null,T=null)},Z=()=>B(V.passed,2),z=()=>B(V.failed,3);if(_&&V.passed.push(_),E&&V.failed.push(E),V.status===1)return;if(V.status===2)return void Z();if(V.status===3)return void z();V.status=1;const W=us("link",d.dom);var te;el(W,{rel:"stylesheet",type:"text/css",id:V.id}),n.contentCssCors&&Yr(W,"crossOrigin","anonymous"),n.referrerPolicy&&Yr(W,"referrerpolicy",n.referrerPolicy),T=W.dom,T.onload=Z,T.onerror=z,te=W,lr(ol(l),te),Yr(W,"href",P)}),f=y=>{const _=an._addCacheSuffix(y);Zt(s,_).each(E=>{--E.count==0&&(delete s[_],(T=>{const P=ol(l);xs(P,"#"+T).each(ce)})(E.id))})};return{load:m,loadAll:y=>Promise.allSettled(Et(y,_=>m(_).then(Ke(_)))).then(_=>{const E=Be(_,T=>T.status==="fulfilled");return E.fail.length>0?Promise.reject(Et(E.fail,T=>T.reason)):Et(E.pass,T=>T.value)}),unload:f,unloadAll:y=>{ze(y,_=>{f(_)})},_setReferrerPolicy:y=>{n.referrerPolicy=y},_setContentCssCors:y=>{n.contentCssCors=y}}},eo=(()=>{const t=new WeakMap;return{forElement:(n,o)=>{const s=ns(n).dom;return Q.from(t.get(s)).getOrThunk(()=>{const l=Pr(s,o);return t.set(s,l),l})}}})(),fu=(t,n)=>G(t)&&(sl(t,n)||Df(Ue(t))),dh=t=>(n=>n.nodeName.toLowerCase()==="span")(t)&&t.getAttribute("data-mce-type")==="bookmark",mh=(t,n,o)=>{var s;const l=o||n;if(vn(n)&&dh(n))return n;const d=n.childNodes;for(let m=d.length-1;m>=0;m--)mh(t,d[m],l);if(vn(n)){const m=n.childNodes;m.length===1&&dh(m[0])&&((s=n.parentNode)===null||s===void 0||s.insertBefore(m[0],n))}return(m=>sh(m)||Qs(m))(n)||sl(n,l)||(m=>!!vn(m)&&m.childNodes.length>0)(n)||((m,f)=>tn(m)&&m.data.length>0&&((y,_)=>{const E=new qo(y,_).prev(!1),T=new qo(y,_).next(!1),P=ae(E)||fu(E,_),V=ae(T)||fu(T,_);return P&&V})(m,f))(n,l)||t.remove(n),n},X1=an.makeMap,Nr=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,fh=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Kg=/[<>&\"\']/g,jt=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,J1={128:"\u20AC",130:"\u201A",131:"\u0192",132:"\u201E",133:"\u2026",134:"\u2020",135:"\u2021",136:"\u02C6",137:"\u2030",138:"\u0160",139:"\u2039",140:"\u0152",142:"\u017D",145:"\u2018",146:"\u2019",147:"\u201C",148:"\u201D",149:"\u2022",150:"\u2013",151:"\u2014",152:"\u02DC",153:"\u2122",154:"\u0161",155:"\u203A",156:"\u0153",158:"\u017E",159:"\u0178"},gu={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},Yg={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},Q1=(t,n)=>{const o={};if(t){const s=t.split(",");n=n||10;for(let l=0;l<s.length;l+=2){const d=String.fromCharCode(parseInt(s[l],n));if(!gu[d]){const m="&"+s[l+1]+";";o[d]=m,o[m]=d}}return o}},Id=Q1("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),gh=(t,n)=>t.replace(n?Nr:fh,o=>gu[o]||o),Lm=(t,n)=>t.replace(n?Nr:fh,o=>o.length>1?"&#"+(1024*(o.charCodeAt(0)-55296)+(o.charCodeAt(1)-56320)+65536)+";":gu[o]||"&#"+o.charCodeAt(0)+";"),ia=(t,n,o)=>{const s=o||Id;return t.replace(n?Nr:fh,l=>gu[l]||s[l]||l)},pi={encodeRaw:gh,encodeAllRaw:t=>(""+t).replace(Kg,n=>gu[n]||n),encodeNumeric:Lm,encodeNamed:ia,getEncodeFunc:(t,n)=>{const o=Q1(n)||Id,s=X1(t.replace(/\+/g,","));return s.named&&s.numeric?(l,d)=>l.replace(d?Nr:fh,m=>gu[m]!==void 0?gu[m]:o[m]!==void 0?o[m]:m.length>1?"&#"+(1024*(m.charCodeAt(0)-55296)+(m.charCodeAt(1)-56320)+65536)+";":"&#"+m.charCodeAt(0)+";"):s.named?n?(l,d)=>ia(l,d,o):ia:s.numeric?Lm:gh},decode:t=>t.replace(jt,(n,o)=>o?(o=o.charAt(0).toLowerCase()==="x"?parseInt(o.substr(1),16):parseInt(o,10))>65535?(o-=65536,String.fromCharCode(55296+(o>>10),56320+(1023&o))):J1[o]||String.fromCharCode(o):Yg[n]||Id[n]||(s=>{const l=us("div").dom;return l.innerHTML=s,l.textContent||l.innerText||s})(n))},ev={},wc={},ph={},xc=an.makeMap,oi=an.each,_c=an.extend,hw=an.explode,vb=an.inArray,ri=(t,n)=>(t=an.trim(t))?t.split(n||" "):[],hh=(t,n={})=>{const o=xc(t," ",xc(t.toUpperCase()," "));return _c(o,n)},Gn=t=>hh("td th li dt dd figcaption caption details summary",t.getTextBlockElements()),tv=(t,n)=>{if(t){const o={};return le(t)&&(t={"*":t}),oi(t,(s,l)=>{o[l]=o[l.toUpperCase()]=n==="map"?xc(s,/[, ]/):hw(s,/[, ]/)}),o}},Pd=(t={})=>{var n;const o={},s={};let l=[];const d={},m={},f=($t,yn,ao)=>{const Wn=t[$t];if(Wn)return xc(Wn,/[, ]/,xc(Wn.toUpperCase(),/[, ]/));{let xo=wc[$t];return xo||(xo=hh(yn,ao),wc[$t]=xo),xo}},y=(n=t.schema)!==null&&n!==void 0?n:"html5",_=($t=>{const yn={};let ao,Wn,xo,Io;const jn=(Ks,Za="",oc="")=>{const Bl=ri(oc),Ou=ri(Ks);let Tu=Ou.length;for(;Tu--;){const bi=ri([ao,Za].join(" "));yn[Ou[Tu]]={attributes:Hn(bi,()=>({})),attributesOrder:bi,children:Hn(Bl,Ke(ph))}}},nr=(Ks,Za)=>{const oc=ri(Ks),Bl=ri(Za);let Ou=oc.length;for(;Ou--;){const Tu=yn[oc[Ou]];for(let bi=0,Dc=Bl.length;bi<Dc;bi++)Tu.attributes[Bl[bi]]={},Tu.attributesOrder.push(Bl[bi])}};if(ev[$t])return ev[$t];if(ao="id accesskey class dir lang style tabindex title role",Wn="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",xo="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment",$t!=="html4"&&(ao+=" contenteditable contextmenu draggable dropzone hidden spellcheck translate",Wn+=" article aside details dialog figure main header footer hgroup section nav a ins del canvas map",xo+=" audio canvas command datalist mark meter output picture progress time wbr video ruby bdi keygen"),$t!=="html5-strict"){ao+=" xml:lang";const Ks="acronym applet basefont big font strike tt";xo=[xo,Ks].join(" "),oi(ri(Ks),oc=>{jn(oc,"",xo)});const Za="center dir isindex noframes";Wn=[Wn,Za].join(" "),Io=[Wn,xo].join(" "),oi(ri(Za),oc=>{jn(oc,"",Io)})}return Io=Io||[Wn,xo].join(" "),jn("html","manifest","head body"),jn("head","","base command link meta noscript script style title"),jn("title hr noscript br"),jn("base","href target"),jn("link","href rel media hreflang type sizes hreflang"),jn("meta","name http-equiv content charset"),jn("style","media type scoped"),jn("script","src async defer type charset"),jn("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",Io),jn("dd div","",Io),jn("address dt caption","",$t==="html4"?xo:Io),jn("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",xo),jn("blockquote","cite",Io),jn("ol","reversed start type","li"),jn("ul","","li"),jn("li","value",Io),jn("dl","","dt dd"),jn("a","href target rel media hreflang type",$t==="html4"?xo:Io),jn("q","cite",xo),jn("ins del","cite datetime",Io),jn("img","src sizes srcset alt usemap ismap width height"),jn("iframe","src name width height",Io),jn("embed","src type width height"),jn("object","data type typemustmatch name usemap form width height",[Io,"param"].join(" ")),jn("param","name value"),jn("map","name",[Io,"area"].join(" ")),jn("area","alt coords shape href target rel media hreflang type"),jn("table","border","caption colgroup thead tfoot tbody tr"+($t==="html4"?" col":"")),jn("colgroup","span","col"),jn("col","span"),jn("tbody thead tfoot","","tr"),jn("tr","","td th"),jn("td","colspan rowspan headers",Io),jn("th","colspan rowspan headers scope abbr",Io),jn("form","accept-charset action autocomplete enctype method name novalidate target",Io),jn("fieldset","disabled form name",[Io,"legend"].join(" ")),jn("label","form for",xo),jn("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),jn("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value",$t==="html4"?Io:xo),jn("select","disabled form multiple name required size","option optgroup"),jn("optgroup","disabled label","option"),jn("option","disabled label selected value"),jn("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),jn("menu","type label",[Io,"li"].join(" ")),jn("noscript","",Io),$t!=="html4"&&(jn("wbr"),jn("ruby","",[xo,"rt rp"].join(" ")),jn("figcaption","",Io),jn("mark rt rp summary bdi","",xo),jn("canvas","width height",Io),jn("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[Io,"track source"].join(" ")),jn("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[Io,"track source"].join(" ")),jn("picture","","img source"),jn("source","src srcset type media sizes"),jn("track","kind src srclang label default"),jn("datalist","",[xo,"option"].join(" ")),jn("article section nav aside main header footer","",Io),jn("hgroup","","h1 h2 h3 h4 h5 h6"),jn("figure","",[Io,"figcaption"].join(" ")),jn("time","datetime",xo),jn("dialog","open",Io),jn("command","type label icon disabled checked radiogroup command"),jn("output","for form name",xo),jn("progress","value max",xo),jn("meter","value min max low high optimum",xo),jn("details","open",[Io,"summary"].join(" ")),jn("keygen","autofocus challenge disabled form keytype name")),$t!=="html5-strict"&&(nr("script","language xml:space"),nr("style","xml:space"),nr("object","declare classid code codebase codetype archive standby align border hspace vspace"),nr("embed","align name hspace vspace"),nr("param","valuetype type"),nr("a","charset name rev shape coords"),nr("br","clear"),nr("applet","codebase archive code object alt name width height align hspace vspace"),nr("img","name longdesc align border hspace vspace"),nr("iframe","longdesc frameborder marginwidth marginheight scrolling align"),nr("font basefont","size color face"),nr("input","usemap align"),nr("select"),nr("textarea"),nr("h1 h2 h3 h4 h5 h6 div p legend caption","align"),nr("ul","type compact"),nr("li","type"),nr("ol dl menu dir","compact"),nr("pre","width xml:space"),nr("hr","align noshade size width"),nr("isindex","prompt"),nr("table","summary width frame rules cellspacing cellpadding align bgcolor"),nr("col","width align char charoff valign"),nr("colgroup","width align char charoff valign"),nr("thead","align char charoff valign"),nr("tr","align char charoff valign bgcolor"),nr("th","axis align char charoff valign nowrap bgcolor width height"),nr("form","accept"),nr("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),nr("tfoot","align char charoff valign"),nr("tbody","align char charoff valign"),nr("area","nohref"),nr("body","background bgcolor text link vlink alink")),$t!=="html4"&&(nr("input button select textarea","autofocus"),nr("input textarea","placeholder"),nr("a","download"),nr("link script img","crossorigin"),nr("img","loading"),nr("iframe","sandbox seamless allow allowfullscreen loading")),$t!=="html4"&&ze([yn.video,yn.audio],Ks=>{delete Ks.children.audio,delete Ks.children.video}),oi(ri("a form meter progress dfn"),Ks=>{yn[Ks]&&delete yn[Ks].children[Ks]}),delete yn.caption.children.table,delete yn.script,ev[$t]=yn,yn})(y);t.verify_html===!1&&(t.valid_elements="*[*]");const E=tv(t.valid_styles),T=tv(t.invalid_styles,"map"),P=tv(t.valid_classes,"map"),V=f("whitespace_elements","pre script noscript style textarea video audio iframe object code"),B=f("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),Z=f("void_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),z=f("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls allowfullscreen"),W="td th iframe video audio object script code",te=f("non_empty_elements",W+" pre",Z),se=f("move_caret_before_on_enter_elements",W+" table",Z),be=f("text_block_elements","h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside main nav figure"),Ce=f("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary",be),Ie=f("text_inline_elements","span strong b em i font s strike u var cite dfn code mark q sup sub samp"),je=f("transparent_elements","a ins del canvas map");oi("script noscript iframe noframes noembed title style textarea xmp plaintext".split(" "),$t=>{m[$t]=new RegExp("</"+$t+"[^>]*>","gi")});const st=$t=>new RegExp("^"+$t.replace(/([?+*])/g,".$1")+"$"),Nt=$t=>{const yn=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)])?$/,ao=/^([!\-])?(\w+[\\:]:\w+|[^=~<]+)?(?:([=~<])(.*))?$/,Wn=/[*?+]/;if($t){const xo=ri($t,",");let Io,jn;o["@"]&&(Io=o["@"].attributes,jn=o["@"].attributesOrder);for(let nr=0,Ks=xo.length;nr<Ks;nr++){let Za=yn.exec(xo[nr]);if(Za){const oc=Za[1],Bl=Za[2],Ou=Za[3],Tu=Za[5],bi={},Dc=[],fs={attributes:bi,attributesOrder:Dc};if(oc==="#"&&(fs.paddEmpty=!0),oc==="-"&&(fs.removeEmpty=!0),Za[4]==="!"&&(fs.removeEmptyAttrs=!0),Io&&(ut(Io,(vf,kg)=>{bi[kg]=vf}),jn&&Dc.push(...jn)),Tu){const vf=ri(Tu,"|");for(let kg=0,H2=vf.length;kg<H2;kg++)if(Za=ao.exec(vf[kg]),Za){const bf={},z2=Za[1],su=Za[2].replace(/[\\:]:/g,":"),Up=Za[3],iu=Za[4];if(z2==="!"&&(fs.attributesRequired=fs.attributesRequired||[],fs.attributesRequired.push(su),bf.required=!0),z2==="-"){delete bi[su],Dc.splice(vb(Dc,su),1);continue}if(Up&&(Up==="="&&(fs.attributesDefault=fs.attributesDefault||[],fs.attributesDefault.push({name:su,value:iu}),bf.defaultValue=iu),Up==="~"&&(fs.attributesForced=fs.attributesForced||[],fs.attributesForced.push({name:su,value:iu}),bf.forcedValue=iu),Up==="<"&&(bf.validValues=xc(iu,"?"))),Wn.test(su)){const Au=bf;fs.attributePatterns=fs.attributePatterns||[],Au.pattern=st(su),fs.attributePatterns.push(Au)}else bi[su]||Dc.push(su),bi[su]=bf}}if(Io||Bl!=="@"||(Io=bi,jn=Dc),Ou&&(fs.outputName=Bl,o[Ou]=fs),Wn.test(Bl)){const vf=fs;vf.pattern=st(Bl),l.push(vf)}else o[Bl]=fs}}}},bt=$t=>{l=[],ze(ur(o),yn=>{delete o[yn]}),Nt($t),oi(_,(yn,ao)=>{s[ao]=yn.children})},qe=$t=>{const yn=/^(~)?(.+)$/;$t&&(delete wc.text_block_elements,delete wc.block_elements,oi(ri($t,","),ao=>{const Wn=yn.exec(ao);if(Wn){const xo=Wn[1]==="~",Io=xo?"span":"div",jn=Wn[2];if(s[jn]=s[Io],d[jn]=Io,te[jn.toUpperCase()]={},te[jn]={},xo||(Ce[jn.toUpperCase()]={},Ce[jn]={}),!o[jn]){let nr=o[Io];nr=_c({},nr),delete nr.removeEmptyAttrs,delete nr.removeEmpty,o[jn]=nr}oi(s,(nr,Ks)=>{nr[Io]&&(s[Ks]=nr=_c({},s[Ks]),nr[jn]=nr[Io])})}}))},tt=$t=>{const yn=/^([+\-]?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)\[([^\]]+)]$/;delete ev[y],$t&&oi(ri($t,","),ao=>{const Wn=yn.exec(ao);if(Wn){const xo=Wn[1];let Io;Io=xo?s[Wn[2]]:s[Wn[2]]={"#comment":{}},Io=s[Wn[2]],oi(ri(Wn[3],"|"),jn=>{xo==="-"?delete Io[jn]:Io[jn]={}})}})},Xe=$t=>{const yn=o[$t];if(yn)return yn;let ao=l.length;for(;ao--;){const Wn=l[ao];if(Wn.pattern.test($t))return Wn}};t.valid_elements?bt(t.valid_elements):(oi(_,($t,yn)=>{o[yn]={attributes:$t.attributes,attributesOrder:$t.attributesOrder},s[yn]=$t.children}),oi(ri("strong/b em/i"),$t=>{const yn=ri($t,"/");o[yn[1]].outputName=yn[0]}),oi(Ie,($t,yn)=>{o[yn]&&(t.padd_empty_block_inline_children&&(o[yn].paddInEmptyBlock=!0),o[yn].removeEmpty=!0)}),oi(ri("ol ul blockquote a table tbody"),$t=>{o[$t]&&(o[$t].removeEmpty=!0)}),oi(ri("p h1 h2 h3 h4 h5 h6 th td pre div address caption li summary"),$t=>{o[$t]&&(o[$t].paddEmpty=!0)}),oi(ri("span"),$t=>{o[$t].removeEmptyAttrs=!0})),qe(t.custom_elements),tt(t.valid_children),Nt(t.extended_valid_elements),tt("+ol[ul|ol],+ul[ul|ol]"),oi({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},($t,yn)=>{o[yn]&&(o[yn].parentsRequired=ri($t))}),t.invalid_elements&&oi(hw(t.invalid_elements),$t=>{o[$t]&&delete o[$t]}),Xe("span")||Nt("span[!data-mce-type|*]");const ft=Ke(E),Tn=Ke(T),on=Ke(P),lo=Ke(z),Nn=Ke(Ce),Ho=Ke(be),zo=Ke(Ie),Fn=Ke(Object.seal(Z)),ro=Ke(B),Ao=Ke(te),Ge=Ke(se),Qe=Ke(V),At=Ke(je),Kt=Ke(Object.seal(m)),Vt=Ke(d);return{type:y,children:s,elements:o,getValidStyles:ft,getValidClasses:on,getBlockElements:Nn,getInvalidStyles:Tn,getVoidElements:Fn,getTextBlockElements:Ho,getTextInlineElements:zo,getBoolAttrs:lo,getElementRule:Xe,getSelfClosingElements:ro,getNonEmptyElements:Ao,getMoveCaretBeforeOnEnterElements:Ge,getWhitespaceElements:Qe,getTransparentElements:At,getSpecialElements:Kt,isValidChild:($t,yn)=>{const ao=s[$t.toLowerCase()];return!(!ao||!ao[yn.toLowerCase()])},isValid:($t,yn)=>{const ao=Xe($t);if(ao){if(!yn)return!0;{if(ao.attributes[yn])return!0;const Wn=ao.attributePatterns;if(Wn){let xo=Wn.length;for(;xo--;)if(Wn[xo].pattern.test(yn))return!0}}}return!1},getCustomElements:Vt,addValidElements:Nt,setValidElements:bt,addCustomElements:qe,addValidChildren:tt}},nv=(t={},n)=>{const o=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,s=/\s*([^:]+):\s*([^;]+);?/g,l=/\s+$/,d={};let m,f;const y=Tl;n&&(m=n.getValidStyles(),f=n.getInvalidStyles());const _=`\\" \\' \\; \\: ; : \uFEFF`.split(" ");for(let T=0;T<_.length;T++)d[_[T]]=y+T,d[y+T]=_[T];const E={parse:T=>{const P={};let V=!1;const B=t.url_converter,Z=t.url_converter_scope||E,z=(bt,qe,tt)=>{const Xe=P[bt+"-top"+qe];if(!Xe)return;const ft=P[bt+"-right"+qe];if(!ft)return;const Tn=P[bt+"-bottom"+qe];if(!Tn)return;const on=P[bt+"-left"+qe];if(!on)return;const lo=[Xe,ft,Tn,on];let Nn=lo.length-1;for(;Nn--&&lo[Nn]===lo[Nn+1];);Nn>-1&&tt||(P[bt+qe]=Nn===-1?lo[0]:lo.join(" "),delete P[bt+"-top"+qe],delete P[bt+"-right"+qe],delete P[bt+"-bottom"+qe],delete P[bt+"-left"+qe])},W=bt=>{const qe=P[bt];if(!qe)return;const tt=qe.split(" ");let Xe=tt.length;for(;Xe--;)if(tt[Xe]!==tt[0])return!1;return P[bt]=tt[0],!0},te=bt=>(V=!0,d[bt]),se=(bt,qe)=>(V&&(bt=bt.replace(/\uFEFF[0-9]/g,tt=>d[tt])),qe||(bt=bt.replace(/\\([\'\";:])/g,"$1")),bt),be=bt=>String.fromCharCode(parseInt(bt.slice(1),16)),Ce=bt=>bt.replace(/\\[0-9a-f]+/gi,be),Ie=(bt,qe,tt,Xe,ft,Tn)=>{if(ft=ft||Tn)return"'"+(ft=se(ft)).replace(/\'/g,"\\'")+"'";if(qe=se(qe||tt||Xe||""),!t.allow_script_urls){const on=qe.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(on)||!t.allow_svg_data_urls&&/^data:image\/svg/i.test(on))return""}return B&&(qe=B.call(Z,qe,"style")),"url('"+qe.replace(/\'/g,"\\'")+"')"};if(T){let bt;for(T=(T=T.replace(/[\u0000-\u001F]/g,"")).replace(/\\[\"\';:\uFEFF]/g,te).replace(/\"[^\"]+\"|\'[^\']+\'/g,qe=>qe.replace(/[;:]/g,te));bt=s.exec(T);){s.lastIndex=bt.index+bt[0].length;let qe=bt[1].replace(l,"").toLowerCase(),tt=bt[2].replace(l,"");if(qe&&tt){if(qe=Ce(qe),tt=Ce(tt),qe.indexOf(y)!==-1||qe.indexOf('"')!==-1||!t.allow_script_urls&&(qe==="behavior"||/expression\s*\(|\/\*|\*\//.test(tt)))continue;qe==="font-weight"&&tt==="700"?tt="bold":qe!=="color"&&qe!=="background-color"||(tt=tt.toLowerCase()),tt=tt.replace(o,Ie),P[qe]=V?se(tt,!0):tt}}z("border","",!0),z("border","-width"),z("border","-color"),z("border","-style"),z("padding",""),z("margin",""),st="border-style",Nt="border-color",W(je="border-width")&&W(st)&&W(Nt)&&(P.border=P[je]+" "+P[st]+" "+P[Nt],delete P[je],delete P[st],delete P[Nt]),P.border==="medium none"&&delete P.border,P["border-image"]==="none"&&delete P["border-image"]}var je,st,Nt;return P},serialize:(T,P)=>{let V="";const B=(Z,z)=>{const W=z[Z];if(W)for(let te=0,se=W.length;te<se;te++){const be=W[te],Ce=T[be];Ce&&(V+=(V.length>0?" ":"")+be+": "+Ce+";")}};return P&&m?(B("*",m),B(P,m)):ut(T,(Z,z)=>{Z&&((W,te)=>{if(!f||!te)return!0;let se=f["*"];return!(se&&se[W]||(se=f[te],se&&se[W]))})(z,P)&&(V+=(V.length>0?" ":"")+z+": "+Z+";")}),V}};return E},vw={keyLocation:!0,layerX:!0,layerY:!0,returnValue:!0,webkitMovementX:!0,webkitMovementY:!0,keyIdentifier:!0,mozPressure:!0},ov=(t,n)=>{const o=n!=null?n:{};for(const s in t)fn(vw,s)||(o[s]=t[s]);return G(t.composedPath)&&(o.composedPath=()=>t.composedPath()),o},$f=(t,n,o,s)=>{var l;const d=ov(n,s);return d.type=t,De(d.target)&&(d.target=(l=d.srcElement)!==null&&l!==void 0?l:o),(m=>De(m.preventDefault)||(f=>f instanceof Event||Ae(f.initEvent))(m))(n)&&(d.preventDefault=()=>{d.defaultPrevented=!0,d.isDefaultPrevented=Sn,Ae(n.preventDefault)&&n.preventDefault()},d.stopPropagation=()=>{d.cancelBubble=!0,d.isPropagationStopped=Sn,Ae(n.stopPropagation)&&n.stopPropagation()},d.stopImmediatePropagation=()=>{d.isImmediatePropagationStopped=Sn,d.stopPropagation()},(m=>m.isDefaultPrevented===Sn||m.isDefaultPrevented===pn)(d)||(d.isDefaultPrevented=d.defaultPrevented===!0?Sn:pn,d.isPropagationStopped=d.cancelBubble===!0?Sn:pn,d.isImmediatePropagationStopped=pn)),d},Xg=/^(?:mouse|contextmenu)|click/,Uf=(t,n,o,s)=>{t.addEventListener(n,o,s||!1)},Bm=(t,n,o,s)=>{t.removeEventListener(n,o,s||!1)},vh=(t,n)=>{const o=$f(t.type,t,document,n);if((s=>G(s)&&Xg.test(s.type))(t)&&ae(t.pageX)&&!ae(t.clientX)){const s=o.target.ownerDocument||document,l=s.documentElement,d=s.body,m=o;m.pageX=t.clientX+(l&&l.scrollLeft||d&&d.scrollLeft||0)-(l&&l.clientLeft||d&&d.clientLeft||0),m.pageY=t.clientY+(l&&l.scrollTop||d&&d.scrollTop||0)-(l&&l.clientTop||d&&d.clientTop||0)}return o},rv=(t,n,o)=>{const s=t.document,l={type:"ready"};if(o.domLoaded)return void n(l);const d=()=>{Bm(t,"DOMContentLoaded",d),Bm(t,"load",d),o.domLoaded||(o.domLoaded=!0,n(l)),t=null};s.readyState==="complete"||s.readyState==="interactive"&&s.body?d():Uf(t,"DOMContentLoaded",d),o.domLoaded||Uf(t,"load",d)};class Ld{constructor(){this.domLoaded=!1,this.events={},this.count=1,this.expando="mce-data-"+(+new Date).toString(32),this.hasFocusIn="onfocusin"in document.documentElement,this.count=1}bind(n,o,s,l){const d=this;let m;const f=window,y=P=>{d.executeHandlers(vh(P||f.event),_)};if(!n||tn(n)||Ja(n))return s;let _;n[d.expando]?_=n[d.expando]:(_=d.count++,n[d.expando]=_,d.events[_]={}),l=l||n;const E=o.split(" ");let T=E.length;for(;T--;){let P=E[T],V=y,B=!1,Z=!1;P==="DOMContentLoaded"&&(P="ready"),d.domLoaded&&P==="ready"&&n.readyState==="complete"?s.call(l,vh({type:P})):(d.hasFocusIn||P!=="focusin"&&P!=="focusout"||(B=!0,Z=P==="focusin"?"focus":"blur",V=z=>{const W=vh(z||f.event);W.type=W.type==="focus"?"focusin":"focusout",d.executeHandlers(W,_)}),m=d.events[_][P],m?P==="ready"&&d.domLoaded?s(vh({type:P})):m.push({func:s,scope:l}):(d.events[_][P]=m=[{func:s,scope:l}],m.fakeName=Z,m.capture=B,m.nativeHandler=V,P==="ready"?rv(n,V,d):Uf(n,Z||P,V,B)))}return n=m=null,s}unbind(n,o,s){if(!n||tn(n)||Ja(n))return this;const l=n[this.expando];if(l){let d=this.events[l];if(o){const m=o.split(" ");let f=m.length;for(;f--;){const y=m[f],_=d[y];if(_){if(s){let E=_.length;for(;E--;)if(_[E].func===s){const T=_.nativeHandler,P=_.fakeName,V=_.capture,B=_.slice(0,E).concat(_.slice(E+1));B.nativeHandler=T,B.fakeName=P,B.capture=V,d[y]=B}}s&&_.length!==0||(delete d[y],Bm(n,_.fakeName||y,_.nativeHandler,_.capture))}}}else ut(d,(m,f)=>{Bm(n,m.fakeName||f,m.nativeHandler,m.capture)}),d={};for(const m in d)if(fn(d,m))return this;delete this.events[l];try{delete n[this.expando]}catch{n[this.expando]=null}}return this}fire(n,o,s){return this.dispatch(n,o,s)}dispatch(n,o,s){if(!n||tn(n)||Ja(n))return this;const l=vh({type:o,target:n},s);do{const d=n[this.expando];d&&this.executeHandlers(l,d),n=n.parentNode||n.ownerDocument||n.defaultView||n.parentWindow}while(n&&!l.isPropagationStopped());return this}clean(n){if(!n||tn(n)||Ja(n))return this;if(n[this.expando]&&this.unbind(n),n.getElementsByTagName||(n=n.document),n&&n.getElementsByTagName){this.unbind(n);const o=n.getElementsByTagName("*");let s=o.length;for(;s--;)(n=o[s])[this.expando]&&this.unbind(n)}return this}destroy(){this.events={}}cancel(n){return n&&(n.preventDefault(),n.stopImmediatePropagation()),!1}executeHandlers(n,o){const s=this.events[o],l=s&&s[n.type];if(l)for(let d=0,m=l.length;d<m;d++){const f=l[d];if(f&&f.func.call(f.scope,n)===!1&&n.preventDefault(),n.isImmediatePropagationStopped())return}}}Ld.Event=new Ld;const Yu=an.each,bh=an.grep,Jg="data-mce-style",Qg=an.makeMap("fill-opacity font-weight line-height opacity orphans widows z-index zoom"," "),pa=(t,n,o)=>{De(o)||o===""?Da(t,n):Yr(t,n,o)},il=t=>t.replace(/[A-Z]/g,n=>"-"+n.toLowerCase()),Nl=(t,n)=>{let o=0;if(t)for(let s=t.nodeType,l=t.previousSibling;l;l=l.previousSibling){const d=l.nodeType;(!n||!tn(l)||d!==s&&l.data.length)&&(o++,s=d)}return o},hi=(t,n)=>{const o=ws(n,"style"),s=t.serialize(t.parse(o),Jr(n));pa(n,Jg,s)},yh=(t,n,o)=>{const s=il(n);De(o)||o===""?ah(t,s):_i(t,s,((l,d)=>ye(l)?fn(Qg,d)?l+"":l+"px":l)(o,s))},la=(t,n={})=>{const o={},s=window,l={};let d=0;const m=eo.forElement(Ue(t),{contentCssCors:n.contentCssCors,referrerPolicy:n.referrerPolicy}),f=[],y=n.schema?n.schema:Pd({}),_=nv({url_converter:n.url_converter,url_converter_scope:n.url_converter_scope},n.schema),E=n.ownEvents?new Ld:Ld.Event,T=y.getBlockElements(),P=Ge=>Ge&&t&&le(Ge)?t.getElementById(Ge):Ge,V=Ge=>{const Qe=P(Ge);return G(Qe)?Ue(Qe):null},B=(Ge,Qe,At="")=>{let Kt;const Vt=V(Ge);if(G(Vt)&&xi(Vt)){const $t=Ao[Qe];Kt=$t&&$t.get?$t.get(Vt.dom,Qe):ws(Vt,Qe)}return G(Kt)?Kt:At},Z=Ge=>{const Qe=P(Ge);return De(Qe)?[]:Qe.attributes},z=(Ge,Qe,At)=>{st(Ge,Kt=>{if(vn(Kt)){const Vt=Ue(Kt),$t=At===""?null:At,yn=ws(Vt,Qe),ao=Ao[Qe];ao&&ao.set?ao.set(Vt.dom,$t,Qe):pa(Vt,Qe,$t),yn!==$t&&n.onSetAttrib&&n.onSetAttrib({attrElm:Vt.dom,attrName:Qe,attrValue:$t})}})},W=()=>n.root_element||t.body,te=(Ge,Qe)=>((At,Kt,Vt)=>{let $t=0,yn=0;const ao=At.ownerDocument;if(Vt=Vt||At,Kt){if(Vt===At&&Kt.getBoundingClientRect&&jl(Ue(At),"position")==="static"){const xo=Kt.getBoundingClientRect();return $t=xo.left+(ao.documentElement.scrollLeft||At.scrollLeft)-ao.documentElement.clientLeft,yn=xo.top+(ao.documentElement.scrollTop||At.scrollTop)-ao.documentElement.clientTop,{x:$t,y:yn}}let Wn=Kt;for(;Wn&&Wn!==Vt&&Wn.nodeType&&!qg(Wn,Vt);){const xo=Wn;$t+=xo.offsetLeft||0,yn+=xo.offsetTop||0,Wn=xo.offsetParent}for(Wn=Kt.parentNode;Wn&&Wn!==Vt&&Wn.nodeType&&!qg(Wn,Vt);)$t-=Wn.scrollLeft||0,yn-=Wn.scrollTop||0,Wn=Wn.parentNode;yn+=(xo=>ch.isFirefox()&&Jr(xo)==="table"?uh(fa(xo)).filter(Io=>Jr(Io)==="caption").bind(Io=>uh(zg(Io)).map(jn=>{const nr=jn.dom.offsetTop,Ks=Io.dom.offsetTop,Za=Io.dom.offsetHeight;return nr<=Ks?-Za:0})).getOr(0):0)(Ue(Kt))}return{x:$t,y:yn}})(t.body,P(Ge),Qe),se=(Ge,Qe,At)=>{const Kt=P(Ge);if(!De(Kt)&&vn(Kt))return At?jl(Ue(Kt),il(Qe)):((Qe=Qe.replace(/-(\D)/g,(Vt,$t)=>$t.toUpperCase()))==="float"&&(Qe="cssFloat"),Kt.style?Kt.style[Qe]:void 0)},be=Ge=>{const Qe=P(Ge);if(!Qe)return{w:0,h:0};let At=se(Qe,"width"),Kt=se(Qe,"height");return At&&At.indexOf("px")!==-1||(At="0"),Kt&&Kt.indexOf("px")!==-1||(Kt="0"),{w:parseInt(At,10)||Qe.offsetWidth||Qe.clientWidth,h:parseInt(Kt,10)||Qe.offsetHeight||Qe.clientHeight}},Ce=(Ge,Qe)=>{if(!Ge)return!1;const At=xe(Ge)?Ge:[Ge];return dt(At,Kt=>tl(Ue(Kt),Qe))},Ie=(Ge,Qe,At,Kt)=>{const Vt=[];let $t=P(Ge);Kt=Kt===void 0;const yn=At||(W().nodeName!=="BODY"?W().parentNode:null);if(le(Qe))if(Qe==="*")Qe=vn;else{const ao=Qe;Qe=Wn=>Ce(Wn,ao)}for(;$t&&!($t===yn||De($t.nodeType)||Qs($t)||sh($t));){if(!Qe||Qe($t)){if(!Kt)return[$t];Vt.push($t)}$t=$t.parentNode}return Kt?Vt:null},je=(Ge,Qe,At)=>{let Kt=Qe;if(Ge){le(Qe)&&(Kt=Vt=>Ce(Vt,Qe));for(let Vt=Ge[At];Vt;Vt=Vt[At])if(Ae(Kt)&&Kt(Vt))return Vt}return null},st=function(Ge,Qe,At){const Kt=At!=null?At:this;if(xe(Ge)){const Vt=[];return Yu(Ge,($t,yn)=>{const ao=P($t);ao&&Vt.push(Qe.call(Kt,ao,yn))}),Vt}{const Vt=P(Ge);return!!Vt&&Qe.call(Kt,Vt)}},Nt=(Ge,Qe)=>{st(Ge,At=>{ut(Qe,(Kt,Vt)=>{z(At,Vt,Kt)})})},bt=(Ge,Qe)=>{st(Ge,At=>{const Kt=Ue(At);zt(Kt,Qe)})},qe=(Ge,Qe,At,Kt,Vt)=>st(Ge,$t=>{const yn=le(Qe)?t.createElement(Qe):Qe;return G(At)&&Nt(yn,At),Kt&&(!le(Kt)&&Kt.nodeType?yn.appendChild(Kt):le(Kt)&&bt(yn,Kt)),Vt?yn:$t.appendChild(yn)}),tt=(Ge,Qe,At)=>qe(t.createElement(Ge),Ge,Qe,At,!0),Xe=pi.encodeAllRaw,ft=(Ge,Qe)=>st(Ge,At=>{const Kt=Ue(At);return Qe&&ze(fa(Kt),Vt=>{vr(Vt)&&Vt.dom.length===0?ce(Vt):Vi(Kt,Vt)}),ce(Kt),Kt.dom}),Tn=(Ge,Qe,At)=>{st(Ge,Kt=>{if(vn(Kt)){const Vt=Ue(Kt),$t=Qe.split(" ");ze($t,yn=>{G(At)?(At?Ed:Od)(Vt,yn):((ao,Wn)=>{Hi(ao)?ao.dom.classList.toggle(Wn):((xo,Io)=>Ht(Vl(xo),Io)?oh(xo,Io):Lg(xo,Io))(ao,Wn),Bg(ao)})(Vt,yn)})}})},on=(Ge,Qe,At)=>st(Qe,Kt=>{var Vt;const $t=xe(Qe)?Ge.cloneNode(!0):Ge;return At&&Yu(bh(Kt.childNodes),yn=>{$t.appendChild(yn)}),(Vt=Kt.parentNode)===null||Vt===void 0||Vt.replaceChild($t,Kt),Kt}),lo=Ge=>{if(vn(Ge)){const Qe=Ge.nodeName.toLowerCase()==="a"&&!B(Ge,"href")&&B(Ge,"id");if(B(Ge,"name")||B(Ge,"data-mce-bookmark")||Qe)return!0}return!1},Nn=()=>t.createRange(),Ho=(Ge,Qe,At,Kt)=>{if(xe(Ge)){let Vt=Ge.length;const $t=[];for(;Vt--;)$t[Vt]=Ho(Ge[Vt],Qe,At,Kt);return $t}return!n.collect||Ge!==t&&Ge!==s||f.push([Ge,Qe,At,Kt]),E.bind(Ge,Qe,At,Kt||ro)},zo=(Ge,Qe,At)=>{if(xe(Ge)){let Kt=Ge.length;const Vt=[];for(;Kt--;)Vt[Kt]=zo(Ge[Kt],Qe,At);return Vt}if(f.length>0&&(Ge===t||Ge===s)){let Kt=f.length;for(;Kt--;){const[Vt,$t,yn]=f[Kt];Ge!==Vt||Qe&&Qe!==$t||At&&At!==yn||E.unbind(Vt,$t,yn)}}return E.unbind(Ge,Qe,At)},Fn=Ge=>{if(Ge&&vn(Ge)){const Qe=Ge.getAttribute("data-mce-contenteditable");return Qe&&Qe!=="inherit"?Qe:Ge.contentEditable!=="inherit"?Ge.contentEditable:null}return null},ro={doc:t,settings:n,win:s,files:l,stdMode:!0,boxModel:!0,styleSheetLoader:m,boundEvents:f,styles:_,schema:y,events:E,isBlock:Ge=>le(Ge)?fn(T,Ge):vn(Ge)&&(fn(T,Ge.nodeName)||Ku(y,Ge)),root:null,clone:(Ge,Qe)=>Ge.cloneNode(Qe),getRoot:W,getViewPort:Ge=>{const Qe=no(Ge);return{x:Qe.x,y:Qe.y,w:Qe.width,h:Qe.height}},getRect:Ge=>{const Qe=P(Ge),At=te(Qe),Kt=be(Qe);return{x:At.x,y:At.y,w:Kt.w,h:Kt.h}},getSize:be,getParent:(Ge,Qe,At)=>{const Kt=Ie(Ge,Qe,At,!1);return Kt&&Kt.length>0?Kt[0]:null},getParents:Ie,get:P,getNext:(Ge,Qe)=>je(Ge,Qe,"nextSibling"),getPrev:(Ge,Qe)=>je(Ge,Qe,"previousSibling"),select:(Ge,Qe)=>{var At,Kt;const Vt=(Kt=(At=P(Qe))!==null&&At!==void 0?At:n.root_element)!==null&&Kt!==void 0?Kt:t;return Ae(Vt.querySelectorAll)?So(Vt.querySelectorAll(Ge)):[]},is:Ce,add:qe,create:tt,createHTML:(Ge,Qe,At="")=>{let Kt="<"+Ge;for(const Vt in Qe)dr(Qe,Vt)&&(Kt+=" "+Vt+'="'+Xe(Qe[Vt])+'"');return Jo(At)&&fn(y.getVoidElements(),Ge)?Kt+" />":Kt+">"+At+"</"+Ge+">"},createFragment:Ge=>{const Qe=t.createElement("div"),At=t.createDocumentFragment();let Kt;for(At.appendChild(Qe),Ge&&(Qe.innerHTML=Ge);Kt=Qe.firstChild;)At.appendChild(Kt);return At.removeChild(Qe),At},remove:ft,setStyle:(Ge,Qe,At)=>{st(Ge,Kt=>{const Vt=Ue(Kt);yh(Vt,Qe,At),n.update_styles&&hi(_,Vt)})},getStyle:se,setStyles:(Ge,Qe)=>{st(Ge,At=>{const Kt=Ue(At);ut(Qe,(Vt,$t)=>{yh(Kt,$t,Vt)}),n.update_styles&&hi(_,Kt)})},removeAllAttribs:Ge=>st(Ge,Qe=>{const At=Qe.attributes;for(let Kt=At.length-1;Kt>=0;Kt--)Qe.removeAttributeNode(At.item(Kt))}),setAttrib:z,setAttribs:Nt,getAttrib:B,getPos:te,parseStyle:Ge=>_.parse(Ge),serializeStyle:(Ge,Qe)=>_.serialize(Ge,Qe),addStyle:Ge=>{if(ro!==la.DOM&&t===document){if(o[Ge])return;o[Ge]=!0}let Qe=t.getElementById("mceDefaultStyles");if(!Qe){Qe=t.createElement("style"),Qe.id="mceDefaultStyles",Qe.type="text/css";const At=t.head;At.firstChild?At.insertBefore(Qe,At.firstChild):At.appendChild(Qe)}Qe.styleSheet?Qe.styleSheet.cssText+=Ge:Qe.appendChild(t.createTextNode(Ge))},loadCSS:Ge=>{Ge||(Ge=""),ze(Ge.split(","),Qe=>{l[Qe]=!0,m.load(Qe).catch(Ft)})},addClass:(Ge,Qe)=>{Tn(Ge,Qe,!0)},removeClass:(Ge,Qe)=>{Tn(Ge,Qe,!1)},hasClass:(Ge,Qe)=>{const At=V(Ge),Kt=Qe.split(" ");return G(At)&&hn(Kt,Vt=>Fg(At,Vt))},toggleClass:Tn,show:Ge=>{st(Ge,Qe=>ah(Ue(Qe),"display"))},hide:Ge=>{st(Ge,Qe=>_i(Ue(Qe),"display","none"))},isHidden:Ge=>{const Qe=V(Ge);return G(Qe)&&Fa(Zl(Qe,"display"),"none")},uniqueId:Ge=>(Ge||"mce_")+d++,setHTML:bt,getOuterHTML:Ge=>{const Qe=V(Ge);return G(Qe)?vn(Qe.dom)?Qe.dom.outerHTML:(At=>{const Kt=us("div"),Vt=Ue(At.dom.cloneNode(!0));return lr(Kt,Vt),at(Kt)})(Qe):""},setOuterHTML:(Ge,Qe)=>{st(Ge,At=>{vn(At)&&(At.outerHTML=Qe)})},decode:pi.decode,encode:Xe,insertAfter:(Ge,Qe)=>{const At=P(Qe);return st(Ge,Kt=>{const Vt=At==null?void 0:At.parentNode,$t=At==null?void 0:At.nextSibling;return Vt&&($t?Vt.insertBefore(Kt,$t):Vt.appendChild(Kt)),Kt})},replace:on,rename:(Ge,Qe)=>{if(Ge.nodeName!==Qe.toUpperCase()){const At=tt(Qe);return Yu(Z(Ge),Kt=>{z(At,Kt.nodeName,B(Ge,Kt.nodeName))}),on(At,Ge,!0),At}return Ge},findCommonAncestor:(Ge,Qe)=>{let At=Ge;for(;At;){let Kt=Qe;for(;Kt&&At!==Kt;)Kt=Kt.parentNode;if(At===Kt)break;At=At.parentNode}return!At&&Ge.ownerDocument?Ge.ownerDocument.documentElement:At},run:st,getAttribs:Z,isEmpty:(Ge,Qe,At)=>{let Kt=0;if(lo(Ge))return!1;const Vt=Ge.firstChild;if(Vt){const $t=new qo(Vt,Ge),yn=y?y.getWhitespaceElements():{},ao=Qe||(y?y.getNonEmptyElements():null);let Wn=Vt;do{if(vn(Wn)){const xo=Wn.getAttribute("data-mce-bogus");if(xo){Wn=$t.next(xo==="all");continue}const Io=Wn.nodeName.toLowerCase();if(ao&&ao[Io]){if(Io==="br"){Kt++,Wn=$t.next();continue}return!1}if(lo(Wn))return!1}if(Ja(Wn)||tn(Wn)&&!Wl(Wn.data)&&(!(At!=null&&At.includeZwsp)||!q1(Wn.data))||tn(Wn)&&Wn.parentNode&&yn[Wn.parentNode.nodeName]&&Wl(Wn.data))return!1;Wn=$t.next()}while(Wn)}return Kt<=1},createRng:Nn,nodeIndex:Nl,split:(Ge,Qe,At)=>{let Kt,Vt,$t=Nn();if(Ge&&Qe&&Ge.parentNode&&Qe.parentNode){const yn=Ge.parentNode;return $t.setStart(yn,Nl(Ge)),$t.setEnd(Qe.parentNode,Nl(Qe)),Kt=$t.extractContents(),$t=Nn(),$t.setStart(Qe.parentNode,Nl(Qe)+1),$t.setEnd(yn,Nl(Ge)+1),Vt=$t.extractContents(),yn.insertBefore(mh(ro,Kt),Ge),At?yn.insertBefore(At,Ge):yn.insertBefore(Qe,Ge),yn.insertBefore(mh(ro,Vt),Ge),ft(Ge),At||Qe}},bind:Ho,unbind:zo,fire:(Ge,Qe,At)=>E.dispatch(Ge,Qe,At),dispatch:(Ge,Qe,At)=>E.dispatch(Ge,Qe,At),getContentEditable:Fn,getContentEditableParent:Ge=>{const Qe=W();let At=null;for(let Kt=Ge;Kt&&Kt!==Qe&&(At=Fn(Kt),At===null);Kt=Kt.parentNode);return At},isEditable:Ge=>{if(G(Ge)){const Qe=vn(Ge)?Ge:Ge.parentElement;return G(Qe)&&El(Ue(Qe))}return!1},destroy:()=>{if(f.length>0){let Ge=f.length;for(;Ge--;){const[Qe,At,Kt]=f[Ge];E.unbind(Qe,At,Kt)}}ut(l,(Ge,Qe)=>{m.unload(Qe),delete l[Qe]})},isChildOf:(Ge,Qe)=>Ge===Qe||Qe.contains(Ge),dumpRng:Ge=>"startContainer: "+Ge.startContainer.nodeName+", startOffset: "+Ge.startOffset+", endContainer: "+Ge.endContainer.nodeName+", endOffset: "+Ge.endOffset},Ao=((Ge,Qe,At)=>{const Kt=Qe.keep_values,Vt={set:(yn,ao,Wn)=>{const xo=Ue(yn);Ae(Qe.url_converter)&&G(ao)&&(ao=Qe.url_converter.call(Qe.url_converter_scope||At(),String(ao),Wn,yn)),pa(xo,"data-mce-"+Wn,ao),pa(xo,Wn,ao)},get:(yn,ao)=>{const Wn=Ue(yn);return ws(Wn,"data-mce-"+ao)||ws(Wn,ao)}},$t={style:{set:(yn,ao)=>{const Wn=Ue(yn);Kt&&pa(Wn,Jg,ao),Da(Wn,"style"),le(ao)&&Vc(Wn,Ge.parse(ao))},get:yn=>{const ao=Ue(yn),Wn=ws(ao,Jg)||ws(ao,"style");return Ge.serialize(Ge.parse(Wn),Jr(ao))}}};return Kt&&($t.href=$t.src=Vt),$t})(_,n,Ke(ro));return ro};la.DOM=la(document),la.nodeIndex=Nl;const bw=la.DOM;class Xu{constructor(n={}){this.states={},this.queue=[],this.scriptLoadedCallbacks={},this.queueLoadedCallbacks=[],this.loading=!1,this.settings=n}_setReferrerPolicy(n){this.settings.referrerPolicy=n}loadScript(n){return new Promise((o,s)=>{const l=bw;let d;const m=()=>{l.remove(f),d&&(d.onerror=d.onload=d=null)},f=l.uniqueId();d=document.createElement("script"),d.id=f,d.type="text/javascript",d.src=an._addCacheSuffix(n),this.settings.referrerPolicy&&l.setAttrib(d,"referrerpolicy",this.settings.referrerPolicy),d.onload=()=>{m(),o()},d.onerror=()=>{m(),s("Failed to load script: "+n)},(document.getElementsByTagName("head")[0]||document.body).appendChild(d)})}isDone(n){return this.states[n]===2}markDone(n){this.states[n]=2}add(n){const o=this;return o.queue.push(n),o.states[n]===void 0&&(o.states[n]=0),new Promise((s,l)=>{o.scriptLoadedCallbacks[n]||(o.scriptLoadedCallbacks[n]=[]),o.scriptLoadedCallbacks[n].push({resolve:s,reject:l})})}load(n){return this.add(n)}remove(n){delete this.states[n],delete this.scriptLoadedCallbacks[n]}loadQueue(){const n=this.queue;return this.queue=[],this.loadScripts(n)}loadScripts(n){const o=this,s=(y,_)=>{Zt(o.scriptLoadedCallbacks,_).each(E=>{ze(E,T=>T[y](_))}),delete o.scriptLoadedCallbacks[_]},l=y=>{const _=ne(y,E=>E.status==="rejected");return _.length>0?Promise.reject(En(_,({reason:E})=>xe(E)?E:[E])):Promise.resolve()},d=y=>Promise.allSettled(Et(y,_=>o.states[_]===2?(s("resolve",_),Promise.resolve()):o.states[_]===3?(s("reject",_),Promise.reject(_)):(o.states[_]=1,o.loadScript(_).then(()=>{o.states[_]=2,s("resolve",_);const E=o.queue;return E.length>0?(o.queue=[],d(E).then(l)):Promise.resolve()},()=>(o.states[_]=3,s("reject",_),Promise.reject(_)))))),m=y=>(o.loading=!0,d(y).then(_=>{o.loading=!1;const E=o.queueLoadedCallbacks.shift();return Q.from(E).each(In),l(_)})),f=$n(n);return o.loading?new Promise((y,_)=>{o.queueLoadedCallbacks.push(()=>{m(f).then(y,_)})}):m(f)}}Xu.ScriptLoader=new Xu;const _s=t=>{let n=t;return{get:()=>n,set:o=>{n=o}}},Zc={},av=_s("en"),sv=()=>Zt(Zc,av.get()),Cc={getData:()=>rt(Zc,t=>({...t})),setCode:t=>{t&&av.set(t)},getCode:()=>av.get(),add:(t,n)=>{let o=Zc[t];o||(Zc[t]=o={}),ut(n,(s,l)=>{o[l.toLowerCase()]=s})},translate:t=>{const n=sv().getOr({}),o=f=>Ae(f)?Object.prototype.toString.call(f):s(f)?"":""+f,s=f=>f===""||f==null,l=f=>{const y=o(f);return Zt(n,y.toLowerCase()).map(o).getOr(y)},d=f=>f.replace(/{context:\w+}$/,"");if(s(t))return"";if(ue(m=t)&&fn(m,"raw"))return o(t.raw);var m;if((f=>xe(f)&&f.length>1)(t)){const f=t.slice(1);return d(l(t[0]).replace(/\{([0-9]+)\}/g,(y,_)=>fn(f,_)?o(f[_]):y))}return d(l(t))},isRtl:()=>sv().bind(t=>Zt(t,"_dir")).exists(t=>t==="rtl"),hasCode:t=>fn(Zc,t)},ai=()=>{const t=[],n={},o={},s=[],l=(y,_)=>{const E=ne(s,T=>T.name===y&&T.state===_);ze(E,T=>T.resolve())},d=y=>fn(n,y),m=(y,_)=>{const E=Cc.getCode();!E||_&&(","+(_||"")+",").indexOf(","+E+",")===-1||Xu.ScriptLoader.add(n[y]+"/langs/"+E+".js")},f=(y,_="added")=>_==="added"&&(E=>fn(o,E))(y)||_==="loaded"&&d(y)?Promise.resolve():new Promise(E=>{s.push({name:y,state:_,resolve:E})});return{items:t,urls:n,lookup:o,get:y=>{if(o[y])return o[y].instance},requireLangPack:(y,_)=>{ai.languageLoad!==!1&&(d(y)?m(y,_):f(y,"loaded").then(()=>m(y,_)))},add:(y,_)=>(t.push(_),o[y]={instance:_},l(y,"added"),_),remove:y=>{delete n[y],delete o[y]},createUrl:(y,_)=>le(_)?le(y)?{prefix:"",resource:_,suffix:""}:{prefix:y.prefix,resource:_,suffix:y.suffix}:_,load:(y,_)=>{if(n[y])return Promise.resolve();let E=le(_)?_:_.prefix+_.resource+_.suffix;E.indexOf("/")!==0&&E.indexOf("://")===-1&&(E=ai.baseURL+"/"+E),n[y]=E.substring(0,E.lastIndexOf("/"));const T=()=>(l(y,"loaded"),Promise.resolve());return o[y]?T():Xu.ScriptLoader.add(E).then(T)},waitFor:f}};ai.languageLoad=!0,ai.baseURL="",ai.PluginManager=ai(),ai.ThemeManager=ai(),ai.ModelManager=ai();const ep=t=>{const n=_s(Q.none()),o=()=>n.get().each(s=>clearInterval(s));return{clear:()=>{o(),n.set(Q.none())},isSet:()=>n.get().isSome(),get:()=>n.get(),set:s=>{o(),n.set(Q.some(setInterval(s,t)))}}},_a=()=>{const t=(n=>{const o=_s(Q.none()),s=()=>o.get().each(n);return{clear:()=>{s(),o.set(Q.none())},isSet:()=>o.get().isSome(),get:()=>o.get(),set:l=>{s(),o.set(Q.some(l))}}})(Ft);return{...t,on:n=>t.get().each(n)}},Ca=(t,n)=>{let o=null;return{cancel:()=>{me(o)||(clearTimeout(o),o=null)},throttle:(...s)=>{me(o)&&(o=setTimeout(()=>{o=null,t.apply(null,s)},n))}}},Ei=(t,n)=>{let o=null;const s=()=>{me(o)||(clearTimeout(o),o=null)};return{cancel:s,throttle:(...l)=>{s(),o=setTimeout(()=>{o=null,t.apply(null,l)},n)}}},Ml=Ke("mce-annotation"),si=Ke("data-mce-annotation"),Fm=Ke("data-mce-annotation-uid"),ql=Ke("data-mce-annotation-active"),Wc=Ke("data-mce-annotation-classes"),jf=Ke("data-mce-annotation-attrs"),wh=t=>n=>Ur(n,t),iv=(t,n)=>{const o=t.selection.getRng(),s=Ue(o.startContainer),l=Ue(t.getBody()),d=n.fold(()=>"."+Ml(),f=>`[${si()}="${f}"]`),m=$u(s,o.startOffset).getOr(s);return Ya(m,d,wh(l)).bind(f=>Fi(f,`${Fm()}`).bind(y=>Fi(f,`${si()}`).map(_=>{const E=bb(t,y);return{uid:y,name:_,elements:E}})))},lv=(t,n)=>kd(t,"data-mce-bogus")||Cr(t,'[data-mce-bogus="all"]',wh(n)),bb=(t,n)=>{const o=Ue(t.getBody()),s=Jn(o,`[${Fm()}="${n}"]`);return ne(s,l=>!lv(l,o))},Hm=(t,n)=>{const o=Ue(t.getBody()),s=Jn(o,`[${si()}="${n}"]`),l={};return ze(s,d=>{if(!lv(d,o)){const m=ws(d,Fm()),f=Zt(l,m).getOr([]);l[m]=f.concat([d])}}),l};let Zf=0;const Ea=t=>{const n=new Date().getTime(),o=Math.floor(1e9*Math.random());return Zf++,t+"_"+o+Zf+String(n)},yb=(t,n)=>Ue(t.dom.cloneNode(n)),Bd=t=>yb(t,!1),xh=t=>yb(t,!0),Cs=(t,n)=>{const o=((l,d)=>{const m=us(d),f=Sd(l);return el(m,f),m})(t,n);hl(t,o);const s=fa(t);return X(o,s),ce(t),o},Kl=(t,n,o=pn)=>{const s=new qo(t,n),l=d=>{let m;do m=s[d]();while(m&&!tn(m)&&!o(m));return Q.from(m).filter(tn)};return{current:()=>Q.from(s.current()).filter(tn),next:()=>l("next"),prev:()=>l("prev"),prev2:()=>l("prev2")}},Fd=(t,n)=>{const o=n||(l=>t.isBlock(l)||kt(l)||rr(l)),s=(l,d,m,f)=>{if(tn(l)){const y=f(l,d,l.data);if(y!==-1)return Q.some({container:l,offset:y})}return m().bind(y=>s(y.container,y.offset,m,f))};return{backwards:(l,d,m,f)=>{const y=Kl(l,f!=null?f:t.getRoot(),o);return s(l,d,()=>y.prev().map(_=>({container:_,offset:_.length})),m).getOrNull()},forwards:(l,d,m,f)=>{const y=Kl(l,f!=null?f:t.getRoot(),o);return s(l,d,()=>y.next().map(_=>({container:_,offset:0})),m).getOrNull()}}},zm=Math.round,Vm=t=>t?{left:zm(t.left),top:zm(t.top),bottom:zm(t.bottom),right:zm(t.right),width:zm(t.width),height:zm(t.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0},cv=(t,n)=>(t=Vm(t),n||(t.left=t.left+t.width),t.right=t.left,t.width=0,t),kc=(t,n,o)=>t>=0&&t<=Math.min(n.height,o.height)/2,Sc=(t,n)=>{const o=Math.min(n.height/2,t.height/2);return t.bottom-o<n.top||!(t.top>n.bottom)&&kc(n.top-t.bottom,t,n)},$m=(t,n)=>t.top>n.bottom||!(t.bottom<n.top)&&kc(n.bottom-t.top,t,n),as=(t,n,o)=>{const s=Math.max(Math.min(n,t.left+t.width),t.left),l=Math.max(Math.min(o,t.top+t.height),t.top);return Math.sqrt((n-s)*(n-s)+(o-l)*(o-l))},yl=t=>{const n=t.startContainer,o=t.startOffset;return n===t.endContainer&&n.hasChildNodes()&&t.endOffset===o+1?n.childNodes[o]:null},Yl=(t,n)=>{if(vn(t)&&t.hasChildNodes()){const o=t.childNodes,s=((l,d,m)=>Math.min(Math.max(l,0),m))(n,0,o.length-1);return o[s]}return t},yw=new RegExp("[\u0300-\u036F\u0483-\u0487\u0488-\u0489\u0591-\u05BD\u05BF\u05C1-\u05C2\u05C4-\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7-\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962-\u0963\u0981\u09BC\u09BE\u09C1-\u09C4\u09CD\u09D7\u09E2-\u09E3\u0A01-\u0A02\u0A3C\u0A41-\u0A42\u0A47-\u0A48\u0A4B-\u0A4D\u0A51\u0A70-\u0A71\u0A75\u0A81-\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7-\u0AC8\u0ACD\u0AE2-\u0AE3\u0B01\u0B3C\u0B3E\u0B3F\u0B41-\u0B44\u0B4D\u0B56\u0B57\u0B62-\u0B63\u0B82\u0BBE\u0BC0\u0BCD\u0BD7\u0C00\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55-\u0C56\u0C62-\u0C63\u0C81\u0CBC\u0CBF\u0CC2\u0CC6\u0CCC-\u0CCD\u0CD5-\u0CD6\u0CE2-\u0CE3\u0D01\u0D3E\u0D41-\u0D44\u0D4D\u0D57\u0D62-\u0D63\u0DCA\u0DCF\u0DD2-\u0DD4\u0DD6\u0DDF\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB-\u0EBC\u0EC8-\u0ECD\u0F18-\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86-\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039-\u103A\u103D-\u103E\u1058-\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085-\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752-\u1753\u1772-\u1773\u17B4-\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u18A9\u1920-\u1922\u1927-\u1928\u1932\u1939-\u193B\u1A17-\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1ABD\u1ABE\u1B00-\u1B03\u1B34\u1B36-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80-\u1B81\u1BA2-\u1BA5\u1BA8-\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8-\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8-\u1CF9\u1DC0-\u1DF5\u1DFC-\u1DFF\u200C-\u200D\u20D0-\u20DC\u20DD-\u20E0\u20E1\u20E2-\u20E4\u20E5-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302D\u302E-\u302F\u3099-\u309A\uA66F\uA670-\uA672\uA674-\uA67D\uA69E-\uA69F\uA6F0-\uA6F1\uA802\uA806\uA80B\uA825-\uA826\uA8C4\uA8E0-\uA8F1\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9E5\uAA29-\uAA2E\uAA31-\uAA32\uAA35-\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7-\uAAB8\uAABE-\uAABF\uAAC1\uAAEC-\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFF9E-\uFF9F]"),Um=t=>le(t)&&t.charCodeAt(0)>=768&&yw.test(t),jm=vn,uv=yc,_h=rl("display","block table"),Ui=rl("float","left right"),Zm=((...t)=>n=>{for(let o=0;o<t.length;o++)if(!t[o](n))return!1;return!0})(jm,uv,kn(Ui)),dv=kn(rl("white-space","pre pre-line pre-wrap")),Wf=tn,wb=kt,ww=la.nodeIndex,Ju=(t,n)=>n<0&&vn(t)&&t.hasChildNodes()?void 0:Yl(t,n),pu=t=>t?t.createRange():la.DOM.createRng(),Wm=t=>le(t)&&/[\r\n\t ]/.test(t),pr=t=>!!t.setStart&&!!t.setEnd,ji=t=>{const n=t.startContainer,o=t.startOffset;if(Wm(t.toString())&&dv(n.parentNode)&&tn(n)){const s=n.data;if(Wm(s[o-1])||Wm(s[o+1]))return!0}return!1},Hd=t=>t.left===0&&t.right===0&&t.top===0&&t.bottom===0,hu=t=>{var n;let o;const s=t.getClientRects();return o=s.length>0?Vm(s[0]):Vm(t.getBoundingClientRect()),!pr(t)&&wb(t)&&Hd(o)?(l=>{const d=l.ownerDocument,m=pu(d),f=d.createTextNode(ds),y=l.parentNode;y.insertBefore(f,l),m.setStart(f,0),m.setEnd(f,1);const _=Vm(m.getBoundingClientRect());return y.removeChild(f),_})(t):Hd(o)&&pr(t)&&(n=(l=>{const d=l.startContainer,m=l.endContainer,f=l.startOffset,y=l.endOffset;if(d===m&&tn(m)&&f===0&&y===1){const _=l.cloneRange();return _.setEndAfter(m),hu(_)}return null})(t))!==null&&n!==void 0?n:o},Wr=(t,n)=>{const o=cv(t,n);return o.width=1,o.right=o.left+1,o},St=(t,n,o)=>{const s=()=>(o||(o=(l=>{const d=[],m=E=>{var T,P;E.height!==0&&(d.length>0&&(T=E,P=d[d.length-1],T.left===P.left&&T.top===P.top&&T.bottom===P.bottom&&T.right===P.right)||d.push(E))},f=(E,T)=>{const P=pu(E.ownerDocument);if(T<E.data.length){if(Um(E.data[T]))return;if(Um(E.data[T-1])&&(P.setStart(E,T),P.setEnd(E,T+1),!ji(P)))return void m(Wr(hu(P),!1))}T>0&&(P.setStart(E,T-1),P.setEnd(E,T),ji(P)||m(Wr(hu(P),!1))),T<E.data.length&&(P.setStart(E,T),P.setEnd(E,T+1),ji(P)||m(Wr(hu(P),!0)))},y=l.container(),_=l.offset();if(Wf(y))return f(y,_),d;if(jm(y))if(l.isAtEnd()){const E=Ju(y,_);Wf(E)&&f(E,E.data.length),Zm(E)&&!wb(E)&&m(Wr(hu(E),!1))}else{const E=Ju(y,_);if(Wf(E)&&f(E,0),Zm(E)&&l.isAtEnd())return m(Wr(hu(E),!1)),d;const T=Ju(l.container(),l.offset()-1);Zm(T)&&!wb(T)&&(_h(T)||_h(E)||!Zm(E))&&m(Wr(hu(T),!1)),Zm(E)&&m(Wr(hu(E),!0))}return d})(St(t,n))),o);return{container:Ke(t),offset:Ke(n),toRange:()=>{const l=pu(t.ownerDocument);return l.setStart(t,n),l.setEnd(t,n),l},getClientRects:s,isVisible:()=>s().length>0,isAtStart:()=>(Wf(t),n===0),isAtEnd:()=>Wf(t)?n>=t.data.length:n>=t.childNodes.length,isEqual:l=>l&&t===l.container()&&n===l.offset(),getNode:l=>Ju(t,l?n-1:n)}};St.fromRangeStart=t=>St(t.startContainer,t.startOffset),St.fromRangeEnd=t=>St(t.endContainer,t.endOffset),St.after=t=>St(t.parentNode,ww(t)+1),St.before=t=>St(t.parentNode,ww(t)),St.isAbove=(t,n)=>Ka(Xn(n.getClientRects()),so(t.getClientRects()),Sc).getOr(!1),St.isBelow=(t,n)=>Ka(so(n.getClientRects()),Xn(t.getClientRects()),$m).getOr(!1),St.isAtStart=t=>!!t&&t.isAtStart(),St.isAtEnd=t=>!!t&&t.isAtEnd(),St.isTextPosition=t=>!!t&&tn(t.container()),St.isElementPosition=t=>!St.isTextPosition(t);const Gm=(t,n)=>{tn(n)&&n.data.length===0&&t.remove(n)},$s=(t,n,o)=>{sh(o)?((s,l,d)=>{const m=Q.from(d.firstChild),f=Q.from(d.lastChild);l.insertNode(d),m.each(y=>Gm(s,y.previousSibling)),f.each(y=>Gm(s,y.nextSibling))})(t,n,o):((s,l,d)=>{l.insertNode(d),Gm(s,d.previousSibling),Gm(s,d.nextSibling)})(t,n,o)},Zi=tn,Ch=gc,mv=la.nodeIndex,fv=t=>{const n=t.parentNode;return Ch(n)?fv(n):n},kh=t=>t?bs(t.childNodes,(n,o)=>(Ch(o)&&o.nodeName!=="BR"?n=n.concat(kh(o)):n.push(o),n),[]):[],xb=t=>n=>t===n,_b=t=>(Zi(t)?"text()":t.nodeName.toLowerCase())+"["+(n=>{let o,s;o=kh(fv(n)),s=Ys(o,xb(n),n),o=o.slice(0,s+1);const l=bs(o,(d,m,f)=>(Zi(m)&&Zi(o[f-1])&&d++,d),0);return o=zr(o,Na([n.nodeName])),s=Ys(o,xb(n),n),s-l})(t)+"]",Cb=(t,n)=>{let o,s=[],l=n.container(),d=n.offset();if(Zi(l))o=((f,y)=>{let _=f;for(;(_=_.previousSibling)&&Zi(_);)y+=_.data.length;return y})(l,d);else{const f=l.childNodes;d>=f.length?(o="after",d=f.length-1):o="before",l=f[d]}s.push(_b(l));let m=((f,y,_)=>{const E=[];for(let T=y.parentNode;T&&T!==f;T=T.parentNode)E.push(T);return E})(t,l);return m=zr(m,kn(gc)),s=s.concat(Xr(m,f=>_b(f))),s.reverse().join("/")+","+o},kb=(t,n)=>{if(!n)return null;const o=n.split(","),s=o[0].split("/"),l=o.length>1?o[1]:"before",d=bs(s,(m,f)=>{const y=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(f);return y?(y[1]==="text()"&&(y[1]="#text"),((_,E,T)=>{let P=kh(_);return P=zr(P,(V,B)=>!Zi(V)||!Zi(P[B-1])),P=zr(P,Na([E])),P[T]})(m,y[1],parseInt(y[2],10))):null},t);if(!d)return null;if(!Zi(d)&&d.parentNode){let m;return m=l==="after"?mv(d)+1:mv(d),St(d.parentNode,m)}return((m,f)=>{let y=m,_=0;for(;Zi(y);){const E=y.data.length;if(f>=_&&f<=_+E){m=y,f-=_;break}if(!Zi(y.nextSibling)){m=y,f=E;break}_+=E,y=y.nextSibling}return Zi(m)&&f>m.data.length&&(f=m.data.length),St(m,f)})(d,parseInt(l,10))},zd=rr,Rl=(t,n,o,s,l)=>{const d=l?s.startContainer:s.endContainer;let m=l?s.startOffset:s.endOffset;const f=[],y=t.getRoot();if(tn(d))f.push(o?((_,E,T)=>{let P=_(E.data.slice(0,T)).length;for(let V=E.previousSibling;V&&tn(V);V=V.previousSibling)P+=_(V.data).length;return P})(n,d,m):m);else{let _=0;const E=d.childNodes;m>=E.length&&E.length&&(_=1,m=Math.max(0,E.length-1)),f.push(t.nodeIndex(E[m],o)+_)}for(let _=d;_&&_!==y;_=_.parentNode)f.push(t.nodeIndex(_,o));return f},Us=(t,n,o)=>{let s=0;return an.each(t.select(n),l=>l.getAttribute("data-mce-bogus")==="all"?void 0:l!==o&&void s++),s},Vd=(t,n)=>{let o=n?t.startContainer:t.endContainer,s=n?t.startOffset:t.endOffset;if(vn(o)&&o.nodeName==="TR"){const l=o.childNodes;o=l[Math.min(n?s:s-1,l.length-1)],o&&(s=n?0:o.childNodes.length,n?t.setStart(o,s):t.setEnd(o,s))}},Sb=t=>(Vd(t,!0),Vd(t,!1),t),Eb=(t,n)=>{if(vn(t)&&(t=Yl(t,n),zd(t)))return t;if(ni(t)){tn(t)&&Al(t)&&(t=t.parentNode);let o=t.previousSibling;if(zd(o)||(o=t.nextSibling,zd(o)))return o}},Ob=(t,n,o)=>{const s=o.getNode(),l=o.getRng();if(s.nodeName==="IMG"||zd(s)){const m=s.nodeName;return{name:m,index:Us(o.dom,m,s)}}const d=(m=>Eb(m.startContainer,m.startOffset)||Eb(m.endContainer,m.endOffset))(l);if(d){const m=d.tagName;return{name:m,index:Us(o.dom,m,d)}}return((m,f,y,_)=>{const E=f.dom,T=Rl(E,m,y,_,!0),P=f.isForward(),V=Md(_)?{isFakeCaret:!0}:{};return f.isCollapsed()?{start:T,forward:P,...V}:{start:T,end:Rl(E,m,y,_,!1),forward:P,...V}})(t,o,n,l)},gv=(t,n,o)=>{const s={"data-mce-type":"bookmark",id:n,style:"overflow:hidden;line-height:0px"};return o?t.create("span",s,"&#xFEFF;"):t.create("span",s)},pv=(t,n)=>{const o=t.dom;let s=t.getRng();const l=o.uniqueId(),d=t.isCollapsed(),m=t.getNode(),f=m.nodeName,y=t.isForward();if(f==="IMG")return{name:f,index:Us(o,f,m)};const _=Sb(s.cloneRange());if(!d){_.collapse(!1);const T=gv(o,l+"_end",n);$s(o,_,T)}s=Sb(s),s.collapse(!0);const E=gv(o,l+"_start",n);return $s(o,s,E),t.moveToBookmark({id:l,keep:!0,forward:y}),{id:l,forward:y}},hv=it(Ob,nn,!0),ii=t=>{const n=d=>d(t),o=Ke(t),s=()=>l,l={tag:!0,inner:t,fold:(d,m)=>m(t),isValue:Sn,isError:pn,map:d=>Oa.value(d(t)),mapError:s,bind:n,exists:n,forall:n,getOr:o,or:s,getOrThunk:o,orThunk:s,getOrDie:o,each:d=>{d(t)},toOptional:()=>Q.some(t)};return l},li=t=>{const n=()=>o,o={tag:!1,inner:t,fold:(s,l)=>s(t),isValue:pn,isError:Sn,map:n,mapError:s=>Oa.error(s(t)),bind:n,exists:pn,forall:Sn,getOr:nn,or:nn,getOrThunk:cn,orThunk:cn,getOrDie:wt(String(t)),each:Ft,toOptional:Q.none};return o},Oa={value:ii,error:li,fromOption:(t,n)=>t.fold(()=>li(n),ii)},ss=t=>{if(!xe(t))throw new Error("cases must be an array");if(t.length===0)throw new Error("there must be at least one case");const n=[],o={};return ze(t,(s,l)=>{const d=ur(s);if(d.length!==1)throw new Error("one and only one name per case");const m=d[0],f=s[m];if(o[m]!==void 0)throw new Error("duplicate key detected:"+m);if(m==="cata")throw new Error("cannot have a case named cata (sorry)");if(!xe(f))throw new Error("case arguments must be an array");n.push(m),o[m]=(...y)=>{const _=y.length;if(_!==f.length)throw new Error("Wrong number of arguments to case "+m+". Expected "+f.length+" ("+f+"), got "+_);return{fold:(...E)=>{if(E.length!==t.length)throw new Error("Wrong number of arguments to fold. Expected "+t.length+", got "+E.length);return E[l].apply(null,y)},match:E=>{const T=ur(E);if(n.length!==T.length)throw new Error("Wrong number of arguments to match. Expected: "+n.join(",")+`
Actual: `+T.join(","));if(!hn(n,P=>Ht(T,P)))throw new Error("Not all branches were specified when using match. Specified: "+T.join(", ")+`
Required: `+n.join(", "));return E[m].apply(null,y)},log:E=>{console.log(E,{constructors:n,constructor:m,params:y})}}}}),o};ss([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);const Dl=t=>t.type==="inline-command"||t.type==="inline-format",$a=t=>t.type==="block-command"||t.type==="block-format",tp=t=>{const n=s=>Oa.error({message:s,pattern:t}),o=(s,l,d)=>{if(t.format!==void 0){let m;if(xe(t.format)){if(!hn(t.format,le))return n(s+" pattern has non-string items in the `format` array");m=t.format}else{if(!le(t.format))return n(s+" pattern has non-string `format` parameter");m=[t.format]}return Oa.value(l(m))}return t.cmd!==void 0?le(t.cmd)?Oa.value(d(t.cmd,t.value)):n(s+" pattern has non-string `cmd` parameter"):n(s+" pattern is missing both `format` and `cmd` parameters")};if(!ue(t))return n("Raw pattern is not an object");if(!le(t.start))return n("Raw pattern is missing `start` parameter");if(t.end!==void 0){if(!le(t.end))return n("Inline pattern has non-string `end` parameter");if(t.start.length===0&&t.end.length===0)return n("Inline pattern has empty `start` and `end` parameters");let s=t.start,l=t.end;return l.length===0&&(l=s,s=""),o("Inline",d=>({type:"inline-format",start:s,end:l,format:d}),(d,m)=>({type:"inline-command",start:s,end:l,cmd:d,value:m}))}return t.replacement!==void 0?le(t.replacement)?t.start.length===0?n("Replacement pattern has empty `start` parameter"):Oa.value({type:"inline-command",start:"",end:t.start,cmd:"mceInsertContent",value:t.replacement}):n("Replacement pattern has non-string `replacement` parameter"):t.start.length===0?n("Block pattern has empty `start` parameter"):o("Block",s=>({type:"block-format",start:t.start,format:s[0]}),(s,l)=>({type:"block-command",start:t.start,cmd:s,value:l}))},ks=t=>ne(t,$a),Tb=t=>ne(t,Dl),vv=t=>{const n=(o=>{const s=[],l=[];return ze(o,d=>{d.fold(m=>{s.push(m)},m=>{l.push(m)})}),{errors:s,values:l}})(Et(t,tp));return ze(n.errors,o=>console.error(o.message,o.pattern)),n.values},bv=zl().deviceType,Ab=bv.isTouch(),yv=la.DOM,qm=t=>fe(t,RegExp),Zn=t=>n=>n.options.get(t),$d=t=>le(t)||ue(t),Sh=(t,n="")=>o=>{const s=le(o);if(s){if(o.indexOf("=")!==-1){const l=(d=>{const m=d.indexOf("=")>0?d.split(/[;,](?![^=;,]*(?:[;,]|$))/):d.split(",");return Ve(m,(f,y)=>{const _=y.split("="),E=_[0],T=_.length>1?_[1]:E;return f[Qn(E)]=Qn(T),f},{})})(o);return{value:Zt(l,t.id).getOr(n),valid:s}}return{value:o,valid:s}}return{valid:!1,message:"Must be a string."}},Nb=Zn("iframe_attrs"),xw=Zn("doctype"),ln=Zn("document_base_url"),pk=Zn("body_id"),js=Zn("body_class"),Mb=Zn("content_security_policy"),Rb=Zn("br_in_pre"),ll=Zn("forced_root_block"),Oi=Zn("forced_root_block_attrs"),wv=Zn("newline_behavior"),wl=Zn("br_newline_selector"),Eh=Zn("no_newline_selector"),np=Zn("keep_styles"),Qu=Zn("end_container_on_empty_block"),Ec=Zn("automatic_uploads"),xv=Zn("images_reuse_filename"),Gc=Zn("images_replace_blob_uris"),op=Zn("icons"),_v=Zn("icons_url"),Cv=Zn("images_upload_url"),kv=Zn("images_upload_base_path"),Sv=Zn("images_upload_credentials"),Db=Zn("images_upload_handler"),Ib=Zn("content_css_cors"),Ev=Zn("referrer_policy"),Pb=Zn("language"),Lb=Zn("language_url"),Ov=Zn("indent_use_margin"),Oh=Zn("indentation"),hk=Zn("content_css"),Th=Zn("content_style"),Gf=Zn("font_css"),ha=Zn("directionality"),Wi=Zn("inline_boundaries_selector"),Ds=Zn("object_resizing"),Bb=Zn("resize_img_proportional"),_w=Zn("placeholder"),Fb=Zn("event_root"),Ah=Zn("service_message"),Km=Zn("theme"),Cw=Zn("theme_url"),qf=Zn("model"),rp=Zn("model_url"),Kf=Zn("inline_boundaries"),Hb=Zn("formats"),Nh=Zn("preview_styles"),Yf=Zn("format_empty_lines"),Mh=Zn("format_noneditable_selector"),Xf=Zn("custom_ui_selector"),ap=Zn("inline"),zb=Zn("hidden_input"),ed=Zn("submit_patch"),Ym=Zn("add_form_submit_trigger"),Rh=Zn("add_unload_trigger"),Xm=Zn("custom_undo_redo_levels"),Dh=Zn("disable_nodechange"),Tv=Zn("readonly"),kw=Zn("editable_root"),Av=Zn("content_css_cors"),Ih=Zn("plugins"),Nv=Zn("external_plugins"),Vb=Zn("block_unsupported_drop"),$b=Zn("visual"),Mv=Zn("visual_table_class"),Sw=Zn("visual_anchor_class"),Jf=Zn("iframe_aria_text"),Ph=Zn("setup"),Rv=Zn("init_instance_callback"),vk=Zn("urlconverter_callback"),sp=Zn("auto_focus"),ip=Zn("browser_spellcheck"),Ew=Zn("protect"),Qf=Zn("paste_block_drop"),Ud=Zn("paste_data_images"),Ub=Zn("paste_preprocess"),jb=Zn("paste_postprocess"),jd=Zn("newdocument_content"),lp=Zn("paste_webkit_styles"),Ow=Zn("paste_remove_styles_if_webkit"),Dv=Zn("paste_merge_formats"),Zb=Zn("smart_paste"),Ti=Zn("paste_as_text"),Tw=Zn("paste_tab_spaces"),Wb=Zn("allow_html_data_urls"),Gb=Zn("text_patterns"),Aw=Zn("text_patterns_lookup"),Lh=Zn("noneditable_class"),qb=Zn("editable_class"),Iv=Zn("noneditable_regexp"),Nw=Zn("preserve_cdata"),bk=Zn("highlight_on_focus"),eg=Zn("xss_sanitization"),Pv=Zn("init_content_sync"),cp=t=>an.explode(t.options.get("images_file_types")),Kb=Zn("table_tab_navigation"),Mw=Zn("details_initial_state"),Yb=Zn("details_serialized_state"),Xb=vn,Jm=tn,Bh=t=>{const n=t.parentNode;n&&n.removeChild(t)},up=t=>{const n=Gu(t);return{count:t.length-n.length,text:n}},Qm=t=>{let n;for(;(n=t.data.lastIndexOf(Vs))!==-1;)t.deleteData(n,1)},Rw=(t,n)=>(td(t),n),yk=(t,n)=>St.isTextPosition(n)?((o,s)=>Jm(o)&&s.container()===o?((l,d)=>{const m=up(l.data.substr(0,d.offset())),f=up(l.data.substr(d.offset()));return(m.text+f.text).length>0?(Qm(l),St(l,d.offset()-m.count)):d})(o,s):Rw(o,s))(t,n):((o,s)=>s.container()===o.parentNode?((l,d)=>{const m=d.container(),f=((y,_)=>{const E=Sr(y,_);return E===-1?Q.none():Q.some(E)})(So(m.childNodes),l).map(y=>y<d.offset()?St(m,d.offset()-1):d).getOr(d);return td(l),f})(o,s):Rw(o,s))(t,n),td=t=>{Xb(t)&&ni(t)&&(Ug(t)?t.removeAttribute("data-mce-caret"):Bh(t)),Jm(t)&&(Qm(t),t.data.length===0&&Bh(t))},dp=rr,wk=$i,Fh=hc,Hh=(t,n,o)=>{const s=cv(n.getBoundingClientRect(),o);let l,d;if(t.tagName==="BODY"){const f=t.ownerDocument.documentElement;l=t.scrollLeft||f.scrollLeft,d=t.scrollTop||f.scrollTop}else{const f=t.getBoundingClientRect();l=t.scrollLeft-f.left,d=t.scrollTop-f.top}s.left+=l,s.right+=l,s.top+=d,s.bottom+=d,s.width=1;let m=n.offsetWidth-n.clientWidth;return m>0&&(o&&(m*=-1),s.left+=m,s.right+=m),s},Ai=(t,n,o,s)=>{const l=_a();let d,m;const f=ll(t),y=t.dom,_=()=>{(E=>{var T,P;const V=Jn(Ue(E),"*[contentEditable=false],video,audio,embed,object");for(let B=0;B<V.length;B++){const Z=V[B].dom;let z=Z.previousSibling;if(Lf(z)){const W=z.data;W.length===1?(T=z.parentNode)===null||T===void 0||T.removeChild(z):z.deleteData(W.length-1,1)}z=Z.nextSibling,jg(z)&&(z.data.length===1?(P=z.parentNode)===null||P===void 0||P.removeChild(z):z.deleteData(0,1))}})(n),m&&(td(m),m=null),l.on(E=>{y.remove(E.caret),l.clear()}),d&&(clearInterval(d),d=void 0)};return{show:(E,T)=>{let P;if(_(),Fh(T))return null;if(!o(T))return m=((V,B)=>{var Z;const z=((Z=V.ownerDocument)!==null&&Z!==void 0?Z:document).createTextNode(Vs),W=V.parentNode;if(B){const te=V.previousSibling;if(Qa(te)){if(ni(te))return te;if(Lf(te))return te.splitText(te.data.length-1)}W==null||W.insertBefore(z,V)}else{const te=V.nextSibling;if(Qa(te)){if(ni(te))return te;if(jg(te))return te.splitText(1),te}V.nextSibling?W==null||W.insertBefore(z,V.nextSibling):W==null||W.appendChild(z)}return z})(T,E),P=T.ownerDocument.createRange(),nd(m.nextSibling)?(P.setStart(m,0),P.setEnd(m,0)):(P.setStart(m,1),P.setEnd(m,1)),P;{const V=((z,W,te)=>{var se;const be=((se=W.ownerDocument)!==null&&se!==void 0?se:document).createElement(z);be.setAttribute("data-mce-caret",te?"before":"after"),be.setAttribute("data-mce-bogus","all"),be.appendChild(du().dom);const Ce=W.parentNode;return te?Ce==null||Ce.insertBefore(be,W):W.nextSibling?Ce==null||Ce.insertBefore(be,W.nextSibling):Ce==null||Ce.appendChild(be),be})(f,T,E),B=Hh(n,T,E);y.setStyle(V,"top",B.top),m=V;const Z=y.create("div",{class:"mce-visual-caret","data-mce-bogus":"all"});y.setStyles(Z,{...B}),y.add(n,Z),l.set({caret:Z,element:T,before:E}),E&&y.addClass(Z,"mce-visual-caret-before"),d=setInterval(()=>{l.on(z=>{s()?y.toggleClass(z.caret,"mce-visual-caret-hidden"):y.addClass(z.caret,"mce-visual-caret-hidden")})},500),P=T.ownerDocument.createRange(),P.setStart(V,0),P.setEnd(V,0)}return P},hide:_,getCss:()=>".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}",reposition:()=>{l.on(E=>{const T=Hh(n,E.element,E.before);y.setStyles(E.caret,{...T})})},destroy:()=>clearInterval(d)}},mp=()=>_r.browser.isFirefox(),nd=t=>dp(t)||wk(t),od=t=>(nd(t)||na(t)&&mp())&&Hg(Ue(t)).exists(El),Jb=$c,fp=rr,Dw=$i,Zd=rl("display","block table table-cell table-caption list-item"),Lv=ni,zh=Al,Xl=vn,Qb=tn,Vh=yc,rd=t=>t>0,ef=t=>t<0,Wd=(t,n)=>{let o;for(;o=t(n);)if(!zh(o))return o;return null},tf=(t,n,o,s,l)=>{const d=new qo(t,s),m=fp(t)||zh(t);let f;if(ef(n)){if(m&&(f=Wd(d.prev.bind(d),!0),o(f)))return f;for(;f=Wd(d.prev.bind(d),l);)if(o(f))return f}if(rd(n)){if(m&&(f=Wd(d.next.bind(d),!0),o(f)))return f;for(;f=Wd(d.next.bind(d),l);)if(o(f))return f}return null},Gd=(t,n)=>{for(;t&&t!==n;){if(Zd(t))return t;t=t.parentNode}return null},vu=(t,n,o)=>Gd(t.container(),o)===Gd(n.container(),o),Bv=(t,n)=>{if(!n)return Q.none();const o=n.container(),s=n.offset();return Xl(o)?Q.from(o.childNodes[s+t]):Q.none()},Fv=(t,n)=>{var o;const s=((o=n.ownerDocument)!==null&&o!==void 0?o:document).createRange();return t?(s.setStartBefore(n),s.setEndBefore(n)):(s.setStartAfter(n),s.setEndAfter(n)),s},Iw=(t,n,o)=>Gd(n,t)===Gd(o,t),Pw=(t,n,o)=>{const s=t?"previousSibling":"nextSibling";let l=o;for(;l&&l!==n;){let d=l[s];if(d&&Lv(d)&&(d=d[s]),fp(d)||Dw(d)){if(Iw(n,d,l))return d;break}if(Vh(d))break;l=l.parentNode}return null},ad=it(Fv,!0),qd=it(Fv,!1),$h=(t,n,o)=>{let s;const l=it(Pw,!0,n),d=it(Pw,!1,n),m=o.startContainer,f=o.startOffset;if(Al(m)){const y=Qb(m)?m.parentNode:m,_=y.getAttribute("data-mce-caret");if(_==="before"&&(s=y.nextSibling,od(s)))return ad(s);if(_==="after"&&(s=y.previousSibling,od(s)))return qd(s)}if(!o.collapsed)return o;if(tn(m)){if(Lv(m)){if(t===1){if(s=d(m),s)return ad(s);if(s=l(m),s)return qd(s)}if(t===-1){if(s=l(m),s)return qd(s);if(s=d(m),s)return ad(s)}return o}if(Lf(m)&&f>=m.data.length-1)return t===1&&(s=d(m),s)?ad(s):o;if(jg(m)&&f<=1)return t===-1&&(s=l(m),s)?qd(s):o;if(f===m.data.length)return s=d(m),s?ad(s):o;if(f===0)return s=l(m),s?qd(s):o}return o},br=(t,n)=>Bv(t?0:-1,n).filter(fp),Is=(t,n,o)=>{const s=$h(t,n,o);return t===-1?St.fromRangeStart(s):St.fromRangeEnd(s)},Il=t=>Q.from(t.getNode()).map(Ue),Kd=(t,n)=>{let o=n;for(;o=t(o);)if(o.isVisible())return o;return o},Hv=(t,n)=>{const o=vu(t,n);return!(o||!kt(t.getNode()))||o};var ms;(function(t){t[t.Backwards=-1]="Backwards",t[t.Forwards=1]="Forwards"})(ms||(ms={}));const xk=rr,qc=tn,zv=vn,Vv=kt,tg=yc,ey=t=>bc(t)||(n=>!!G1(n)&&!Ve(So(n.getElementsByTagName("*")),(o,s)=>o||gb(s),!1))(t),Uh=Ia,gp=(t,n)=>t.hasChildNodes()&&n<t.childNodes.length?t.childNodes[n]:null,$v=(t,n)=>{if(rd(t)){if(tg(n.previousSibling)&&!qc(n.previousSibling))return St.before(n);if(qc(n))return St(n,0)}if(ef(t)){if(tg(n.nextSibling)&&!qc(n.nextSibling))return St.after(n);if(qc(n))return St(n,n.data.length)}return ef(t)?Vv(n)?St.before(n):St.after(n):St.before(n)},jh=(t,n,o)=>{let s,l,d,m;if(!zv(o)||!n)return null;if(n.isEqual(St.after(o))&&o.lastChild){if(m=St.after(o.lastChild),ef(t)&&tg(o.lastChild)&&zv(o.lastChild))return Vv(o.lastChild)?St.before(o.lastChild):m}else m=n;const f=m.container();let y=m.offset();if(qc(f)){if(ef(t)&&y>0)return St(f,--y);if(rd(t)&&y<f.length)return St(f,++y);s=f}else{if(ef(t)&&y>0&&(l=gp(f,y-1),tg(l)))return!ey(l)&&(d=tf(l,t,Uh,l),d)?qc(d)?St(d,d.data.length):St.after(d):qc(l)?St(l,l.data.length):St.before(l);if(rd(t)&&y<f.childNodes.length&&(l=gp(f,y),tg(l)))return Vv(l)?((E,T)=>{const P=T.nextSibling;return P&&tg(P)?qc(P)?St(P,0):St.before(P):jh(ms.Forwards,St.after(T),E)})(o,l):!ey(l)&&(d=tf(l,t,Uh,l),d)?qc(d)?St(d,0):St.before(d):qc(l)?St(l,0):St.after(l);s=l||m.getNode()}if(s&&(rd(t)&&m.isAtEnd()||ef(t)&&m.isAtStart())&&(s=tf(s,t,Sn,o,!0),Uh(s,o)))return $v(t,s);l=s&&tf(s,t,Uh,o);const _=Bs(ne(((E,T)=>{const P=[];let V=E;for(;V&&V!==T;)P.push(V),V=V.parentNode;return P})(f,o),xk));return!_||l&&_.contains(l)?l?$v(t,l):null:(m=rd(t)?St.after(_):St.before(_),m)},bu=t=>({next:n=>jh(ms.Forwards,n,t),prev:n=>jh(ms.Backwards,n,t)}),Uv=t=>St.isTextPosition(t)?t.offset()===0:yc(t.getNode()),ty=t=>{if(St.isTextPosition(t)){const n=t.container();return t.offset()===n.data.length}return yc(t.getNode(!0))},Lw=(t,n)=>!St.isTextPosition(t)&&!St.isTextPosition(n)&&t.getNode()===n.getNode(!0),gn=(t,n,o)=>{const s=bu(n);return Q.from(t?s.next(o):s.prev(o))},es=(t,n,o)=>gn(t,n,o).bind(s=>vu(o,s,n)&&((l,d,m)=>{return l?!Lw(d,m)&&(f=d,!(!St.isTextPosition(f)&&kt(f.getNode())))&&ty(d)&&Uv(m):!Lw(m,d)&&Uv(d)&&ty(m);var f})(t,o,s)?gn(t,n,s):Q.some(s)),jv=(t,n,o,s)=>es(t,n,o).bind(l=>s(l)?jv(t,n,l,s):Q.some(l)),is=(t,n)=>{const o=t?n.firstChild:n.lastChild;return tn(o)?Q.some(St(o,t?0:o.data.length)):o?yc(o)?Q.some(t?St.before(o):kt(s=o)?St.before(s):St.after(s)):((l,d,m)=>{const f=l?St.before(m):St.after(m);return gn(l,d,f)})(t,n,o):Q.none();var s},Zs=it(gn,!0),ci=it(gn,!1),Gi=it(is,!0),xl=it(is,!1),ng="_mce_caret",Oc=t=>vn(t)&&t.id===ng,nf=(t,n)=>{let o=n;for(;o&&o!==t;){if(Oc(o))return o;o=o.parentNode}return null},Bw=t=>fn(t,"name"),h=t=>an.isArray(t.start),w=t=>!(!Bw(t)&&J(t.forward))||t.forward,A=(t,n)=>(vn(n)&&t.isBlock(n)&&!n.innerHTML&&(n.innerHTML='<br data-mce-bogus="1" />'),n),R=(t,n)=>xl(t).fold(pn,o=>(n.setStart(o.container(),o.offset()),n.setEnd(o.container(),o.offset()),!0)),$=(t,n,o)=>!(!(s=>!s.hasChildNodes())(n)||!nf(t,n)||(((s,l)=>{var d;const m=((d=s.ownerDocument)!==null&&d!==void 0?d:document).createTextNode(Vs);s.appendChild(m),l.setStart(m,0),l.setEnd(m,0)})(n,o),0)),j=(t,n,o,s)=>{const l=o[n?"start":"end"],d=t.getRoot();if(l){let m=d,f=l[0];for(let y=l.length-1;m&&y>=1;y--){const _=m.childNodes;if($(d,m,s))return!0;if(l[y]>_.length-1)return!!$(d,m,s)||R(m,s);m=_[l[y]]}tn(m)&&(f=Math.min(l[0],m.data.length)),vn(m)&&(f=Math.min(l[0],m.childNodes.length)),n?s.setStart(m,f):s.setEnd(m,f)}return!0},ee=t=>tn(t)&&t.data.length>0,ie=(t,n,o)=>{const s=t.get(o.id+"_"+n),l=s==null?void 0:s.parentNode,d=o.keep;if(s&&l){let m,f;if(n==="start"?d?s.hasChildNodes()?(m=s.firstChild,f=1):ee(s.nextSibling)?(m=s.nextSibling,f=0):ee(s.previousSibling)?(m=s.previousSibling,f=s.previousSibling.data.length):(m=l,f=t.nodeIndex(s)+1):(m=l,f=t.nodeIndex(s)):d?s.hasChildNodes()?(m=s.firstChild,f=1):ee(s.previousSibling)?(m=s.previousSibling,f=s.previousSibling.data.length):(m=l,f=t.nodeIndex(s)):(m=l,f=t.nodeIndex(s)),!d){const y=s.previousSibling,_=s.nextSibling;let E;for(an.each(an.grep(s.childNodes),T=>{tn(T)&&(T.data=T.data.replace(/\uFEFF/g,""))});E=t.get(o.id+"_"+n);)t.remove(E,!0);if(tn(_)&&tn(y)&&!_r.browser.isOpera()){const T=y.data.length;y.appendData(_.data),t.remove(_),m=y,f=T}}return Q.some(St(m,f))}return Q.none()},ve=(t,n,o)=>((s,l,d=!1)=>l===2?Ob(Gu,d,s):l===3?(m=>{const f=m.getRng();return{start:Cb(m.dom.getRoot(),St.fromRangeStart(f)),end:Cb(m.dom.getRoot(),St.fromRangeEnd(f)),forward:m.isForward()}})(s):l?(m=>({rng:m.getRng(),forward:m.isForward()}))(s):pv(s,!1))(t,n,o),Me=(t,n)=>{((o,s)=>{const l=o.dom;if(s){if(h(s))return((d,m)=>{const f=d.createRng();return j(d,!0,m,f)&&j(d,!1,m,f)?Q.some({range:f,forward:w(m)}):Q.none()})(l,s);if((d=>le(d.start))(s))return((d,m)=>{const f=Q.from(kb(d.getRoot(),m.start)),y=Q.from(kb(d.getRoot(),m.end));return Ka(f,y,(_,E)=>{const T=d.createRng();return T.setStart(_.container(),_.offset()),T.setEnd(E.container(),E.offset()),{range:T,forward:w(m)}})})(l,s);if((d=>fn(d,"id"))(s))return((d,m)=>{const f=ie(d,"start",m),y=ie(d,"end",m);return Ka(f,y.or(f),(_,E)=>{const T=d.createRng();return T.setStart(A(d,_.container()),_.offset()),T.setEnd(A(d,E.container()),E.offset()),{range:T,forward:w(m)}})})(l,s);if(Bw(s))return((d,m)=>Q.from(d.select(m.name)[m.index]).map(f=>{const y=d.createRng();return y.selectNode(f),{range:y,forward:!0}}))(l,s);if((d=>fn(d,"rng"))(s))return Q.some({range:s.rng,forward:w(s)})}return Q.none()})(t,n).each(({range:o,forward:s})=>{t.setRng(o,s)})},Le=t=>vn(t)&&t.tagName==="SPAN"&&t.getAttribute("data-mce-type")==="bookmark",Re=(Fe=ds,t=>Fe===t);var Fe;const We=t=>t!==""&&` \f
\r	\v`.indexOf(t)!==-1,mt=t=>!We(t)&&!Re(t)&&!ei(t),lt=t=>{const n=t.toString(16);return(n.length===1?"0"+n:n).toUpperCase()},xt=t=>(n=>{return{value:(o=n,Tt(o,"#").toUpperCase())};var o})(lt(t.red)+lt(t.green)+lt(t.blue)),Rt=/^\s*rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)\s*$/i,Gt=/^\s*rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?(?:\.\d+)?)\s*\)\s*$/i,Ut=(t,n,o,s)=>({red:t,green:n,blue:o,alpha:s}),bn=(t,n,o,s)=>{const l=parseInt(t,10),d=parseInt(n,10),m=parseInt(o,10),f=parseFloat(s);return Ut(l,d,m,f)},_n=t=>(n=>{if(n==="transparent")return Q.some(Ut(0,0,0,0));const o=Rt.exec(n);if(o!==null)return Q.some(bn(o[1],o[2],o[3],"1"));const s=Gt.exec(n);return s!==null?Q.some(bn(s[1],s[2],s[3],s[4])):Q.none()})(t).map(xt).map(n=>"#"+n.value).getOr(t),Pn=t=>{const n=[];if(t)for(let o=0;o<t.rangeCount;o++)n.push(t.getRangeAt(o));return n},po=(t,n)=>{const o=Jn(n,"td[data-mce-selected],th[data-mce-selected]");return o.length>0?o:(s=>ne((l=>En(l,d=>{const m=yl(d);return m?[Ue(m)]:[]}))(s),Nm))(t)},mo=t=>po(Pn(t.selection.getSel()),Ue(t.getBody())),yr=(t,n)=>Ul(t,"table",n),Ro=t=>Tf(t).fold(Ke([t]),n=>[t].concat(Ro(n))),er=t=>zi(t).fold(Ke([t]),n=>Jr(n)==="br"?nl(n).map(o=>[t].concat(er(o))).getOr([]):[t].concat(er(n))),Fo=(t,n)=>Ka((o=>{const s=o.startContainer,l=o.startOffset;return tn(s)?l===0?Q.some(Ue(s)):Q.none():Q.from(s.childNodes[l]).map(Ue)})(n),(o=>{const s=o.endContainer,l=o.endOffset;return tn(s)?l===s.data.length?Q.some(Ue(s)):Q.none():Q.from(s.childNodes[l-1]).map(Ue)})(n),(o,s)=>{const l=Ct(Ro(t),it(Ur,o)),d=Ct(er(t),it(Ur,s));return l.isSome()&&d.isSome()}).getOr(!1),Br=(t,n,o,s)=>{const l=o,d=new qo(o,l),m=ho(t.schema.getMoveCaretBeforeOnEnterElements(),(y,_)=>!Ht(["td","th","table"],_.toLowerCase()));let f=o;do{if(tn(f)&&an.trim(f.data).length!==0)return void(s?n.setStart(f,0):n.setEnd(f,f.data.length));if(m[f.nodeName])return void(s?n.setStartBefore(f):f.nodeName==="BR"?n.setEndBefore(f):n.setEndAfter(f))}while(f=s?d.next():d.prev());l.nodeName==="BODY"&&(s?n.setStart(l,0):n.setEnd(l,l.childNodes.length))},jo=t=>{const n=t.selection.getSel();return G(n)&&n.rangeCount>0},Pa=(t,n)=>{const o=mo(t);o.length>0?ze(o,s=>{const l=s.dom,d=t.dom.createRng();d.setStartBefore(l),d.setEndAfter(l),n(d,!0)}):n(t.selection.getRng(),!1)},Ss=(t,n,o)=>{const s=pv(t,n);o(s),t.moveToBookmark(s)},Ni=t=>ye(t==null?void 0:t.nodeType),sd=t=>vn(t)&&!Le(t)&&!Oc(t)&&!gc(t),Es=t=>t.isContentEditable===!0,Yd=(t,n,o)=>{const{selection:s,dom:l}=t,d=s.getNode(),m=rr(d);Ss(s,!0,()=>{n()}),m&&rr(d)&&l.isChildOf(d,t.getBody())?t.selection.select(d):o(s.getStart())&&pp(l,s)},pp=(t,n)=>{var o,s;const l=n.getRng(),{startContainer:d,startOffset:m}=l;if(!((f,y)=>{if(sd(y)&&!/^(TD|TH)$/.test(y.nodeName)){const _=f.getAttrib(y,"data-mce-selected"),E=parseInt(_,10);return!isNaN(E)&&E>0}return!1})(t,n.getNode())&&vn(d)){const f=d.childNodes,y=t.getRoot();let _;if(m<f.length){const E=f[m];_=new qo(E,(o=t.getParent(E,t.isBlock))!==null&&o!==void 0?o:y)}else{const E=f[f.length-1];_=new qo(E,(s=t.getParent(E,t.isBlock))!==null&&s!==void 0?s:y),_.next(!0)}for(let E=_.current();E;E=_.next()){if(t.getContentEditable(E)==="false")return;if(tn(E)&&!og(E))return l.setStart(E,0),void n.setRng(l)}}},Zh=(t,n,o)=>{if(t){const s=n?"nextSibling":"previousSibling";for(t=o?t:t[s];t;t=t[s])if(vn(t)||!og(t))return t}},hp=(t,n)=>!!t.getTextBlockElements()[n.nodeName.toLowerCase()]||Ku(t,n),yu=(t,n,o)=>t.schema.isValidChild(n,o),og=(t,n=!1)=>{if(G(t)&&tn(t)){const o=n?t.data.replace(/ /g,"\xA0"):t.data;return Wl(o)}return!1},P5=(t,n)=>{const o=t.dom;return sd(n)&&o.getContentEditable(n)==="false"&&((s,l)=>{const d="[data-mce-cef-wrappable]",m=Mh(s),f=Jo(m)?d:`${d},${m}`;return tl(Ue(l),f)})(t,n)&&o.select('[contenteditable="true"]',n).length===0},vp=(t,n)=>Ae(t)?t(n):(G(n)&&(t=t.replace(/%(\w+)/g,(o,s)=>n[s]||o)),t),Jl=(t,n)=>(n=n||"",t=""+((t=t||"").nodeName||t),n=""+(n.nodeName||n),t.toLowerCase()===n.toLowerCase()),qi=(t,n)=>{if(De(t))return null;{let o=String(t);return n!=="color"&&n!=="backgroundColor"||(o=_n(o)),n==="fontWeight"&&t===700&&(o="bold"),n==="fontFamily"&&(o=o.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),o}},rg=(t,n,o)=>{const s=t.getStyle(n,o);return qi(s,o)},L5=(t,n)=>{let o;return t.getParent(n,s=>!!vn(s)&&(o=t.getStyle(s,"text-decoration"),!!o&&o!=="none")),o},Fw=(t,n,o)=>t.getParents(n,o,t.getRoot()),hr=(t,n,o)=>{const s=t.formatter.get(n);return G(s)&&dt(s,o)},of=t=>dr(t,"block"),Kc=t=>dr(t,"selector"),Ws=t=>dr(t,"inline"),_k=t=>Kc(t)&&t.expand!==!1&&!Ws(t),Zv=Le,B5=Fw,F5=og,Ck=hp,Hw=(t,n)=>{let o=n;for(;o;){if(vn(o)&&t.getContentEditable(o))return t.getContentEditable(o)==="false"?o:n;o=o.parentNode}return n},kk=(t,n,o,s)=>{const l=n.data;if(t){for(let d=o;d>0;d--)if(s(l.charAt(d-1)))return d}else for(let d=o;d<l.length;d++)if(s(l.charAt(d)))return d;return-1},xN=(t,n,o)=>kk(t,n,o,s=>Re(s)||We(s)),_N=(t,n,o)=>kk(t,n,o,mt),H5=(t,n,o,s,l,d)=>{let m;const f=t.getParent(o,t.isBlock)||n,y=(_,E,T)=>{const P=Fd(t),V=l?P.backwards:P.forwards;return Q.from(V(_,E,(B,Z)=>Zv(B.parentNode)?-1:(m=B,T(l,B,Z)),f))};return y(o,s,xN).bind(_=>d?y(_.container,_.offset+(l?-1:0),_N):Q.some(_)).orThunk(()=>m?Q.some({container:m,offset:l?0:m.length}):Q.none())},wo=(t,n,o,s,l)=>{const d=s[l];tn(s)&&Jo(s.data)&&d&&(s=d);const m=B5(t,s);for(let f=0;f<m.length;f++)for(let y=0;y<n.length;y++){const _=n[y];if((!G(_.collapsed)||_.collapsed===o.collapsed)&&Kc(_)&&t.is(m[f],_.selector))return m[f]}return s},Sk=(t,n,o,s)=>{var l;let d=o;const m=t.getRoot(),f=n[0];if(of(f)&&(d=f.wrapper?null:t.getParent(o,f.block,m)),!d){const y=(l=t.getParent(o,"LI,TD,TH"))!==null&&l!==void 0?l:m;d=t.getParent(tn(o)?o.parentNode:o,_=>_!==m&&Ck(t.schema,_),y)}if(d&&of(f)&&f.wrapper&&(d=B5(t,d,"ul,ol").reverse()[0]||d),!d)for(d=o;d&&d[s]&&!t.isBlock(d[s])&&(d=d[s],!Jl(d,"br")););return d||o},Wv=(t,n,o,s)=>{const l=o.parentNode;return!G(o[s])&&(!(l!==n&&!De(l)&&!t.isBlock(l))||Wv(t,n,l,s))},Gv=(t,n,o,s,l)=>{let d=o;const m=l?"previousSibling":"nextSibling",f=t.getRoot();if(tn(o)&&!F5(o)&&(l?s>0:s<o.data.length))return o;for(;d;){if(!n[0].block_expand&&t.isBlock(d))return d;for(let _=d[m];_;_=_[m]){const E=tn(_)&&!Wv(t,f,_,m);if(!Zv(_)&&(!kt(y=_)||!y.getAttribute("data-mce-bogus")||y.nextSibling)&&!F5(_,E))return d}if(d===f||d.parentNode===f){o=d;break}d=d.parentNode}var y;return o},Ek=t=>Zv(t.parentNode)||Zv(t),bp=(t,n,o,s=!1)=>{let{startContainer:l,startOffset:d,endContainer:m,endOffset:f}=n;const y=o[0];return vn(l)&&l.hasChildNodes()&&(l=Yl(l,d),tn(l)&&(d=0)),vn(m)&&m.hasChildNodes()&&(m=Yl(m,n.collapsed?f:f-1),tn(m)&&(f=m.data.length)),l=Hw(t,l),m=Hw(t,m),Ek(l)&&(l=Zv(l)?l:l.parentNode,l=n.collapsed?l.previousSibling||l:l.nextSibling||l,tn(l)&&(d=n.collapsed?l.length:0)),Ek(m)&&(m=Zv(m)?m:m.parentNode,m=n.collapsed?m.nextSibling||m:m.previousSibling||m,tn(m)&&(f=n.collapsed?0:m.length)),n.collapsed&&(H5(t,t.getRoot(),l,d,!0,s).each(({container:_,offset:E})=>{l=_,d=E}),H5(t,t.getRoot(),m,f,!1,s).each(({container:_,offset:E})=>{m=_,f=E})),(Ws(y)||y.block_expand)&&(Ws(y)&&tn(l)&&d!==0||(l=Gv(t,o,l,d,!0)),Ws(y)&&tn(m)&&f!==m.data.length||(m=Gv(t,o,m,f,!1))),_k(y)&&(l=wo(t,o,n,l,"previousSibling"),m=wo(t,o,n,m,"nextSibling")),(of(y)||Kc(y))&&(l=Sk(t,o,l,"previousSibling"),m=Sk(t,o,m,"nextSibling"),of(y)&&(t.isBlock(l)||(l=Gv(t,o,l,d,!0)),t.isBlock(m)||(m=Gv(t,o,m,f,!1)))),vn(l)&&l.parentNode&&(d=t.nodeIndex(l),l=l.parentNode),vn(m)&&m.parentNode&&(f=t.nodeIndex(m)+1,m=m.parentNode),{startContainer:l,startOffset:d,endContainer:m,endOffset:f}},qv=(t,n,o)=>{var s;const l=n.startOffset,d=Yl(n.startContainer,l),m=n.endOffset,f=Yl(n.endContainer,m-1),y=z=>{const W=z[0];tn(W)&&W===d&&l>=W.data.length&&z.splice(0,1);const te=z[z.length-1];return m===0&&z.length>0&&te===f&&tn(te)&&z.splice(z.length-1,1),z},_=(z,W,te)=>{const se=[];for(;z&&z!==te;z=z[W])se.push(z);return se},E=(z,W)=>t.getParent(z,te=>te.parentNode===W,W),T=(z,W,te)=>{const se=te?"nextSibling":"previousSibling";for(let be=z,Ce=be.parentNode;be&&be!==W;be=Ce){Ce=be.parentNode;const Ie=_(be===z?be:be[se],se);Ie.length&&(te||Ie.reverse(),o(y(Ie)))}};if(d===f)return o(y([d]));const P=(s=t.findCommonAncestor(d,f))!==null&&s!==void 0?s:t.getRoot();if(t.isChildOf(d,f))return T(d,P,!0);if(t.isChildOf(f,d))return T(f,P);const V=E(d,P)||d,B=E(f,P)||f;T(d,V,!0);const Z=_(V===d?V:V.nextSibling,"nextSibling",B===f?B.nextSibling:B);Z.length&&o(y(Z)),T(f,B)},z5=['pre[class*=language-][contenteditable="false"]',"figure.image","div[data-ephox-embed-iri]","div.tiny-pageembed","div.mce-toc","div[data-mce-toc]"],V5=(t,n,o,s,l,d)=>{const{uid:m=n,...f}=o;Ed(t,Ml()),Yr(t,`${Fm()}`,m),Yr(t,`${si()}`,s);const{attributes:y={},classes:_=[]}=l(m,f);if(el(t,y),((E,T)=>{ze(T,P=>{Ed(E,P)})})(t,_),d){_.length>0&&Yr(t,`${Wc()}`,_.join(","));const E=ur(y);E.length>0&&Yr(t,`${jf()}`,E.join(","))}},$5=(t,n,o,s,l)=>{const d=us("span",t);return V5(d,n,o,s,l,!1),d},Fr=(t,n,o,s,l,d)=>{const m=[],f=$5(t.getDoc(),o,d,s,l),y=_a(),_=()=>{y.clear()},E=P=>{ze(P,T)},T=P=>{switch(((V,B,Z,z)=>pl(B).fold(()=>"skipping",W=>z==="br"||(te=>vr(te)&&uu(te)===Vs)(B)?"valid":(te=>xi(te)&&Fg(te,Ml()))(B)?"existing":Oc(B.dom)?"caret":dt(z5,te=>tl(B,te))?"valid-block":yu(V,Z,z)&&yu(V,Jr(W),Z)?"valid":"invalid-child"))(t,P,"span",Jr(P))){case"invalid-child":{_();const V=fa(P);E(V),_();break}case"valid-block":_(),V5(P,o,d,s,l,!0);break;case"valid":{const V=y.get().getOrThunk(()=>{const B=Bd(f);return m.push(B),y.set(B),B});Mf(P,V);break}}};return qv(t.dom,n,P=>{_(),(V=>{const B=Et(V,Ue);E(B)})(P)}),m},U5=t=>{const n=(()=>{const d={};return{register:(m,f)=>{d[m]={name:m,settings:f}},lookup:m=>Zt(d,m).map(f=>f.settings),getNames:()=>ur(d)}})();((d,m)=>{const f=si(),y=E=>Q.from(E.attr(f)).bind(m.lookup),_=E=>{var T,P;E.attr(Fm(),null),E.attr(si(),null),E.attr(ql(),null);const V=Q.from(E.attr(jf())).map(W=>W.split(",")).getOr([]),B=Q.from(E.attr(Wc())).map(W=>W.split(",")).getOr([]);ze(V,W=>E.attr(W,null));const Z=(P=(T=E.attr("class"))===null||T===void 0?void 0:T.split(" "))!==null&&P!==void 0?P:[],z=qt(Z,[Ml()].concat(B));E.attr("class",z.length>0?z.join(" "):null),E.attr(Wc(),null),E.attr(jf(),null)};d.serializer.addTempAttr(ql()),d.serializer.addAttributeFilter(f,E=>{for(const T of E)y(T).each(P=>{P.persistent===!1&&(T.name==="span"?T.unwrap():_(T))})})})(t,n);const o=((d,m)=>{const f=_s({}),y=()=>({listeners:[],previous:_a()}),_=(V,B)=>{E(V,Z=>(B(Z),Z))},E=(V,B)=>{const Z=f.get(),z=B(Zt(Z,V).getOrThunk(y));Z[V]=z,f.set(Z)},T=(V,B)=>{ze(bb(d,V),Z=>{B?Yr(Z,ql(),"true"):Da(Z,ql())})},P=Ei(()=>{const V=Dn(m.getNames());ze(V,B=>{E(B,Z=>{const z=Z.previous.get();return iv(d,Q.some(B)).fold(()=>{z.each(W=>{(te=>{_(te,se=>{ze(se.listeners,be=>be(!1,te))})})(B),Z.previous.clear(),T(W,!1)})},({uid:W,name:te,elements:se})=>{Fa(z,W)||(z.each(be=>T(be,!1)),((be,Ce,Ie)=>{_(be,je=>{ze(je.listeners,st=>st(!0,be,{uid:Ce,nodes:Et(Ie,Nt=>Nt.dom)}))})})(te,W,se),Z.previous.set(W),T(W,!0))}),{previous:Z.previous,listeners:Z.listeners}})})},30);return d.on("remove",()=>{P.cancel()}),d.on("NodeChange",()=>{P.throttle()}),{addListener:(V,B)=>{E(V,Z=>({previous:Z.previous,listeners:Z.listeners.concat([B])}))}}})(t,n),s=Fu("span"),l=d=>{ze(d,m=>{s(m)?_e(m):(f=>{Od(f,Ml()),Da(f,`${Fm()}`),Da(f,`${si()}`),Da(f,`${ql()}`);const y=Fi(f,`${jf()}`).map(T=>T.split(",")).getOr([]),_=Fi(f,`${Wc()}`).map(T=>T.split(",")).getOr([]);var E;ze(y,T=>Da(f,T)),E=f,ze(_,T=>{Od(E,T)}),Da(f,`${Wc()}`),Da(f,`${jf()}`)})(m)})};return{register:(d,m)=>{n.register(d,m)},annotate:(d,m)=>{n.lookup(d).each(f=>{((y,_,E,T)=>{y.undoManager.transact(()=>{const P=y.selection,V=P.getRng(),B=mo(y).length>0,Z=Ea("mce-annotation");if(V.collapsed&&!B&&((z,W)=>{const te=bp(z.dom,W,[{inline:"span"}]);W.setStart(te.startContainer,te.startOffset),W.setEnd(te.endContainer,te.endOffset),z.selection.setRng(W)})(y,V),P.getRng().collapsed&&!B){const z=$5(y.getDoc(),Z,T,_,E.decorate);zt(z,ds),P.getRng().insertNode(z.dom),P.select(z.dom)}else Ss(P,!1,()=>{Pa(y,z=>{Fr(y,z,Z,_,E.decorate,T)})})})})(t,d,f,m)})},annotationChanged:(d,m)=>{o.addListener(d,m)},remove:d=>{iv(t,Q.some(d)).each(({elements:m})=>{const f=t.selection.getBookmark();l(m),t.selection.moveToBookmark(f)})},removeAll:d=>{const m=t.selection.getBookmark();ut(Hm(t,d),(f,y)=>{l(f)}),t.selection.moveToBookmark(m)},getAll:d=>{const m=Hm(t,d);return rt(m,f=>Et(f,y=>y.dom))}}},id=t=>({getBookmark:it(ve,t),moveToBookmark:it(Me,t)});id.isBookmarkNode=Le;const Xd=(t,n,o)=>!o.collapsed&&dt(o.getClientRects(),s=>((l,d,m)=>d>=l.left&&d<=l.right&&m>=l.top&&m<=l.bottom)(s,t,n)),ny=(t,n,o)=>{t.dispatch(n,o)},Ql=(t,n,o,s)=>{t.dispatch("FormatApply",{format:n,node:o,vars:s})},oy=(t,n,o,s)=>{t.dispatch("FormatRemove",{format:n,node:o,vars:s})},Kv=(t,n)=>t.dispatch("SetContent",n),ry=(t,n)=>t.dispatch("GetContent",n),Wh=(t,n)=>t.dispatch("PastePlainTextToggle",{state:n}),Yn={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,ESC:27,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,modifierPressed:t=>t.shiftKey||t.ctrlKey||t.altKey||Yn.metaKeyPressed(t),metaKeyPressed:t=>_r.os.isMacOS()||_r.os.isiOS()?t.metaKey:t.ctrlKey&&!t.altKey},Gh="data-mce-selected",j5=Math.abs,zw=Math.round,kr={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]},ld=(t,n)=>{const o=n.dom,s=n.getDoc(),l=document,d=n.getBody();let m,f,y,_,E,T,P,V,B,Z,z,W,te,se,be;const Ce=Fn=>G(Fn)&&(al(Fn)||o.is(Fn,"figure.image")),Ie=Fn=>$i(Fn)||o.hasClass(Fn,"mce-preview-object"),je=Fn=>{const ro=Fn.target;((Ao,Ge)=>{if((Qe=>Qe.type==="longpress"||Qe.type.indexOf("touch")===0)(Ao)){const Qe=Ao.touches[0];return Ce(Ao.target)&&!Xd(Qe.clientX,Qe.clientY,Ge)}return Ce(Ao.target)&&!Xd(Ao.clientX,Ao.clientY,Ge)})(Fn,n.selection.getRng())&&!Fn.isDefaultPrevented()&&n.selection.select(ro)},st=Fn=>o.hasClass(Fn,"mce-preview-object")&&G(Fn.firstElementChild)?[Fn,Fn.firstElementChild]:o.is(Fn,"figure.image")?[Fn.querySelector("img")]:[Fn],Nt=Fn=>{const ro=Ds(n);return!!ro&&Fn.getAttribute("data-mce-resize")!=="false"&&Fn!==n.getBody()&&(o.hasClass(Fn,"mce-preview-object")&&G(Fn.firstElementChild)?tl(Ue(Fn.firstElementChild),ro):tl(Ue(Fn),ro))},bt=(Fn,ro,Ao)=>{if(G(Ao)){const Ge=st(Fn);ze(Ge,Qe=>{Qe.style[ro]||!n.schema.isValid(Qe.nodeName.toLowerCase(),ro)?o.setStyle(Qe,ro,Ao):o.setAttrib(Qe,ro,""+Ao)})}},qe=(Fn,ro,Ao)=>{bt(Fn,"width",ro),bt(Fn,"height",Ao)},tt=Fn=>{let ro,Ao,Ge,Qe,At;ro=Fn.screenX-T,Ao=Fn.screenY-P,W=ro*_[2]+V,te=Ao*_[3]+B,W=W<5?5:W,te=te<5?5:te,Ge=(Ce(m)||Ie(m))&&Bb(n)!==!1?!Yn.modifierPressed(Fn):Yn.modifierPressed(Fn),Ge&&(j5(ro)>j5(Ao)?(te=zw(W*Z),W=zw(te/Z)):(W=zw(te/Z),te=zw(W*Z))),qe(f,W,te),Qe=_.startPos.x+ro,At=_.startPos.y+Ao,Qe=Qe>0?Qe:0,At=At>0?At:0,o.setStyles(y,{left:Qe,top:At,display:"block"}),y.innerHTML=W+" &times; "+te,_[2]<0&&f.clientWidth<=W&&o.setStyle(f,"left",void 0+(V-W)),_[3]<0&&f.clientHeight<=te&&o.setStyle(f,"top",void 0+(B-te)),ro=d.scrollWidth-se,Ao=d.scrollHeight-be,ro+Ao!==0&&o.setStyles(y,{left:Qe-ro,top:At-Ao}),z||(((Kt,Vt,$t,yn,ao)=>{Kt.dispatch("ObjectResizeStart",{target:Vt,width:$t,height:yn,origin:ao})})(n,m,V,B,"corner-"+_.name),z=!0)},Xe=()=>{const Fn=z;z=!1,Fn&&(bt(m,"width",W),bt(m,"height",te)),o.unbind(s,"mousemove",tt),o.unbind(s,"mouseup",Xe),l!==s&&(o.unbind(l,"mousemove",tt),o.unbind(l,"mouseup",Xe)),o.remove(f),o.remove(y),o.remove(E),ft(m),Fn&&(((ro,Ao,Ge,Qe,At)=>{ro.dispatch("ObjectResized",{target:Ao,width:Ge,height:Qe,origin:At})})(n,m,W,te,"corner-"+_.name),o.setAttrib(m,"style",o.getAttrib(m,"style"))),n.nodeChanged()},ft=Fn=>{Ho();const ro=o.getPos(Fn,d),Ao=ro.x,Ge=ro.y,Qe=Fn.getBoundingClientRect(),At=Qe.width||Qe.right-Qe.left,Kt=Qe.height||Qe.bottom-Qe.top;m!==Fn&&(on(),m=Fn,W=te=0);const Vt=n.dispatch("ObjectSelected",{target:Fn});Nt(Fn)&&!Vt.isDefaultPrevented()?ut(kr,($t,yn)=>{let ao=o.get("mceResizeHandle"+yn);ao&&o.remove(ao),ao=o.add(d,"div",{id:"mceResizeHandle"+yn,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:!0,style:"cursor:"+yn+"-resize; margin:0; padding:0"}),o.bind(ao,"mousedown",Wn=>{Wn.stopImmediatePropagation(),Wn.preventDefault(),(xo=>{const Io=st(m)[0];var jn;T=xo.screenX,P=xo.screenY,V=Io.clientWidth,B=Io.clientHeight,Z=B/V,_=$t,_.name=yn,_.startPos={x:At*$t[0]+Ao,y:Kt*$t[1]+Ge},se=d.scrollWidth,be=d.scrollHeight,E=o.add(d,"div",{class:"mce-resize-backdrop","data-mce-bogus":"all"}),o.setStyles(E,{position:"fixed",left:"0",top:"0",width:"100%",height:"100%"}),f=Ie(jn=m)?o.create("img",{src:_r.transparentSrc}):jn.cloneNode(!0),o.addClass(f,"mce-clonedresizable"),o.setAttrib(f,"data-mce-bogus","all"),f.contentEditable="false",o.setStyles(f,{left:Ao,top:Ge,margin:0}),qe(f,At,Kt),f.removeAttribute(Gh),d.appendChild(f),o.bind(s,"mousemove",tt),o.bind(s,"mouseup",Xe),l!==s&&(o.bind(l,"mousemove",tt),o.bind(l,"mouseup",Xe)),y=o.add(d,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},V+" &times; "+B)})(Wn)}),$t.elm=ao,o.setStyles(ao,{left:At*$t[0]+Ao-ao.offsetWidth/2,top:Kt*$t[1]+Ge-ao.offsetHeight/2})}):on(!1)},Tn=Ca(ft,0),on=(Fn=!0)=>{Tn.cancel(),Ho(),m&&Fn&&m.removeAttribute(Gh),ut(kr,(ro,Ao)=>{const Ge=o.get("mceResizeHandle"+Ao);Ge&&(o.unbind(Ge),o.remove(Ge))})},lo=(Fn,ro)=>o.isChildOf(Fn,ro),Nn=Fn=>{if(z||n.removed||n.composing)return;const ro=Fn.type==="mousedown"?Fn.target:t.getNode(),Ao=Ya(Ue(ro),"table,img,figure.image,hr,video,span.mce-preview-object,details").map(Qe=>Qe.dom).filter(Qe=>o.isEditable(Qe.parentElement)).getOrUndefined(),Ge=G(Ao)?o.getAttrib(Ao,Gh,"1"):"1";if(ze(o.select(`img[${Gh}],hr[${Gh}]`),Qe=>{Qe.removeAttribute(Gh)}),G(Ao)&&lo(Ao,d)&&n.hasFocus()){zo();const Qe=t.getStart(!0);if(lo(Qe,Ao)&&lo(t.getEnd(!0),Ao))return o.setAttrib(Ao,Gh,Ge),void Tn.throttle(Ao)}on()},Ho=()=>{ut(kr,Fn=>{Fn.elm&&(o.unbind(Fn.elm),delete Fn.elm)})},zo=()=>{try{n.getDoc().execCommand("enableObjectResizing",!1,"false")}catch{}};return n.on("init",()=>{zo(),n.on("NodeChange ResizeEditor ResizeWindow ResizeContent drop",Nn),n.on("keyup compositionend",Fn=>{m&&m.nodeName==="TABLE"&&Nn(Fn)}),n.on("hide blur",on),n.on("contextmenu longpress",je,!0)}),n.on("remove",Ho),{isResizable:Nt,showResizeRect:ft,hideResizeRect:on,updateResizeRect:Nn,destroy:()=>{Tn.cancel(),m=f=E=null}}},qh=(t,n,o)=>{const s=t.document.createRange();var l;return l=s,n.fold(d=>{l.setStartBefore(d.dom)},(d,m)=>{l.setStart(d.dom,m)},d=>{l.setStartAfter(d.dom)}),((d,m)=>{m.fold(f=>{d.setEndBefore(f.dom)},(f,y)=>{d.setEnd(f.dom,y)},f=>{d.setEndAfter(f.dom)})})(s,o),s},Ok=(t,n,o,s,l)=>{const d=t.document.createRange();return d.setStart(n.dom,o),d.setEnd(s.dom,l),d},ag=ss([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),Mr=(t,n,o)=>n(Ue(o.startContainer),o.startOffset,Ue(o.endContainer),o.endOffset);ag.ltr,ag.rtl;const Tk=(t,n,o,s)=>({start:t,soffset:n,finish:o,foffset:s}),Ak=document.caretPositionFromPoint?(t,n,o)=>{var s,l;return Q.from((l=(s=t.dom).caretPositionFromPoint)===null||l===void 0?void 0:l.call(s,n,o)).bind(d=>{if(d.offsetNode===null)return Q.none();const m=t.dom.createRange();return m.setStart(d.offsetNode,d.offset),m.collapse(),Q.some(m)})}:document.caretRangeFromPoint?(t,n,o)=>{var s,l;return Q.from((l=(s=t.dom).caretRangeFromPoint)===null||l===void 0?void 0:l.call(s,n,o))}:Q.none,Nk=ss([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),Yc={before:Nk.before,on:Nk.on,after:Nk.after,cata:(t,n,o,s)=>t.fold(n,o,s),getStart:t=>t.fold(nn,nn,nn)},rf=ss([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),Kh={domRange:rf.domRange,relative:rf.relative,exact:rf.exact,exactFromRange:t=>rf.exact(t.start,t.soffset,t.finish,t.foffset),getWin:t=>{const n=(o=>o.match({domRange:s=>Ue(s.startContainer),relative:(s,l)=>Yc.getStart(s),exact:(s,l,d,m)=>s}))(t);return Ad(n)},range:Tk},Vw=(t,n)=>{const o=Jr(t);return o==="input"?Yc.after(t):Ht(["br","img"],o)?n===0?Yc.before(t):Yc.after(t):Yc.on(t,n)},CN=(t,n)=>{const o=t.fold(Yc.before,Vw,Yc.after),s=n.fold(Yc.before,Vw,Yc.after);return Kh.relative(o,s)},Yv=(t,n,o,s)=>{const l=Vw(t,n),d=Vw(o,s);return Kh.relative(l,d)},yp=(t,n)=>{const o=(n||document).createDocumentFragment();return ze(t,s=>{o.appendChild(s.dom)}),Ue(o)},kN=t=>{const n=Kh.getWin(t).dom,o=(l,d,m,f)=>Ok(n,l,d,m,f),s=(l=>l.match({domRange:d=>{const m=Ue(d.startContainer),f=Ue(d.endContainer);return Yv(m,d.startOffset,f,d.endOffset)},relative:CN,exact:Yv}))(t);return((l,d)=>{const m=((f,y)=>y.match({domRange:_=>({ltr:Ke(_),rtl:Q.none}),relative:(_,E)=>({ltr:Bi(()=>qh(f,_,E)),rtl:Bi(()=>Q.some(qh(f,E,_)))}),exact:(_,E,T,P)=>({ltr:Bi(()=>Ok(f,_,E,T,P)),rtl:Bi(()=>Q.some(Ok(f,T,P,_,E)))})}))(l,d);return((f,y)=>{const _=y.ltr();return _.collapsed?y.rtl().filter(E=>E.collapsed===!1).map(E=>ag.rtl(Ue(E.endContainer),E.endOffset,Ue(E.startContainer),E.startOffset)).getOrThunk(()=>Mr(0,ag.ltr,_)):Mr(0,ag.ltr,_)})(0,m)})(n,s).match({ltr:o,rtl:o})},Mk=(t,n,o)=>((s,l,d)=>((m,f,y)=>{const _=Ue(m.document);return Ak(_,f,y).map(E=>Tk(Ue(E.startContainer),E.startOffset,Ue(E.endContainer),E.endOffset))})(s,l,d))(Ad(Ue(o)).dom,t,n).map(s=>{const l=o.createRange();return l.setStart(s.start.dom,s.soffset),l.setEnd(s.finish.dom,s.foffset),l}).getOrUndefined(),Rk=(t,n)=>G(t)&&G(n)&&t.startContainer===n.startContainer&&t.startOffset===n.startOffset&&t.endContainer===n.endContainer&&t.endOffset===n.endOffset,Dk=(t,n,o)=>((s,l,d)=>{let m=s;for(;m&&m!==l;){if(d(m))return m;m=m.parentNode}return null})(t,n,o)!==null,SN=(t,n,o)=>Dk(t,n,s=>s.nodeName===o),Z5=(t,n)=>ni(t)&&!Dk(t,n,Oc),$w=(t,n,o)=>{const s=n.parentNode;if(s){const l=new qo(n,t.getParent(s,t.isBlock)||t.getRoot());let d;for(;d=l[o?"prev":"next"]();)if(kt(d))return!0}return!1},ay=(t,n,o,s,l)=>{const d=t.getRoot(),m=t.schema.getNonEmptyElements(),f=l.parentNode;let y,_;if(!f)return Q.none();const E=t.getParent(f,t.isBlock)||d;if(s&&kt(l)&&n&&t.isEmpty(E))return Q.some(St(f,t.nodeIndex(l)));const T=new qo(l,E);for(;_=T[s?"prev":"next"]();){if(t.getContentEditableParent(_)==="false"||Z5(_,d))return Q.none();if(tn(_)&&_.data.length>0)return SN(_,d,"A")?Q.none():Q.some(St(_,s?_.data.length:0));if(t.isBlock(_)||m[_.nodeName.toLowerCase()])return Q.none();y=_}return Ja(y)?Q.none():o&&y?Q.some(St(y,0)):Q.none()},Uw=(t,n,o,s)=>{const l=t.getRoot();let d,m=!1,f=o?s.startContainer:s.endContainer,y=o?s.startOffset:s.endOffset;const _=vn(f)&&y===f.childNodes.length,E=t.schema.getNonEmptyElements();let T=o;if(ni(f))return Q.none();if(vn(f)&&y>f.childNodes.length-1&&(T=!1),Qs(f)&&(f=l,y=0),f===l){if(T&&(d=f.childNodes[y>0?y-1:0],d)&&(ni(d)||E[d.nodeName]||na(d)))return Q.none();if(f.hasChildNodes()){if(y=Math.min(!T&&y>0?y-1:y,f.childNodes.length-1),f=f.childNodes[y],y=tn(f)&&_?f.data.length:0,!n&&f===l.lastChild&&na(f)||((P,V)=>{let B=V;for(;B&&B!==P;){if(rr(B))return!0;B=B.parentNode}return!1})(l,f)||ni(f))return Q.none();if(f.hasChildNodes()&&!na(f)){d=f;const P=new qo(f,l);do{if(rr(d)||ni(d)){m=!1;break}if(tn(d)&&d.data.length>0){y=T?0:d.data.length,f=d,m=!0;break}if(E[d.nodeName.toLowerCase()]&&!Ol(d)){y=t.nodeIndex(d),f=d.parentNode,T||y++,m=!0;break}}while(d=T?P.next():P.prev())}}}return n&&(tn(f)&&y===0&&ay(t,_,n,!0,f).each(P=>{f=P.container(),y=P.offset(),m=!0}),vn(f)&&(d=f.childNodes[y],d||(d=f.childNodes[y-1]),!d||!kt(d)||((P,V)=>{var B;return((B=P.previousSibling)===null||B===void 0?void 0:B.nodeName)==="A"})(d)||$w(t,d,!1)||$w(t,d,!0)||ay(t,_,n,!0,d).each(P=>{f=P.container(),y=P.offset(),m=!0}))),T&&!n&&tn(f)&&y===f.data.length&&ay(t,_,n,!1,f).each(P=>{f=P.container(),y=P.offset(),m=!0}),m&&f?Q.some(St(f,y)):Q.none()},sy=(t,n)=>{const o=n.collapsed,s=n.cloneRange(),l=St.fromRangeStart(n);return Uw(t,o,!0,s).each(d=>{o&&St.isAbove(l,d)||s.setStart(d.container(),d.offset())}),o||Uw(t,o,!1,s).each(d=>{s.setEnd(d.container(),d.offset())}),o&&s.collapse(!0),Rk(n,s)?Q.none():Q.some(s)},iy=(t,n)=>t.splitText(n),ly=t=>{let n=t.startContainer,o=t.startOffset,s=t.endContainer,l=t.endOffset;if(n===s&&tn(n)){if(o>0&&o<n.data.length)if(s=iy(n,o),n=s.previousSibling,l>o){l-=o;const d=iy(s,l).previousSibling;n=s=d,l=d.data.length,o=0}else l=0}else if(tn(n)&&o>0&&o<n.data.length&&(n=iy(n,o),o=0),tn(s)&&l>0&&l<s.data.length){const d=iy(s,l).previousSibling;s=d,l=d.data.length}return{startContainer:n,startOffset:o,endContainer:s,endOffset:l}},af=t=>({walk:(n,o)=>qv(t,n,o),split:ly,expand:(n,o={type:"word"})=>{if(o.type==="word"){const s=bp(t,n,[{inline:"span"}]),l=t.createRng();return l.setStart(s.startContainer,s.startOffset),l.setEnd(s.endContainer,s.endOffset),l}return n},normalize:n=>sy(t,n).fold(pn,o=>(n.setStart(o.startContainer,o.startOffset),n.setEnd(o.endContainer,o.endOffset),!0))});af.compareRanges=Rk,af.getCaretRangeFromPoint=Mk,af.getSelectedNode=yl,af.getNode=Yl;const W5=((t,n)=>{const o=l=>{const d=(m=>{const f=m.dom;return Om(m)?f.getBoundingClientRect().height:f.offsetHeight})(l);if(d<=0||d===null){const m=jl(l,t);return parseFloat(m)||0}return d},s=(l,d)=>Ve(d,(m,f)=>{const y=jl(l,f),_=y===void 0?0:parseInt(y,10);return isNaN(_)?m:m+_},0);return{set:(l,d)=>{if(!ye(d)&&!d.match(/^[0-9]+$/))throw new Error(t+".set accepts only positive integer values. Value was "+d);const m=l.dom;Nd(m)&&(m.style[t]=d+"px")},get:o,getOuter:o,aggregate:s,max:(l,d,m)=>{const f=s(l,m);return d>f?d-f:0}}})("height"),Ik=()=>Ue(document),Pk=(t,n)=>t.view(n).fold(Ke([]),o=>{const s=t.owner(o),l=Pk(t,s);return[o].concat(l)});var G5=Object.freeze({__proto__:null,view:t=>{var n;return(t.dom===document?Q.none():Q.from((n=t.dom.defaultView)===null||n===void 0?void 0:n.frameElement)).map(Ue)},owner:t=>mc(t)});const jw=t=>Jr(t)==="textarea",Lk=(t,n)=>{const o=(l=>{const d=l.dom.ownerDocument,m=d.body,f=d.defaultView,y=d.documentElement;if(m===l.dom)return Bn(m.offsetLeft,m.offsetTop);const _=Kn(f==null?void 0:f.pageYOffset,y.scrollTop),E=Kn(f==null?void 0:f.pageXOffset,y.scrollLeft),T=Kn(y.clientTop,m.clientTop),P=Kn(y.clientLeft,m.clientLeft);return cr(l).translate(E-P,_-T)})(t),s=(l=>W5.get(l))(t);return{element:t,bottom:o.top+s,height:s,pos:o,cleanup:n}},q5=(t,n,o,s)=>{Y5(t,(l,d)=>Zw(t,n,o,s),o)},K5=(t,n,o,s,l)=>{const d={elm:s.element.dom,alignToTop:l};((m,f)=>m.dispatch("ScrollIntoView",f).isDefaultPrevented())(t,d)||(o(n,Jt(n).top,s,l),((m,f)=>{m.dispatch("AfterScrollIntoView",f)})(t,d))},Zw=(t,n,o,s)=>{const l=Ue(t.getBody()),d=Ue(t.getDoc());l.dom.offsetWidth;const m=((f,y)=>{const _=((T,P)=>{const V=fa(T);if(V.length===0||jw(T))return{element:T,offset:P};if(P<V.length&&!jw(V[P]))return{element:V[P],offset:0};{const B=V[V.length-1];return jw(B)?{element:T,offset:P}:Jr(B)==="img"?{element:B,offset:1}:vr(B)?{element:B,offset:uu(B).length}:{element:B,offset:fa(B).length}}})(f,y),E=Cm('<span data-mce-bogus="all" style="display: inline-block;">\uFEFF</span>');return Vi(_.element,E),Lk(E,()=>ce(E))})(Ue(o.startContainer),o.startOffset);K5(t,d,n,m,s),m.cleanup()},Bk=(t,n,o,s)=>{const l=Ue(t.getDoc());K5(t,l,o,(d=>Lk(Ue(d),Ft))(n),s)},Y5=(t,n,o)=>{const s=o.startContainer,l=o.startOffset,d=o.endContainer,m=o.endOffset;n(Ue(s),Ue(d));const f=t.dom.createRng();f.setStart(s,l),f.setEnd(d,m),t.selection.setRng(o)},Ww=(t,n)=>t.element.dom.scrollIntoView({block:n?"start":"end"}),X5=(t,n,o,s)=>{const l=n+t,d=o.pos.top,m=o.bottom,f=m-d>=n;d<t?Ww(o,s!==!1):d>l?Ww(o,f?s!==!1:s===!0):m>l&&!f&&Ww(o,s===!0)},J5=(t,n,o,s)=>{const l=Ad(t).dom.innerHeight;X5(n,l,o,s)},Q5=(t,n,o,s)=>{const l=Ad(t).dom.innerHeight;X5(n,l,o,s);const d=(f=>{const y=Ik(),_=Jt(y),E=((V,B)=>{const Z=B.owner(V);return Pk(B,Z)})(f,G5),T=cr(f),P=Oe(E,(V,B)=>{const Z=cr(B);return{left:V.left+Z.left,top:V.top+Z.top}},{left:0,top:0});return Bn(P.left+T.left+_.left,P.top+T.top+_.top)})(o.element),m=no(window);d.top<m.y?Bo(o.element,s!==!1):d.top>m.bottom&&Bo(o.element,s===!0)},EN=(t,n,o)=>q5(t,J5,n,o),ON=(t,n,o)=>Bk(t,n,J5,o),eO=(t,n,o)=>q5(t,Q5,n,o),tO=(t,n,o)=>Bk(t,n,Q5,o),wp=(t,n,o)=>{(t.inline?EN:eO)(t,n,o)},nO=t=>t.dom.focus(),Gw=t=>{const n=ns(t).dom;return t.dom===n.activeElement},Fk=(t=Ik())=>Q.from(t.dom.activeElement).map(Ue),Hk=(t,n)=>{const o=vr(n)?uu(n).length:fa(n).length+1;return t>o?o:t<0?0:t},oO=t=>Kh.range(t.start,Hk(t.soffset,t.start),t.finish,Hk(t.foffset,t.finish)),zk=(t,n)=>!Xa(n.dom)&&(Hc(t,n)||Ur(t,n)),rO=t=>n=>zk(t,n.start)&&zk(t,n.finish),TN=t=>Kh.range(Ue(t.startContainer),t.startOffset,Ue(t.endContainer),t.endOffset),qw=t=>{const n=document.createRange();try{return n.setStart(t.start.dom,t.soffset),n.setEnd(t.finish.dom,t.foffset),Q.some(n)}catch{return Q.none()}},Kw=t=>{const n=(s=>s.inline||_r.browser.isFirefox())(t)?(o=Ue(t.getBody()),(s=>{const l=s.getSelection();return(l&&l.rangeCount!==0?Q.from(l.getRangeAt(0)):Q.none()).map(TN)})(Ad(o).dom).filter(rO(o))):Q.none();var o;t.bookmark=n.isSome()?n:t.bookmark},Yw=t=>(t.bookmark?t.bookmark:Q.none()).bind(n=>{return o=Ue(t.getBody()),s=n,Q.from(s).filter(rO(o)).map(oO);var o,s}).bind(qw),Vk={isEditorUIElement:t=>{const n=t.className.toString();return n.indexOf("tox-")!==-1||n.indexOf("mce-")!==-1}},Xc={setEditorTimeout:(t,n,o)=>((s,l)=>(ye(l)||(l=0),setTimeout(s,l)))(()=>{t.removed||n()},o),setEditorInterval:(t,n,o)=>{const s=((l,d)=>(ye(d)||(d=0),setInterval(l,d)))(()=>{t.removed?clearInterval(s):n()},o);return s}};let Xv;const $k=la.DOM,Jv=t=>{const n=t.classList;return n!==void 0&&(n.contains("tox-edit-area")||n.contains("tox-edit-area__iframe")||n.contains("mce-content-body"))},cy=(t,n)=>{const o=Xf(t);return $k.getParent(n,l=>(d=>vn(d)&&Vk.isEditorUIElement(d))(l)||!!o&&t.dom.is(l,o))!==null},Xw=t=>{try{const n=ns(Ue(t.getElement()));return Fk(n).fold(()=>document.body,o=>o.dom)}catch{return document.body}},AN=(t,n)=>{const o=n.editor;(l=>{const d=Ca(()=>{Kw(l)},0);l.on("init",()=>{l.inline&&((m,f)=>{const y=()=>{f.throttle()};la.DOM.bind(document,"mouseup",y),m.on("remove",()=>{la.DOM.unbind(document,"mouseup",y)})})(l,d),((m,f)=>{((y,_)=>{y.on("mouseup touchend",E=>{_.throttle()})})(m,f),m.on("keyup NodeChange AfterSetSelectionRange",y=>{(_=>_.type==="nodechange"&&_.selectionChange)(y)||Kw(m)})})(l,d)}),l.on("remove",()=>{d.cancel()})})(o);const s=(l,d)=>{bk(l)&&l.inline!==!0&&d(Ue(l.getContainer()),"tox-edit-focus")};o.on("focusin",()=>{const l=t.focusedEditor;Jv(Xw(o))&&s(o,Ed),l!==o&&(l&&l.dispatch("blur",{focusedEditor:o}),t.setActive(o),t.focusedEditor=o,o.dispatch("focus",{blurredEditor:l}),o.focus(!0))}),o.on("focusout",()=>{Xc.setEditorTimeout(o,()=>{const l=t.focusedEditor;Jv(Xw(o))&&l===o||s(o,Od),cy(o,Xw(o))||l!==o||(o.dispatch("blur",{focusedEditor:null}),t.focusedEditor=null)})}),Xv||(Xv=l=>{const d=t.activeEditor;d&&Em(l).each(m=>{const f=m;f.ownerDocument===document&&(f===document.body||cy(d,f)||t.focusedEditor!==d||(d.dispatch("blur",{focusedEditor:null}),t.focusedEditor=null))})},$k.bind(document,"focusin",Xv))},NN=(t,n)=>{t.focusedEditor===n.editor&&(t.focusedEditor=null),!t.activeEditor&&Xv&&($k.unbind(document,"focusin",Xv),Xv=null)},aO=(t,n)=>{((o,s)=>(l=>l.collapsed?Q.from(Yl(l.startContainer,l.startOffset)).map(Ue):Q.none())(s).bind(l=>Am(l)?Q.some(l):Hc(o,l)?Q.none():Q.some(o)))(Ue(t.getBody()),n).bind(o=>Gi(o.dom)).fold(()=>{t.selection.normalize()},o=>t.selection.setRng(o.toRange()))},Uk=t=>{if(t.setActive)try{t.setActive()}catch{t.focus()}else t.focus()},Yh=t=>t.inline?(n=>{const o=n.getBody();return o&&(s=Ue(o),Gw(s)||(l=s,Fk(ns(l)).filter(d=>l.dom.contains(d.dom))).isSome());var s,l})(t):(n=>G(n.iframeElement)&&Gw(Ue(n.iframeElement)))(t),jk=t=>t.editorManager.setActive(t),Zk=(t,n,o,s,l)=>{const d=o?n.startContainer:n.endContainer,m=o?n.startOffset:n.endOffset;return Q.from(d).map(Ue).map(f=>s&&n.collapsed?f:$u(f,l(f,m)).getOr(f)).bind(f=>xi(f)?Q.some(f):pl(f).filter(xi)).map(f=>f.dom).getOr(t)},sO=(t,n,o=!1)=>Zk(t,n,!0,o,(s,l)=>Math.min(Uu(s),l)),Wk=(t,n,o=!1)=>Zk(t,n,!1,o,(s,l)=>l>0?l-1:l),Gk=(t,n)=>{const o=t;for(;t&&tn(t)&&t.length===0;)t=n?t.nextSibling:t.previousSibling;return t||o},qk=(t,n)=>Et(n,o=>{const s=t.dispatch("GetSelectionRange",{range:o});return s.range!==o?s.range:o}),MN=["img","br"],iO=t=>fb(t).filter(o=>o.trim().length!==0||o.indexOf(ds)>-1).isSome()||Ht(MN,Jr(t))||(o=>dc(o)&&ws(o,"contenteditable")==="false")(t),lO="[data-mce-autocompleter]",RN=(t,n)=>{if(cO(Ue(t.getBody())).isNone()){const s=Cm('<span data-mce-autocompleter="1" data-mce-bogus="1"></span>',t.getDoc());lr(s,Ue(n.extractContents())),n.insertNode(s.dom),pl(s).each(l=>l.dom.normalize()),(o=s,((l,d)=>{const m=f=>{const y=fa(f);for(let _=y.length-1;_>=0;_--){const E=y[_];if(d(E))return Q.some(E);const T=m(E);if(T.isSome())return T}return Q.none()};return m(l)})(o,iO)).map(l=>{t.selection.setCursorLocation(l.dom,(d=>Jr(d)==="img"?1:fb(d).fold(()=>fa(d).length,m=>m.length))(l))})}var o},cO=t=>xs(t,lO),DN={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11},Jw=(t,n,o)=>{const s=o?"lastChild":"firstChild",l=o?"prev":"next";if(t[s])return t[s];if(t!==n){let d=t[l];if(d)return d;for(let m=t.parent;m&&m!==n;m=m.parent)if(d=m[l],d)return d}},IN=t=>{var n;const o=(n=t.value)!==null&&n!==void 0?n:"";if(!Wl(o))return!1;const s=t.parent;return!s||s.name==="span"&&!s.attr("style")||!/^[ ]+$/.test(o)},uO=t=>{const n=t.name==="a"&&!t.attr("href")&&t.attr("id");return t.attr("name")||t.attr("id")&&!t.firstChild||t.attr("data-mce-bookmark")||n};class ec{static create(n,o){const s=new ec(n,DN[n]||1);return o&&ut(o,(l,d)=>{s.attr(d,l)}),s}constructor(n,o){this.name=n,this.type=o,o===1&&(this.attributes=[],this.attributes.map={})}replace(n){const o=this;return n.parent&&n.remove(),o.insert(n,o),o.remove(),o}attr(n,o){const s=this;if(!le(n))return G(n)&&ut(n,(d,m)=>{s.attr(m,d)}),s;const l=s.attributes;if(l){if(o!==void 0){if(o===null){if(n in l.map){delete l.map[n];let d=l.length;for(;d--;)if(l[d].name===n)return l.splice(d,1),s}return s}if(n in l.map){let d=l.length;for(;d--;)if(l[d].name===n){l[d].value=o;break}}else l.push({name:n,value:o});return l.map[n]=o,s}return l.map[n]}}clone(){const n=this,o=new ec(n.name,n.type),s=n.attributes;if(s){const l=[];l.map={};for(let d=0,m=s.length;d<m;d++){const f=s[d];f.name!=="id"&&(l[l.length]={name:f.name,value:f.value},l.map[f.name]=f.value)}o.attributes=l}return o.value=n.value,o}wrap(n){const o=this;return o.parent&&(o.parent.insert(n,o),n.append(o)),o}unwrap(){const n=this;for(let o=n.firstChild;o;){const s=o.next;n.insert(o,n,!0),o=s}n.remove()}remove(){const n=this,o=n.parent,s=n.next,l=n.prev;return o&&(o.firstChild===n?(o.firstChild=s,s&&(s.prev=null)):l&&(l.next=s),o.lastChild===n?(o.lastChild=l,l&&(l.next=null)):s&&(s.prev=l),n.parent=n.next=n.prev=null),n}append(n){const o=this;n.parent&&n.remove();const s=o.lastChild;return s?(s.next=n,n.prev=s,o.lastChild=n):o.lastChild=o.firstChild=n,n.parent=o,n}insert(n,o,s){n.parent&&n.remove();const l=o.parent||this;return s?(o===l.firstChild?l.firstChild=n:o.prev&&(o.prev.next=n),n.prev=o.prev,n.next=o,o.prev=n):(o===l.lastChild?l.lastChild=n:o.next&&(o.next.prev=n),n.next=o.next,n.prev=o,o.next=n),n.parent=l,n}getAll(n){const o=this,s=[];for(let l=o.firstChild;l;l=Jw(l,o))l.name===n&&s.push(l);return s}children(){const n=[];for(let o=this.firstChild;o;o=o.next)n.push(o);return n}empty(){const n=this;if(n.firstChild){const o=[];for(let l=n.firstChild;l;l=Jw(l,n))o.push(l);let s=o.length;for(;s--;){const l=o[s];l.parent=l.firstChild=l.lastChild=l.next=l.prev=null}}return n.firstChild=n.lastChild=null,n}isEmpty(n,o={},s){var l;const d=this;let m=d.firstChild;if(uO(d))return!1;if(m)do{if(m.type===1){if(m.attr("data-mce-bogus"))continue;if(n[m.name]||uO(m))return!1}if(m.type===8||m.type===3&&!IN(m)||m.type===3&&m.parent&&o[m.parent.name]&&Wl((l=m.value)!==null&&l!==void 0?l:"")||s&&s(m))return!1}while(m=Jw(m,d));return!0}walk(n){return Jw(this,null,n)}}const dO=(t,n,o=0)=>{const s=t.toLowerCase();if(s.indexOf("[if ",o)!==-1&&((l,d)=>/^\s*\[if [\w\W]+\]>.*<!\[endif\](--!?)?>/.test(l.substr(d)))(s,o)){const l=s.indexOf("[endif]",o);return s.indexOf(">",l)}if(n){const l=s.indexOf(">",o);return l!==-1?l:s.length}{const l=/--!?>/g;l.lastIndex=o;const d=l.exec(t);return d?d.index+d[0].length:s.length}},PN=(t,n,o)=>{const s=/<([!?\/])?([A-Za-z0-9\-_:.]+)/g,l=/(?:\s(?:[^'">]+(?:"[^"]*"|'[^']*'))*[^"'>]*(?:"[^">]*|'[^'>]*)?|\s*|\/)>/g,d=t.getVoidElements();let m=1,f=o;for(;m!==0;)for(s.lastIndex=f;;){const y=s.exec(n);if(y===null)return f;if(y[1]==="!"){f=Rn(y[2],"--")?dO(n,!1,y.index+3):dO(n,!0,y.index+1);break}{l.lastIndex=s.lastIndex;const _=l.exec(n);if(me(_)||_.index!==s.lastIndex)continue;y[1]==="/"?m-=1:fn(d,y[2])||(m+=1),f=s.lastIndex+_[0].length;break}}return f},co=(t,n)=>{const o=/<(\w+) [^>]*data-mce-bogus="all"[^>]*>/g,s=t.schema;let l=((f,y)=>{const _=new RegExp(["\\s?("+f.join("|")+')="[^"]+"'].join("|"),"gi");return y.replace(_,"")})(t.getTempAttrs(),n);const d=s.getVoidElements();let m;for(;m=o.exec(l);){const f=o.lastIndex,y=m[0].length;let _;_=d[m[1]]?f:PN(s,l,f),l=l.substring(0,f-y)+l.substring(_),o.lastIndex=f-y}return Gu(l)},mO=co,Kk=t=>{const n=Jn(t,"[data-mce-bogus]");ze(n,o=>{ws(o,"data-mce-bogus")==="all"?ce(o):bl(o)?(Vi(o,Fc(Tl)),ce(o)):_e(o)})},fO=t=>{const n=Jn(t,"input");ze(n,o=>{Da(o,"name")})},Yk=(t,n,o)=>{let s;return s=n.format==="raw"?an.trim(mO(t.serializer,o.innerHTML)):n.format==="text"?((l,d)=>{const m=l.getDoc(),f=ns(Ue(l.getBody())),y=us("div",m);Yr(y,"data-mce-bogus","all"),Vc(y,{position:"fixed",left:"-9999999px",top:"0"}),zt(y,d.innerHTML),Kk(y),fO(y);const _=(T=>fc(T)?T:Ue(mc(T).dom.body))(f);lr(_,y);const E=Gu(y.dom.innerText);return ce(y),E})(t,o):n.format==="tree"?t.serializer.serialize(o,n):((l,d)=>{const m=ll(l),f=new RegExp(`^(<${m}[^>]*>(&nbsp;|&#160;|\\s|\xA0|<br \\/>|)<\\/${m}>[\r
]*|<br \\/>[\r
]*)$`);return d.replace(f,"")})(t,t.serializer.serialize(o,n)),n.format!=="text"&&!uo(Ue(o))&&le(s)?an.trim(s):s},gO=an.makeMap,uy=t=>{const n=[],o=(t=t||{}).indent,s=gO(t.indent_before||""),l=gO(t.indent_after||""),d=pi.getEncodeFunc(t.entity_encoding||"raw",t.entities),m=t.element_format!=="xhtml";return{start:(f,y,_)=>{if(o&&s[f]&&n.length>0){const E=n[n.length-1];E.length>0&&E!==`
`&&n.push(`
`)}if(n.push("<",f),y)for(let E=0,T=y.length;E<T;E++){const P=y[E];n.push(" ",P.name,'="',d(P.value,!0),'"')}if(n[n.length]=!_||m?">":" />",_&&o&&l[f]&&n.length>0){const E=n[n.length-1];E.length>0&&E!==`
`&&n.push(`
`)}},end:f=>{let y;n.push("</",f,">"),o&&l[f]&&n.length>0&&(y=n[n.length-1],y.length>0&&y!==`
`&&n.push(`
`))},text:(f,y)=>{f.length>0&&(n[n.length]=y?f:d(f))},cdata:f=>{n.push("<![CDATA[",f,"]]>")},comment:f=>{n.push("<!--",f,"-->")},pi:(f,y)=>{y?n.push("<?",f," ",d(y),"?>"):n.push("<?",f,"?>"),o&&n.push(`
`)},doctype:f=>{n.push("<!DOCTYPE",f,">",o?`
`:"")},reset:()=>{n.length=0},getContent:()=>n.join("").replace(/\n$/,"")}},sg=(t={},n=Pd())=>{const o=uy(t);return t.validate=!("validate"in t)||t.validate,{serialize:s=>{const l=t.validate,d={3:f=>{var y;o.text((y=f.value)!==null&&y!==void 0?y:"",f.raw)},8:f=>{var y;o.comment((y=f.value)!==null&&y!==void 0?y:"")},7:f=>{o.pi(f.name,f.value)},10:f=>{var y;o.doctype((y=f.value)!==null&&y!==void 0?y:"")},4:f=>{var y;o.cdata((y=f.value)!==null&&y!==void 0?y:"")},11:f=>{let y=f;if(y=y.firstChild)do m(y);while(y=y.next)}};o.reset();const m=f=>{var y;const _=d[f.type];if(_)_(f);else{const E=f.name,T=E in n.getVoidElements();let P=f.attributes;if(l&&P&&P.length>1){const V=[];V.map={};const B=n.getElementRule(f.name);if(B){for(let Z=0,z=B.attributesOrder.length;Z<z;Z++){const W=B.attributesOrder[Z];if(W in P.map){const te=P.map[W];V.map[W]=te,V.push({name:W,value:te})}}for(let Z=0,z=P.length;Z<z;Z++){const W=P[Z].name;if(!(W in V.map)){const te=P.map[W];V.map[W]=te,V.push({name:W,value:te})}}P=V}}if(o.start(E,P,T),!T){let V=f.firstChild;if(V){E!=="pre"&&E!=="textarea"||V.type!==3||((y=V.value)===null||y===void 0?void 0:y[0])!==`
`||o.text(`
`,!0);do m(V);while(V=V.next)}o.end(E)}}};return s.type!==1||t.inner?s.type===3?d[3](s):d[11](s):m(s),o.getContent()}}},pO=new Set;ze(["margin","margin-left","margin-right","margin-top","margin-bottom","padding","padding-left","padding-right","padding-top","padding-bottom","border","border-width","border-style","border-color","background","background-attachment","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","float","position","left","right","top","bottom","z-index","display","transform","width","max-width","min-width","height","max-height","min-height","overflow","overflow-x","overflow-y","text-overflow","vertical-align","transition","transition-delay","transition-duration","transition-property","transition-timing-function"],t=>{pO.add(t)});const Po=["font","text-decoration","text-emphasis"],Ko=(t,n)=>ur(t.parseStyle(t.getAttrib(n,"style"))),hO=(t,n,o)=>{const s=Ko(t,n),l=Ko(t,o),d=m=>{var f,y;const _=(f=t.getStyle(n,m))!==null&&f!==void 0?f:"",E=(y=t.getStyle(o,m))!==null&&y!==void 0?y:"";return mr(_)&&mr(E)&&_!==E};return dt(s,m=>{const f=y=>dt(y,_=>_===m);if(!f(l)&&f(Po)){const y=ne(l,_=>dt(Po,E=>Rn(_,E)));return dt(y,d)}return d(m)})},vO=(t,n,o)=>Q.from(o.container()).filter(tn).exists(s=>{const l=t?0:-1;return n(s.data.charAt(o.offset()+l))}),Xk=it(vO,!0,We),Jk=it(vO,!1,We),Oo=t=>{const n=t.container();return tn(n)&&(n.data.length===0||$g(n.data)&&id.isBookmarkNode(n.parentNode))},cd=(t,n)=>o=>Bv(t?0:-1,o).filter(n).isSome(),Qk=t=>al(t)&&jl(Ue(t),"display")==="block",e4=t=>rr(t)&&!(n=>vn(n)&&n.getAttribute("data-mce-bogus")==="all")(t),LN=cd(!0,Qk),BN=cd(!1,Qk),Qv=cd(!0,$i),dy=cd(!1,$i),tr=cd(!0,na),t4=cd(!1,na),Jd=cd(!0,e4),ig=cd(!1,e4),n4=(t,n)=>((o,s,l)=>Hc(s,o)?W1(o,d=>l(d)||Ur(d,s)).slice(0,-1):[])(t,n,pn),sf=(t,n)=>[t].concat(n4(t,n)),Qw=(t,n,o)=>jv(t,n,o,Oo),o4=(t,n)=>Ct(sf(Ue(n.container()),t),rs),r4=(t,n,o)=>Qw(t,n.dom,o).forall(s=>o4(n,o).fold(()=>!vu(s,o,n.dom),l=>!vu(s,o,n.dom)&&Hc(l,Ue(s.container())))),bO=(t,n,o)=>o4(n,o).fold(()=>Qw(t,n.dom,o).forall(s=>!vu(s,o,n.dom)),s=>Qw(t,s.dom,o).isNone()),a4=it(bO,!1),yO=it(bO,!0),FN=it(r4,!1),HN=it(r4,!0),s4=t=>Il(t).exists(bl),e0=(t,n,o)=>{const s=ne(sf(Ue(o.container()),n),rs),l=Xn(s).getOr(n);return gn(t,l.dom,o).filter(s4)},i4=(t,n)=>Il(n).exists(bl)||e0(!0,t,n).isSome(),l4=(t,n)=>(o=>Q.from(o.getNode(!0)).map(Ue))(n).exists(bl)||e0(!1,t,n).isSome(),zN=it(e0,!1),VN=it(e0,!0),c4=t=>St.isTextPosition(t)&&!t.isAtStart()&&!t.isAtEnd(),xp=(t,n)=>{const o=ne(sf(Ue(n.container()),t),rs);return Xn(o).getOr(t)},u4=(t,n)=>c4(n)?Jk(n):Jk(n)||ci(xp(t,n).dom,n).exists(Jk),d4=(t,n)=>c4(n)?Xk(n):Xk(n)||Zs(xp(t,n).dom,n).exists(Xk),m4=t=>Il(t).bind(n=>os(n,xi)).exists(n=>(o=>Ht(["pre","pre-wrap"],o))(jl(n,"white-space"))),wO=(t,n)=>o=>{return s=new qo(o,t)[n](),G(s)&&rr(s)&&Zd(s);var s},f4=(t,n)=>!m4(n)&&(((o,s)=>((l,d)=>ci(l.dom,d).isNone())(o,s)||((l,d)=>Zs(l.dom,d).isNone())(o,s)||a4(o,s)||yO(o,s)||l4(o,s)||i4(o,s))(t,n)||u4(t,n)||d4(t,n)),t0=(t,n)=>!m4(n)&&(a4(t,n)||FN(t,n)||l4(t,n)||u4(t,n)||((o,s)=>{const l=ci(o.dom,s).getOr(s),d=wO(o.dom,"prev");return s.isAtStart()&&(d(s.container())||d(l.container()))})(t,n)),Mi=(t,n)=>!m4(n)&&(yO(t,n)||HN(t,n)||i4(t,n)||d4(t,n)||((o,s)=>{const l=Zs(o.dom,s).getOr(s),d=wO(o.dom,"next");return s.isAtEnd()&&(d(s.container())||d(l.container()))})(t,n)),g4=(t,n)=>t0(t,n)||Mi(t,(o=>{const s=o.container(),l=o.offset();return tn(s)&&l<s.data.length?St(s,l+1):o})(n)),_p=(t,n)=>Re(t.charAt(n)),ls=(t,n)=>We(t.charAt(n)),my=(t,n,o)=>{const s=n.data,l=St(n,0);return o||!_p(s,0)||g4(t,l)?!!(o&&ls(s,0)&&t0(t,l))&&(n.data=ds+s.slice(1),!0):(n.data=" "+s.slice(1),!0)},vi=(t,n,o)=>{const s=n.data,l=St(n,s.length-1);return o||!_p(s,s.length-1)||g4(t,l)?!!(o&&ls(s,s.length-1)&&Mi(t,l))&&(n.data=s.slice(0,-1)+ds,!0):(n.data=s.slice(0,-1)+" ",!0)},Gr=(t,n)=>{const o=n.container();if(!tn(o))return Q.none();if((s=>{const l=s.container();return tn(l)&&Cn(l.data,ds)})(n)){const s=my(t,o,!1)||(l=>{const d=l.data,m=(f=>{const y=f.split("");return Et(y,(_,E)=>Re(_)&&E>0&&E<y.length-1&&mt(y[E-1])&&mt(y[E+1])?" ":_).join("")})(d);return m!==d&&(l.data=m,!0)})(o)||vi(t,o,!1);return Kr(s,n)}if(g4(t,n)){const s=my(t,o,!0)||vi(t,o,!0);return Kr(s,n)}return Q.none()},Jc=(t,n,o)=>{if(o===0)return;const s=Ue(t),l=ga(s,rs).getOr(s),d=t.data.slice(n,n+o),m=n+o>=t.data.length&&Mi(l,St(t,t.data.length)),f=n===0&&t0(l,St(t,0));t.replaceData(n,o,Dd(d,4,f,m))},ex=(t,n)=>{const o=t.data.slice(n),s=o.length-fr(o).length;Jc(t,n,s)},tx=(t,n)=>{const o=t.data.slice(0,n),s=o.length-Ir(o).length;Jc(t,n-s,s)},fy=(t,n,o,s=!0)=>{const l=Ir(t.data).length,d=s?t:n,m=s?n:t;return s?d.appendData(m.data):d.insertData(0,m.data),ce(Ue(m)),o&&ex(d,l),d},p4=(t,n)=>((o,s)=>{const l=o.container(),d=o.offset();return!St.isTextPosition(o)&&l===s.parentNode&&d>St.before(s).offset()})(n,t)?St(n.container(),n.offset()-1):n,h4=t=>{return yc(t.previousSibling)?Q.some((n=t.previousSibling,tn(n)?St(n,n.data.length):St.after(n))):t.previousSibling?xl(t.previousSibling):Q.none();var n},v4=t=>{return yc(t.nextSibling)?Q.some((n=t.nextSibling,tn(n)?St(n,0):St.before(n))):t.nextSibling?Gi(t.nextSibling):Q.none();var n},b4=(t,n,o)=>((s,l,d)=>s?((m,f)=>v4(f).orThunk(()=>h4(f)).orThunk(()=>((y,_)=>Zs(y,St.after(_)).orThunk(()=>ci(y,St.before(_))))(m,f)))(l,d):((m,f)=>h4(f).orThunk(()=>v4(f)).orThunk(()=>((y,_)=>Q.from(_.previousSibling?_.previousSibling:_.parentNode).bind(E=>ci(y,St.before(E))).orThunk(()=>Zs(y,St.after(_))))(m,f)))(l,d))(t,n,o).map(it(p4,o)),y4=(t,n,o)=>{o.fold(()=>{t.focus()},s=>{t.selection.setRng(s.toRange(),n)})},ud=(t,n)=>n&&fn(t.schema.getBlockElements(),Jr(n)),$N=t=>{if(Ma(t)){const n=Cm('<br data-mce-bogus="1">');return de(t),lr(t,n),Q.some(St.before(n.dom))}return Q.none()},lg=(t,n,o,s=!0)=>{const l=b4(n,t.getBody(),o.dom),d=ga(o,it(ud,t),(m=t.getBody(),y=>y.dom===m));var m;const f=((y,_,E)=>{const T=nl(y).filter(vr),P=zu(y).filter(vr);return ce(y),(V=T,B=P,Z=_,z=(W,te,se)=>{const be=W.dom,Ce=te.dom,Ie=be.data.length;return fy(be,Ce,E),se.container()===Ce?St(be,Ie):se},V.isSome()&&B.isSome()&&Z.isSome()?Q.some(z(V.getOrDie(),B.getOrDie(),Z.getOrDie())):Q.none()).orThunk(()=>(E&&(T.each(W=>tx(W.dom,W.dom.length)),P.each(W=>ex(W.dom,0))),_));var V,B,Z,z})(o,l,((y,_)=>fn(y.schema.getTextInlineElements(),Jr(_)))(t,o));t.dom.isEmpty(t.getBody())?(t.setContent(""),t.selection.setCursorLocation()):d.bind($N).fold(()=>{s&&y4(t,n,f)},y=>{s&&y4(t,n,Q.some(y))})},wu=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,Qd=(t,n)=>tl(Ue(n),Wi(t))&&!Ku(t.schema,n)&&t.dom.isEditable(n),n0=t=>{var n;return la.DOM.getStyle(t,"direction",!0)==="rtl"||(o=>wu.test(o))((n=t.textContent)!==null&&n!==void 0?n:"")},Cp=(t,n,o)=>{const s=((l,d,m)=>ne(la.DOM.getParents(m.container(),"*",d),l))(t,n,o);return Q.from(s[s.length-1])},_l=(t,n)=>{const o=n.container(),s=n.offset();return t?vc(o)?tn(o.nextSibling)?St(o.nextSibling,0):St.after(o):gi(n)?St(o,s+1):n:vc(o)?tn(o.previousSibling)?St(o.previousSibling,o.previousSibling.data.length):St.before(o):qu(n)?St(o,s-1):n},ca=it(_l,!0),o0=it(_l,!1),w4=(t,n)=>{const o=s=>s.stopImmediatePropagation();t.on("beforeinput input",o,!0),t.getDoc().execCommand(n),t.off("beforeinput input",o)},nx=t=>w4(t,"Delete"),x4=t=>Zu(t)||Va(t),r0=(t,n)=>Hc(t,n)?os(n,x4,(o=>s=>Fa(pl(s),o,Ur))(t)):Q.none(),gy=(t,n=!0)=>{t.dom.isEmpty(t.getBody())&&t.setContent("",{no_selection:!n})},ox=(t,n,o)=>Ka(Gi(o),xl(o),(s,l)=>{const d=_l(!0,s),m=_l(!1,l),f=_l(!1,n);return t?Zs(o,f).exists(y=>y.isEqual(m)&&n.isEqual(d)):ci(o,f).exists(y=>y.isEqual(d)&&n.isEqual(m))}).getOr(!0),py=t=>{var n;return(xm(n=t)===8||Jr(n)==="#comment"?nl(t):zi(t)).bind(py).orThunk(()=>Q.some(t))},rx=(t,n,o,s=!0)=>{var l;n.deleteContents();const d=py(o).getOr(o),m=Ue((l=t.dom.getParent(d.dom,t.dom.isBlock))!==null&&l!==void 0?l:o.dom);if(m.dom===t.getBody()?gy(t,s):Ma(m)&&(Wu(m),s&&t.selection.setCursorLocation(m.dom,0)),!Ur(o,m)){const y=Fa(pl(m),o)?[]:pl(f=m).map(fa).map(_=>ne(_,E=>!Ur(f,E))).getOr([]);ze(y.concat(fa(o)),_=>{Ur(_,m)||Hc(_,m)||!Ma(_)||ce(_)})}var f},ax=t=>Jn(t,"td,th"),sx=(t,n)=>({start:t,end:n}),a0=ss([{singleCellTable:["rng","cell"]},{fullTable:["table"]},{partialTable:["cells","outsideDetails"]},{multiTable:["startTableCells","endTableCells","betweenRng"]}]),hy=(t,n)=>Ya(Ue(t),"td,th",n),_4=t=>!Ur(t.start,t.end),Xh=(t,n)=>yr(t.start,n).bind(o=>yr(t.end,n).bind(s=>Kr(Ur(o,s),o))),ix=t=>n=>Xh(n,t).map(o=>((s,l,d)=>({rng:s,table:l,cells:d}))(n,o,ax(o))),lx=(t,n,o,s)=>{if(o.collapsed||!t.forall(_4))return Q.none();if(n.isSameTable){const l=t.bind(ix(s));return Q.some({start:l,end:l})}{const l=hy(o.startContainer,s),d=hy(o.endContainer,s),m=l.bind((y=>_=>yr(_,y).bind(E=>so(ax(E)).map(T=>sx(_,T))))(s)).bind(ix(s)),f=d.bind((y=>_=>yr(_,y).bind(E=>Xn(ax(E)).map(T=>sx(T,_))))(s)).bind(ix(s));return Q.some({start:m,end:f})}},xO=(t,n)=>rn(t,o=>Ur(o,n)),C4=t=>Ka(xO(t.cells,t.rng.start),xO(t.cells,t.rng.end),(n,o)=>t.cells.slice(n,o+1)),k4=(t,n)=>{const{startTable:o,endTable:s}=n,l=t.cloneRange();return o.each(d=>l.setStartAfter(d.dom)),s.each(d=>l.setEndBefore(d.dom)),l},_O=(t,n)=>{const o=(d=>m=>Ur(d,m))(t),s=((d,m)=>{const f=hy(d.startContainer,m),y=hy(d.endContainer,m);return Ka(f,y,sx)})(n,o),l=((d,m)=>{const f=V=>yr(Ue(V),m),y=f(d.startContainer),_=f(d.endContainer),E=y.isSome(),T=_.isSome(),P=Ka(y,_,Ur).getOr(!1);return{startTable:y,endTable:_,isStartInTable:E,isEndInTable:T,isSameTable:P,isMultiTable:!P&&E&&T}})(n,o);return((d,m,f)=>d.exists(y=>((_,E)=>!_4(_)&&Xh(_,E).exists(T=>{const P=T.dom.rows;return P.length===1&&P[0].cells.length===1}))(y,f)&&Fo(y.start,m)))(s,n,o)?s.map(d=>a0.singleCellTable(n,d.start)):l.isMultiTable?((d,m,f,y)=>lx(d,m,f,y).bind(({start:_,end:E})=>{const T=_.bind(C4).getOr([]),P=E.bind(C4).getOr([]);if(T.length>0&&P.length>0){const V=k4(f,m);return Q.some(a0.multiTable(T,P,V))}return Q.none()}))(s,l,n,o):((d,m,f,y)=>lx(d,m,f,y).bind(({start:_,end:E})=>_.or(E)).bind(_=>{const{isSameTable:E}=m,T=C4(_).getOr([]);if(E&&_.cells.length===T.length)return Q.some(a0.fullTable(_.table));if(T.length>0){if(E)return Q.some(a0.partialTable(T,Q.none()));{const P=k4(f,m);return Q.some(a0.partialTable(T,Q.some({...m,rng:P})))}}return Q.none()}))(s,l,n,o)},S4=t=>ze(t,n=>{Da(n,"contenteditable"),Wu(n)}),s0=(t,n,o,s)=>{const l=o.cloneRange();s?(l.setStart(o.startContainer,o.startOffset),l.setEndAfter(n.dom.lastChild)):(l.setStartBefore(n.dom.firstChild),l.setEnd(o.endContainer,o.endOffset)),cx(t,l,n,!1).each(d=>d())},E4=t=>{const n=mo(t),o=Ue(t.selection.getNode());hc(o.dom)&&Ma(o)?t.selection.setCursorLocation(o.dom,0):t.selection.collapse(!0),n.length>1&&dt(n,s=>Ur(s,o))&&Yr(o,"data-mce-selected","1")},O4=(t,n,o)=>Q.some(()=>{const s=t.selection.getRng(),l=o.bind(({rng:d,isStartInTable:m})=>{const f=((_,E)=>Q.from(_.dom.getParent(E,_.dom.isBlock)).map(Ue))(t,m?d.endContainer:d.startContainer);d.deleteContents(),((_,E,T)=>{T.each(P=>{E?ce(P):(Wu(P),_.selection.setCursorLocation(P.dom,0))})})(t,m,f.filter(Ma));const y=m?n[0]:n[n.length-1];return s0(t,y,s,m),Ma(y)?Q.none():Q.some(m?n.slice(1):n.slice(0,-1))}).getOr(n);S4(l),E4(t)}),CO=(t,n,o,s)=>Q.some(()=>{const l=t.selection.getRng(),d=n[0],m=o[o.length-1];s0(t,d,l,!0),s0(t,m,l,!1);const f=Ma(d)?n:n.slice(1),y=Ma(m)?o:o.slice(0,-1);S4(f.concat(y)),s.deleteContents(),E4(t)}),cx=(t,n,o,s=!0)=>Q.some(()=>{rx(t,n,o,s)}),kO=(t,n)=>Q.some(()=>lg(t,!1,n)),T4=(t,n)=>Ct(sf(n,t),Nm),ux=(t,n)=>Ct(sf(n,t),Fu("caption")),vy=(t,n)=>Q.some(()=>{Wu(n),t.selection.setCursorLocation(n.dom,0)}),A4=(t,n)=>t?tr(n):t4(n),SO=(t,n,o)=>{const s=Ue(t.getBody());return ux(s,o).fold(()=>((l,d,m,f)=>{const y=St.fromRangeStart(l.selection.getRng());return T4(m,f).bind(_=>Ma(_)?vy(l,_):((E,T,P,V,B)=>es(P,E.getBody(),B).bind(Z=>T4(T,Ue(Z.getNode())).bind(z=>Ur(z,V)?Q.none():Q.some(Ft))))(l,m,d,_,y))})(t,n,s,o).orThunk(()=>Kr(((l,d)=>{const m=St.fromRangeStart(l.selection.getRng());return A4(d,m)||gn(d,l.getBody(),m).exists(f=>A4(d,f))})(t,n),Ft)),l=>((d,m,f,y)=>{const _=St.fromRangeStart(d.selection.getRng());return Ma(y)?vy(d,y):((E,T,P,V,B)=>es(P,E.getBody(),B).fold(()=>Q.some(Ft),Z=>((z,W,te,se)=>Gi(z.dom).bind(be=>xl(z.dom).map(Ce=>W?te.isEqual(be)&&se.isEqual(Ce):te.isEqual(Ce)&&se.isEqual(be))).getOr(!0))(V,P,B,Z)?((z,W)=>vy(z,W))(E,V):((z,W,te)=>ux(z,Ue(te.getNode())).fold(()=>Q.some(Ft),se=>Kr(!Ur(se,W),Ft)))(T,V,Z)))(d,f,m,y,_)})(t,n,s,l))},dx=(t,n)=>{const o=Ue(t.selection.getStart(!0)),s=mo(t);return t.selection.isCollapsed()&&s.length===0?SO(t,n,o):((l,d,m)=>{const f=Ue(l.getBody()),y=l.selection.getRng();return m.length!==0?O4(l,m,Q.none()):((_,E,T,P)=>ux(E,P).fold(()=>((V,B,Z)=>_O(B,Z).bind(z=>z.fold(it(cx,V),it(kO,V),it(O4,V),it(CO,V))))(_,E,T),V=>((B,Z)=>vy(B,Z))(_,V)))(l,f,y,d)})(t,o,s)},kp=(t,n)=>{let o=n;for(;o&&o!==t;){if($c(o)||rr(o))return o;o=o.parentNode}return null},EO=["data-ephox-","data-mce-","data-alloy-","data-snooker-","_"],OO=an.each,mx=t=>{const n=t.dom,o=new Set(t.serializer.getTempAttrs()),s=l=>dt(EO,d=>Rn(l,d))||o.has(l);return{compare:(l,d)=>{if(l.nodeName!==d.nodeName||l.nodeType!==d.nodeType)return!1;const m=y=>{const _={};return OO(n.getAttribs(y),E=>{const T=E.nodeName.toLowerCase();T==="style"||s(T)||(_[T]=n.getAttrib(y,T))}),_},f=(y,_)=>{for(const E in y)if(fn(y,E)){const T=_[E];if(ae(T)||y[E]!==T)return!1;delete _[E]}for(const E in _)if(fn(_,E))return!1;return!0};return vn(l)&&vn(d)&&(!f(m(l),m(d))||!f(n.parseStyle(n.getAttrib(l,"style")),n.parseStyle(n.getAttrib(d,"style"))))?!1:!Le(l)&&!Le(d)},isAttributeInternal:s}},fx=(t,n,o,s)=>{const l=o.name;for(let d=0,m=t.length;d<m;d++){const f=t[d];if(f.name===l){const y=s.nodes[l];y?y.nodes.push(o):s.nodes[l]={filter:f,nodes:[o]}}}if(o.attributes)for(let d=0,m=n.length;d<m;d++){const f=n[d],y=f.name;if(y in o.attributes.map){const _=s.attributes[y];_?_.nodes.push(o):s.attributes[y]={filter:f,nodes:[o]}}}},by=(t,n)=>{const o=(s,l)=>{ut(s,d=>{const m=So(d.nodes);ze(d.filter.callbacks,f=>{for(let y=m.length-1;y>=0;y--){const _=m[y];(l?_.attr(d.filter.name)!==void 0:_.name===d.filter.name)&&!De(_.parent)||m.splice(y,1)}m.length>0&&f(m,d.filter.name,n)})})};o(t.nodes,!1),o(t.attributes,!0)},N4=(t,n,o,s={})=>{const l=((d,m,f)=>{const y={nodes:{},attributes:{}};return f.firstChild&&((_,E)=>{let T=_;for(;T=T.walk();)fx(d,m,T,y)})(f),y})(t,n,o);by(l,s)},gx=(t,n,o)=>{if(t.insert&&n(o)){const s=new ec("br",1);s.attr("data-mce-bogus","1"),o.empty().append(s)}else o.empty().append(new ec("#text",3)).value=ds},yy=(t,n)=>{const o=t==null?void 0:t.firstChild;return G(o)&&o===t.lastChild&&o.name===n},Jh=(t,n,o,s)=>s.isEmpty(n,o,l=>((d,m)=>{const f=d.getElementRule(m.name);return(f==null?void 0:f.paddEmpty)===!0})(t,l)),wy=t=>{let n;for(let o=t;o;o=o.parent){const s=o.attr("contenteditable");if(s==="false")break;s==="true"&&(n=o)}return Q.from(n)},xy=(t,n,o=t.parent)=>{if(n.getSpecialElements()[t.name])t.empty().remove();else{const s=t.children();for(const l of s)o&&!n.isValidChild(o.name,l.name)&&xy(l,n,o);t.unwrap()}},px=(t,n,o,s=Ft)=>{const l=n.getTextBlockElements(),d=n.getNonEmptyElements(),m=n.getWhitespaceElements(),f=an.makeMap("tr,td,th,tbody,thead,tfoot,table"),y=new Set,_=E=>E!==o&&!f[E.name];for(let E=0;E<t.length;E++){const T=t[E];let P,V,B;if(!T.parent||y.has(T))continue;if(l[T.name]&&T.parent.name==="li"){let z=T.next;for(;z&&l[z.name];)z.name="li",y.add(z),T.parent.insert(z,T.parent),z=z.next;T.unwrap();continue}const Z=[T];for(P=T.parent;P&&!n.isValidChild(P.name,T.name)&&_(P);P=P.parent)Z.push(P);if(P&&Z.length>1)if(n.isValidChild(P.name,T.name)){Z.reverse(),V=Z[0].clone(),s(V);let z=V;for(let W=0;W<Z.length-1;W++){n.isValidChild(z.name,Z[W].name)&&W>0?(B=Z[W].clone(),s(B),z.append(B)):B=z;for(let te=Z[W].firstChild;te&&te!==Z[W+1];){const se=te.next;B.append(te),te=se}z=B}Jh(n,d,m,V)?P.insert(T,Z[0],!0):(P.insert(V,Z[0],!0),P.insert(T,V)),P=Z[0],(Jh(n,d,m,P)||yy(P,"br"))&&P.empty().remove()}else xy(T,n);else if(T.parent){if(T.name==="li"){let z=T.prev;if(z&&(z.name==="ul"||z.name==="ol")){z.append(T);continue}if(z=T.next,z&&(z.name==="ul"||z.name==="ol")&&z.firstChild){z.insert(T,z.firstChild,!0);continue}const W=new ec("ul",1);s(W),T.wrap(W);continue}if(n.isValidChild(T.parent.name,"div")&&n.isValidChild("div",T.name)){const z=new ec("div",1);s(z),T.wrap(z)}else xy(T,n)}}},Qh=(t,n,o=n.parent)=>!(!o||!t.children[n.name]||t.isValidChild(o.name,n.name))||!(!o||n.name!=="a"||!((s,l)=>{let d=s;for(;d;){if(d.name==="a")return!0;d=d.parent}return!1})(o)),_y=t=>t.collapsed?t:(n=>{const o=St.fromRangeStart(n),s=St.fromRangeEnd(n),l=n.commonAncestorContainer;return gn(!1,l,s).map(d=>!vu(o,s,l)&&vu(o,d,l)?((m,f,y,_)=>{const E=document.createRange();return E.setStart(m,f),E.setEnd(y,_),E})(o.container(),o.offset(),d.container(),d.offset()):n).getOr(n)})(t),M4=(t,n)=>{let o=n.firstChild,s=n.lastChild;return o&&o.name==="meta"&&(o=o.next),s&&s.attr("id")==="mce_marker"&&(s=s.prev),((l,d)=>{const m=l.getNonEmptyElements();return G(d)&&(d.isEmpty(m)||((f,y)=>f.getBlockElements()[y.name]&&(_=>G(_.firstChild)&&_.firstChild===_.lastChild)(y)&&(_=>_.name==="br"||_.value===ds)(y.firstChild))(l,d))})(t,s)&&(s=s==null?void 0:s.prev),!(!o||o!==s||o.name!=="ul"&&o.name!=="ol")},Cy=t=>{return t.length>0&&(!(o=t[t.length-1]).firstChild||G((n=o)==null?void 0:n.firstChild)&&n.firstChild===n.lastChild&&(s=>s.data===ds||kt(s))(n.firstChild))?t.slice(0,-1):t;var n,o},lf=(t,n)=>{const o=t.getParent(n,t.isBlock);return o&&o.nodeName==="LI"?o:null},R4=(t,n)=>{const o=St.after(t),s=bu(n).prev(o);return s?s.toRange():null},UN=(t,n,o,s)=>{const l=((T,P,V)=>{const B=P.serialize(V);return(Z=>{var z,W;const te=Z.firstChild,se=Z.lastChild;return te&&te.nodeName==="META"&&((z=te.parentNode)===null||z===void 0||z.removeChild(te)),se&&se.id==="mce_marker"&&((W=se.parentNode)===null||W===void 0||W.removeChild(se)),Z})(T.createFragment(B))})(n,t,s),d=lf(n,o.startContainer),m=Cy((f=l.firstChild,ne((y=f==null?void 0:f.childNodes)!==null&&y!==void 0?y:[],T=>T.nodeName==="LI")));var f,y;const _=n.getRoot(),E=T=>{const P=St.fromRangeStart(o),V=bu(n.getRoot()),B=T===1?V.prev(P):V.next(P),Z=B==null?void 0:B.getNode();return!Z||lf(n,Z)!==d};return d?E(1)?((T,P,V)=>{const B=T.parentNode;return B&&an.each(P,Z=>{B.insertBefore(Z,T)}),((Z,z)=>{const W=St.before(Z),te=bu(z).next(W);return te?te.toRange():null})(T,V)})(d,m,_):E(2)?((T,P,V,B)=>(B.insertAfter(P.reverse(),T),R4(P[0],V)))(d,m,_,n):((T,P,V,B)=>{const Z=((W,te)=>{const se=te.cloneRange(),be=te.cloneRange();return se.setStartBefore(W),be.setEndAfter(W),[se.cloneContents(),be.cloneContents()]})(T,B),z=T.parentNode;return z&&(z.insertBefore(Z[0],T),an.each(P,W=>{z.insertBefore(W,T)}),z.insertBefore(Z[1],T),z.removeChild(T)),R4(P[P.length-1],V)})(d,m,_,o):null},TO=["pre"],hx=hc,D4=(t,n,o)=>{var s,l;const d=t.selection,m=t.dom,f=t.parser,y=o.merge,_=sg({validate:!0},t.schema),E='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;</span>';n.indexOf("{$caret}")===-1&&(n+="{$caret}"),n=n.replace(/\{\$caret\}/,E);let T=d.getRng();const P=T.startContainer,V=t.getBody();P===V&&d.isCollapsed()&&m.isBlock(V.firstChild)&&((se,be)=>G(be)&&!se.schema.getVoidElements()[be.nodeName])(t,V.firstChild)&&m.isEmpty(V.firstChild)&&(T=m.createRng(),T.setStart(V.firstChild,0),T.setEnd(V.firstChild,0),d.setRng(T)),d.isCollapsed()||(se=>{const be=se.dom,Ce=_y(se.selection.getRng());se.selection.setRng(Ce);const Ie=be.getParent(Ce.startContainer,hx);((je,st,Nt)=>!!G(Nt)&&Nt===je.getParent(st.endContainer,hx)&&Fo(Ue(Nt),st))(be,Ce,Ie)?cx(se,Ce,Ue(Ie)):Ce.startContainer===Ce.endContainer&&Ce.endOffset-Ce.startOffset==1&&tn(Ce.startContainer.childNodes[Ce.startOffset])?Ce.deleteContents():se.getDoc().execCommand("Delete",!1)})(t);const B=d.getNode(),Z={context:B.nodeName.toLowerCase(),data:o.data,insert:!0},z=f.parse(n,Z);if(o.paste===!0&&M4(t.schema,z)&&((se,be)=>!!lf(se,be))(m,B))return T=UN(_,m,d.getRng(),z),T&&d.setRng(T),n;o.paste===!0&&((se,be,Ce,Ie)=>{var je;const st=be.firstChild,Nt=be.lastChild,bt=st===(Nt.attr("data-mce-type")==="bookmark"?Nt.prev:Nt),qe=Ht(TO,st.name);if(bt&&qe){const tt=st.attr("contenteditable")!=="false",Xe=((je=se.getParent(Ce,se.isBlock))===null||je===void 0?void 0:je.nodeName.toLowerCase())===st.name,ft=Q.from(kp(Ie,Ce)).forall($c);return tt&&Xe&&ft}return!1})(m,z,B,t.getBody())&&((s=z.firstChild)===null||s===void 0||s.unwrap()),(se=>{let be=se;for(;be=be.walk();)be.type===1&&be.attr("data-mce-fragment","1")})(z);let W=z.lastChild;if(W&&W.attr("id")==="mce_marker"){const se=W;for(W=W.prev;W;W=W.walk(!0))if(W.type===3||!m.isBlock(W.name)){W.parent&&t.schema.isValidChild(W.parent.name,"span")&&W.parent.insert(se,W,W.name==="br");break}}if(t._selectionOverrides.showBlockCaretContainer(B),Z.invalid){t.selection.setContent(E);let se,be=d.getNode();const Ce=t.getBody();for(Qs(be)?be=se=Ce:se=be;se&&se!==Ce;)be=se,se=se.parentNode;n=be===Ce?Ce.innerHTML:m.getOuterHTML(be);const Ie=f.parse(n),je=(tt=>{for(let Xe=tt;Xe;Xe=Xe.walk())if(Xe.attr("id")==="mce_marker")return Q.some(Xe);return Q.none()})(Ie),st=je.bind(wy).getOr(Ie);je.each(tt=>tt.replace(z));const Nt=z.children(),bt=(l=z.parent)!==null&&l!==void 0?l:Ie;z.unwrap();const qe=ne(Nt,tt=>Qh(t.schema,tt,bt));px(qe,t.schema,st),N4(f.getNodeFilters(),f.getAttributeFilters(),Ie),n=_.serialize(Ie),be===Ce?m.setHTML(Ce,n):m.setOuterHTML(be,n)}else n=_.serialize(z),((se,be,Ce)=>{var Ie;if(Ce.getAttribute("data-mce-bogus")==="all")(Ie=Ce.parentNode)===null||Ie===void 0||Ie.insertBefore(se.dom.createFragment(be),Ce);else{const je=Ce.firstChild,st=Ce.lastChild;!je||je===st&&je.nodeName==="BR"?se.dom.setHTML(Ce,be):se.selection.setContent(be,{no_events:!0})}})(t,n,B);var te;return((se,be)=>{const Ce=se.schema.getTextInlineElements(),Ie=se.dom;if(be){const je=se.getBody(),st=mx(se);an.each(Ie.select("*[data-mce-fragment]"),Nt=>{if(G(Ce[Nt.nodeName.toLowerCase()])&&((bt,qe)=>hn(Ko(bt,qe),tt=>!(Xe=>pO.has(Xe))(tt)))(Ie,Nt)){for(let bt=Nt.parentElement;G(bt)&&bt!==je&&!hO(Ie,Nt,bt);bt=bt.parentElement)if(st.compare(bt,Nt)){Ie.remove(Nt,!0);break}}})}})(t,y),((se,be)=>{var Ce,Ie,je;let st;const Nt=se.dom,bt=se.selection;if(!be)return;bt.scrollIntoView(be);const qe=kp(se.getBody(),be);if(qe&&Nt.getContentEditable(qe)==="false")return Nt.remove(be),void bt.select(qe);let tt=Nt.createRng();const Xe=be.previousSibling;if(tn(Xe)){tt.setStart(Xe,(Ie=(Ce=Xe.nodeValue)===null||Ce===void 0?void 0:Ce.length)!==null&&Ie!==void 0?Ie:0);const Tn=be.nextSibling;tn(Tn)&&(Xe.appendData(Tn.data),(je=Tn.parentNode)===null||je===void 0||je.removeChild(Tn))}else tt.setStartBefore(be),tt.setEndBefore(be);const ft=Nt.getParent(be,Nt.isBlock);Nt.remove(be),ft&&Nt.isEmpty(ft)&&(de(Ue(ft)),tt.setStart(ft,0),tt.setEnd(ft,0),hx(ft)||(Tn=>!!Tn.getAttribute("data-mce-fragment"))(ft)||!(st=(Tn=>{let on=St.fromRangeStart(Tn);return on=bu(se.getBody()).next(on),on==null?void 0:on.toRange()})(tt))?Nt.add(ft,Nt.create("br",{"data-mce-bogus":"1"})):(tt=st,Nt.remove(ft))),bt.setRng(tt)})(t,m.get("mce_marker")),te=t.getBody(),an.each(te.getElementsByTagName("*"),se=>{se.removeAttribute("data-mce-fragment")}),((se,be)=>{Q.from(se.getParent(be,"td,th")).map(Ue).each(Mm)})(m,d.getStart()),(se=>{ze(So(se.getBody().querySelectorAll("details")),be=>{const Ce=ne(So(be.children),Ie=>Ie.nodeName==="SUMMARY");Ce.length>1&&ze(Ce.slice(1),Ie=>{const je=Ue(Ie);Od(je,"mce-accordion-summary"),Cs(je,"p")})})})(t),((se,be,Ce)=>{const Ie=W1(Ue(Ce),je=>Ur(je,Ue(be)));Uo(Ie,Ie.length-2).filter(xi).fold(()=>Gl(se,be),je=>Gl(se,je.dom))})(t.schema,t.getBody(),d.getStart()),n},Qc=t=>t instanceof ec,ky=(t,n,o)=>{t.dom.setHTML(t.getBody(),n),o!==!0&&(s=>{Yh(s)&&Gi(s.getBody()).each(l=>{const d=l.getNode(),m=na(d)?Gi(d).getOr(l):l;s.selection.setRng(m.toRange())})})(t)},vx=(t,n)=>((o,s)=>{const l=o.dom;return l.parentNode?((d,m)=>Ct(d.dom.childNodes,f=>m(Ue(f))).map(Ue))(Ue(l.parentNode),d=>!Ur(o,d)&&s(d)):Q.none()})(t,n).isSome(),I4=t=>Ae(t)?t:pn,P4=(t,n,o)=>{const s=n(t),l=I4(o);return s.orThunk(()=>l(t)?Q.none():((d,m,f)=>{let y=d.dom;const _=I4(f);for(;y.parentNode;){y=y.parentNode;const E=Ue(y),T=m(E);if(T.isSome())return T;if(_(E))break}return Q.none()})(t,n,l))},bx=Jl,L4=(t,n,o)=>{const s=t.formatter.get(o);if(s)for(let l=0;l<s.length;l++){const d=s[l];if(Kc(d)&&d.inherit===!1&&t.dom.is(n,d.selector))return!0}return!1},Sy=(t,n,o,s,l)=>{const d=t.dom.getRoot();if(n===d)return!1;const m=t.dom.getParent(n,f=>!!L4(t,f,o)||f.parentNode===d||!!em(t,f,o,s,!0));return!!em(t,m,o,s,l)},Ey=(t,n,o)=>!(!Ws(o)||!bx(n,o.inline))||!(!of(o)||!bx(n,o.block))||!!Kc(o)&&vn(n)&&t.is(n,o.selector),i0=(t,n,o,s,l,d)=>{const m=o[s],f=s==="attributes";if(Ae(o.onmatch))return o.onmatch(n,o,s);if(m){if(Ar(m)){for(let y=0;y<m.length;y++)if(f?t.getAttrib(n,m[y]):rg(t,n,m[y]))return!0}else for(const y in m)if(fn(m,y)){const _=f?t.getAttrib(n,y):rg(t,n,y),E=vp(m[y],d),T=De(_)||Jo(_);if(T&&De(E))continue;if(l&&T&&!o.exact||(!l||o.exact)&&!bx(_,qi(E,y)))return!1}}return!0},em=(t,n,o,s,l)=>{const d=t.formatter.get(o),m=t.dom;if(d&&vn(n))for(let f=0;f<d.length;f++){const y=d[f];if(Ey(t.dom,n,y)&&i0(m,n,y,"attributes",l,s)&&i0(m,n,y,"styles",l,s)){const _=y.classes;if(_){for(let E=0;E<_.length;E++)if(!t.dom.hasClass(n,vp(_[E],s)))return}return y}}},yx=(t,n,o,s,l)=>{if(s)return Sy(t,s,n,o,l);if(s=t.selection.getNode(),Sy(t,s,n,o,l))return!0;const d=t.selection.getStart();return!(d===s||!Sy(t,d,n,o,l))},e1=Vs,AO=t=>(n=>{const o=[];let s=n;for(;s;){if(tn(s)&&s.data!==e1||s.childNodes.length>1)return[];vn(s)&&o.push(s),s=s.firstChild}return o})(t).length>0,wx=t=>{if(t){const n=new qo(t,t);for(let o=n.current();o;o=n.next())if(tn(o))return o}return null},cg=t=>{const n=us("span");return el(n,{id:ng,"data-mce-bogus":"1","data-mce-type":"format-caret"}),t&&lr(n,Fc(e1)),n},B4=(t,n,o=!0)=>{const s=t.dom,l=t.selection;if(AO(n))lg(t,!1,Ue(n),o);else{const d=l.getRng(),m=s.getParent(n,s.isBlock),f=d.startContainer,y=d.startOffset,_=d.endContainer,E=d.endOffset,T=(P=>{const V=wx(P);return V&&V.data.charAt(0)===e1&&V.deleteData(0,1),V})(n);s.remove(n,!0),f===T&&y>0&&d.setStart(T,y-1),_===T&&E>0&&d.setEnd(T,E-1),m&&s.isEmpty(m)&&Wu(Ue(m)),l.setRng(d)}},F4=(t,n,o=!0)=>{const s=t.dom,l=t.selection;if(n)B4(t,n,o);else if(!(n=nf(t.getBody(),l.getStart())))for(;n=s.get(ng);)B4(t,n,o)},Oy=(t,n)=>(t.appendChild(n),n),H4=(t,n)=>{var o;const s=Oe(t,(d,m)=>Oy(d,m.cloneNode(!1)),n),l=(o=s.ownerDocument)!==null&&o!==void 0?o:document;return Oy(s,l.createTextNode(e1))},NO=(t,n,o,s)=>{const l=t.dom,d=t.selection;let m=!1;const f=t.formatter.get(n);if(!f)return;const y=d.getRng(),_=y.startContainer,E=y.startOffset;let T=_;tn(_)&&(E!==_.data.length&&(m=!0),T=T.parentNode);const P=[];let V;for(;T;){if(em(t,T,n,o,s)){V=T;break}T.nextSibling&&(m=!0),P.push(T),T=T.parentNode}if(V)if(m){const B=d.getBookmark();y.collapse(!0);let Z=bp(l,y,f,!0);Z=ly(Z),t.formatter.remove(n,o,Z,s),d.moveToBookmark(B)}else{const B=nf(t.getBody(),V),Z=cg(!1).dom;((te,se,be)=>{var Ce,Ie;const je=te.dom,st=je.getParent(be,it(hp,te.schema));st&&je.isEmpty(st)?(Ce=be.parentNode)===null||Ce===void 0||Ce.replaceChild(se,be):((Nt=>{const bt=Jn(Nt,"br"),qe=ne((tt=>{const Xe=[];let ft=tt.dom;for(;ft;)Xe.push(Ue(ft)),ft=ft.lastChild;return Xe})(Nt).slice(-1),bl);bt.length===qe.length&&ze(qe,ce)})(Ue(be)),je.isEmpty(be)?(Ie=be.parentNode)===null||Ie===void 0||Ie.replaceChild(se,be):je.insertAfter(se,be))})(t,Z,B!=null?B:V);const z=((te,se,be,Ce,Ie,je)=>{const st=te.formatter,Nt=te.dom,bt=ne(ur(st.get()),tt=>tt!==Ce&&!Cn(tt,"removeformat")),qe=((tt,Xe,ft)=>Ve(ft,(Tn,on)=>{const lo=((Nn,Ho)=>hr(Nn,Ho,zo=>{const Fn=ro=>Ae(ro)||ro.length>1&&ro.charAt(0)==="%";return dt(["styles","attributes"],ro=>Zt(zo,ro).exists(Ao=>{const Ge=xe(Ao)?Ao:Dt(Ao);return dt(Ge,Fn)}))}))(tt,on);return tt.formatter.matchNode(Xe,on,{},lo)?Tn.concat([on]):Tn},[]))(te,be,bt);if(ne(qe,tt=>!((Xe,ft,Tn)=>{const on=["inline","block","selector","attributes","styles","classes"],lo=Nn=>ho(Nn,(Ho,zo)=>dt(on,Fn=>Fn===zo));return hr(Xe,ft,Nn=>{const Ho=lo(Nn);return hr(Xe,Tn,zo=>{const Fn=lo(zo);return((ro,Ao,Ge=S)=>C(Ge).eq(ro,Ao))(Ho,Fn)})})})(te,tt,Ce)).length>0){const tt=be.cloneNode(!1);return Nt.add(se,tt),st.remove(Ce,Ie,tt,je),Nt.remove(tt),Q.some(tt)}return Q.none()})(t,Z,V,n,o,s),W=H4(P.concat(z.toArray()),Z);B&&B4(t,B,!1),d.setCursorLocation(W,1),l.isEmpty(V)&&l.remove(V)}},MO=t=>{const n=cg(!1),o=H4(t,n.dom);return{caretContainer:n,caretPosition:St(o,0)}},z4=(t,n)=>{const{caretContainer:o,caretPosition:s}=MO(n);return Vi(Ue(t),o),ce(Ue(t)),s},Sp=(t,n)=>{const o=t.schema.getTextInlineElements();return fn(o,Jr(n))&&!Oc(n.dom)&&!gc(n.dom)},V4=t=>Oc(t.dom)&&AO(t.dom),l0={},$4=Na(["pre"]);((t,n)=>{l0[t]||(l0[t]=[]),l0[t].push(o=>{if(!o.selection.getRng().collapsed){const s=o.selection.getSelectedBlocks(),l=ne(ne(s,$4),(d=>m=>{const f=m.previousSibling;return $4(f)&&Ht(d,f)})(s));ze(l,d=>{((m,f)=>{const y=Ue(f),_=mc(y).dom;ce(y),X(Ue(m),[us("br",_),us("br",_),...fa(y)])})(d.previousSibling,d)})}})})("pre");const Ty=["fontWeight","fontStyle","color","fontSize","fontFamily"],U4=(t,n)=>{const o=t.get(n);return xe(o)?Ct(o,s=>Ws(s)&&s.inline==="span"&&(l=>ue(l.styles)&&dt(ur(l.styles),d=>Ht(Ty,d)))(s)):Q.none()},j4=(t,n)=>ci(n,St.fromRangeStart(t)).isNone(),RO=(t,n)=>Zs(n,St.fromRangeEnd(t)).exists(o=>!kt(o.getNode())||Zs(n,o).isSome())===!1,Ay=t=>n=>mb(n)&&t.isEditable(n),Z4=t=>ne(t.getSelectedBlocks(),Ay(t.dom)),Ny=an.each,xx=t=>vn(t)&&!Le(t)&&!Oc(t)&&!gc(t),_x=(t,n)=>{for(let o=t;o;o=o[n]){if(tn(o)&&mr(o.data))return t;if(vn(o)&&!Le(o))return o}return t},W4=(t,n,o)=>{const s=mx(t),l=vn(n)&&Es(n),d=vn(o)&&Es(o);if(l&&d){const m=_x(n,"previousSibling"),f=_x(o,"nextSibling");if(s.compare(m,f)){for(let y=m.nextSibling;y&&y!==f;){const _=y;y=y.nextSibling,m.appendChild(_)}return t.dom.remove(f),an.each(an.grep(f.childNodes),y=>{m.appendChild(y)}),m}}return o},My=(t,n,o,s)=>{var l;if(s&&n.merge_siblings!==!1){const d=(l=W4(t,Zh(s),s))!==null&&l!==void 0?l:s;W4(t,d,Zh(d,!0))}},tm=(t,n,o)=>{Ny(t.childNodes,s=>{xx(s)&&(n(s)&&o(s),s.hasChildNodes()&&tm(s,n,o))})},DO=(t,n)=>o=>!(!o||!rg(t,o,n)),Cx=(t,n,o)=>s=>{t.setStyle(s,n,o),s.getAttribute("style")===""&&s.removeAttribute("style"),((l,d)=>{d.nodeName==="SPAN"&&l.getAttribs(d).length===0&&l.remove(d,!0)})(t,s)},Ta=ss([{keep:[]},{rename:["name"]},{removed:[]}]),G4=/^(src|href|style)$/,Ry=an.each,dd=Jl,q4=(t,n,o)=>t.isChildOf(n,o)&&n!==o&&!t.isBlock(o),K4=(t,n,o)=>{let s=n[o?"startContainer":"endContainer"],l=n[o?"startOffset":"endOffset"];if(vn(s)){const d=s.childNodes.length-1;!o&&l&&l--,s=s.childNodes[l>d?d:l]}return tn(s)&&o&&l>=s.data.length&&(s=new qo(s,t.getBody()).next()||s),tn(s)&&!o&&l===0&&(s=new qo(s,t.getBody()).prev()||s),s},c0=(t,n)=>{const o=n?"firstChild":"lastChild",s=t[o];return(l=>/^(TR|TH|TD)$/.test(l.nodeName))(t)&&s?t.nodeName==="TR"&&s[o]||s:t},Y4=(t,n,o,s)=>{var l;const d=t.create(o,s);return(l=n.parentNode)===null||l===void 0||l.insertBefore(d,n),d.appendChild(n),d},IO=(t,n,o,s,l)=>{const d=Ue(n),m=Ue(t.create(s,l)),f=o?zg(d):Vu(d);return X(m,f),o?(Vi(d,m),ju(m,d)):(hl(d,m),lr(m,d)),m.dom},t1=(t,n,o)=>{const s=n.parentNode;let l;const d=t.dom,m=ll(t);of(o)&&s===d.getRoot()&&(o.list_block&&dd(n,o.list_block)||ze(So(n.childNodes),f=>{yu(t,m,f.nodeName.toLowerCase())?l?l.appendChild(f):(l=Y4(d,f,m),d.setAttribs(l,Oi(t))):l=null})),(f=>Kc(f)&&Ws(f)&&Fa(Zt(f,"mixed"),!0))(o)&&!dd(o.inline,n)||d.remove(n,!0)},PO=(t,n,o)=>ye(t)?{name:n,value:null}:{name:t,value:vp(n,o)},Ep=(t,n)=>{t.getAttrib(n,"style")===""&&(n.removeAttribute("style"),n.removeAttribute("data-mce-style"))},LO=(t,n,o,s,l)=>{let d=!1;Ry(o.styles,(m,f)=>{const{name:y,value:_}=PO(f,m,s),E=qi(_,y);(o.remove_similar||me(_)||!vn(l)||dd(rg(t,l,y),E))&&t.setStyle(n,y,""),d=!0}),d&&Ep(t,n)},ug=(t,n,o,s,l)=>{const d=t.dom,m=mx(t),f=t.schema;if(Ws(n)&&Gg(f,n.inline)&&Ku(f,s)&&s.parentElement===t.getBody())return t1(t,s,n),Ta.removed();if(!n.ceFalseOverride&&s&&d.getContentEditableParent(s)==="false"||s&&!Ey(d,s,n)&&!((E,T)=>T.links&&E.nodeName==="A")(s,n))return Ta.keep();const y=s,_=n.preserve_attributes;if(Ws(n)&&n.remove==="all"&&xe(_)){const E=ne(d.getAttribs(y),T=>Ht(_,T.name.toLowerCase()));if(d.removeAllAttribs(y),ze(E,T=>d.setAttrib(y,T.name,T.value)),E.length>0)return Ta.rename("span")}if(n.remove!=="all"){LO(d,y,n,o,l),Ry(n.attributes,(T,P)=>{const{name:V,value:B}=PO(P,T,o);if(n.remove_similar||me(B)||!vn(l)||dd(d.getAttrib(l,V),B)){if(V==="class"){const Z=d.getAttrib(y,V);if(Z){let z="";if(ze(Z.split(/\s+/),W=>{/mce\-\w+/.test(W)&&(z+=(z?" ":"")+W)}),z)return void d.setAttrib(y,V,z)}}if(G4.test(V)&&y.removeAttribute("data-mce-"+V),V==="style"&&Na(["li"])(y)&&d.getStyle(y,"list-style-type")==="none")return y.removeAttribute(V),void d.setStyle(y,"list-style-type","none");V==="class"&&y.removeAttribute("className"),y.removeAttribute(V)}}),Ry(n.classes,T=>{T=vp(T,o),vn(l)&&!d.hasClass(l,T)||d.removeClass(y,T)});const E=d.getAttribs(y);for(let T=0;T<E.length;T++){const P=E[T].nodeName;if(!m.isAttributeInternal(P))return Ta.keep()}}return n.remove!=="none"?(t1(t,y,n),Ta.removed()):Ta.keep()},xu=(t,n,o,s)=>ug(t,n,o,s,s).fold(Ke(s),l=>(t.dom.createFragment().appendChild(s),t.dom.rename(s,l)),Ke(null)),Dy=(t,n,o,s,l)=>{(s||t.selection.isEditable())&&((d,m,f,y,_)=>{const E=d.formatter.get(m),T=E[0],P=d.dom,V=d.selection,B=se=>{const be=((Ce,Ie,je,st,Nt)=>{let bt;return Ie.parentNode&&ze(Fw(Ce.dom,Ie.parentNode).reverse(),qe=>{if(!bt&&vn(qe)&&qe.id!=="_start"&&qe.id!=="_end"){const tt=em(Ce,qe,je,st,Nt);tt&&tt.split!==!1&&(bt=qe)}}),bt})(d,se,m,f,_);return((Ce,Ie,je,st,Nt,bt,qe,tt)=>{var Xe,ft;let Tn,on;const lo=Ce.dom;if(je){const Nn=je.parentNode;for(let Ho=st.parentNode;Ho&&Ho!==Nn;Ho=Ho.parentNode){let zo=lo.clone(Ho,!1);for(let Fn=0;Fn<Ie.length&&(zo=xu(Ce,Ie[Fn],tt,zo),zo!==null);Fn++);zo&&(Tn&&zo.appendChild(Tn),on||(on=zo),Tn=zo)}qe.mixed&&lo.isBlock(je)||(st=(Xe=lo.split(je,st))!==null&&Xe!==void 0?Xe:st),Tn&&on&&((ft=Nt.parentNode)===null||ft===void 0||ft.insertBefore(Tn,Nt),on.appendChild(Nt),Ws(qe)&&My(Ce,qe,0,Tn))}return st})(d,E,be,se,se,0,T,f)},Z=se=>dt(E,be=>n1(d,be,f,se,se)),z=se=>{const be=So(se.childNodes),Ce=Z(se)||dt(E,je=>Ey(P,se,je)),Ie=se.parentNode;if(!Ce&&G(Ie)&&_k(T)&&Z(Ie),T.deep&&be.length)for(let je=0;je<be.length;je++)z(be[je]);ze(["underline","line-through","overline"],je=>{vn(se)&&d.dom.getStyle(se,"text-decoration")===je&&se.parentNode&&L5(P,se.parentNode)===je&&n1(d,{deep:!1,exact:!0,inline:"span",styles:{textDecoration:je}},void 0,se)})},W=se=>{const be=P.get(se?"_start":"_end");if(be){let Ce=be[se?"firstChild":"lastChild"];return(Ie=>Le(Ie)&&vn(Ie)&&(Ie.id==="_start"||Ie.id==="_end"))(Ce)&&(Ce=Ce[se?"firstChild":"lastChild"]),tn(Ce)&&Ce.data.length===0&&(Ce=se?be.previousSibling||be.nextSibling:be.nextSibling||be.previousSibling),P.remove(be,!0),Ce}return null},te=se=>{let be,Ce,Ie=bp(P,se,E,se.collapsed);if(T.split){if(Ie=ly(Ie),be=K4(d,Ie,!0),Ce=K4(d,Ie),be!==Ce){if(be=c0(be,!0),Ce=c0(Ce,!1),q4(P,be,Ce)){const st=Q.from(be.firstChild).getOr(be);return B(IO(P,st,!0,"span",{id:"_start","data-mce-type":"bookmark"})),void W(!0)}if(q4(P,Ce,be)){const st=Q.from(Ce.lastChild).getOr(Ce);return B(IO(P,st,!1,"span",{id:"_end","data-mce-type":"bookmark"})),void W(!1)}be=Y4(P,be,"span",{id:"_start","data-mce-type":"bookmark"}),Ce=Y4(P,Ce,"span",{id:"_end","data-mce-type":"bookmark"});const je=P.createRng();je.setStartAfter(be),je.setEndBefore(Ce),qv(P,je,st=>{ze(st,Nt=>{Le(Nt)||Le(Nt.parentNode)||B(Nt)})}),B(be),B(Ce),be=W(!0),Ce=W()}else be=Ce=B(be);Ie.startContainer=be.parentNode?be.parentNode:be,Ie.startOffset=P.nodeIndex(be),Ie.endContainer=Ce.parentNode?Ce.parentNode:Ce,Ie.endOffset=P.nodeIndex(Ce)+1}qv(P,Ie,je=>{ze(je,z)})};if(y){if(Ni(y)){const se=P.createRng();se.setStartBefore(y),se.setEndAfter(y),te(se)}else te(y);oy(d,m,y,f)}else V.isCollapsed()&&Ws(T)&&!mo(d).length?NO(d,m,f,_):(Yd(d,()=>Pa(d,te),se=>Ws(T)&&yx(d,m,f,se)),d.nodeChanged()),((se,be,Ce)=>{be==="removeformat"?ze(Z4(se.selection),Ie=>{ze(Ty,je=>se.dom.setStyle(Ie,je,"")),Ep(se.dom,Ie)}):U4(se.formatter,be).each(Ie=>{ze(Z4(se.selection),je=>LO(se.dom,je,Ie,Ce,null))})})(d,m,f),oy(d,m,y,f)})(t,n,o,s,l)},n1=(t,n,o,s,l)=>ug(t,n,o,s,l).fold(pn,d=>(t.dom.rename(s,d),!0),Sn),BO=an.each,kx=an.each,Iy=(t,n,o,s)=>{if(kx(o.styles,(l,d)=>{t.setStyle(n,d,vp(l,s))}),o.styles){const l=t.getAttrib(n,"style");l&&t.setAttrib(n,"data-mce-style",l)}},jN=(t,n,o,s)=>{const l=t.formatter.get(n),d=l[0],m=!s&&t.selection.isCollapsed(),f=t.dom,y=t.selection,_=(B,Z=d)=>{Ae(Z.onformat)&&Z.onformat(B,Z,o,s),Iy(f,B,Z,o),kx(Z.attributes,(z,W)=>{f.setAttrib(B,W,vp(z,o))}),kx(Z.classes,z=>{const W=vp(z,o);f.hasClass(B,W)||f.addClass(B,W)})},E=(B,Z)=>{let z=!1;return kx(B,W=>!(!Kc(W)||(f.getContentEditable(Z)!=="false"||W.ceFalseOverride)&&(!G(W.collapsed)||W.collapsed===m)&&f.is(Z,W.selector)&&!Oc(Z)&&(_(Z,W),z=!0,1))),z},T=B=>{if(le(B)){const Z=f.create(B);return _(Z),Z}return null},P=(B,Z,z)=>{const W=[];let te=!0;const se=d.inline||d.block,be=T(se);qv(B,Z,Ce=>{let Ie;const je=st=>{let Nt=!1,bt=te,qe=!1;const tt=st.parentNode,Xe=tt.nodeName.toLowerCase(),ft=B.getContentEditable(st);G(ft)&&(bt=te,te=ft==="true",Nt=!0,qe=P5(t,st));const Tn=te&&!Nt;if(kt(st)&&!((on,lo,Nn,Ho)=>{if(Yf(on)&&Ws(lo)&&Nn.parentNode){const zo=Gn(on.schema),Fn=vx(Ue(Nn),ro=>Oc(ro.dom));return dr(zo,Ho)&&Ma(Ue(Nn.parentNode),!1)&&!Fn}return!1})(t,d,st,Xe))return Ie=null,void(of(d)&&B.remove(st));if((on=>(lo=>of(lo)&&lo.wrapper===!0)(d)&&em(t,on,n,o))(st))Ie=null;else{if(((on,lo,Nn)=>{const Ho=(zo=>of(zo)&&zo.wrapper!==!0)(d)&&hp(t.schema,on)&&yu(t,lo,se);return Nn&&Ho})(st,Xe,Tn)){const on=B.rename(st,se);return _(on),W.push(on),void(Ie=null)}if(Kc(d)){let on=E(l,st);if(!on&&G(tt)&&_k(d)&&(on=E(l,tt)),!Ws(d)||on)return void(Ie=null)}G(be)&&((on,lo,Nn,Ho)=>{const zo=on.nodeName.toLowerCase(),Fn=yu(t,se,zo)&&yu(t,lo,se),ro=!z&&tn(on)&&$g(on.data),Ao=Oc(on),Ge=!Ws(d)||!B.isBlock(on);return(Nn||Ho)&&Fn&&!ro&&!Ao&&Ge})(st,Xe,Tn,qe)?(Ie||(Ie=B.clone(be,!1),tt.insertBefore(Ie,st),W.push(Ie)),qe&&Nt&&(te=bt),Ie.appendChild(st)):(Ie=null,ze(So(st.childNodes),je),Nt&&(te=bt),Ie=null)}};ze(Ce,je)}),d.links===!0&&ze(W,Ce=>{const Ie=je=>{je.nodeName==="A"&&_(je,d),ze(So(je.childNodes),Ie)};Ie(Ce)}),ze(W,Ce=>{const Ie=(je=>{let st=0;return ze(je.childNodes,Nt=>{(bt=>G(bt)&&tn(bt)&&bt.length===0)(Nt)||Le(Nt)||st++}),st})(Ce);!(W.length>1)&&B.isBlock(Ce)||Ie!==0?(Ws(d)||of(d)&&d.wrapper)&&(d.exact||Ie!==1||(Ce=(je=>Ct(je.childNodes,sd).filter(Nt=>B.getContentEditable(Nt)!=="false"&&Ey(B,Nt,d)).map(Nt=>{const bt=B.clone(Nt,!1);return _(bt),B.replace(bt,je,!0),B.remove(Nt,!0),bt}).getOr(je))(Ce)),((je,st,Nt,bt)=>{BO(st,qe=>{Ws(qe)&&BO(je.dom.select(qe.inline,bt),tt=>{xx(tt)&&n1(je,qe,Nt,tt,qe.exact?tt:null)}),((tt,Xe,ft)=>{if(Xe.clear_child_styles){const Tn=Xe.links?"*:not(a)":"*";Ny(tt.select(Tn,ft),on=>{xx(on)&&Es(on)&&Ny(Xe.styles,(lo,Nn)=>{tt.setStyle(on,Nn,"")})})}})(je.dom,qe,bt)})})(t,l,o,Ce),((je,st,Nt,bt,qe)=>{const tt=qe.parentNode;em(je,tt,Nt,bt)&&n1(je,st,bt,qe)||st.merge_with_parents&&tt&&je.dom.getParent(tt,Xe=>!!em(je,Xe,Nt,bt)&&(n1(je,st,bt,qe),!0))})(t,d,n,o,Ce),((je,st,Nt,bt)=>{if(st.styles&&st.styles.backgroundColor){const qe=DO(je,"fontSize");tm(bt,tt=>qe(tt)&&Es(tt),Cx(je,"backgroundColor",vp(st.styles.backgroundColor,Nt)))}})(B,d,o,Ce),((je,st,Nt,bt)=>{const qe=tt=>{if(vn(tt)&&vn(tt.parentNode)&&Es(tt)){const Xe=L5(je,tt.parentNode);je.getStyle(tt,"color")&&Xe?je.setStyle(tt,"text-decoration",Xe):je.getStyle(tt,"text-decoration")===Xe&&je.setStyle(tt,"text-decoration",null)}};st.styles&&(st.styles.color||st.styles.textDecoration)&&(an.walk(bt,qe,"childNodes"),qe(bt))})(B,d,0,Ce),((je,st,Nt,bt)=>{if(Ws(st)&&(st.inline==="sub"||st.inline==="sup")){const qe=DO(je,"fontSize");tm(bt,Xe=>qe(Xe)&&Es(Xe),Cx(je,"fontSize",""));const tt=ne(je.select(st.inline==="sup"?"sub":"sup",bt),Es);je.remove(tt,!0)}})(B,d,0,Ce),My(t,d,0,Ce)):B.remove(Ce,!0)})},V=Ni(s)?s:y.getNode();if(f.getContentEditable(V)==="false"&&!P5(t,V))return E(l,s=V),void Ql(t,n,s,o);if(d){if(s)if(Ni(s)){if(!E(l,s)){const B=f.createRng();B.setStartBefore(s),B.setEndAfter(s),P(f,bp(f,B,l),!0)}}else P(f,s,!0);else m&&Ws(d)&&!mo(t).length?((B,Z,z)=>{let W;const te=B.selection,se=B.formatter.get(Z);if(!se)return;const be=te.getRng();let Ce=be.startOffset;const Ie=be.startContainer.nodeValue;W=nf(B.getBody(),te.getStart());const je=/[^\s\u00a0\u00ad\u200b\ufeff]/;if(Ie&&Ce>0&&Ce<Ie.length&&je.test(Ie.charAt(Ce))&&je.test(Ie.charAt(Ce-1))){const bt=te.getBookmark();be.collapse(!0);let qe=bp(B.dom,be,se);qe=ly(qe),B.formatter.apply(Z,z,qe),te.moveToBookmark(bt)}else{let bt=W?wx(W):null;W&&(bt==null?void 0:bt.data)===e1||(st=B.getDoc(),Nt=cg(!0).dom,W=st.importNode(Nt,!0),bt=W.firstChild,be.insertNode(W),Ce=1),B.formatter.apply(Z,z,W),te.setCursorLocation(bt,Ce)}var st,Nt})(t,n,o):(y.setRng(_y(y.getRng())),Yd(t,()=>{Pa(t,(B,Z)=>{const z=Z?B:bp(f,B,l);P(f,z,!1)})},Sn),t.nodeChanged()),U4(t.formatter,n).each(B=>{ze((Z=>ne((z=>{const W=z.getSelectedBlocks(),te=z.getRng();if(z.isCollapsed())return[];if(W.length===1)return j4(te,W[0])&&RO(te,W[0])?W:[];{const se=Xn(W).filter(Ie=>j4(te,Ie)).toArray(),be=so(W).filter(Ie=>RO(te,Ie)).toArray(),Ce=W.slice(1,-1);return se.concat(Ce).concat(be)}})(Z),Ay(Z.dom)))(t.selection),Z=>Iy(f,Z,B,o))});((B,Z)=>{fn(l0,B)&&ze(l0[B],z=>{z(Z)})})(n,t)}Ql(t,n,s,o)},_u=(t,n,o,s)=>{(s||t.selection.isEditable())&&jN(t,n,o,s)},Py=t=>fn(t,"vars"),X4=t=>t.selection.getStart(),Sx=(t,n,o,s,l)=>yt(n,d=>{const m=t.formatter.matchNode(d,o,l!=null?l:{},s);return!ae(m)},d=>!!L4(t,d,o)||!s&&G(t.formatter.matchNode(d,o,l,!0))),Ex=(t,n)=>{const o=n!=null?n:X4(t);return ne(Fw(t.dom,o),s=>vn(s)&&!gc(s))},Op=(t,n,o)=>{const s=Ex(t,n);ut(o,(l,d)=>{const m=f=>{const y=Sx(t,s,d,f.similar,Py(f)?f.vars:void 0),_=y.isSome();if(f.state.get()!==_){f.state.set(_);const E=y.getOr(n);Py(f)?f.callback(_,{node:E,format:d,parents:s}):ze(f.callbacks,T=>T(_,{node:E,format:d,parents:s}))}};ze([l.withSimilar,l.withoutSimilar],m),ze(l.withVars,m)})},Ox=an.explode,J4=()=>{const t={};return{addFilter:(n,o)=>{ze(Ox(n),s=>{fn(t,s)||(t[s]={name:s,callbacks:[]}),t[s].callbacks.push(o)})},getFilters:()=>Dt(t),removeFilter:(n,o)=>{ze(Ox(n),s=>{if(fn(t,s))if(G(o)){const l=t[s],d=ne(l.callbacks,m=>m!==o);d.length>0?l.callbacks=d:delete t[s]}else delete t[s]})}}},ZN=(t,n,o)=>{var s;const l=nv();n.convert_fonts_to_spans&&((d,m,f)=>{d.addNodeFilter("font",y=>{ze(y,_=>{const E=m.parse(_.attr("style")),T=_.attr("color"),P=_.attr("face"),V=_.attr("size");T&&(E.color=T),P&&(E["font-family"]=P),V&&ma(V).each(B=>{E["font-size"]=f[B-1]}),_.name="span",_.attr("style",m.serialize(E)),((B,Z)=>{ze(["color","face","size"],z=>{B.attr(z,null)})})(_)})})})(t,l,an.explode((s=n.font_size_legacy_values)!==null&&s!==void 0?s:"")),((d,m,f)=>{d.addNodeFilter("strike",y=>{const _=m.type!=="html4";ze(y,E=>{if(_)E.name="s";else{const T=f.parse(E.attr("style"));T["text-decoration"]="line-through",E.name="span",E.attr("style",f.serialize(T))}})})})(t,o,l)},u0=(t,n)=>{t.addNodeFilter("br",(o,s,l)=>{const d=an.extend({},n.getBlockElements()),m=n.getNonEmptyElements(),f=n.getWhitespaceElements();d.body=1;const y=_=>_.name in d&&((E,T)=>T.type===1&&Gg(E,T.name)&&ae(T.attr(Hf)))(n,_);for(let _=0,E=o.length;_<E;_++){let T=o[_],P=T.parent;if(P&&d[P.name]&&T===P.lastChild){let V=T.prev;for(;V;){const B=V.name;if(B!=="span"||V.attr("data-mce-type")!=="bookmark"){B==="br"&&(T=null);break}V=V.prev}if(T&&(T.remove(),Jh(n,m,f,P))){const B=n.getElementRule(P.name);B&&(B.removeEmpty?P.remove():B.paddEmpty&&gx(l,y,P))}}else{let V=T;for(;P&&P.firstChild===V&&P.lastChild===V&&(V=P,!d[P.name]);)P=P.parent;if(V===P){const B=new ec("#text",3);B.value=ds,T.replace(B)}}}})},Q4=t=>{const[n,...o]=t.split(","),s=o.join(","),l=/data:([^/]+\/[^;]+)(;.+)?/.exec(n);if(l){const d=l[2]===";base64",m=d?(f=>{const y=/([a-z0-9+\/=\s]+)/i.exec(f);return y?y[1]:""})(s):decodeURIComponent(s);return Q.some({type:l[1],data:m,base64Encoded:d})}return Q.none()},eS=(t,n,o=!0)=>{let s=n;if(o)try{s=atob(n)}catch{return Q.none()}const l=new Uint8Array(s.length);for(let d=0;d<l.length;d++)l[d]=s.charCodeAt(d);return Q.some(new Blob([l],{type:t}))},Tx=t=>new Promise((n,o)=>{const s=new FileReader;s.onloadend=()=>{n(s.result)},s.onerror=()=>{var l;o((l=s.error)===null||l===void 0?void 0:l.message)},s.readAsDataURL(t)});let WN=0;const tS=(t,n,o)=>Q4(t).bind(({data:s,type:l,base64Encoded:d})=>{if(n&&!d)return Q.none();{const m=d?s:btoa(s);return o(m,l)}}),nS=(t,n,o)=>{const s=t.create("blobid"+WN++,n,o);return t.add(s),s},FO=(t,n,o=!1)=>tS(n,o,(s,l)=>Q.from(t.getByData(s,l)).orThunk(()=>eS(l,s).map(d=>nS(t,d,s)))),GN=(t,n)=>{const o=t.schema;n.remove_trailing_brs&&u0(t,o),t.addAttributeFilter("href",l=>{let d=l.length;const m=f=>{const y=f?an.trim(f):"";return/\b(noopener)\b/g.test(y)?y:(_=>_.split(" ").filter(E=>E.length>0).concat(["noopener"]).sort().join(" "))(y)};if(!n.allow_unsafe_link_target)for(;d--;){const f=l[d];f.name==="a"&&f.attr("target")==="_blank"&&f.attr("rel",m(f.attr("rel")))}}),n.allow_html_in_named_anchor||t.addAttributeFilter("id,name",l=>{let d,m,f,y,_=l.length;for(;_--;)if(y=l[_],y.name==="a"&&y.firstChild&&!y.attr("href"))for(f=y.parent,d=y.lastChild;d&&f;)m=d.prev,f.insert(d,y),d=m}),n.fix_list_elements&&t.addNodeFilter("ul,ol",l=>{let d,m,f=l.length;for(;f--;)if(d=l[f],m=d.parent,m&&(m.name==="ul"||m.name==="ol"))if(d.prev&&d.prev.name==="li")d.prev.append(d);else{const y=new ec("li",1);y.attr("style","list-style-type: none"),d.wrap(y)}});const s=o.getValidClasses();n.validate&&s&&t.addAttributeFilter("class",l=>{var d;let m=l.length;for(;m--;){const f=l[m],y=(d=f.attr("class"))!==null&&d!==void 0?d:"",_=an.explode(y," ");let E="";for(let T=0;T<_.length;T++){const P=_[T];let V=!1,B=s["*"];B&&B[P]&&(V=!0),B=s[f.name],!V&&B&&B[P]&&(V=!0),V&&(E&&(E+=" "),E+=P)}E.length||(E=null),f.attr("class",E)}}),((l,d)=>{const{blob_cache:m}=d;if(m){const f=y=>{const _=y.attr("src");(E=>E.attr("src")===_r.transparentSrc||G(E.attr("data-mce-placeholder")))(y)||(E=>G(E.attr("data-mce-bogus")))(y)||De(_)||FO(m,_,!0).each(E=>{y.attr("src",E.blobUri())})};l.addAttributeFilter("src",y=>ze(y,f))}})(t,n)};function o1(t){return o1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},o1(t)}function oS(t,n){return oS=Object.setPrototypeOf||function(o,s){return o.__proto__=s,o},oS(t,n)}function rS(t,n,o){return rS=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}()?Reflect.construct:function(s,l,d){var m=[null];m.push.apply(m,l);var f=new(Function.bind.apply(s,m));return d&&oS(f,d.prototype),f},rS.apply(null,arguments)}function nm(t){return function(n){if(Array.isArray(n))return aS(n)}(t)||function(n){if(typeof Symbol!="undefined"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}(t)||function(n,o){if(n){if(typeof n=="string")return aS(n,o);var s=Object.prototype.toString.call(n).slice(8,-1);return s==="Object"&&n.constructor&&(s=n.constructor.name),s==="Map"||s==="Set"?Array.from(n):s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?aS(n,o):void 0}}(t)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function aS(t,n){(n==null||n>t.length)&&(n=t.length);for(var o=0,s=new Array(n);o<n;o++)s[o]=t[o];return s}var qN=Object.hasOwnProperty,HO=Object.setPrototypeOf,KN=Object.isFrozen,YN=Object.getPrototypeOf,zO=Object.getOwnPropertyDescriptor,Tc=Object.freeze,Ac=Object.seal,XN=Object.create,VO=typeof Reflect!="undefined"&&Reflect,Ly=VO.apply,sS=VO.construct;Ly||(Ly=function(t,n,o){return t.apply(n,o)}),Tc||(Tc=function(t){return t}),Ac||(Ac=function(t){return t}),sS||(sS=function(t,n){return rS(t,nm(n))});var $O,JN=om(Array.prototype.forEach),QN=om(Array.prototype.pop),By=om(Array.prototype.push),Ax=om(String.prototype.toLowerCase),iS=om(String.prototype.match),md=om(String.prototype.replace),UO=om(String.prototype.indexOf),Fy=om(String.prototype.trim),cl=om(RegExp.prototype.test),Nx=($O=TypeError,function(){for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return sS($O,n)});function om(t){return function(n){for(var o=arguments.length,s=new Array(o>1?o-1:0),l=1;l<o;l++)s[l-1]=arguments[l];return Ly(t,n,s)}}function oa(t,n){HO&&HO(t,null);for(var o=n.length;o--;){var s=n[o];if(typeof s=="string"){var l=Ax(s);l!==s&&(KN(n)||(n[o]=l),s=l)}t[s]=!0}return t}function r1(t){var n,o=XN(null);for(n in t)Ly(qN,t,[n])&&(o[n]=t[n]);return o}function Mx(t,n){for(;t!==null;){var o=zO(t,n);if(o){if(o.get)return om(o.get);if(typeof o.value=="function")return om(o.value)}t=YN(t)}return function(s){return console.warn("fallback value for",s),null}}var lS=Tc(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Rx=Tc(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),cS=Tc(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Dx=Tc(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Ix=Tc(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),Gs=Tc(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),a1=Tc(["#text"]),uS=Tc(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),Hy=Tc(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),zy=Tc(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),rm=Tc(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Tp=Ac(/\{\{[\w\W]*|[\w\W]*\}\}/gm),eM=Ac(/<%[\w\W]*|[\w\W]*%>/gm),tM=Ac(/^data-[\-\w.\u00B7-\uFFFF]/),d0=Ac(/^aria-[\-\w]+$/),m0=Ac(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),f0=Ac(/^(?:\w+script|data):/i),nM=Ac(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),dS=Ac(/^html$/i),jO=function(){return typeof window=="undefined"?null:window},ZO=function t(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:jO(),o=function(pt){return t(pt)};if(o.version="2.3.8",o.removed=[],!n||!n.document||n.document.nodeType!==9)return o.isSupported=!1,o;var s=n.document,l=n.document,d=n.DocumentFragment,m=n.HTMLTemplateElement,f=n.Node,y=n.Element,_=n.NodeFilter,E=n.NamedNodeMap,T=E===void 0?n.NamedNodeMap||n.MozNamedAttrMap:E,P=n.HTMLFormElement,V=n.DOMParser,B=n.trustedTypes,Z=y.prototype,z=Mx(Z,"cloneNode"),W=Mx(Z,"nextSibling"),te=Mx(Z,"childNodes"),se=Mx(Z,"parentNode");if(typeof m=="function"){var be=l.createElement("template");be.content&&be.content.ownerDocument&&(l=be.content.ownerDocument)}var Ce=function(pt,Xo){if(o1(pt)!=="object"||typeof pt.createPolicy!="function")return null;var ko=null,Aa="data-tt-policy-suffix";Xo.currentScript&&Xo.currentScript.hasAttribute(Aa)&&(ko=Xo.currentScript.getAttribute(Aa));var ui="dompurify"+(ko?"#"+ko:"");try{return pt.createPolicy(ui,{createHTML:function(di){return di}})}catch{return console.warn("TrustedTypes policy "+ui+" could not be created."),null}}(B,s),Ie=Ce?Ce.createHTML(""):"",je=l,st=je.implementation,Nt=je.createNodeIterator,bt=je.createDocumentFragment,qe=je.getElementsByTagName,tt=s.importNode,Xe={};try{Xe=r1(l).documentMode?l.documentMode:{}}catch{}var ft={};o.isSupported=typeof se=="function"&&st&&st.createHTMLDocument!==void 0&&Xe!==9;var Tn,on,lo=Tp,Nn=eM,Ho=tM,zo=d0,Fn=f0,ro=nM,Ao=m0,Ge=null,Qe=oa({},[].concat(nm(lS),nm(Rx),nm(cS),nm(Ix),nm(a1))),At=null,Kt=oa({},[].concat(nm(uS),nm(Hy),nm(zy),nm(rm))),Vt=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),$t=null,yn=null,ao=!0,Wn=!0,xo=!1,Io=!1,jn=!1,nr=!1,Ks=!1,Za=!1,oc=!1,Bl=!1,Ou=!0,Tu=!0,bi=!1,Dc={},fs=null,vf=oa({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),kg=null,H2=oa({},["audio","video","img","source","image","track"]),bf=null,z2=oa({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),su="http://www.w3.org/1998/Math/MathML",Up="http://www.w3.org/2000/svg",iu="http://www.w3.org/1999/xhtml",Au=iu,VE=!1,XA=["application/xhtml+xml","text/html"],T1=null,g7=l.createElement("form"),JA=function(pt){return pt instanceof RegExp||pt instanceof Function},yf=function(pt){T1&&T1===pt||(pt&&o1(pt)==="object"||(pt={}),pt=r1(pt),Ge="ALLOWED_TAGS"in pt?oa({},pt.ALLOWED_TAGS):Qe,At="ALLOWED_ATTR"in pt?oa({},pt.ALLOWED_ATTR):Kt,bf="ADD_URI_SAFE_ATTR"in pt?oa(r1(z2),pt.ADD_URI_SAFE_ATTR):z2,kg="ADD_DATA_URI_TAGS"in pt?oa(r1(H2),pt.ADD_DATA_URI_TAGS):H2,fs="FORBID_CONTENTS"in pt?oa({},pt.FORBID_CONTENTS):vf,$t="FORBID_TAGS"in pt?oa({},pt.FORBID_TAGS):{},yn="FORBID_ATTR"in pt?oa({},pt.FORBID_ATTR):{},Dc="USE_PROFILES"in pt&&pt.USE_PROFILES,ao=pt.ALLOW_ARIA_ATTR!==!1,Wn=pt.ALLOW_DATA_ATTR!==!1,xo=pt.ALLOW_UNKNOWN_PROTOCOLS||!1,Io=pt.SAFE_FOR_TEMPLATES||!1,jn=pt.WHOLE_DOCUMENT||!1,Za=pt.RETURN_DOM||!1,oc=pt.RETURN_DOM_FRAGMENT||!1,Bl=pt.RETURN_TRUSTED_TYPE||!1,Ks=pt.FORCE_BODY||!1,Ou=pt.SANITIZE_DOM!==!1,Tu=pt.KEEP_CONTENT!==!1,bi=pt.IN_PLACE||!1,Ao=pt.ALLOWED_URI_REGEXP||Ao,Au=pt.NAMESPACE||iu,pt.CUSTOM_ELEMENT_HANDLING&&JA(pt.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Vt.tagNameCheck=pt.CUSTOM_ELEMENT_HANDLING.tagNameCheck),pt.CUSTOM_ELEMENT_HANDLING&&JA(pt.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Vt.attributeNameCheck=pt.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),pt.CUSTOM_ELEMENT_HANDLING&&typeof pt.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(Vt.allowCustomizedBuiltInElements=pt.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Tn=Tn=XA.indexOf(pt.PARSER_MEDIA_TYPE)===-1?"text/html":pt.PARSER_MEDIA_TYPE,on=Tn==="application/xhtml+xml"?function(Xo){return Xo}:Ax,Io&&(Wn=!1),oc&&(Za=!0),Dc&&(Ge=oa({},nm(a1)),At=[],Dc.html===!0&&(oa(Ge,lS),oa(At,uS)),Dc.svg===!0&&(oa(Ge,Rx),oa(At,Hy),oa(At,rm)),Dc.svgFilters===!0&&(oa(Ge,cS),oa(At,Hy),oa(At,rm)),Dc.mathMl===!0&&(oa(Ge,Ix),oa(At,zy),oa(At,rm))),pt.ADD_TAGS&&(Ge===Qe&&(Ge=r1(Ge)),oa(Ge,pt.ADD_TAGS)),pt.ADD_ATTR&&(At===Kt&&(At=r1(At)),oa(At,pt.ADD_ATTR)),pt.ADD_URI_SAFE_ATTR&&oa(bf,pt.ADD_URI_SAFE_ATTR),pt.FORBID_CONTENTS&&(fs===vf&&(fs=r1(fs)),oa(fs,pt.FORBID_CONTENTS)),Tu&&(Ge["#text"]=!0),jn&&oa(Ge,["html","head","body"]),Ge.table&&(oa(Ge,["tbody"]),delete $t.tbody),Tc&&Tc(pt),T1=pt)},$E=oa({},["mi","mo","mn","ms","mtext"]),V2=oa({},["foreignobject","desc","title","annotation-xml"]),p7=oa({},["title","style","font","a","script"]),$2=oa({},Rx);oa($2,cS),oa($2,Dx);var UE=oa({},Ix);oa(UE,Gs);var Sg=function(pt){By(o.removed,{element:pt});try{pt.parentNode.removeChild(pt)}catch{try{pt.outerHTML=Ie}catch{pt.remove()}}},U0=function(pt,Xo){try{By(o.removed,{attribute:Xo.getAttributeNode(pt),from:Xo})}catch{By(o.removed,{attribute:null,from:Xo})}if(Xo.removeAttribute(pt),pt==="is"&&!At[pt])if(Za||oc)try{Sg(Xo)}catch{}else try{Xo.setAttribute(pt,"")}catch{}},QA=function(pt){var Xo,ko;if(Ks)pt="<remove></remove>"+pt;else{var Aa=iS(pt,/^[\r\n\t ]+/);ko=Aa&&Aa[0]}Tn==="application/xhtml+xml"&&(pt='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+pt+"</body></html>");var ui=Ce?Ce.createHTML(pt):pt;if(Au===iu)try{Xo=new V().parseFromString(ui,Tn)}catch{}if(!Xo||!Xo.documentElement){Xo=st.createDocument(Au,"template",null);try{Xo.documentElement.innerHTML=VE?"":ui}catch{}}var di=Xo.body||Xo.documentElement;return pt&&ko&&di.insertBefore(l.createTextNode(ko),di.childNodes[0]||null),Au===iu?qe.call(Xo,jn?"html":"body")[0]:jn?Xo.documentElement:di},Ps=function(pt){return Nt.call(pt.ownerDocument||pt,pt,_.SHOW_ELEMENT|_.SHOW_COMMENT|_.SHOW_TEXT,null,!1)},U2=function(pt){return o1(f)==="object"?pt instanceof f:pt&&o1(pt)==="object"&&typeof pt.nodeType=="number"&&typeof pt.nodeName=="string"},Eg=function(pt,Xo,ko){ft[pt]&&JN(ft[pt],function(Aa){Aa.call(o,Xo,ko,T1)})},RC=function(pt){var Xo,ko;if(Eg("beforeSanitizeElements",pt,null),(ko=pt)instanceof P&&(typeof ko.nodeName!="string"||typeof ko.textContent!="string"||typeof ko.removeChild!="function"||!(ko.attributes instanceof T)||typeof ko.removeAttribute!="function"||typeof ko.setAttribute!="function"||typeof ko.namespaceURI!="string"||typeof ko.insertBefore!="function")||cl(/[\u0080-\uFFFF]/,pt.nodeName))return Sg(pt),!0;var Aa=on(pt.nodeName);if(Eg("uponSanitizeElement",pt,{tagName:Aa,allowedTags:Ge}),pt.hasChildNodes()&&!U2(pt.firstElementChild)&&(!U2(pt.content)||!U2(pt.content.firstElementChild))&&cl(/<[/\w]/g,pt.innerHTML)&&cl(/<[/\w]/g,pt.textContent)||Aa==="select"&&cl(/<template/i,pt.innerHTML))return Sg(pt),!0;if(!Ge[Aa]||$t[Aa]){if(!$t[Aa]&&DC(Aa)&&(Vt.tagNameCheck instanceof RegExp&&cl(Vt.tagNameCheck,Aa)||Vt.tagNameCheck instanceof Function&&Vt.tagNameCheck(Aa)))return!1;if(Tu&&!fs[Aa]){var ui=se(pt)||pt.parentNode,di=te(pt)||pt.childNodes;if(di&&ui)for(var La=di.length-1;La>=0;--La)ui.insertBefore(z(di[La],!0),W(pt))}return Sg(pt),!0}return pt instanceof y&&!function(gm){var Ri=se(gm);Ri&&Ri.tagName||(Ri={namespaceURI:iu,tagName:"template"});var Di=Ax(gm.tagName),A1=Ax(Ri.tagName);return gm.namespaceURI===Up?Ri.namespaceURI===iu?Di==="svg":Ri.namespaceURI===su?Di==="svg"&&(A1==="annotation-xml"||$E[A1]):Boolean($2[Di]):gm.namespaceURI===su?Ri.namespaceURI===iu?Di==="math":Ri.namespaceURI===Up?Di==="math"&&V2[A1]:Boolean(UE[Di]):gm.namespaceURI===iu&&!(Ri.namespaceURI===Up&&!V2[A1])&&!(Ri.namespaceURI===su&&!$E[A1])&&!UE[Di]&&(p7[Di]||!$2[Di])}(pt)?(Sg(pt),!0):Aa!=="noscript"&&Aa!=="noembed"||!cl(/<\/no(script|embed)/i,pt.innerHTML)?(Io&&pt.nodeType===3&&(Xo=pt.textContent,Xo=md(Xo,lo," "),Xo=md(Xo,Nn," "),pt.textContent!==Xo&&(By(o.removed,{element:pt.cloneNode()}),pt.textContent=Xo)),Eg("afterSanitizeElements",pt,null),!1):(Sg(pt),!0)},jE=function(pt,Xo,ko){if(Ou&&(Xo==="id"||Xo==="name")&&(ko in l||ko in g7))return!1;if(!(Wn&&!yn[Xo]&&cl(Ho,Xo))){if(!(ao&&cl(zo,Xo))){if(!At[Xo]||yn[Xo]){if(!(DC(pt)&&(Vt.tagNameCheck instanceof RegExp&&cl(Vt.tagNameCheck,pt)||Vt.tagNameCheck instanceof Function&&Vt.tagNameCheck(pt))&&(Vt.attributeNameCheck instanceof RegExp&&cl(Vt.attributeNameCheck,Xo)||Vt.attributeNameCheck instanceof Function&&Vt.attributeNameCheck(Xo))||Xo==="is"&&Vt.allowCustomizedBuiltInElements&&(Vt.tagNameCheck instanceof RegExp&&cl(Vt.tagNameCheck,ko)||Vt.tagNameCheck instanceof Function&&Vt.tagNameCheck(ko))))return!1}else if(!bf[Xo]){if(!cl(Ao,md(ko,ro,""))){if((Xo!=="src"&&Xo!=="xlink:href"&&Xo!=="href"||pt==="script"||UO(ko,"data:")!==0||!kg[pt])&&!(xo&&!cl(Fn,md(ko,ro,"")))){if(ko)return!1}}}}}return!0},DC=function(pt){return pt.indexOf("-")>0},e6=function(pt){var Xo,ko,Aa,ui;Eg("beforeSanitizeAttributes",pt,null);var di=pt.attributes;if(di){var La={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:At};for(ui=di.length;ui--;){var gm=Xo=di[ui],Ri=gm.name,Di=gm.namespaceURI;ko=Ri==="value"?Xo.value:Fy(Xo.value),Aa=on(Ri);var A1=ko;if(La.attrName=Aa,La.attrValue=ko,La.keepAttr=!0,La.forceKeepAttr=void 0,Eg("uponSanitizeAttribute",pt,La),ko=La.attrValue,!La.forceKeepAttr)if(La.keepAttr)if(cl(/\/>/i,ko))U0(Ri,pt);else{Io&&(ko=md(ko,lo," "),ko=md(ko,Nn," "));var v7=on(pt.nodeName);if(jE(v7,Aa,ko)){if(ko!==A1)try{Di?pt.setAttributeNS(Di,Ri,ko):pt.setAttribute(Ri,ko)}catch{U0(Ri,pt)}}else U0(Ri,pt)}else U0(Ri,pt)}Eg("afterSanitizeAttributes",pt,null)}},h7=function pt(Xo){var ko,Aa=Ps(Xo);for(Eg("beforeSanitizeShadowDOM",Xo,null);ko=Aa.nextNode();)Eg("uponSanitizeShadowNode",ko,null),RC(ko)||(ko.content instanceof d&&pt(ko.content),e6(ko));Eg("afterSanitizeShadowDOM",Xo,null)};return o.sanitize=function(pt,Xo){var ko,Aa,ui,di,La;if((VE=!pt)&&(pt="<!-->"),typeof pt!="string"&&!U2(pt)){if(typeof pt.toString!="function")throw Nx("toString is not a function");if(typeof(pt=pt.toString())!="string")throw Nx("dirty is not a string, aborting")}if(!o.isSupported){if(o1(n.toStaticHTML)==="object"||typeof n.toStaticHTML=="function"){if(typeof pt=="string")return n.toStaticHTML(pt);if(U2(pt))return n.toStaticHTML(pt.outerHTML)}return pt}if(nr||yf(Xo),o.removed=[],typeof pt=="string"&&(bi=!1),bi){if(pt.nodeName){var gm=on(pt.nodeName);if(!Ge[gm]||$t[gm])throw Nx("root node is forbidden and cannot be sanitized in-place")}}else if(pt instanceof f)(Aa=(ko=QA("<!---->")).ownerDocument.importNode(pt,!0)).nodeType===1&&Aa.nodeName==="BODY"||Aa.nodeName==="HTML"?ko=Aa:ko.appendChild(Aa);else{if(!Za&&!Io&&!jn&&pt.indexOf("<")===-1)return Ce&&Bl?Ce.createHTML(pt):pt;if(!(ko=QA(pt)))return Za?null:Bl?Ie:""}ko&&Ks&&Sg(ko.firstChild);for(var Ri=Ps(bi?pt:ko);ui=Ri.nextNode();)ui.nodeType===3&&ui===di||RC(ui)||(ui.content instanceof d&&h7(ui.content),e6(ui),di=ui);if(di=null,bi)return pt;if(Za){if(oc)for(La=bt.call(ko.ownerDocument);ko.firstChild;)La.appendChild(ko.firstChild);else La=ko;return At.shadowroot&&(La=tt.call(s,La,!0)),La}var Di=jn?ko.outerHTML:ko.innerHTML;return jn&&Ge["!doctype"]&&ko.ownerDocument&&ko.ownerDocument.doctype&&ko.ownerDocument.doctype.name&&cl(dS,ko.ownerDocument.doctype.name)&&(Di="<!DOCTYPE "+ko.ownerDocument.doctype.name+`>
`+Di),Io&&(Di=md(Di,lo," "),Di=md(Di,Nn," ")),Ce&&Bl?Ce.createHTML(Di):Di},o.setConfig=function(pt){yf(pt),nr=!0},o.clearConfig=function(){T1=null,nr=!1},o.isValidAttribute=function(pt,Xo,ko){T1||yf({});var Aa=on(pt),ui=on(Xo);return jE(Aa,ui,ko)},o.addHook=function(pt,Xo){typeof Xo=="function"&&(ft[pt]=ft[pt]||[],By(ft[pt],Xo))},o.removeHook=function(pt){if(ft[pt])return QN(ft[pt])},o.removeHooks=function(pt){ft[pt]&&(ft[pt]=[])},o.removeAllHooks=function(){ft={}},o}();const WO=an.each,oM=an.trim,GO=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],qO={ftp:21,http:80,https:443,mailto:25},Vy=["img","video"],mS=(t,n,o)=>{const s=(l=>{try{return decodeURIComponent(l)}catch{return unescape(l)}})(n).replace(/\s/g,"");return!t.allow_script_urls&&(!!/((java|vb)script|mhtml):/i.test(s)||!t.allow_html_data_urls&&(/^data:image\//i.test(s)?((l,d)=>G(l)?!l:!G(d)||!Ht(Vy,d))(t.allow_svg_data_urls,o)&&/^data:image\/svg\+xml/i.test(s):/^data:/i.test(s)))};class fd{static parseDataUri(n){let o;const s=decodeURIComponent(n).split(","),l=/data:([^;]+)/.exec(s[0]);return l&&(o=l[1]),{type:o,data:s[1]}}static isDomSafe(n,o,s={}){if(s.allow_script_urls)return!0;{const l=pi.decode(n).replace(/[\s\u0000-\u001F]+/g,"");return!mS(s,l,o)}}static getDocumentBaseUrl(n){var o;let s;return s=n.protocol.indexOf("http")!==0&&n.protocol!=="file:"?(o=n.href)!==null&&o!==void 0?o:"":n.protocol+"//"+n.host+n.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(s)&&(s=s.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(s)||(s+="/")),s}constructor(n,o={}){this.path="",this.directory="",n=oM(n),this.settings=o;const s=o.base_uri,l=this;if(/^([\w\-]+):([^\/]{2})/i.test(n)||/^\s*#/.test(n))return void(l.source=n);const d=n.indexOf("//")===0;if(n.indexOf("/")!==0||d||(n=(s&&s.protocol||"http")+"://mce_host"+n),!/^[\w\-]*:?\/\//.test(n)){const f=s?s.path:new fd(document.location.href).directory;if((s==null?void 0:s.protocol)==="")n="//mce_host"+l.toAbsPath(f,n);else{const y=/([^#?]*)([#?]?.*)/.exec(n);y&&(n=(s&&s.protocol||"http")+"://mce_host"+l.toAbsPath(f,y[1])+y[2])}}n=n.replace(/@@/g,"(mce_at)");const m=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?(\[[a-zA-Z0-9:.%]+\]|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(n);m&&WO(GO,(f,y)=>{let _=m[y];_&&(_=_.replace(/\(mce_at\)/g,"@@")),l[f]=_}),s&&(l.protocol||(l.protocol=s.protocol),l.userInfo||(l.userInfo=s.userInfo),l.port||l.host!=="mce_host"||(l.port=s.port),l.host&&l.host!=="mce_host"||(l.host=s.host),l.source=""),d&&(l.protocol="")}setPath(n){const o=/^(.*?)\/?(\w+)?$/.exec(n);o&&(this.path=o[0],this.directory=o[1],this.file=o[2]),this.source="",this.getURI()}toRelative(n){if(n==="./")return n;const o=new fd(n,{base_uri:this});if(o.host!=="mce_host"&&this.host!==o.host&&o.host||this.port!==o.port||this.protocol!==o.protocol&&o.protocol!=="")return o.getURI();const s=this.getURI(),l=o.getURI();if(s===l||s.charAt(s.length-1)==="/"&&s.substr(0,s.length-1)===l)return s;let d=this.toRelPath(this.path,o.path);return o.query&&(d+="?"+o.query),o.anchor&&(d+="#"+o.anchor),d}toAbsolute(n,o){const s=new fd(n,{base_uri:this});return s.getURI(o&&this.isSameOrigin(s))}isSameOrigin(n){if(this.host==n.host&&this.protocol==n.protocol){if(this.port==n.port)return!0;const o=this.protocol?qO[this.protocol]:null;if(o&&(this.port||o)==(n.port||o))return!0}return!1}toRelPath(n,o){let s,l,d=0,m="";const f=n.substring(0,n.lastIndexOf("/")).split("/"),y=o.split("/");if(f.length>=y.length){for(s=0,l=f.length;s<l;s++)if(s>=y.length||f[s]!==y[s]){d=s+1;break}}if(f.length<y.length){for(s=0,l=y.length;s<l;s++)if(s>=f.length||f[s]!==y[s]){d=s+1;break}}if(d===1)return o;for(s=0,l=f.length-(d-1);s<l;s++)m+="../";for(s=d-1,l=y.length;s<l;s++)m+=s!==d-1?"/"+y[s]:y[s];return m}toAbsPath(n,o){let s=0;const l=/\/$/.test(o)?"/":"",d=n.split("/"),m=o.split("/"),f=[];WO(d,T=>{T&&f.push(T)});const y=[];for(let T=m.length-1;T>=0;T--)m[T].length!==0&&m[T]!=="."&&(m[T]!==".."?s>0?s--:y.push(m[T]):s++);const _=f.length-s;let E;return E=_<=0?Je(y).join("/"):f.slice(0,_).join("/")+"/"+Je(y).join("/"),E.indexOf("/")!==0&&(E="/"+E),l&&E.lastIndexOf("/")!==E.length-1&&(E+=l),E}getURI(n=!1){let o;return this.source&&!n||(o="",n||(this.protocol?o+=this.protocol+"://":o+="//",this.userInfo&&(o+=this.userInfo+"@"),this.host&&(o+=this.host),this.port&&(o+=":"+this.port)),this.path&&(o+=this.path),this.query&&(o+="?"+this.query),this.anchor&&(o+="#"+this.anchor),this.source=o),this.source}}const KO=an.makeMap("src,href,data,background,action,formaction,poster,xlink:href"),Px="data-mce-type";let fS=0;const gS=(t,n,o,s)=>{var l,d,m,f;const y=n.validate,_=o.getSpecialElements();t.nodeType===8&&!n.allow_conditional_comments&&/^\[if/i.test((l=t.nodeValue)!==null&&l!==void 0?l:"")&&(t.nodeValue=" "+t.nodeValue);const E=(d=s==null?void 0:s.tagName)!==null&&d!==void 0?d:t.nodeName.toLowerCase();if(t.nodeType!==1||E==="body")return;const T=Ue(t),P=kd(T,Px),V=ws(T,"data-mce-bogus");if(!P&&le(V))return void(V==="all"?ce(T):_e(T));const B=o.getElementRule(E);if(!y||B){if(G(s)&&(s.allowedTags[E]=!0),y&&B&&!P){if(ze((m=B.attributesForced)!==null&&m!==void 0?m:[],Z=>{Yr(T,Z.name,Z.value==="{$uid}"?"mce_"+fS++:Z.value)}),ze((f=B.attributesDefault)!==null&&f!==void 0?f:[],Z=>{kd(T,Z.name)||Yr(T,Z.name,Z.value==="{$uid}"?"mce_"+fS++:Z.value)}),B.attributesRequired&&!dt(B.attributesRequired,Z=>kd(T,Z))||B.removeEmptyAttrs&&(Z=>{const z=Z.dom.attributes;return z==null||z.length===0})(T))return void _e(T);B.outputName&&B.outputName!==E&&Cs(T,B.outputName)}}else fn(_,E)?ce(T):_e(T)},pS=(t,n,o,s,l)=>!(s in KO&&mS(t,l,o))&&(!t.validate||n.isValid(o,s)||Rn(s,"data-")||Rn(s,"aria-")),hS=(t,n)=>t.hasAttribute(Px)&&(n==="id"||n==="class"||n==="style"),vS=(t,n)=>t in n.getBoolAttrs(),bS=(t,n,o)=>{const{attributes:s}=t;for(let l=s.length-1;l>=0;l--){const d=s[l],m=d.name,f=d.value;pS(n,o,t.tagName.toLowerCase(),m,f)||hS(t,m)?vS(m,o)&&t.setAttribute(m,m):t.removeAttribute(m)}},$y=(t,n)=>{const o=ZO();return o.addHook("uponSanitizeElement",(s,l)=>{gS(s,t,n,l)}),o.addHook("uponSanitizeAttribute",(s,l)=>{const d=s.tagName.toLowerCase(),{attrName:m,attrValue:f}=l;l.keepAttr=pS(t,n,d,m,f),l.keepAttr?(l.allowedAttributes[m]=!0,vS(m,n)&&(l.attrValue=m),t.allow_svg_data_urls&&Rn(f,"data:image/svg+xml")&&(l.forceKeepAttr=!0)):hS(s,m)&&(l.forceKeepAttr=!0)}),o},yS=an.makeMap,wS=an.extend,Uy=(t,n,o)=>{const s=t.name,l=s in o&&s!=="title"&&s!=="textarea",d=n.childNodes;for(let m=0,f=d.length;m<f;m++){const y=d[m],_=new ec(y.nodeName.toLowerCase(),y.nodeType);if(vn(y)){const E=y.attributes;for(let T=0,P=E.length;T<P;T++){const V=E[T];_.attr(V.name,V.value)}}else tn(y)?(_.value=y.data,l&&(_.raw=!0)):(Ja(y)||vl(y)||gw(y))&&(_.value=y.data);Uy(_,y,o),t.append(_)}},g0=(t={},n=Pd())=>{const o=J4(),s=J4(),l={validate:!0,root_name:"body",sanitize:!0,...t},d=new DOMParser,m=((Z,z)=>{if(Z.sanitize){const W=$y(Z,z);return(te,se)=>{W.sanitize(te,((be,Ce)=>{const Ie={IN_PLACE:!0,ALLOW_UNKNOWN_PROTOCOLS:!0,ALLOWED_TAGS:["#comment","#cdata-section","body"],ALLOWED_ATTR:[]};return Ie.PARSER_MEDIA_TYPE=Ce,be.allow_script_urls?Ie.ALLOWED_URI_REGEXP=/.*/:be.allow_html_data_urls&&(Ie.ALLOWED_URI_REGEXP=/^(?!(\w+script|mhtml):)/i),Ie})(Z,se)),W.removed=[]}}return(W,te)=>{const se=document.createNodeIterator(W,NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_COMMENT|NodeFilter.SHOW_TEXT);let be;for(;be=se.nextNode();)gS(be,Z,z),vn(be)&&bS(be,Z,z)}})(l,n),f=o.addFilter,y=o.getFilters,_=o.removeFilter,E=s.addFilter,T=s.getFilters,P=s.removeFilter,V=(Z,z)=>{const W=le(z.attr(Px)),te=z.type===1&&!fn(Z,z.name)&&!hb(n,z);return z.type===3||te&&!W},B={schema:n,addAttributeFilter:E,getAttributeFilters:T,removeAttributeFilter:P,addNodeFilter:f,getNodeFilters:y,removeNodeFilter:_,parse:(Z,z={})=>{var W;const te=l.validate,se=(W=z.context)!==null&&W!==void 0?W:l.root_name,be=((Xe,ft,Tn="html")=>{const on=Tn==="xhtml"?"application/xhtml+xml":"text/html",lo=fn(n.getSpecialElements(),ft.toLowerCase()),Nn=lo?`<${ft}>${Xe}</${ft}>`:Xe,Ho=Tn==="xhtml"?`<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>${Nn}</body></html>`:`<body>${Nn}</body>`,zo=d.parseFromString(Ho,on).body;return m(zo,on),lo?zo.firstChild:zo})(Z,se,z.format);Gl(n,be);const Ce=new ec(se,11);Uy(Ce,be,n.getSpecialElements()),be.innerHTML="";const[Ie,je]=((Xe,ft,Tn,on)=>{const lo=Tn.validate,Nn=ft.getNonEmptyElements(),Ho=ft.getWhitespaceElements(),zo=wS(yS("script,style,head,html,body,title,meta,param"),ft.getBlockElements()),Fn=Gn(ft),ro=/[ \t\r\n]+/g,Ao=/^[ \t\r\n]+/,Ge=/[ \t\r\n]+$/,Qe=Vt=>{let $t=Vt.parent;for(;G($t);){if($t.name in Ho)return!0;$t=$t.parent}return!1},At=Vt=>Vt.name in zo||hb(ft,Vt),Kt=(Vt,$t)=>{const yn=$t?Vt.prev:Vt.next;return!G(yn)&&!De(Vt.parent)&&At(Vt.parent)&&(Vt.parent!==Xe||on.isRootContent===!0)};return[Vt=>{var $t;if(Vt.type===3&&!Qe(Vt)){let yn=($t=Vt.value)!==null&&$t!==void 0?$t:"";yn=yn.replace(ro," "),(((ao,Wn)=>G(ao)&&(Wn(ao)||ao.name==="br"))(Vt.prev,At)||Kt(Vt,!0))&&(yn=yn.replace(Ao,"")),yn.length===0?Vt.remove():Vt.value=yn}},Vt=>{var $t;if(Vt.type===1){const yn=ft.getElementRule(Vt.name);if(lo&&yn){const ao=Jh(ft,Nn,Ho,Vt);yn.paddInEmptyBlock&&ao&&(Wn=>{let xo=Wn;for(;G(xo);){if(xo.name in Fn)return Jh(ft,Nn,Ho,xo);xo=xo.parent}return!1})(Vt)?gx(on,At,Vt):yn.removeEmpty&&ao?At(Vt)?Vt.remove():Vt.unwrap():yn.paddEmpty&&(ao||(Wn=>{var xo;return yy(Wn,"#text")&&((xo=Wn==null?void 0:Wn.firstChild)===null||xo===void 0?void 0:xo.value)===ds})(Vt))&&gx(on,At,Vt)}}else if(Vt.type===3&&!Qe(Vt)){let yn=($t=Vt.value)!==null&&$t!==void 0?$t:"";(Vt.next&&At(Vt.next)||Kt(Vt,!1))&&(yn=yn.replace(Ge,"")),yn.length===0?Vt.remove():Vt.value=yn}}]})(Ce,n,l,z),st=[],Nt=te?Xe=>((ft,Tn)=>{Qh(n,ft)&&Tn.push(ft)})(Xe,st):Ft,bt={nodes:{},attributes:{}},qe=Xe=>fx(y(),T(),Xe,bt);if(((Xe,ft,Tn)=>{const on=[];for(let lo=Xe,Nn=lo;lo;Nn=lo,lo=lo.walk()){const Ho=lo;ze(ft,zo=>zo(Ho)),De(Ho.parent)&&Ho!==Xe?lo=Nn:on.push(Ho)}for(let lo=on.length-1;lo>=0;lo--){const Nn=on[lo];ze(Tn,Ho=>Ho(Nn))}})(Ce,[Ie,qe],[je,Nt]),st.reverse(),te&&st.length>0)if(z.context){const{pass:Xe,fail:ft}=Be(st,Tn=>Tn.parent===Ce);px(ft,n,Ce,qe),z.invalid=Xe.length>0}else px(st,n,Ce,qe);const tt=((Xe,ft)=>{var Tn;const on=(Tn=ft.forced_root_block)!==null&&Tn!==void 0?Tn:Xe.forced_root_block;return on===!1?"":on===!0?"p":on})(l,z);return tt&&(Ce.name==="body"||z.isRootContent)&&((Xe,ft)=>{const Tn=wS(yS("script,style,head,html,body,title,meta,param"),n.getBlockElements()),on=/^[ \t\r\n]+/,lo=/[ \t\r\n]+$/;let Nn=Xe.firstChild,Ho=null;const zo=Fn=>{var ro,Ao;Fn&&(Nn=Fn.firstChild,Nn&&Nn.type===3&&(Nn.value=(ro=Nn.value)===null||ro===void 0?void 0:ro.replace(on,"")),Nn=Fn.lastChild,Nn&&Nn.type===3&&(Nn.value=(Ao=Nn.value)===null||Ao===void 0?void 0:Ao.replace(lo,"")))};if(n.isValidChild(Xe.name,ft.toLowerCase())){for(;Nn;){const Fn=Nn.next;V(Tn,Nn)?(Ho||(Ho=new ec(ft,1),Ho.attr(l.forced_root_block_attrs),Xe.insert(Ho,Nn)),Ho.append(Nn)):(zo(Ho),Ho=null),Nn=Fn}zo(Ho)}})(Ce,tt),z.invalid||by(bt,z),Ce}};return GN(B,l),((Z,z,W)=>{z.inline_styles&&ZN(Z,z,W)})(B,l,n),B},YO=(t,n,o)=>{const s=(d=>Qc(d)?sg({validate:!1}).serialize(d):d)(t),l=n(s);if(l.isDefaultPrevented())return l;if(Qc(t)){if(l.content!==s){const d=g0({validate:!1,forced_root_block:!1,sanitize:o}).parse(l.content,{context:t.name});return{...l,content:d}}return{...l,content:t}}return l},dg=(t,n)=>{if(n.no_events)return Oa.value(n);{const o=((s,l)=>s.dispatch("BeforeGetContent",l))(t,n);return o.isDefaultPrevented()?Oa.error(ry(t,{content:"",...o}).content):Oa.value(o)}},Lx=(t,n,o)=>o.no_events?n:YO(n,l=>ry(t,{...o,content:l}),eg(t)).content,Bx=(t,n)=>{if(n.no_events)return Oa.value(n);{const o=YO(n.content,s=>((l,d)=>l.dispatch("BeforeSetContent",d))(t,{...n,content:s}),eg(t));return o.isDefaultPrevented()?(Kv(t,o),Oa.error(void 0)):Oa.value(o)}},s1=(t,n,o)=>{o.no_events||Kv(t,{...o,content:n})},Fx=(t,n,o)=>({element:t,width:n,rows:o}),Hx=(t,n)=>({element:t,cells:n}),XO=(t,n)=>({x:t,y:n}),xS=(t,n)=>Fi(t,n).bind(ma).getOr(1),_S=(t,n,o)=>{const s=t.rows;return!!(s[o]?s[o].cells:[])[n]},CS=t=>Ve(t,(n,o)=>o.cells.length>n?o.cells.length:n,0),JO=(t,n)=>{const o=t.rows;for(let s=0;s<o.length;s++){const l=o[s].cells;for(let d=0;d<l.length;d++)if(Ur(l[d],n))return Q.some(XO(d,s))}return Q.none()},zx=(t,n,o,s,l)=>{const d=[],m=t.rows;for(let f=o;f<=l;f++){const y=m[f].cells,_=n<s?y.slice(n,s+1):y.slice(s,n+1);d.push(Hx(m[f].element,_))}return d},Cl=t=>((n,o)=>{const s=Bd(n.element),l=us("tbody");return X(l,o),lr(s,l),s})(t,(n=>Et(n.rows,o=>{const s=Et(o.cells,d=>{const m=xh(d);return Da(m,"colspan"),Da(m,"rowspan"),m}),l=Bd(o.element);return X(l,s),l}))(t)),Vx=(t,n)=>{const o=Ue(n.commonAncestorContainer),s=sf(o,t),l=ne(s,If),d=((f,y)=>Ct(f,_=>Jr(_)==="li"&&Fo(_,y)).fold(Ke([]),_=>(E=>Ct(E,T=>Jr(T)==="ul"||Jr(T)==="ol"))(f).map(E=>{const T=us(Jr(E)),P=ho(cu(E),(V,B)=>Rn(B,"list-style"));return Vc(T,P),[us("li"),T]}).getOr([])))(s,n),m=l.concat(d.length?d:(f=>Va(f)?pl(f).filter(Si).fold(Ke([]),y=>[f,y]):Si(f)?[f]:[])(o));return Et(m,Bd)},Ap=()=>yp([]),QO=(t,n)=>((o,s)=>Ul(s,"table",it(Ur,o)))(t,n[0]).bind(o=>{const s=n[0],l=n[n.length-1],d=(m=>{const f=Fx(Bd(m),0,[]);return ze(Jn(m,"tr"),(y,_)=>{ze(Jn(y,"td,th"),(E,T)=>{((P,V,B,Z,z)=>{const W=xS(z,"rowspan"),te=xS(z,"colspan"),se=P.rows;for(let be=B;be<B+W;be++){se[be]||(se[be]=Hx(xh(Z),[]));for(let Ce=V;Ce<V+te;Ce++)se[be].cells[Ce]=be===B&&Ce===V?z:Bd(z)}})(f,((P,V,B)=>{for(;_S(P,V,B);)V++;return V})(f,T,_),_,y,E)})}),Fx(f.element,CS(f.rows),f.rows)})(o);return((m,f,y)=>JO(m,f).bind(_=>JO(m,y).map(E=>((T,P,V)=>{const B=P.x,Z=P.y,z=V.x,W=V.y,te=Z<W?zx(T,B,Z,z,W):zx(T,B,W,z,Z);return Fx(T.element,CS(te),te)})(m,_,E))))(d,s,l).map(m=>yp([Cl(m)]))}).getOrThunk(Ap),Nc=(t,n)=>{const o=po(n,t);return o.length>0?QO(t,o):((s,l)=>l.length>0&&l[0].collapsed?Ap():((d,m)=>((f,y)=>{const _=Ve(y,(E,T)=>(lr(T,E),T),f);return y.length>0?yp([_]):_})(Ue(m.cloneContents()),Vx(d,m)))(s,l[0]))(t,n)},cf=(t,n)=>n>=0&&n<t.length&&We(t.charAt(n)),kS=t=>Gu(t.innerText),SS=t=>vn(t)?t.outerHTML:tn(t)?pi.encodeRaw(t.data,!1):Ja(t)?"<!--"+t.data+"-->":"",eT=(t,n)=>(((o,s)=>{let l=0;ze(o,d=>{d[0]===0?l++:d[0]===1?(((m,f,y)=>{const _=(E=>{let T;const P=document.createElement("div"),V=document.createDocumentFragment();for(E&&(P.innerHTML=E);T=P.firstChild;)V.appendChild(T);return V})(f);if(m.hasChildNodes()&&y<m.childNodes.length){const E=m.childNodes[y];m.insertBefore(_,E)}else m.appendChild(_)})(s,d[1],l),l++):d[0]===2&&((m,f)=>{if(m.hasChildNodes()&&f<m.childNodes.length){const y=m.childNodes[f];m.removeChild(y)}})(s,l)})})(((o,s)=>{const l=o.length+s.length+2,d=new Array(l),m=new Array(l),f=(T,P,V,B,Z)=>{const z=_(T,P,V,B);if(z===null||z.start===P&&z.diag===P-B||z.end===T&&z.diag===T-V){let W=T,te=V;for(;W<P||te<B;)W<P&&te<B&&o[W]===s[te]?(Z.push([0,o[W]]),++W,++te):P-T>B-V?(Z.push([2,o[W]]),++W):(Z.push([1,s[te]]),++te)}else{f(T,z.start,V,z.start-z.diag,Z);for(let W=z.start;W<z.end;++W)Z.push([0,o[W]]);f(z.end,P,z.end-z.diag,B,Z)}},y=(T,P,V,B)=>{let Z=T;for(;Z-P<B&&Z<V&&o[Z]===s[Z-P];)++Z;return((z,W,te)=>({start:z,end:W,diag:te}))(T,Z,P)},_=(T,P,V,B)=>{const Z=P-T,z=B-V;if(Z===0||z===0)return null;const W=Z-z,te=z+Z,se=(te%2==0?te:te+1)/2;let be,Ce,Ie,je,st;for(d[1+se]=T,m[1+se]=P+1,be=0;be<=se;++be){for(Ce=-be;Ce<=be;Ce+=2){for(Ie=Ce+se,Ce===-be||Ce!==be&&d[Ie-1]<d[Ie+1]?d[Ie]=d[Ie+1]:d[Ie]=d[Ie-1]+1,je=d[Ie],st=je-T+V-Ce;je<P&&st<B&&o[je]===s[st];)d[Ie]=++je,++st;if(W%2!=0&&W-be<=Ce&&Ce<=W+be&&m[Ie-W]<=d[Ie])return y(m[Ie-W],Ce+T-V,P,B)}for(Ce=W-be;Ce<=W+be;Ce+=2){for(Ie=Ce+se-W,Ce===W-be||Ce!==W+be&&m[Ie+1]<=m[Ie-1]?m[Ie]=m[Ie+1]-1:m[Ie]=m[Ie-1],je=m[Ie]-1,st=je-T+V-Ce;je>=T&&st>=V&&o[je]===s[st];)m[Ie]=je--,st--;if(W%2==0&&-be<=Ce&&Ce<=be&&m[Ie]<=d[Ie+W])return y(m[Ie],Ce+T-V,P,B)}}return null},E=[];return f(0,o.length,0,s.length,E),E})(Et(So(n.childNodes),SS),t),n),n),jy=Bi(()=>document.implementation.createHTMLDocument("undo")),p0=t=>{const n=(o=t.getBody(),ne(Et(So(o.childNodes),SS),d=>d.length>0));var o;const s=En(n,d=>{const m=co(t.serializer,d);return m.length>0?[m]:[]}),l=s.join("");return(d=>d.indexOf("</iframe>")!==-1)(l)?(d=>({type:"fragmented",fragments:d,content:"",bookmark:null,beforeBookmark:null}))(s):(d=>({type:"complete",fragments:null,content:d,bookmark:null,beforeBookmark:null}))(l)},$x=(t,n,o)=>{const s=o?n.beforeBookmark:n.bookmark;n.type==="fragmented"?eT(n.fragments,t.getBody()):t.setContent(n.content,{format:"raw",no_selection:!G(s)||!h(s)||!s.isFakeCaret}),s&&(t.selection.moveToBookmark(s),t.selection.scrollIntoView())},ES=t=>t.type==="fragmented"?t.fragments.join(""):t.content,Ux=t=>{const n=us("body",jy());return zt(n,ES(t)),ze(Jn(n,"*[data-mce-bogus]"),_e),at(n)},Zy=(t,n)=>!(!t||!n)&&(!!((o,s)=>ES(o)===ES(s))(t,n)||((o,s)=>Ux(o)===Ux(s))(t,n)),jx=t=>t.get()===0,Wy=(t,n,o)=>{jx(o)&&(t.typing=n)},tT=(t,n)=>{t.typing&&(Wy(t,!1,n),t.add())},am=t=>({init:{bindEvents:Ft},undoManager:{beforeChange:(n,o)=>((s,l,d)=>{jx(l)&&d.set(hv(s.selection))})(t,n,o),add:(n,o,s,l,d,m)=>((f,y,_,E,T,P,V)=>{const B=p0(f),Z=an.extend(P||{},B);if(!jx(E)||f.removed)return null;const z=y.data[_.get()];if(f.dispatch("BeforeAddUndo",{level:Z,lastLevel:z,originalEvent:V}).isDefaultPrevented()||z&&Zy(z,Z))return null;y.data[_.get()]&&T.get().each(se=>{y.data[_.get()].beforeBookmark=se});const W=Xm(f);if(W&&y.data.length>W){for(let se=0;se<y.data.length-1;se++)y.data[se]=y.data[se+1];y.data.length--,_.set(y.data.length)}Z.bookmark=hv(f.selection),_.get()<y.data.length-1&&(y.data.length=_.get()+1),y.data.push(Z),_.set(y.data.length-1);const te={level:Z,lastLevel:z,originalEvent:V};return _.get()>0?(f.setDirty(!0),f.dispatch("AddUndo",te),f.dispatch("change",te)):f.dispatch("AddUndo",te),Z})(t,n,o,s,l,d,m),undo:(n,o,s)=>((l,d,m,f)=>{let y;return d.typing&&(d.add(),d.typing=!1,Wy(d,!1,m)),f.get()>0&&(f.set(f.get()-1),y=d.data[f.get()],$x(l,y,!0),l.setDirty(!0),l.dispatch("Undo",{level:y})),y})(t,n,o,s),redo:(n,o)=>((s,l,d)=>{let m;return l.get()<d.length-1&&(l.set(l.get()+1),m=d[l.get()],$x(s,m,!1),s.setDirty(!0),s.dispatch("Redo",{level:m})),m})(t,n,o),clear:(n,o)=>((s,l,d)=>{l.data=[],d.set(0),l.typing=!1,s.dispatch("ClearUndos")})(t,n,o),reset:n=>(o=>{o.clear(),o.add()})(n),hasUndo:(n,o)=>((s,l,d)=>d.get()>0||l.typing&&l.data[0]&&!Zy(p0(s),l.data[0]))(t,n,o),hasRedo:(n,o)=>((s,l)=>l.get()<s.data.length-1&&!s.typing)(n,o),transact:(n,o,s)=>((l,d,m)=>(tT(l,d),l.beforeChange(),l.ignore(m),l.add()))(n,o,s),ignore:(n,o)=>((s,l)=>{try{s.set(s.get()+1),l()}finally{s.set(s.get()-1)}})(n,o),extra:(n,o,s,l)=>((d,m,f,y,_)=>{if(m.transact(y)){const E=m.data[f.get()].bookmark,T=m.data[f.get()-1];$x(d,T,!0),m.transact(_)&&(m.data[f.get()-1].beforeBookmark=E)}})(t,n,o,s,l)},formatter:{match:(n,o,s,l)=>yx(t,n,o,s,l),matchAll:(n,o)=>((s,l,d)=>{const m=[],f={},y=s.selection.getStart();return s.dom.getParent(y,_=>{for(let E=0;E<l.length;E++){const T=l[E];!f[T]&&em(s,_,T,d)&&(f[T]=!0,m.push(T))}},s.dom.getRoot()),m})(t,n,o),matchNode:(n,o,s,l)=>em(t,n,o,s,l),canApply:n=>((o,s)=>{const l=o.formatter.get(s),d=o.dom;if(l&&o.selection.isEditable()){const m=o.selection.getStart(),f=Fw(d,m);for(let y=l.length-1;y>=0;y--){const _=l[y];if(!Kc(_))return!0;for(let E=f.length-1;E>=0;E--)if(d.is(f[E],_.selector))return!0}}return!1})(t,n),closest:n=>((o,s)=>{const l=d=>Ur(d,Ue(o.getBody()));return Q.from(o.selection.getStart(!0)).bind(d=>P4(Ue(d),m=>Rr(s,f=>((y,_)=>em(o,y.dom,_)?Q.some(_):Q.none())(m,f)),l)).getOrNull()})(t,n),apply:(n,o,s)=>_u(t,n,o,s),remove:(n,o,s,l)=>Dy(t,n,o,s,l),toggle:(n,o,s)=>((l,d,m,f)=>{const y=l.formatter.get(d);y&&(!yx(l,d,m,f)||"toggle"in y[0]&&!y[0].toggle?_u(l,d,m,f):Dy(l,d,m,f))})(t,n,o,s),formatChanged:(n,o,s,l,d)=>((m,f,y,_,E,T)=>(((P,V,B,Z,z,W)=>{const te=V.get();ze(B.split(","),se=>{const be=Zt(te,se).getOrThunk(()=>{const Ie={withSimilar:{state:_s(!1),similar:!0,callbacks:[]},withoutSimilar:{state:_s(!1),similar:!1,callbacks:[]},withVars:[]};return te[se]=Ie,Ie}),Ce=()=>{const Ie=Ex(P);return Sx(P,Ie,se,z,W).isSome()};if(ae(W)){const Ie=z?be.withSimilar:be.withoutSimilar;Ie.callbacks.push(Z),Ie.callbacks.length===1&&Ie.state.set(Ce())}else be.withVars.push({state:_s(Ce()),similar:z,vars:W,callback:Z})}),V.set(te)})(m,f,y,_,E,T),{unbind:()=>((P,V,B)=>{const Z=P.get();ze(V.split(","),z=>Zt(Z,z).each(W=>{Z[z]={withSimilar:{...W.withSimilar,callbacks:ne(W.withSimilar.callbacks,te=>te!==B)},withoutSimilar:{...W.withoutSimilar,callbacks:ne(W.withoutSimilar.callbacks,te=>te!==B)},withVars:ne(W.withVars,te=>te.callback!==B)}})),P.set(Z)})(f,y,_)}))(t,n,o,s,l,d)},editor:{getContent:n=>((o,s)=>Q.from(o.getBody()).fold(Ke(s.format==="tree"?new ec("body",11):""),l=>Yk(o,s,l)))(t,n),setContent:(n,o)=>((s,l,d)=>Q.from(s.getBody()).map(m=>Qc(l)?((f,y,_,E)=>{N4(f.parser.getNodeFilters(),f.parser.getAttributeFilters(),_);const T=sg({validate:!1},f.schema).serialize(_),P=uo(Ue(y))?T:an.trim(T);return ky(f,P,E.no_selection),{content:_,html:P}})(s,m,l,d):((f,y,_,E)=>{if(_.length===0||/^\s+$/.test(_)){const T='<br data-mce-bogus="1">';y.nodeName==="TABLE"?_="<tr><td>"+T+"</td></tr>":/^(UL|OL)$/.test(y.nodeName)&&(_="<li>"+T+"</li>");const P=ll(f);return f.schema.isValidChild(y.nodeName.toLowerCase(),P.toLowerCase())?(_=T,_=f.dom.createHTML(P,Oi(f),_)):_||(_=T),ky(f,_,E.no_selection),{content:_,html:_}}{E.format!=="raw"&&(_=sg({validate:!1},f.schema).serialize(f.parser.parse(_,{isRootContent:!0,insert:!0})));const T=uo(Ue(y))?_:an.trim(_);return ky(f,T,E.no_selection),{content:T,html:T}}})(s,m,l,d)).getOr({content:l,html:Qc(d.content)?"":d.content}))(t,n,o),insertContent:(n,o)=>D4(t,n,o),addVisual:n=>((o,s)=>{const l=o.dom,d=G(s)?s:o.getBody();ze(l.select("table,a",d),m=>{switch(m.nodeName){case"TABLE":const f=Mv(o),y=l.getAttrib(m,"border");y&&y!=="0"||!o.hasVisual?l.removeClass(m,f):l.addClass(m,f);break;case"A":if(!l.getAttrib(m,"href")){const _=l.getAttrib(m,"name")||m.id,E=Sw(o);_&&o.hasVisual?l.addClass(m,E):l.removeClass(m,E)}}}),o.dispatch("VisualAid",{element:s,hasVisual:o.hasVisual})})(t,n)},selection:{getContent:(n,o)=>((s,l,d={})=>{const m=((f,y)=>({...f,format:y,get:!0,selection:!0,getInner:!0}))(d,l);return dg(s,m).fold(nn,f=>{const y=((_,E)=>{if(E.format==="text")return(T=>Q.from(T.selection.getRng()).map(P=>{var V;const B=Q.from(T.dom.getParent(P.commonAncestorContainer,T.dom.isBlock)),Z=T.getBody(),z=(Ce=>Ce.map(Ie=>Ie.nodeName).getOr("div").toLowerCase())(B),W=Ue(P.cloneContents());Kk(W),fO(W);const te=T.dom.add(Z,z,{"data-mce-bogus":"all",style:"overflow: hidden; opacity: 0;"},W.dom),se=kS(te),be=Gu((V=te.textContent)!==null&&V!==void 0?V:"");if(T.dom.remove(te),cf(be,0)||cf(be,be.length-1)){const Ce=B.getOr(Z),Ie=kS(Ce),je=Ie.indexOf(se);return je===-1?se:(cf(Ie,je-1)?" ":"")+se+(cf(Ie,je+se.length)?" ":"")}return se}).getOr(""))(_);{const T=((P,V)=>{const B=P.selection.getRng(),Z=P.dom.create("body"),z=P.selection.getSel(),W=qk(P,Pn(z)),te=V.contextual?Nc(Ue(P.getBody()),W).dom:B.cloneContents();return te&&Z.appendChild(te),P.selection.serializer.serialize(Z,V)})(_,E);return E.format==="tree"?T:_.selection.isCollapsed()?"":T}})(s,f);return Lx(s,y,f)})})(t,n,o)},autocompleter:{addDecoration:n=>RN(t,n),removeDecoration:()=>((n,o)=>cO(o).each(s=>{const l=n.selection.getBookmark();_e(s),n.selection.moveToBookmark(l)}))(t,Ue(t.getBody()))},raw:{getModel:()=>Q.none()}}),gd=t=>fn(t.plugins,"rtc"),Zx=t=>t.rtcInstance?t.rtcInstance:am(t),Os=t=>{const n=t.rtcInstance;if(n)return n;throw new Error("Failed to get RTC instance not yet initialized.")},h0=t=>Os(t).init.bindEvents(),nT=t=>t.dom.length===0?(ce(t),Q.none()):Q.some(t),oT=(t,n,o,s)=>{t.bind(l=>((s?tx:ex)(l.dom,s?l.dom.length:0),n.filter(vr).map(d=>((m,f,y,_)=>{const E=m.dom,T=f.dom,P=_?E.length:T.length;_?(fy(E,T,!1,!_),y.setStart(T,P)):(fy(T,E,!1,!_),y.setEnd(T,P))})(l,d,o,s)))).orThunk(()=>((d,m)=>d.filter(f=>id.isBookmarkNode(f.dom)).bind(m?zu:nl))(n,s).or(n).filter(vr).map(d=>((m,f)=>{pl(m).each(y=>{const _=m.dom;f&&t0(y,St(_,0))?ex(_,0):!f&&Mi(y,St(_,_.length))&&tx(_,_.length)})})(d,s)))},OS=(t,n,o)=>{if(fn(t,n)){const s=ne(t[n],l=>l!==o);s.length===0?delete t[n]:t[n]=s}},TS=t=>!(!t||!t.ownerDocument)&&Hc(Ue(t.ownerDocument),Ue(t)),Wx=(t,n,o,s)=>{let l,d;const{selectorChangedWithUnbind:m}=((z,W)=>{let te,se;const be=(Ie,je)=>Ct(je,st=>z.is(st,Ie)),Ce=Ie=>z.getParents(Ie,void 0,z.getRoot());return{selectorChangedWithUnbind:(Ie,je)=>(te||(te={},se={},W.on("NodeChange",st=>{const Nt=st.element,bt=Ce(Nt),qe={};ut(te,(tt,Xe)=>{be(Xe,bt).each(ft=>{se[Xe]||(ze(tt,Tn=>{Tn(!0,{node:ft,selector:Xe,parents:bt})}),se[Xe]=tt),qe[Xe]=tt})}),ut(se,(tt,Xe)=>{qe[Xe]||(delete se[Xe],ze(tt,ft=>{ft(!1,{node:Nt,selector:Xe,parents:bt})}))})})),te[Ie]||(te[Ie]=[]),te[Ie].push(je),be(Ie,Ce(W.selection.getStart())).each(()=>{se[Ie]=te[Ie]}),{unbind:()=>{OS(te,Ie,je),OS(se,Ie,je)}})}})(t,s),f=(z,W)=>((te,se,be={})=>{const Ce=((Ie,je)=>({format:"html",...Ie,set:!0,selection:!0,content:je}))(be,se);Bx(te,Ce).each(Ie=>{const je=((Nt,bt)=>{if(bt.format!=="raw"){const qe=Nt.selection.getRng(),tt=Nt.dom.getParent(qe.commonAncestorContainer,Nt.dom.isBlock),Xe=tt?{context:tt.nodeName.toLowerCase()}:{},ft=Nt.parser.parse(bt.content,{forced_root_block:!1,...Xe,...bt});return sg({validate:!1},Nt.schema).serialize(ft)}return bt.content})(te,Ie),st=te.selection.getRng();((Nt,bt)=>{const qe=Q.from(bt.firstChild).map(Ue),tt=Q.from(bt.lastChild).map(Ue);Nt.deleteContents(),Nt.insertNode(bt);const Xe=qe.bind(nl).filter(vr).bind(nT),ft=tt.bind(zu).filter(vr).bind(nT);oT(Xe,qe,Nt,!0),oT(ft,tt,Nt,!1),Nt.collapse(!1)})(st,st.createContextualFragment(je)),te.selection.setRng(st),wp(te,st),s1(te,je,Ie)})})(s,z,W),y=z=>{const W=E();W.collapse(!!z),T(W)},_=()=>n.getSelection?n.getSelection():n.document.selection,E=()=>{let z;const W=(se,be,Ce)=>{try{return be.compareBoundaryPoints(se,Ce)}catch{return-1}},te=n.document;if(G(s.bookmark)&&!Yh(s)){const se=Yw(s);if(se.isSome())return se.map(be=>qk(s,[be])[0]).getOr(te.createRange())}try{const se=_();se&&!Xa(se.anchorNode)&&(z=se.rangeCount>0?se.getRangeAt(0):te.createRange(),z=qk(s,[z])[0])}catch{}if(z||(z=te.createRange()),Qs(z.startContainer)&&z.collapsed){const se=t.getRoot();z.setStart(se,0),z.setEnd(se,0)}return l&&d&&(W(z.START_TO_START,z,l)===0&&W(z.END_TO_END,z,l)===0?z=d:(l=null,d=null)),z},T=(z,W)=>{if(!(se=>!!se&&TS(se.startContainer)&&TS(se.endContainer))(z))return;const te=_();if(z=s.dispatch("SetSelectionRange",{range:z,forward:W}).range,te){d=z;try{te.removeAllRanges(),te.addRange(z)}catch{}W===!1&&te.extend&&(te.collapse(z.endContainer,z.endOffset),te.extend(z.startContainer,z.startOffset)),l=te.rangeCount>0?te.getRangeAt(0):null}if(!z.collapsed&&z.startContainer===z.endContainer&&(te==null?void 0:te.setBaseAndExtent)&&z.endOffset-z.startOffset<2&&z.startContainer.hasChildNodes()){const se=z.startContainer.childNodes[z.startOffset];se&&se.nodeName==="IMG"&&(te.setBaseAndExtent(z.startContainer,z.startOffset,z.endContainer,z.endOffset),te.anchorNode===z.startContainer&&te.focusNode===z.endContainer||te.setBaseAndExtent(se,0,se,1))}s.dispatch("AfterSetSelectionRange",{range:z,forward:W})},P=()=>{const z=_(),W=z==null?void 0:z.anchorNode,te=z==null?void 0:z.focusNode;if(!z||!W||!te||Xa(W)||Xa(te))return!0;const se=t.createRng(),be=t.createRng();try{se.setStart(W,z.anchorOffset),se.collapse(!0),be.setStart(te,z.focusOffset),be.collapse(!0)}catch{return!0}return se.compareBoundaryPoints(se.START_TO_START,be)<=0},V={dom:t,win:n,serializer:o,editor:s,expand:(z={type:"word"})=>T(af(t).expand(E(),z)),collapse:y,setCursorLocation:(z,W)=>{const te=t.createRng();G(z)&&G(W)?(te.setStart(z,W),te.setEnd(z,W),T(te),y(!1)):(Br(t,te,s.getBody(),!0),T(te))},getContent:z=>((W,te={})=>((se,be,Ce)=>Os(se).selection.getContent(be,Ce))(W,te.format?te.format:"html",te))(s,z),setContent:f,getBookmark:(z,W)=>B.getBookmark(z,W),moveToBookmark:z=>B.moveToBookmark(z),select:(z,W)=>(((te,se,be)=>Q.from(se).bind(Ce=>Q.from(Ce.parentNode).map(Ie=>{const je=te.nodeIndex(Ce),st=te.createRng();return st.setStart(Ie,je),st.setEnd(Ie,je+1),be&&(Br(te,st,Ce,!0),Br(te,st,Ce,!1)),st})))(t,z,W).each(T),z),isCollapsed:()=>{const z=E(),W=_();return!(!z||z.item)&&(z.compareEndPoints?z.compareEndPoints("StartToEnd",z)===0:!W||z.collapsed)},isEditable:()=>{const z=E(),W=s.getBody().querySelectorAll('[data-mce-selected="1"]');return W.length>0?hn(W,te=>t.isEditable(te.parentElement)):z.startContainer===z.endContainer?t.isEditable(z.startContainer):t.isEditable(z.startContainer)&&t.isEditable(z.endContainer)},isForward:P,setNode:z=>(f(t.getOuterHTML(z)),z),getNode:()=>((z,W)=>{if(!W)return z;let te=W.startContainer,se=W.endContainer;const be=W.startOffset,Ce=W.endOffset;let Ie=W.commonAncestorContainer;W.collapsed||(te===se&&Ce-be<2&&te.hasChildNodes()&&(Ie=te.childNodes[be]),tn(te)&&tn(se)&&(te=te.length===be?Gk(te.nextSibling,!0):te.parentNode,se=Ce===0?Gk(se.previousSibling,!1):se.parentNode,te&&te===se&&(Ie=te)));const je=tn(Ie)?Ie.parentNode:Ie;return vn(je)?je:z})(s.getBody(),E()),getSel:_,setRng:T,getRng:E,getStart:z=>sO(s.getBody(),E(),z),getEnd:z=>Wk(s.getBody(),E(),z),getSelectedBlocks:(z,W)=>((te,se,be,Ce)=>{const Ie=[],je=te.getRoot(),st=te.getParent(be||sO(je,se,se.collapsed),te.isBlock),Nt=te.getParent(Ce||Wk(je,se,se.collapsed),te.isBlock);if(st&&st!==je&&Ie.push(st),st&&Nt&&st!==Nt){let bt;const qe=new qo(st,je);for(;(bt=qe.next())&&bt!==Nt;)te.isBlock(bt)&&Ie.push(bt)}return Nt&&st!==Nt&&Nt!==je&&Ie.push(Nt),Ie})(t,E(),z,W),normalize:()=>{const z=E(),W=_();if(!(Pn(W).length>1)&&jo(s)){const te=sy(t,z);return te.each(se=>{T(se,P())}),te.getOr(z)}return z},selectorChanged:(z,W)=>(m(z,W),V),selectorChangedWithUnbind:m,getScrollContainer:()=>{let z,W=t.getRoot();for(;W&&W.nodeName!=="BODY";){if(W.scrollHeight>W.clientHeight){z=W;break}W=W.parentNode}return z},scrollIntoView:(z,W)=>{G(z)?((te,se,be)=>{(te.inline?ON:tO)(te,se,be)})(s,z,W):wp(s,E(),W)},placeCaretAt:(z,W)=>T(Mk(z,W,s.getDoc())),getBoundingClientRect:()=>{const z=E();return z.collapsed?St.fromRangeStart(z).getClientRects()[0]:z.getBoundingClientRect()},destroy:()=>{n=l=d=null,Z.destroy()}},B=id(V),Z=ld(V,s);return V.bookmarkManager=B,V.controlSelection=Z,V},rT=(t,n,o)=>{an.inArray(n,o)===-1&&(t.addAttributeFilter(o,(s,l)=>{let d=s.length;for(;d--;)s[d].attr(l,null)}),n.push(o))},aT=(t,n)=>{const o=["data-mce-selected"],s={entity_encoding:"named",remove_trailing_brs:!0,...t},l=n&&n.dom?n.dom:la.DOM,d=n&&n.schema?n.schema:Pd(s),m=g0(s,d);return((f,y,_)=>{f.addAttributeFilter("data-mce-tabindex",(E,T)=>{let P=E.length;for(;P--;){const V=E[P];V.attr("tabindex",V.attr("data-mce-tabindex")),V.attr(T,null)}}),f.addAttributeFilter("src,href,style",(E,T)=>{const P="data-mce-"+T,V=y.url_converter,B=y.url_converter_scope;let Z=E.length;for(;Z--;){const z=E[Z];let W=z.attr(P);W!==void 0?(z.attr(T,W.length>0?W:null),z.attr(P,null)):(W=z.attr(T),T==="style"?W=_.serializeStyle(_.parseStyle(W),z.name):V&&(W=V.call(B,W,T,z.name)),z.attr(T,W.length>0?W:null))}}),f.addAttributeFilter("class",E=>{let T=E.length;for(;T--;){const P=E[T];let V=P.attr("class");V&&(V=V.replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),P.attr("class",V.length>0?V:null))}}),f.addAttributeFilter("data-mce-type",(E,T,P)=>{let V=E.length;for(;V--;){const B=E[V];B.attr("data-mce-type")==="bookmark"&&!P.cleanup&&(Q.from(B.firstChild).exists(z=>{var W;return!$g((W=z.value)!==null&&W!==void 0?W:"")})?B.unwrap():B.remove())}}),f.addNodeFilter("noscript",E=>{var T;let P=E.length;for(;P--;){const V=E[P].firstChild;V&&(V.value=pi.decode((T=V.value)!==null&&T!==void 0?T:""))}}),f.addNodeFilter("script,style",(E,T)=>{var P;const V=Z=>Z.replace(/(<!--\[CDATA\[|\]\]-->)/g,`
`).replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"");let B=E.length;for(;B--;){const Z=E[B],z=Z.firstChild,W=(P=z==null?void 0:z.value)!==null&&P!==void 0?P:"";if(T==="script"){const te=Z.attr("type");te&&Z.attr("type",te==="mce-no/type"?null:te.replace(/^mce\-/,"")),y.element_format==="xhtml"&&z&&W.length>0&&(z.value=`// <![CDATA[
`+V(W)+`
// ]]>`)}else y.element_format==="xhtml"&&z&&W.length>0&&(z.value=`<!--
`+V(W)+`
-->`)}}),f.addNodeFilter("#comment",E=>{let T=E.length;for(;T--;){const P=E[T],V=P.value;y.preserve_cdata&&(V==null?void 0:V.indexOf("[CDATA["))===0?(P.name="#cdata",P.type=4,P.value=_.decode(V.replace(/^\[CDATA\[|\]\]$/g,""))):(V==null?void 0:V.indexOf("mce:protected "))===0&&(P.name="#text",P.type=3,P.raw=!0,P.value=unescape(V).substr(14))}}),f.addNodeFilter("xml:namespace,input",(E,T)=>{let P=E.length;for(;P--;){const V=E[P];V.type===7?V.remove():V.type===1&&(T!=="input"||V.attr("type")||V.attr("type","text"))}}),f.addAttributeFilter("data-mce-type",E=>{ze(E,T=>{T.attr("data-mce-type")==="format-caret"&&(T.isEmpty(f.schema.getNonEmptyElements())?T.remove():T.unwrap())})}),f.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-block,data-mce-type,data-mce-resize,data-mce-placeholder",(E,T)=>{let P=E.length;for(;P--;)E[P].attr(T,null)}),y.remove_trailing_brs&&u0(f,f.schema)})(m,s,l),{schema:d,addNodeFilter:m.addNodeFilter,addAttributeFilter:m.addAttributeFilter,serialize:(f,y={})=>{const _={format:"html",...y},E=((V,B,Z)=>((z,W)=>G(z)&&z.hasEventListeners("PreProcess")&&!W.no_events)(V,Z)?((z,W,te)=>{let se;const be=z.dom;let Ce=W.cloneNode(!0);const Ie=document.implementation;if(Ie.createHTMLDocument){const je=Ie.createHTMLDocument("");an.each(Ce.nodeName==="BODY"?Ce.childNodes:[Ce],st=>{je.body.appendChild(je.importNode(st,!0))}),Ce=Ce.nodeName!=="BODY"?je.body.firstChild:je.body,se=be.doc,be.doc=je}return((je,st)=>{je.dispatch("PreProcess",st)})(z,{...te,node:Ce}),se&&(be.doc=se),Ce})(V,B,Z):B)(n,f,_),T=((V,B,Z)=>{const z=Gu(Z.getInner?B.innerHTML:V.getOuterHTML(B));return Z.selection||uo(Ue(B))?z:an.trim(z)})(l,E,_),P=((V,B,Z)=>{const z=Z.selection?{forced_root_block:!1,...Z}:Z,W=V.parse(B,z);return(te=>{const se=Ce=>(Ce==null?void 0:Ce.name)==="br",be=te.lastChild;if(se(be)){const Ce=be.prev;se(Ce)&&(be.remove(),Ce.remove())}})(W),W})(m,T,_);return _.format==="tree"?P:((V,B,Z,z,W)=>{const te=((se,be,Ce)=>sg(se,be).serialize(Ce))(B,Z,z);return((se,be,Ce)=>!be.no_events&&se?((je,st)=>je.dispatch("PostProcess",st))(se,{...be,content:Ce}).content:Ce)(V,W,te)})(n,s,d,P,_)},addRules:d.addValidElements,setRules:d.setValidElements,addTempAttr:it(rT,m,o),getTempAttrs:Ke(o),getNodeFilters:m.getNodeFilters,getAttributeFilters:m.getAttributeFilters,removeNodeFilter:m.removeNodeFilter,removeAttributeFilter:m.removeAttributeFilter}},Gx=(t,n)=>{const o=aT(t,n);return{schema:o.schema,addNodeFilter:o.addNodeFilter,addAttributeFilter:o.addAttributeFilter,serialize:o.serialize,addRules:o.addRules,setRules:o.setRules,addTempAttr:o.addTempAttr,getTempAttrs:o.getTempAttrs,getNodeFilters:o.getNodeFilters,getAttributeFilters:o.getAttributeFilters,removeNodeFilter:o.removeNodeFilter,removeAttributeFilter:o.removeAttributeFilter}},qx=(t,n,o={})=>{const s=((l,d)=>({format:"html",...l,set:!0,content:d}))(o,n);return Bx(t,s).map(l=>{const d=((m,f,y)=>Zx(m).editor.setContent(f,y))(t,l.content,l);return s1(t,d.html,l),d.content}).getOr(n)},sT="autoresize_on_init,content_editable_state,padd_empty_with_br,block_elements,boolean_attributes,editor_deselector,editor_selector,elements,file_browser_callback_types,filepicker_validator_handler,force_hex_style_colors,force_p_newlines,gecko_spellcheck,images_dataimg_filter,media_scripts,mode,move_caret_before_on_enter_elements,non_empty_elements,self_closing_elements,short_ended_elements,special,spellchecker_select_languages,spellchecker_whitelist,tab_focus,tabfocus_elements,table_responsive_width,text_block_elements,text_inline_elements,toolbar_drawer,types,validate,whitespace_elements,paste_enable_default_filters,paste_filter_drop,paste_word_valid_elements,paste_retain_style_properties,paste_convert_word_fake_lists".split(","),iT="template_cdate_classes,template_mdate_classes,template_selected_content_classes,template_preview_replace_values,template_replace_values,templates,template_cdate_format,template_mdate_format".split(","),lT="bbcode,colorpicker,contextmenu,fullpage,legacyoutput,spellchecker,textcolor".split(","),Kx=[{name:"template",replacedWith:"Advanced Template"},{name:"rtc"}],cT=(t,n)=>{const o=ne(n,s=>fn(t,s));return Dn(o)},Yx=t=>{const n=cT(t,sT),o=t.forced_root_block;return o!==!1&&o!==""||n.push("forced_root_block (false only)"),Dn(n)},uT=t=>cT(t,iT),AS=(t,n)=>{const o=an.makeMap(t.plugins," "),s=ne(n,l=>fn(o,l));return Dn(s)},rM=t=>AS(t,lT),aM=t=>AS(t,Kx.map(n=>n.name)),dT=t=>Ct(Kx,n=>n.name===t).fold(()=>t,n=>n.replacedWith?`${t}, replaced by ${n.replacedWith}`:t),Xx=la.DOM,Gy=t=>Q.from(t).each(n=>n.destroy()),Jx=(()=>{const t={};return{add:(n,o)=>{t[n]=o},get:n=>t[n]?t[n]:{icons:{}},has:n=>fn(t,n)}})(),v0=ai.ModelManager,mT=(t,n)=>n.dom[t],Ua=(t,n)=>parseInt(jl(n,t),10),NS=it(mT,"clientWidth"),sM=it(mT,"clientHeight"),iM=it(Ua,"margin-top"),b0=it(Ua,"margin-left"),mg=t=>{const n=[],o=()=>{const y=t.theme;return y&&y.getNotificationManagerImpl?y.getNotificationManagerImpl():(()=>{const _=()=>{throw new Error("Theme did not provide a NotificationManager implementation.")};return{open:_,close:_,getArgs:_}})()},s=()=>Q.from(n[0]),l=()=>{ze(n,y=>{y.reposition()})},d=y=>{rn(n,_=>_===y).each(_=>{n.splice(_,1)})},m=(y,_=!0)=>t.removed||!(E=>{return(T=E.inline?E.getBody():E.getContentAreaContainer(),Q.from(T).map(Ue)).map(Om).getOr(!1);var T})(t)?{}:(_&&t.dispatch("BeforeOpenNotification",{notification:y}),Ct(n,E=>{return T=o().getArgs(E),P=y,!(T.type!==P.type||T.text!==P.text||T.progressBar||T.timeout||P.progressBar||P.timeout);var T,P}).getOrThunk(()=>{t.editorManager.setActive(t);const E=o().open(y,()=>{d(E),l(),s().fold(()=>t.focus(),T=>nO(Ue(T.getEl())))});return(T=>{n.push(T)})(E),l(),t.dispatch("OpenNotification",{notification:{...E}}),E})),f=Ke(n);return(y=>{y.on("SkinLoaded",()=>{const _=Ah(y);_&&m({text:_,type:"warning",timeout:0},!1),l()}),y.on("show ResizeEditor ResizeWindow NodeChange",()=>{requestAnimationFrame(l)}),y.on("remove",()=>{ze(n.slice(),_=>{o().close(_)})})})(t),{open:m,close:()=>{s().each(y=>{o().close(y),d(y),l()})},getNotifications:f}},eu=ai.PluginManager,Np=ai.ThemeManager,MS=t=>{let n=[];const o=()=>{const m=t.theme;return m&&m.getWindowManagerImpl?m.getWindowManagerImpl():(()=>{const f=()=>{throw new Error("Theme did not provide a WindowManager implementation.")};return{open:f,openUrl:f,alert:f,confirm:f,close:f}})()},s=(m,f)=>(...y)=>f?f.apply(m,y):void 0,l=m=>{(f=>{t.dispatch("CloseWindow",{dialog:f})})(m),n=ne(n,f=>f!==m),n.length===0&&t.focus()},d=m=>{t.editorManager.setActive(t),Kw(t),t.ui.show();const f=m();return(y=>{n.push(y),(_=>{t.dispatch("OpenWindow",{dialog:_})})(y)})(f),f};return t.on("remove",()=>{ze(n,m=>{o().close(m)})}),{open:(m,f)=>d(()=>o().open(m,f,l)),openUrl:m=>d(()=>o().openUrl(m,l)),alert:(m,f,y)=>{const _=o();_.alert(m,s(y||_,f))},confirm:(m,f,y)=>{const _=o();_.confirm(m,s(y||_,f))},close:()=>{Q.from(n[n.length-1]).each(m=>{o().close(m),l(m)})}}},RS=(t,n)=>{t.notificationManager.open({type:"error",text:n})},i1=(t,n)=>{t._skinLoaded?RS(t,n):t.on("SkinLoaded",()=>{RS(t,n)})},qy=(t,n,o)=>{ny(t,n,{message:o}),console.error(o)},l1=(t,n,o)=>o?`Failed to load ${t}: ${o} from url ${n}`:`Failed to load ${t} url: ${n}`,Ky=(t,...n)=>{const o=window.console;o&&(o.error?o.error(t,...n):o.log(t,...n))},DS=(t,n)=>{const o=t.editorManager.baseURL+"/skins/content",s=`content${t.editorManager.suffix}.css`;return Et(n,l=>(d=>/^[a-z0-9\-]+$/i.test(d))(l)&&!t.inline?`${o}/${l}/${s}`:t.documentBaseURI.toAbsolute(l))},IS=(t,n)=>{const o={};return{findAll:(s,l=Sn)=>{const d=ne((f=>f?So(f.getElementsByTagName("img")):[])(s),f=>{const y=f.src;return!f.hasAttribute("data-mce-bogus")&&!f.hasAttribute("data-mce-placeholder")&&!(!y||y===_r.transparentSrc)&&(Rn(y,"blob:")?!t.isUploaded(y)&&l(f):!!Rn(y,"data:")&&l(f))}),m=Et(d,f=>{const y=f.src;if(fn(o,y))return o[y].then(_=>le(_)?_:{image:f,blobInfo:_.blobInfo});{const _=((E,T)=>{const P=()=>Promise.reject("Invalid data URI");if(Rn(T,"blob:")){const Z=E.getByUri(T);return G(Z)?Promise.resolve(Z):(V=T,Rn(V,"blob:")?(z=>fetch(z).then(W=>W.ok?W.blob():Promise.reject()).catch(()=>Promise.reject({message:`Cannot convert ${z} to Blob. Resource might not exist or is inaccessible.`,uriType:"blob"})))(V):Rn(V,"data:")?(B=V,new Promise((z,W)=>{Q4(B).bind(({type:te,data:se,base64Encoded:be})=>eS(te,se,be)).fold(()=>W("Invalid data URI"),z)})):Promise.reject("Unknown URI format")).then(z=>Tx(z).then(W=>tS(W,!1,te=>Q.some(nS(E,z,te))).getOrThunk(P)))}var V,B;return Rn(T,"data:")?FO(E,T).fold(P,Z=>Promise.resolve(Z)):Promise.reject("Unknown image data format")})(n,y).then(E=>(delete o[y],{image:f,blobInfo:E})).catch(E=>(delete o[y],E));return o[y]=_,_}});return Promise.all(m)}}},PS=()=>{let t={};const n=(s,l)=>({status:s,resultUri:l}),o=s=>s in t;return{hasBlobUri:o,getResultUri:s=>{const l=t[s];return l?l.resultUri:null},isPending:s=>!!o(s)&&t[s].status===1,isUploaded:s=>!!o(s)&&t[s].status===2,markPending:s=>{t[s]=n(1,null)},markUploaded:(s,l)=>{t[s]=n(2,l)},removeFailed:s=>{delete t[s]},destroy:()=>{t={}}}};let LS=0;const lM=(t,n)=>{const o={},s=(y,_)=>new Promise((E,T)=>{const P=new XMLHttpRequest;P.open("POST",n.url),P.withCredentials=n.credentials,P.upload.onprogress=B=>{_(B.loaded/B.total*100)},P.onerror=()=>{T("Image upload failed due to a XHR Transport error. Code: "+P.status)},P.onload=()=>{if(P.status<200||P.status>=300)return void T("HTTP Error: "+P.status);const B=JSON.parse(P.responseText);var Z,z;B&&le(B.location)?E((Z=n.basePath,z=B.location,Z?Z.replace(/\/$/,"")+"/"+z.replace(/^\//,""):z)):T("Invalid JSON: "+P.responseText)};const V=new FormData;V.append("file",y.blob(),y.filename()),P.send(V)}),l=Ae(n.handler)?n.handler:s,d=(y,_)=>({url:_,blobInfo:y,status:!0}),m=(y,_)=>({url:"",blobInfo:y,status:!1,error:_}),f=(y,_)=>{an.each(o[y],E=>{E(_)}),delete o[y]};return{upload:(y,_)=>n.url||l!==s?((E,T)=>(E=an.grep(E,P=>!t.isUploaded(P.blobUri())),Promise.all(an.map(E,P=>t.isPending(P.blobUri())?(V=>{const B=V.blobUri();return new Promise(Z=>{o[B]=o[B]||[],o[B].push(Z)})})(P):((V,B,Z)=>(t.markPending(V.blobUri()),new Promise(z=>{let W,te;try{const se=()=>{W&&(W.close(),te=Ft)},be=Ie=>{se(),t.markUploaded(V.blobUri(),Ie),f(V.blobUri(),d(V,Ie)),z(d(V,Ie))},Ce=Ie=>{se(),t.removeFailed(V.blobUri()),f(V.blobUri(),m(V,Ie)),z(m(V,Ie))};te=Ie=>{Ie<0||Ie>100||Q.from(W).orThunk(()=>Q.from(Z).map(cn)).each(je=>{W=je,je.progressBar.value(Ie)})},B(V,te).then(be,Ie=>{Ce(le(Ie)?{message:Ie}:Ie)})}catch(se){z(m(V,se))}})))(P,l,T)))))(y,_):new Promise(E=>{E([])})}},fT=t=>()=>t.notificationManager.open({text:t.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0}),tu=(t,n)=>lM(n,{url:Cv(t),basePath:kv(t),credentials:Sv(t),handler:Db(t)}),gT=t=>{const n=(()=>{let Z=[];const z=se=>{if(!se.blob||!se.base64)throw new Error("blob and base64 representations of the image are required for BlobInfo to be created");const be=se.id||"blobid"+LS+++(()=>{const st=()=>Math.round(4294967295*Math.random()).toString(36);return"s"+new Date().getTime().toString(36)+st()+st()+st()})(),Ce=se.name||be,Ie=se.blob;var je;return{id:Ke(be),name:Ke(Ce),filename:Ke(se.filename||Ce+"."+(je=Ie.type,{"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png","image/apng":"apng","image/avif":"avif","image/svg+xml":"svg","image/webp":"webp","image/bmp":"bmp","image/tiff":"tiff"}[je.toLowerCase()]||"dat")),blob:Ke(Ie),base64:Ke(se.base64),blobUri:Ke(se.blobUri||URL.createObjectURL(Ie)),uri:Ke(se.uri)}},W=se=>Ct(Z,se).getOrUndefined(),te=se=>W(be=>be.id()===se);return{create:(se,be,Ce,Ie,je)=>{if(le(se))return z({id:se,name:Ie,filename:je,blob:be,base64:Ce});if(ue(se))return z(se);throw new Error("Unknown input type")},add:se=>{te(se.id())||Z.push(se)},get:te,getByUri:se=>W(be=>be.blobUri()===se),getByData:(se,be)=>W(Ce=>Ce.base64()===se&&Ce.blob().type===be),findFirst:W,removeByUri:se=>{Z=ne(Z,be=>be.blobUri()!==se||(URL.revokeObjectURL(be.blobUri()),!1))},destroy:()=>{ze(Z,se=>{URL.revokeObjectURL(se.blobUri())}),Z=[]}}})();let o,s;const l=PS(),d=[],m=Z=>z=>t.selection?Z(z):[],f=(Z,z,W)=>{let te=0;do te=Z.indexOf(z,te),te!==-1&&(Z=Z.substring(0,te)+W+Z.substr(te+z.length),te+=W.length-z.length+1);while(te!==-1);return Z},y=(Z,z,W)=>{const te=`src="${W}"${W===_r.transparentSrc?' data-mce-placeholder="1"':""}`;return Z=f(Z,`src="${z}"`,te),f(Z,'data-mce-src="'+z+'"','data-mce-src="'+W+'"')},_=(Z,z)=>{ze(t.undoManager.data,W=>{W.type==="fragmented"?W.fragments=Et(W.fragments,te=>y(te,Z,z)):W.content=y(W.content,Z,z)})},E=()=>(o||(o=tu(t,l)),V().then(m(Z=>{const z=Et(Z,W=>W.blobInfo);return o.upload(z,fT(t)).then(m(W=>{const te=[];let se=!1;const be=Et(W,(Ce,Ie)=>{const{blobInfo:je,image:st}=Z[Ie];let Nt=!1;return Ce.status&&Gc(t)?(Ce.url&&!Cn(st.src,Ce.url)&&(se=!0),n.removeByUri(st.src),gd(t)||((bt,qe)=>{const tt=t.convertURL(qe,"src");var Xe;_(bt.src,qe),el(Ue(bt),{src:xv(t)?(Xe=qe,Xe+(Xe.indexOf("?")===-1?"?":"&")+new Date().getTime()):qe,"data-mce-src":tt})})(st,Ce.url)):Ce.error&&(Ce.error.remove&&(_(st.src,_r.transparentSrc),te.push(st),Nt=!0),((bt,qe)=>{i1(bt,Cc.translate(["Failed to upload image: {0}",qe]))})(t,Ce.error.message)),{element:st,status:Ce.status,uploadUri:Ce.url,blobInfo:je,removed:Nt}});return te.length>0&&!gd(t)?t.undoManager.transact(()=>{ze(nt(te),Ce=>{const Ie=pl(Ce);ce(Ce),Ie.each((je=>st=>{((Nt,bt)=>Nt.dom.isEmpty(bt.dom)&&G(Nt.schema.getTextBlockElements()[Jr(bt)]))(je,st)&&lr(st,Cm('<br data-mce-bogus="1" />'))})(t)),n.removeByUri(Ce.dom.src)})}):se&&t.undoManager.dispatchChange(),be}))}))),T=()=>Ec(t)?E():Promise.resolve([]),P=Z=>hn(d,z=>z(Z)),V=()=>(s||(s=IS(l,n)),s.findAll(t.getBody(),P).then(m(Z=>{const z=ne(Z,W=>le(W)?(i1(t,W),!1):W.uriType!=="blob");return gd(t)||ze(z,W=>{_(W.image.src,W.blobInfo.blobUri()),W.image.src=W.blobInfo.blobUri(),W.image.removeAttribute("data-mce-src")}),z}))),B=Z=>Z.replace(/src="(blob:[^"]+)"/g,(z,W)=>{const te=l.getResultUri(W);if(te)return'src="'+te+'"';let se=n.getByUri(W);return se||(se=Ve(t.editorManager.get(),(be,Ce)=>be||Ce.editorUpload&&Ce.editorUpload.blobCache.getByUri(W),void 0)),se?'src="data:'+se.blob().type+";base64,"+se.base64()+'"':z});return t.on("SetContent",()=>{Ec(t)?T():V()}),t.on("RawSaveContent",Z=>{Z.content=B(Z.content)}),t.on("GetContent",Z=>{Z.source_view||Z.format==="raw"||Z.format==="tree"||(Z.content=B(Z.content))}),t.on("PostRender",()=>{t.parser.addNodeFilter("img",Z=>{ze(Z,z=>{const W=z.attr("src");if(!W||n.getByUri(W))return;const te=l.getResultUri(W);te&&z.attr("src",te)})})}),{blobCache:n,addFilter:Z=>{d.push(Z)},uploadImages:E,uploadImagesAuto:T,scanForImages:V,destroy:()=>{n.destroy(),l.destroy(),s=o=null}}},pT={remove_similar:!0,inherit:!1},y0={selector:"td,th",...pT},Qx={tablecellbackgroundcolor:{styles:{backgroundColor:"%value"},...y0},tablecellverticalalign:{styles:{"vertical-align":"%value"},...y0},tablecellbordercolor:{styles:{borderColor:"%value"},...y0},tablecellclass:{classes:["%value"],...y0},tableclass:{selector:"table",classes:["%value"],...pT},tablecellborderstyle:{styles:{borderStyle:"%value"},...y0},tablecellborderwidth:{styles:{borderWidth:"%value"},...y0}},cM=Ke(Qx),e_=an.each,nu=la.DOM,Yy=t=>G(t)&&ue(t),hT=(t,n)=>{const o=n&&n.schema||Pd({}),s=m=>{const f=le(m)?{name:m,classes:[],attrs:{}}:m,y=nu.create(f.name);return((_,E)=>{E.classes.length>0&&nu.addClass(_,E.classes.join(" ")),nu.setAttribs(_,E.attrs)})(y,f),y},l=(m,f,y)=>{let _;const E=f[0],T=Yy(E)?E.name:void 0,P=((Z,z)=>{const W=o.getElementRule(Z.nodeName.toLowerCase()),te=W==null?void 0:W.parentsRequired;return!(!te||!te.length)&&(z&&Ht(te,z)?z:te[0])})(m,T);if(P)T===P?(_=E,f=f.slice(1)):_=P;else if(E)_=E,f=f.slice(1);else if(!y)return m;const V=_?s(_):nu.create("div");V.appendChild(m),y&&an.each(y,Z=>{const z=s(Z);V.insertBefore(z,m)});const B=Yy(_)?_.siblings:void 0;return l(V,f,B)},d=nu.create("div");if(t.length>0){const m=t[0],f=s(m),y=Yy(m)?m.siblings:void 0;d.appendChild(l(f,t.slice(1),y))}return d},uM=t=>{let n="div";const o={name:n,classes:[],attrs:{},selector:t=an.trim(t)};return t!=="*"&&(n=t.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,(s,l,d,m,f)=>{switch(l){case"#":o.attrs.id=d;break;case".":o.classes.push(d);break;case":":an.inArray("checked disabled enabled read-only required".split(" "),d)!==-1&&(o.attrs[d]=d)}if(m==="["){const y=f.match(/([\w\-]+)(?:\=\"([^\"]+))?/);y&&(o.attrs[y[1]]=y[2])}return""})),o.name=n||"div",o},vT=(t,n)=>{let o="",s=Nh(t);if(s==="")return"";const l=V=>le(V)?V.replace(/%(\w+)/g,""):"",d=(V,B)=>nu.getStyle(B!=null?B:t.getBody(),V,!0);if(le(n)){const V=t.formatter.get(n);if(!V)return"";n=V[0]}if("preview"in n){const V=n.preview;if(V===!1)return"";s=V||s}let m,f=n.block||n.inline||"span";const y=(_=n.selector,le(_)?(_=(_=_.split(/\s*,\s*/)[0]).replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),an.map(_.split(/(?:>|\s+(?![^\[\]]+\]))/),V=>{const B=an.map(V.split(/(?:~\+|~|\+)/),uM),Z=B.pop();return B.length&&(Z.siblings=B),Z}).reverse()):[]);var _;y.length>0?(y[0].name||(y[0].name=f),f=n.selector,m=hT(y,t)):m=hT([f],t);const E=nu.select(f,m)[0]||m.firstChild;e_(n.styles,(V,B)=>{const Z=l(V);Z&&nu.setStyle(E,B,Z)}),e_(n.attributes,(V,B)=>{const Z=l(V);Z&&nu.setAttrib(E,B,Z)}),e_(n.classes,V=>{const B=l(V);nu.hasClass(E,B)||nu.addClass(E,B)}),t.dispatch("PreviewFormats"),nu.setStyles(m,{position:"absolute",left:-65535}),t.getBody().appendChild(m);const T=d("fontSize"),P=/px$/.test(T)?parseInt(T,10):0;return e_(s.split(" "),V=>{let B=d(V,E);if(!(V==="background-color"&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(B)&&(B=d(V),_n(B).toLowerCase()==="#ffffff")||V==="color"&&_n(B).toLowerCase()==="#000000")){if(V==="font-size"&&/em|%$/.test(B)){if(P===0)return;B=parseFloat(B)/(/%$/.test(B)?100:1)*P+"px"}V==="border"&&B&&(o+="padding:0 2px;"),o+=V+":"+B+";"}}),t.dispatch("AfterPreviewFormats"),nu.remove(m),o},w0=t=>{const n=(s=>{const l={},d=(m,f)=>{m&&(le(m)?(xe(f)||(f=[f]),ze(f,y=>{ae(y.deep)&&(y.deep=!Kc(y)),ae(y.split)&&(y.split=!Kc(y)||Ws(y)),ae(y.remove)&&Kc(y)&&!Ws(y)&&(y.remove="none"),Kc(y)&&Ws(y)&&(y.mixed=!0,y.block_expand=!0),le(y.classes)&&(y.classes=y.classes.split(/\s+/))}),l[m]=f):ut(m,(y,_)=>{d(_,y)}))};return d((m=>{const f=m.dom,y=m.schema.type,_={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"left"},inherit:!1,preview:!1},{selector:"img,audio,video",collapsed:!1,styles:{float:"left"},preview:"font-family font-size"},{selector:"table",collapsed:!1,styles:{marginLeft:"0px",marginRight:"auto"},onformat:E=>{f.setStyle(E,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"left"}}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"center"},inherit:!1,preview:"font-family font-size"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"},{selector:".mce-preview-object",ceFalseOverride:!0,styles:{display:"table",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{marginLeft:"auto",marginRight:"auto"},preview:!1}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{float:"right"},preview:"font-family font-size"},{selector:"table",collapsed:!1,styles:{marginRight:"0px",marginLeft:"auto"},onformat:E=>{f.setStyle(E,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"right"},preview:!1}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"justify"},inherit:!1,preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all",preserve_attributes:["class","style"]}],italic:[{inline:"em",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all",preserve_attributes:["class","style"]}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all",preserve_attributes:["class","style"]}],strikethrough:(()=>{const E={inline:"span",styles:{textDecoration:"line-through"},exact:!0},T={inline:"strike",remove:"all",preserve_attributes:["class","style"]},P={inline:"s",remove:"all",preserve_attributes:["class","style"]};return y!=="html4"?[P,E,T]:[E,P,T]})(),forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",toggle:!1,styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",toggle:!1,styles:{fontSize:"%value"},clear_child_styles:!0},lineheight:{selector:"h1,h2,h3,h4,h5,h6,p,li,td,th,div",styles:{lineHeight:"%value"}},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:!0,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:(E,T,P)=>vn(E)&&E.hasAttribute("href"),onformat:(E,T,P)=>{an.each(P,(V,B)=>{f.setAttrib(E,B,V)})}},lang:{inline:"span",clear_child_styles:!0,remove_similar:!0,attributes:{lang:"%value","data-mce-lang":E=>{var T;return(T=E==null?void 0:E.customValue)!==null&&T!==void 0?T:null}}},removeformat:[{selector:"b,strong,em,i,font,u,strike,s,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins,small",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]};return an.each("p h1 h2 h3 h4 h5 h6 div address pre dt dd samp".split(/\s/),E=>{_[E]={block:E,remove:"all"}}),_})(s)),d(cM()),d(Hb(s)),{get:m=>G(m)?l[m]:l,has:m=>fn(l,m),register:d,unregister:m=>(m&&l[m]&&delete l[m],l)}})(t),o=_s({});return(s=>{s.addShortcut("meta+b","","Bold"),s.addShortcut("meta+i","","Italic"),s.addShortcut("meta+u","","Underline");for(let l=1;l<=6;l++)s.addShortcut("access+"+l,"",["FormatBlock",!1,"h"+l]);s.addShortcut("access+7","",["FormatBlock",!1,"p"]),s.addShortcut("access+8","",["FormatBlock",!1,"div"]),s.addShortcut("access+9","",["FormatBlock",!1,"address"])})(t),(s=>{s.on("mouseup keydown",l=>{var d;((m,f,y)=>{const _=m.selection,E=m.getBody();F4(m,null,y),f!==8&&f!==46||!_.isCollapsed()||_.getStart().innerHTML!==e1||F4(m,nf(E,_.getStart())),f!==37&&f!==39||F4(m,nf(E,_.getStart()))})(s,l.keyCode,(d=s.selection.getRng().endContainer,tn(d)&&On(d.data,ds)))})})(t),gd(t)||((s,l)=>{s.set({}),l.on("NodeChange",d=>{Op(l,d.element,s.get())}),l.on("FormatApply FormatRemove",d=>{const m=Q.from(d.node).map(f=>Ni(f)?f:f.startContainer).bind(f=>vn(f)?Q.some(f):Q.from(f.parentElement)).getOrThunk(()=>X4(l));Op(l,m,s.get())})})(o,t),{get:n.get,has:n.has,register:n.register,unregister:n.unregister,apply:(s,l,d)=>{((m,f,y,_)=>{Os(m).formatter.apply(f,y,_)})(t,s,l,d)},remove:(s,l,d,m)=>{((f,y,_,E,T)=>{Os(f).formatter.remove(y,_,E,T)})(t,s,l,d,m)},toggle:(s,l,d)=>{((m,f,y,_)=>{Os(m).formatter.toggle(f,y,_)})(t,s,l,d)},match:(s,l,d,m)=>((f,y,_,E,T)=>Os(f).formatter.match(y,_,E,T))(t,s,l,d,m),closest:s=>((l,d)=>Os(l).formatter.closest(d))(t,s),matchAll:(s,l)=>((d,m,f)=>Os(d).formatter.matchAll(m,f))(t,s,l),matchNode:(s,l,d,m)=>((f,y,_,E,T)=>Os(f).formatter.matchNode(y,_,E,T))(t,s,l,d,m),canApply:s=>((l,d)=>Os(l).formatter.canApply(d))(t,s),formatChanged:(s,l,d,m)=>((f,y,_,E,T,P)=>Os(f).formatter.formatChanged(y,_,E,T,P))(t,o,s,l,d,m),getCssText:it(vT,t)}},Xy=t=>{switch(t.toLowerCase()){case"undo":case"redo":case"mcefocus":return!0;default:return!1}},x0=t=>{const n=_a(),o=_s(0),s=_s(0),l={data:[],typing:!1,beforeChange:()=>{((d,m,f)=>{Os(d).undoManager.beforeChange(m,f)})(t,o,n)},add:(d,m)=>((f,y,_,E,T,P,V)=>Os(f).undoManager.add(y,_,E,T,P,V))(t,l,s,o,n,d,m),dispatchChange:()=>{t.setDirty(!0);const d=p0(t);d.bookmark=hv(t.selection),t.dispatch("change",{level:d,lastLevel:Uo(l.data,s.get()).getOrUndefined()})},undo:()=>((d,m,f,y)=>Os(d).undoManager.undo(m,f,y))(t,l,o,s),redo:()=>((d,m,f)=>Os(d).undoManager.redo(m,f))(t,s,l.data),clear:()=>{((d,m,f)=>{Os(d).undoManager.clear(m,f)})(t,l,s)},reset:()=>{((d,m)=>{Os(d).undoManager.reset(m)})(t,l)},hasUndo:()=>((d,m,f)=>Os(d).undoManager.hasUndo(m,f))(t,l,s),hasRedo:()=>((d,m,f)=>Os(d).undoManager.hasRedo(m,f))(t,l,s),transact:d=>((m,f,y,_)=>Os(m).undoManager.transact(f,y,_))(t,l,o,d),ignore:d=>{((m,f,y)=>{Os(m).undoManager.ignore(f,y)})(t,o,d)},extra:(d,m)=>{((f,y,_,E,T)=>{Os(f).undoManager.extra(y,_,E,T)})(t,l,s,d,m)}};return gd(t)||((d,m,f)=>{const y=_s(!1),_=E=>{Wy(m,!1,f),m.add({},E)};d.on("init",()=>{m.add()}),d.on("BeforeExecCommand",E=>{const T=E.command;Xy(T)||(tT(m,f),m.beforeChange())}),d.on("ExecCommand",E=>{const T=E.command;Xy(T)||_(E)}),d.on("ObjectResizeStart cut",()=>{m.beforeChange()}),d.on("SaveContent ObjectResized blur",_),d.on("dragend",_),d.on("keyup",E=>{const T=E.keyCode;if(E.isDefaultPrevented())return;const P=_r.os.isMacOS()&&E.key==="Meta";(T>=33&&T<=36||T>=37&&T<=40||T===45||E.ctrlKey||P)&&(_(),d.nodeChanged()),T!==46&&T!==8||d.nodeChanged(),y.get()&&m.typing&&!Zy(p0(d),m.data[0])&&(d.isDirty()||d.setDirty(!0),d.dispatch("TypingUndo"),y.set(!1),d.nodeChanged())}),d.on("keydown",E=>{const T=E.keyCode;if(E.isDefaultPrevented())return;if(T>=33&&T<=36||T>=37&&T<=40||T===45)return void(m.typing&&_(E));const P=E.ctrlKey&&!E.altKey||E.metaKey;if((T<16||T>20)&&T!==224&&T!==91&&!m.typing&&!P)return m.beforeChange(),Wy(m,!0,f),m.add({},E),void y.set(!0);(_r.os.isMacOS()?E.metaKey:E.ctrlKey&&!E.altKey)&&m.beforeChange()}),d.on("mousedown",E=>{m.typing&&_(E)}),d.on("input",E=>{var T;E.inputType&&(E.inputType==="insertReplacementText"||(T=E).inputType==="insertText"&&T.data===null||(P=>P.inputType==="insertFromPaste"||P.inputType==="insertFromDrop")(E))&&_(E)}),d.on("AddUndo Undo Redo ClearUndos",E=>{E.isDefaultPrevented()||d.nodeChanged()})})(t,l,o),(d=>{d.addShortcut("meta+z","","Undo"),d.addShortcut("meta+y,meta+shift+z","","Redo")})(t),l},bT=[9,27,Yn.HOME,Yn.END,19,20,44,144,145,33,34,45,16,17,18,91,92,93,Yn.DOWN,Yn.UP,Yn.LEFT,Yn.RIGHT].concat(_r.browser.isFirefox()?[224]:[]),BS="data-mce-placeholder",yT=t=>t.type==="keydown"||t.type==="keyup",FS=t=>{const n=t.keyCode;return n===Yn.BACKSPACE||n===Yn.DELETE},Jy=(t,n)=>({from:t,to:n}),t_=(t,n)=>{const o=Ue(t),s=Ue(n.container());return r0(o,s).map(l=>((d,m)=>({block:d,position:m}))(l,n))},HS=(t,n)=>os(n,o=>Nm(o)||$c(o.dom),o=>Ur(o,t)).filter(xi).getOr(t),zS=t=>{const n=(o=>{const s=fa(o);return rn(s,rs).fold(Ke(s),l=>s.slice(0,l))})(t);return ze(n,ce),n},wT=(t,n)=>{const o=sf(n,t);return Ct(o.reverse(),s=>Ma(s)).each(ce)},sm=(t,n,o,s)=>{if(Ma(o))return Wu(o),Gi(o.dom);ne(Vu(s),d=>!Ma(d)).length===0&&Ma(n)&&Vi(s,us("br"));const l=ci(o.dom,St.before(s.dom));return ze(zS(n),d=>{Vi(s,d)}),wT(t,n),l},VS=(t,n,o)=>{if(Ma(o)){if(Ma(n)){const l=m=>{const f=(y,_)=>Tf(y).fold(()=>_,E=>Df(E)?f(E,_.concat(Bd(E))):_);return f(m,[])},d=Oe(l(o),(m,f)=>(Mf(m,f),f),du());de(n),lr(n,d)}return ce(o),Gi(n.dom)}const s=xl(o.dom);return ze(zS(n),l=>{lr(o,l)}),wT(t,n),s},xT=(t,n)=>{is(t,n.dom).bind(o=>Q.from(o.getNode())).map(Ue).filter(bl).each(ce)},_T=(t,n,o)=>(xT(!0,n),xT(!1,o),((s,l)=>Hc(l,s)?((d,m)=>{const f=sf(m,d);return Q.from(f[f.length-1])})(l,s):Q.none())(n,o).fold(it(VS,t,n,o),it(sm,t,n,o))),$r=(t,n,o,s)=>n?_T(t,s,o):_T(t,o,s),$S=(t,n)=>{const o=Ue(t.getBody());return((l,d,m)=>m.collapsed?((f,y,_)=>{const E=t_(f,St.fromRangeStart(_)),T=E.bind(P=>gn(y,f,P.position).bind(V=>t_(f,V).map(B=>((Z,z,W)=>kt(W.position.getNode())&&!Ma(W.block)?is(!1,W.block.dom).bind(te=>te.isEqual(W.position)?gn(z,Z,te).bind(se=>t_(Z,se)):Q.some(W)).getOr(W):W)(f,y,B))));return Ka(E,T,Jy).filter(P=>(V=>!Ur(V.from.block,V.to.block))(P)&&((V,B)=>{const Z=Ue(V);return Ur(HS(Z,B.from.block),HS(Z,B.to.block))})(f,P)&&(V=>rr(V.from.block.dom)===!1&&rr(V.to.block.dom)===!1)(P)&&(V=>{const B=Z=>Zu(Z)||Pm(Z.dom);return B(V.from.block)&&B(V.to.block)})(P))})(l,d,m):Q.none())(o.dom,n,t.selection.getRng()).map(l=>()=>{$r(o,n,l.from.block,l.to.block).each(d=>{t.selection.setRng(d.toRange())})})},CT=(t,n)=>{const o=Ue(n),s=it(Ur,t);return ga(o,Nm,s).isSome()},ja=t=>{const n=Ue(t.getBody());return((o,s)=>{const l=ci(o.dom,St.fromRangeStart(s)).isNone(),d=Zs(o.dom,St.fromRangeEnd(s)).isNone();return!((m,f)=>CT(m,f.startContainer)||CT(m,f.endContainer))(o,s)&&l&&d})(n,t.selection.getRng())?(o=>Q.some(()=>{o.setContent(""),o.selection.setCursorLocation()}))(t):((o,s)=>{const l=s.getRng();return Ka(r0(o,Ue(l.startContainer)),r0(o,Ue(l.endContainer)),(d,m)=>Ur(d,m)?Q.none():Q.some(()=>{l.deleteContents(),$r(o,!0,d,m).each(f=>{s.setRng(f.toRange())})})).getOr(Q.none())})(n,t.selection)},US=(t,n)=>t.selection.isCollapsed()?Q.none():ja(t),Cu=(t,n,o,s,l)=>Q.from(n._selectionOverrides.showCaret(t,o,s,l)),Qy=(t,n)=>t.dispatch("BeforeObjectSelected",{target:n}).isDefaultPrevented()?Q.none():Q.some((o=>{const s=o.ownerDocument.createRange();return s.selectNode(o),s})(n)),n_=(t,n,o)=>n.collapsed?((s,l,d)=>{const m=$h(1,s.getBody(),l),f=St.fromRangeStart(m),y=f.getNode();if(nd(y))return Cu(1,s,y,!f.isAtEnd(),!1);const _=f.getNode(!0);if(nd(_))return Cu(1,s,_,!1,!1);const E=kp(s.dom.getRoot(),f.getNode());return nd(E)?Cu(1,s,E,!1,d):Q.none()})(t,n,o).getOr(n):n,Mp=t=>Jd(t)||Qv(t),Mc=t=>ig(t)||dy(t),_0=(t,n,o,s,l,d)=>{Cu(s,t,d.getNode(!l),l,!0).each(m=>{if(n.collapsed){const f=n.cloneRange();l?f.setEnd(m.startContainer,m.startOffset):f.setStart(m.endContainer,m.endOffset),f.deleteContents()}else n.deleteContents();t.selection.setRng(m)}),((m,f)=>{tn(f)&&f.data.length===0&&m.remove(f)})(t.dom,o)},fg=(t,n)=>((o,s)=>{const l=o.selection.getRng();if(!tn(l.commonAncestorContainer))return Q.none();const d=s?ms.Forwards:ms.Backwards,m=bu(o.getBody()),f=it(Kd,s?m.next:m.prev),y=s?Mp:Mc,_=Is(d,o.getBody(),l),E=f(_),T=E&&_l(s,E);if(!T||!Hv(_,T))return Q.none();if(y(T))return Q.some(()=>_0(o,l,_.getNode(),d,s,T));const P=f(T);return P&&y(P)&&Hv(T,P)?Q.some(()=>_0(o,l,_.getNode(),d,s,P)):Q.none()})(t,n),pd=(t,n)=>{const o=t.getBody();return n?Gi(o).filter(Jd):xl(o).filter(ig)},c1=t=>{const n=t.selection.getRng();return!n.collapsed&&(pd(t,!0).exists(o=>o.isEqual(St.fromRangeStart(n)))||pd(t,!1).exists(o=>o.isEqual(St.fromRangeEnd(n))))},Rc=ss([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),o_=(t,n,o)=>gn(n,t,o).bind(s=>{return l=s.getNode(),G(l)&&(Nm(Ue(l))||Va(Ue(l)))||((d,m,f,y)=>{const _=E=>Df(Ue(E))&&!vu(f,y,d);return br(!m,f).fold(()=>br(m,y).fold(pn,_),_)})(t,n,o,s)?Q.none():n&&rr(s.getNode())||!n&&rr(s.getNode(!0))?((d,m,f,y)=>{const _=y.getNode(!m);return r0(Ue(d),Ue(f.getNode())).map(E=>Ma(E)?Rc.remove(E.dom):Rc.moveToElement(_)).orThunk(()=>Q.some(Rc.moveToElement(_)))})(t,n,o,s):n&&ig(o)||!n&&Jd(o)?Q.some(Rc.moveToPosition(s)):Q.none();var l}),jS=(t,n)=>Q.from(kp(t.getBody(),n)),kT=(t,n)=>{const o=t.selection.getNode();return jS(t,o).filter(rr).fold(()=>((s,l,d)=>{const m=$h(l?1:-1,s,d),f=St.fromRangeStart(m),y=Ue(s);return!l&&ig(f)?Q.some(Rc.remove(f.getNode(!0))):l&&Jd(f)?Q.some(Rc.remove(f.getNode())):!l&&Jd(f)&&l4(y,f)?zN(y,f).map(_=>Rc.remove(_.getNode())):l&&ig(f)&&i4(y,f)?VN(y,f).map(_=>Rc.remove(_.getNode())):((_,E,T)=>((P,V)=>{const B=V.getNode(!P),Z=P?"after":"before";return vn(B)&&B.getAttribute("data-mce-caret")===Z})(E,T)?((P,V)=>De(V)?Q.none():P&&rr(V.nextSibling)?Q.some(Rc.moveToElement(V.nextSibling)):!P&&rr(V.previousSibling)?Q.some(Rc.moveToElement(V.previousSibling)):Q.none())(E,T.getNode(!E)).orThunk(()=>o_(_,E,T)):o_(_,E,T).bind(P=>((V,B,Z)=>Z.fold(z=>Q.some(Rc.remove(z)),z=>Q.some(Rc.moveToElement(z)),z=>vu(B,z,V)?Q.none():Q.some(Rc.moveToPosition(z))))(_,T,P)))(s,l,f)})(t.getBody(),n,t.selection.getRng()).map(s=>()=>s.fold(((l,d)=>m=>(l._selectionOverrides.hideFakeCaret(),lg(l,d,Ue(m)),!0))(t,n),((l,d)=>m=>{const f=d?St.before(m):St.after(m);return l.selection.setRng(f.toRange()),!0})(t,n),(l=>d=>(l.selection.setRng(d.toRange()),!0))(t))),()=>Q.some(Ft))},ST=t=>{const n=t.dom,o=t.selection,s=kp(t.getBody(),o.getNode());if($c(s)&&n.isBlock(s)&&n.isEmpty(s)){const l=n.create("br",{"data-mce-bogus":"1"});n.setHTML(s,""),s.appendChild(l),o.setRng(St.before(l).toRange())}return!0},r_=(t,n)=>t.selection.isCollapsed()?kT(t,n):((o,s)=>{const l=o.selection.getNode();return rr(l)&&!hc(l)?jS(o,l.parentNode).filter(rr).fold(()=>Q.some(()=>{var d;d=Ue(o.getBody()),ze(Jn(d,".mce-offscreen-selection"),ce),lg(o,s,Ue(o.selection.getNode())),gy(o)}),()=>Q.some(Ft)):c1(o)?Q.some(()=>{rx(o,o.selection.getRng(),Ue(o.getBody()))}):Q.none()})(t,n),a_=(t,n)=>t.selection.isCollapsed()?((o,s)=>{const l=St.fromRangeStart(o.selection.getRng());return gn(s,o.getBody(),l).filter(d=>s?LN(d):BN(d)).bind(d=>Bv(s?0:-1,d)).map(d=>()=>o.selection.select(d))})(t,n):Q.none(),u1=tn,ZS=t=>u1(t)&&t.data[0]===Vs,s_=t=>u1(t)&&t.data[t.data.length-1]===Vs,ET=t=>{var n;return((n=t.ownerDocument)!==null&&n!==void 0?n:document).createTextNode(Vs)},i_=(t,n)=>t?(o=>{var s;if(u1(o.previousSibling))return s_(o.previousSibling)||o.previousSibling.appendData(Vs),o.previousSibling;if(u1(o))return ZS(o)||o.insertData(0,Vs),o;{const l=ET(o);return(s=o.parentNode)===null||s===void 0||s.insertBefore(l,o),l}})(n):(o=>{var s,l;if(u1(o.nextSibling))return ZS(o.nextSibling)||o.nextSibling.insertData(0,Vs),o.nextSibling;if(u1(o))return s_(o)||o.appendData(Vs),o;{const d=ET(o);return o.nextSibling?(s=o.parentNode)===null||s===void 0||s.insertBefore(d,o.nextSibling):(l=o.parentNode)===null||l===void 0||l.appendChild(d),d}})(n),dM=it(i_,!0),uf=it(i_,!1),C0=(t,n)=>tn(t.container())?i_(n,t.container()):i_(n,t.getNode()),WS=(t,n)=>{const o=n.get();return o&&t.container()===o&&vc(o)},l_=(t,n)=>n.fold(o=>{td(t.get());const s=dM(o);return t.set(s),Q.some(St(s,s.length-1))},o=>Gi(o).map(s=>{if(WS(s,t)){const l=t.get();return St(l,1)}{td(t.get());const l=C0(s,!0);return t.set(l),St(l,1)}}),o=>xl(o).map(s=>{if(WS(s,t)){const l=t.get();return St(l,l.length-1)}{td(t.get());const l=C0(s,!1);return t.set(l),St(l,l.length-1)}}),o=>{td(t.get());const s=uf(o);return t.set(s),Q.some(St(s,1))}),GS=(t,n)=>{for(let o=0;o<t.length;o++){const s=t[o].apply(null,n);if(s.isSome())return s}return Q.none()},Pl=ss([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),gg=(t,n)=>Gd(n,t)||t,mM=(t,n,o)=>{const s=ca(o),l=gg(n,s.container());return Cp(t,l,s).fold(()=>Zs(l,s).bind(it(Cp,t,l)).map(d=>Pl.before(d)),Q.none)},fM=(t,n)=>nf(t,n)===null,OT=(t,n,o)=>Cp(t,n,o).filter(it(fM,n)),gM=(t,n,o)=>{const s=o0(o);return OT(t,n,s).bind(l=>ci(l,s).isNone()?Q.some(Pl.start(l)):Q.none())},pM=(t,n,o)=>{const s=ca(o);return OT(t,n,s).bind(l=>Zs(l,s).isNone()?Q.some(Pl.end(l)):Q.none())},hM=(t,n,o)=>{const s=o0(o),l=gg(n,s.container());return Cp(t,l,s).fold(()=>ci(l,s).bind(it(Cp,t,l)).map(d=>Pl.after(d)),Q.none)},TT=t=>!n0(d1(t)),df=(t,n,o)=>GS([mM,gM,pM,hM],[t,n,o]).filter(TT),d1=t=>t.fold(nn,nn,nn,nn),c_=t=>t.fold(Ke("before"),Ke("start"),Ke("end"),Ke("after")),mf=t=>t.fold(Pl.before,Pl.before,Pl.after,Pl.after),pg=t=>t.fold(Pl.start,Pl.start,Pl.end,Pl.end),u_=(t,n,o,s,l,d)=>Ka(Cp(n,o,s),Cp(n,o,l),(m,f)=>m!==f&&((y,_,E)=>{const T=Gd(_,y),P=Gd(E,y);return G(T)&&T===P})(o,m,f)?Pl.after(t?m:f):d).getOr(d),d_=(t,n)=>t.fold(Sn,o=>{return l=n,!(c_(s=o)===c_(l)&&d1(s)===d1(l));var s,l}),m1=(t,n)=>t?n.fold(qn(Q.some,Pl.start),Q.none,qn(Q.some,Pl.after),Q.none):n.fold(Q.none,qn(Q.some,Pl.before),Q.none,qn(Q.some,Pl.end)),Rp=(t,n,o)=>{const s=t?1:-1;return n.setRng(St(o.container(),o.offset()+s).toRange()),n.getSel().modify("move",t?"forward":"backward","word"),!0};var ku;(function(t){t[t.Br=0]="Br",t[t.Block=1]="Block",t[t.Wrap=2]="Wrap",t[t.Eol=3]="Eol"})(ku||(ku={}));const f1=(t,n)=>t===ms.Backwards?Je(n):n,AT=(t,n,o)=>t===ms.Forwards?n.next(o):n.prev(o),qS=(t,n,o,s)=>kt(s.getNode(n===ms.Forwards))?ku.Br:vu(o,s)===!1?ku.Block:ku.Wrap,m_=(t,n,o,s)=>{const l=bu(o);let d=s;const m=[];for(;d;){const f=AT(n,l,d);if(!f)break;if(kt(f.getNode(!1)))return n===ms.Forwards?{positions:f1(n,m).concat([f]),breakType:ku.Br,breakAt:Q.some(f)}:{positions:f1(n,m),breakType:ku.Br,breakAt:Q.some(f)};if(f.isVisible()){if(t(d,f)){const y=qS(0,n,d,f);return{positions:f1(n,m),breakType:y,breakAt:Q.some(f)}}m.push(f),d=f}else d=f}return{positions:f1(n,m),breakType:ku.Eol,breakAt:Q.none()}},KS=(t,n,o,s)=>n(o,s).breakAt.map(l=>{const d=n(o,l).positions;return t===ms.Backwards?d.concat(l):[l].concat(d)}).getOr([]),f_=(t,n)=>Ve(t,(o,s)=>o.fold(()=>Q.some(s),l=>Ka(Xn(l.getClientRects()),Xn(s.getClientRects()),(d,m)=>{const f=Math.abs(n-d.left);return Math.abs(n-m.left)<=f?s:l}).or(o)),Q.none()),hg=(t,n)=>Xn(n.getClientRects()).bind(o=>f_(t,o.left)),k0=it(m_,St.isAbove,-1),S0=it(m_,St.isBelow,1),YS=it(KS,-1,k0),e2=it(KS,1,S0),NT=(t,n)=>hg(YS(t,n),n),MT=(t,n)=>hg(e2(t,n),n),RT=rr,XS=(t,n)=>Math.abs(t.left-n),ff=(t,n)=>Math.abs(t.right-n),vg=(t,n)=>bs(t,(o,s)=>{const l=Math.min(XS(o,n),ff(o,n)),d=Math.min(XS(s,n),ff(s,n));return d===l&&dr(s,"node")&&RT(s.node)||d<l?s:o}),hd=t=>{const n=o=>Et(o,s=>{const l=Vm(s);return l.node=t,l});if(vn(t))return n(t.getClientRects());if(tn(t)){const o=t.ownerDocument.createRange();return o.setStart(t,0),o.setEnd(t,t.data.length),n(o.getClientRects())}return[]},g_=t=>En(t,hd);var g1;(function(t){t[t.Up=-1]="Up",t[t.Down=1]="Down"})(g1||(g1={}));const JS=(t,n,o,s,l,d)=>{let m=0;const f=[],y=T=>{let P=g_([T]);t===-1&&(P=P.reverse());for(let V=0;V<P.length;V++){const B=P[V];if(!o(B,_)){if(f.length>0&&n(B,Bs(f))&&m++,B.line=m,l(B))return!0;f.push(B)}}return!1},_=Bs(d.getClientRects());if(!_)return f;const E=d.getNode();return E&&(y(E),((T,P,V,B)=>{let Z=B;for(;Z=tf(Z,T,Ia,P);)if(V(Z))return})(t,s,y,E)),f},DT=it(JS,g1.Up,Sc,$m),IT=it(JS,g1.Down,$m,Sc),p_=t=>Bs(t.getClientRects()),QS=t=>n=>((o,s)=>s.line>o)(t,n),h_=t=>n=>((o,s)=>s.line===o)(t,n),im=(t,n)=>{t.selection.setRng(n),wp(t,t.selection.getRng())},vd=(t,n,o)=>Q.some(n_(t,n,o)),Su=(t,n,o,s,l,d)=>{const m=n===ms.Forwards,f=bu(t.getBody()),y=it(Kd,m?f.next:f.prev),_=m?s:l;if(!o.collapsed){const B=yl(o);if(d(B))return Cu(n,t,B,n===ms.Backwards,!1);if(c1(t)){const Z=o.cloneRange();return Z.collapse(n===ms.Backwards),Q.from(Z)}}const E=Is(n,t.getBody(),o);if(_(E))return Qy(t,E.getNode(!m));let T=y(E);const P=Md(o);if(!T)return P?Q.some(o):Q.none();if(T=_l(m,T),_(T))return Cu(n,t,T.getNode(!m),m,!1);const V=y(T);return V&&_(V)&&Hv(T,V)?Cu(n,t,V.getNode(!m),m,!1):P?vd(t,T.toRange(),!1):Q.none()},t2=(t,n,o,s,l,d)=>{const m=Is(n,t.getBody(),o),f=Bs(m.getClientRects()),y=n===g1.Down,_=t.getBody();if(!f)return Q.none();if(c1(t)){const Z=y?St.fromRangeEnd(o):St.fromRangeStart(o);return(y?MT:NT)(_,Z).orThunk(()=>Q.from(Z)).map(z=>z.toRange())}const E=(y?IT:DT)(_,QS(1),m),T=ne(E,h_(1)),P=f.left,V=vg(T,P);if(V&&d(V.node)){const Z=Math.abs(P-V.left),z=Math.abs(P-V.right);return Cu(n,t,V.node,Z<z,!1)}let B;if(B=s(m)?m.getNode():l(m)?m.getNode(!0):yl(o),B){const Z=((W,te,se,be)=>{const Ce=bu(te);let Ie,je,st,Nt;const bt=[];let qe=0;W===1?(Ie=Ce.next,je=$m,st=Sc,Nt=St.after(be)):(Ie=Ce.prev,je=Sc,st=$m,Nt=St.before(be));const tt=p_(Nt);do{if(!Nt.isVisible())continue;const Xe=p_(Nt);if(st(Xe,tt))continue;bt.length>0&&je(Xe,Bs(bt))&&qe++;const ft=Vm(Xe);if(ft.position=Nt,ft.line=qe,se(ft))return bt;bt.push(ft)}while(Nt=Ie(Nt));return bt})(n,_,QS(1),B);let z=vg(ne(Z,h_(1)),P);if(z||(z=Bs(ne(Z,h_(0))),z))return vd(t,z.position.toRange(),!1)}return T.length===0?v_(t,y).filter(y?l:s).map(Z=>n_(t,Z.toRange(),!1)):Q.none()},v_=(t,n)=>{const o=t.selection.getRng(),s=n?St.fromRangeEnd(o):St.fromRangeStart(o),l=(d=s.container(),m=t.getBody(),ga(Ue(d),f=>Jb(f.dom),f=>f.dom===m).map(f=>f.dom).getOr(m));var d,m;if(n){const f=S0(l,s);return so(f.positions)}{const f=k0(l,s);return Xn(f.positions)}},n2=(t,n,o)=>v_(t,n).filter(o).exists(s=>(t.selection.setRng(s.toRange()),!0)),o2=(t,n)=>{const o=t.dom.createRng();o.setStart(n.container(),n.offset()),o.setEnd(n.container(),n.offset()),t.selection.setRng(o)},e3=(t,n)=>{t?n.setAttribute("data-mce-selected","inline-boundary"):n.removeAttribute("data-mce-selected")},t3=(t,n,o)=>l_(n,o).map(s=>(o2(t,s),o)),PT=(t,n,o)=>{const s=t.getBody(),l=((d,m,f)=>{const y=St.fromRangeStart(d);if(d.collapsed)return y;{const _=St.fromRangeEnd(d);return f?ci(m,_).getOr(_):Zs(m,y).getOr(y)}})(t.selection.getRng(),s,o);return((d,m,f,y)=>{const _=_l(d,y),E=df(m,f,_);return df(m,f,_).bind(it(m1,d)).orThunk(()=>((T,P,V,B,Z)=>{const z=_l(T,Z);return gn(T,V,z).map(it(_l,T)).fold(()=>B.map(mf),W=>df(P,V,W).map(it(u_,T,P,V,z,W)).filter(it(d_,B))).filter(TT)})(d,m,f,E,y))})(o,it(Qd,t),s,l).bind(d=>t3(t,n,d))},n3=(t,n,o)=>!!Kf(t)&&PT(t,n,o).isSome(),o3=(t,n,o)=>!!Kf(n)&&((s,l)=>{const d=l.selection.getRng(),m=s?St.fromRangeEnd(d):St.fromRangeStart(d);return!!(f=>Ae(f.selection.getSel().modify))(l)&&(s&&gi(m)?Rp(!0,l.selection,m):!(s||!qu(m))&&Rp(!1,l.selection,m))})(t,n),b_=t=>{const n=_s(null),o=it(Qd,t);return t.on("NodeChange",s=>{Kf(t)&&(((l,d,m)=>{const f=Et(Jn(Ue(d.getRoot()),'*[data-mce-selected="inline-boundary"]'),E=>E.dom),y=ne(f,l),_=ne(m,l);ze(qt(y,_),it(e3,!1)),ze(qt(_,y),it(e3,!0))})(o,t.dom,s.parents),((l,d)=>{const m=d.get();if(l.selection.isCollapsed()&&!l.composing&&m){const f=St.fromRangeStart(l.selection.getRng());St.isTextPosition(f)&&!(y=>gi(y)||qu(y))(f)&&(o2(l,yk(m,f)),d.set(null))}})(t,n),((l,d,m,f)=>{if(d.selection.isCollapsed()){const y=ne(f,l);ze(y,_=>{const E=St.fromRangeStart(d.selection.getRng());df(l,d.getBody(),E).bind(T=>t3(d,m,T))})}})(o,t,n,s.parents))}),n},r3=it(o3,!0),LT=it(o3,!1),E0=(t,n,o)=>{if(Kf(t)){const s=v_(t,n).getOrThunk(()=>{const l=t.selection.getRng();return n?St.fromRangeEnd(l):St.fromRangeStart(l)});return df(it(Qd,t),t.getBody(),s).exists(l=>{const d=mf(l);return l_(o,d).exists(m=>(o2(t,m),!0))})}return!1},BT=(t,n)=>o=>l_(n,o).map(s=>()=>o2(t,s)),FT=(t,n,o,s)=>{const l=t.getBody(),d=it(Qd,t);t.undoManager.ignore(()=>{t.selection.setRng(((m,f)=>{const y=document.createRange();return y.setStart(m.container(),m.offset()),y.setEnd(f.container(),f.offset()),y})(o,s)),nx(t),df(d,l,St.fromRangeStart(t.selection.getRng())).map(pg).bind(BT(t,n)).each(In)}),t.nodeChanged()},a3=(t,n,o)=>{if(t.selection.isCollapsed()&&Kf(t)){const s=St.fromRangeStart(t.selection.getRng());return((l,d,m,f)=>{const y=((T,P)=>Gd(P,T)||T)(l.getBody(),f.container()),_=it(Qd,l),E=df(_,y,f);return E.bind(T=>m?T.fold(Ke(Q.some(pg(T))),Q.none,Ke(Q.some(mf(T))),Q.none):T.fold(Q.none,Ke(Q.some(mf(T))),Q.none,Ke(Q.some(pg(T))))).map(BT(l,d)).getOrThunk(()=>{const T=es(m,y,f),P=T.bind(V=>df(_,y,V));return Ka(E,P,()=>Cp(_,y,f).bind(V=>(B=>Ka(Gi(B),xl(B),(Z,z)=>{const W=_l(!0,Z),te=_l(!1,z);return Zs(B,W).forall(se=>se.isEqual(te))}).getOr(!0))(V)?Q.some(()=>{lg(l,m,Ue(V))}):Q.none())).getOrThunk(()=>P.bind(()=>T.map(V=>()=>{m?FT(l,d,f,V):FT(l,d,V,f)})))})})(t,n,o,s)}return Q.none()},HT=(t,n)=>{const o=Ue(t.getBody()),s=Ue(t.selection.getStart()),l=sf(s,o);return rn(l,n).fold(Ke(l),d=>l.slice(0,d))},vM=t=>Uu(t)===1,zT=(t,n)=>{const o=it(Sp,t);return En(n,s=>o(s)?[s.dom]:[])},r2=t=>{const n=(o=>HT(o,rs))(t);return zT(t,n)},s3=(t,n)=>{const o=ne((s=>HT(s,l=>rs(l)||(d=>Uu(d)>1)(l)))(t),vM);return so(o).bind(s=>{const l=St.fromRangeStart(t.selection.getRng());return ox(n,l,s.dom)&&!V4(s)?Q.some(()=>((d,m,f,y)=>{const _=zT(m,y);if(_.length===0)lg(m,d,f);else{const E=z4(f.dom,_);m.selection.setRng(E.toRange())}})(n,t,s,o)):Q.none()})},i3=(t,n)=>{const o=t.selection.getStart(),s=((l,d)=>{const m=d.parentElement;return kt(d)&&!me(m)&&l.dom.isEmpty(m)})(t,o)||V4(Ue(o))?z4(o,n):((l,d)=>{const{caretContainer:m,caretPosition:f}=MO(d);return l.insertNode(m.dom),f})(t.selection.getRng(),n);t.selection.setRng(s.toRange())},y_=t=>tn(t.startContainer),bM=t=>{const n=t.selection.getRng();return(o=>o.startOffset===0&&y_(o))(n)&&((o,s)=>{const l=s.startContainer.parentElement;return!me(l)&&Sp(o,Ue(l))})(t,n)&&(o=>(s=>(l=>{const d=l.startContainer.parentNode,m=l.endContainer.parentNode;return!me(d)&&!me(m)&&d.isEqualNode(m)})(s)&&(l=>{const d=l.endContainer;return l.endOffset===(tn(d)?d.length:d.childNodes.length)})(s))(o)||(s=>!s.endContainer.isEqualNode(s.commonAncestorContainer))(o))(n)},l3=(t,n)=>t.selection.isCollapsed()?s3(t,n):(o=>{if(bM(o)){const s=r2(o);return Q.some(()=>{nx(o),((l,d)=>{const m=qt(d,r2(l));m.length>0&&i3(l,m)})(o,s)})}return Q.none()})(t),yM=t=>((n,o,s)=>ga(n,l=>Oc(l.dom),s).isSome())(t,0,rs),a2=t=>((n=>{const o=n.selection.getRng();return o.collapsed&&(y_(o)||n.dom.isEmpty(o.startContainer))&&!(s=>yM(Ue(s.selection.getStart())))(n)})(t)&&i3(t,[]),!0),c3=(t,n,o)=>G(o)?Q.some(()=>{t._selectionOverrides.hideFakeCaret(),lg(t,n,Ue(o))}):Q.none(),u3=(t,n)=>t.selection.isCollapsed()?((o,s)=>{const l=s?Qv:dy,d=s?ms.Forwards:ms.Backwards,m=Is(d,o.getBody(),o.selection.getRng());return l(m)?c3(o,s,m.getNode(!s)):Q.from(_l(s,m)).filter(f=>l(f)&&Hv(m,f)).bind(f=>c3(o,s,f.getNode(!s)))})(t,n):((o,s)=>{const l=o.selection.getNode();return $i(l)?c3(o,s,l):Q.none()})(t,n),O0=t=>ma(t!=null?t:"").getOr(0),s2=(t,n)=>(t||Jr(n)==="table"?"margin":"padding")+(jl(n,"direction")==="rtl"?"-right":"-left"),i2=t=>{const n=$T(t);return!t.mode.isReadOnly()&&(n.length>1||((o,s)=>hn(s,l=>{const d=s2(Ov(o),l),m=Zl(l,d).map(O0).getOr(0);return o.dom.getContentEditable(l.dom)!=="false"&&m>0}))(t,n))},VT=t=>Si(t)||Va(t),$T=t=>ne(nt(t.selection.getSelectedBlocks()),n=>!VT(n)&&!(o=>pl(o).exists(VT))(n)&&os(n,o=>$c(o.dom)||rr(o.dom)).exists(o=>$c(o.dom))),UT=(t,n)=>{var o,s;const{dom:l}=t,d=Oh(t),m=(s=(o=/[a-z%]+$/i.exec(d))===null||o===void 0?void 0:o[0])!==null&&s!==void 0?s:"px",f=O0(d),y=Ov(t);ze($T(t),_=>{((E,T,P,V,B,Z)=>{const z=s2(P,Ue(Z)),W=O0(E.getStyle(Z,z));if(T==="outdent"){const te=Math.max(0,W-V);E.setStyle(Z,z,te?te+B:"")}else{const te=W+V+B;E.setStyle(Z,z,te)}})(l,n,y,f,m,_.dom)})},jT=t=>UT(t,"outdent"),ZT=t=>{if(t.selection.isCollapsed()&&i2(t)){const n=t.dom,o=t.selection.getRng(),s=St.fromRangeStart(o),l=n.getParent(o.startContainer,n.isBlock);if(l!==null&&a4(Ue(l),s))return Q.some(()=>jT(t))}return Q.none()},WT=(t,n,o)=>Rr([ZT,r_,fg,(s,l)=>a3(s,n,l),$S,dx,a_,u3,US,l3],s=>s(t,o)).filter(s=>t.selection.isEditable()),bd=(t,n)=>{t.addCommand("delete",()=>{((o,s)=>{WT(o,s,!1).fold(()=>{nx(o),gy(o)},In)})(t,n)}),t.addCommand("forwardDelete",()=>{((o,s)=>{WT(o,s,!0).fold(()=>(l=>w4(l,"ForwardDelete"))(o),In)})(t,n)})},w_=t=>t.touches===void 0||t.touches.length!==1?Q.none():Q.some(t.touches[0]),x_=(t,n)=>fn(t,n.nodeName),GT=(t,n)=>!!tn(n)||!!vn(n)&&!x_(t.getBlockElements(),n)&&!Le(n)&&!Ku(t,n),qT=(t,n)=>!!(tn(n)&&(n.data.length===0||/^\s+$/.test(n.data)&&(!n.nextSibling||x_(t,n.nextSibling)))),KT=t=>t.dom.create(ll(t),Oi(t)),YT=t=>{const n=t.dom,o=t.selection,s=t.schema,l=s.getBlockElements(),d=o.getStart(),m=t.getBody();let f,y,_=!1;const E=ll(t);if(!d||!vn(d))return;const T=m.nodeName.toLowerCase();if(!s.isValidChild(T,E.toLowerCase())||((se,be,Ce)=>dt(n4(Ue(Ce),Ue(be)),Ie=>x_(se,Ie.dom)))(l,m,d))return;const P=o.getRng(),{startContainer:V,startOffset:B,endContainer:Z,endOffset:z}=P,W=Yh(t);let te=m.firstChild;for(;te;)if(vn(te)&&Vf(s,te),GT(s,te)){if(qT(l,te)){y=te,te=te.nextSibling,n.remove(y);continue}f||(f=KT(t),m.insertBefore(f,te),_=!0),y=te,te=te.nextSibling,f.appendChild(y)}else f=null,te=te.nextSibling;_&&W&&(P.setStart(V,B),P.setEnd(Z,z),o.setRng(P),t.nodeChanged())},XT=(t,n,o)=>{const s=Ue(KT(t)),l=du();lr(s,l),o(n,s);const d=document.createRange();return d.setStartBefore(l.dom),d.setEndBefore(l.dom),d},p1=t=>n=>(" "+n.attr("class")+" ").indexOf(t)!==-1,JT=(t,n,o)=>function(s){const l=arguments,d=l[l.length-2],m=d>0?n.charAt(d-1):"";if(m==='"')return s;if(m===">"){const f=n.lastIndexOf("<",d);if(f!==-1&&n.substring(f,d).indexOf('contenteditable="false"')!==-1)return s}return'<span class="'+o+'" data-mce-content="'+t.dom.encode(l[0])+'">'+t.dom.encode(typeof l[1]=="string"?l[1]:l[0])+"</span>"},d3=(t,n)=>{n.hasAttribute("data-mce-caret")&&(mu(n),t.selection.setRng(t.selection.getRng()),t.selection.scrollIntoView(n))},QT=(t,n)=>{const o=(s=>xs(Ue(s.getBody()),"*[data-mce-caret]").map(l=>l.dom).getOrNull())(t);if(o)return n.type==="compositionstart"?(n.preventDefault(),n.stopPropagation(),void d3(t,o)):void(Ug(o)&&(d3(t,o),t.undoManager.add()))},__=rr,e8=(t,n,o)=>{const s=bu(t.getBody()),l=it(Kd,n===1?s.next:s.prev);if(o.collapsed){const d=t.dom.getParent(o.startContainer,"PRE");if(!d)return;if(!l(St.fromRangeStart(o))){const m=Ue((f=>{const y=f.dom.create(ll(f));return y.innerHTML='<br data-mce-bogus="1">',y})(t));n===1?hl(Ue(d),m):Vi(Ue(d),m),t.selection.select(m.dom,!0),t.selection.collapse()}}},t8=(t,n)=>((o,s)=>{const l=s?ms.Forwards:ms.Backwards,d=o.selection.getRng();return((m,f,y)=>Su(f,m,y,Jd,ig,__))(l,o,d).orThunk(()=>(e8(o,l,d),Q.none()))})(t,((o,s)=>{const l=s?o.getEnd(!0):o.getStart(!0);return n0(l)?!s:s})(t.selection,n)).exists(o=>(im(t,o),!0)),bg=(t,n)=>((o,s)=>{const l=s?1:-1,d=o.selection.getRng();return((m,f,y)=>t2(f,m,y,_=>Jd(_)||tr(_),_=>ig(_)||t4(_),__))(l,o,d).orThunk(()=>(e8(o,l,d),Q.none()))})(t,n).exists(o=>(im(t,o),!0)),C_=(t,n)=>n2(t,n,n?ig:Jd),k_=(t,n)=>pd(t,!n).map(o=>{const s=o.toRange(),l=t.selection.getRng();return n?s.setStart(l.startContainer,l.startOffset):s.setEnd(l.endContainer,l.endOffset),s}).exists(o=>(im(t,o),!0)),n8=t=>Ht(["figcaption"],Jr(t)),o8=(t,n)=>{const o=Ue(t.getBody()),s=St.fromRangeStart(t.selection.getRng());return((l,d)=>{const m=it(Ur,d);return os(Ue(l.container()),rs,m).filter(n8)})(s,o).exists(()=>{if(((l,d,m)=>d?((f,y)=>S0(f,y).breakAt.isNone())(l.dom,m):((f,y)=>k0(f,y).breakAt.isNone())(l.dom,m))(o,n,s)){const l=XT(t,o,n?lr:ju);return t.selection.setRng(l),!0}return!1})},r8=(t,n)=>!!t.selection.isCollapsed()&&o8(t,n),a8={shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0},h1=(t,n)=>n.keyCode===t.keyCode&&n.shiftKey===t.shiftKey&&n.altKey===t.altKey&&n.ctrlKey===t.ctrlKey&&n.metaKey===t.metaKey,Yo=(t,...n)=>()=>t.apply(null,n),l2=(t,n)=>Ct(((o,s)=>En((l=>Et(l,d=>({...a8,...d})))(o),l=>h1(l,s)?[l]:[]))(t,n),o=>o.action()),s8=(t,n)=>Rr(((o,s)=>En((l=>Et(l,d=>({...a8,...d})))(o),l=>h1(l,s)?[l]:[]))(t,n),o=>o.action()),gf=(t,n)=>{const o=n?ms.Forwards:ms.Backwards,s=t.selection.getRng();return Su(t,o,s,Qv,dy,$i).exists(l=>(im(t,l),!0))},S_=(t,n)=>{const o=n?1:-1,s=t.selection.getRng();return t2(t,o,s,Qv,dy,$i).exists(l=>(im(t,l),!0))},E_=(t,n)=>n2(t,n,n?dy:Qv),m3=ss([{none:["current"]},{first:["current"]},{middle:["current","target"]},{last:["current"]}]),T0={...m3,none:t=>m3.none(t)},f3=(t,n,o)=>En(fa(t),s=>tl(s,n)?o(s)?[s]:[]:f3(s,n,o)),i8=(t,n)=>Ya(t,"table",n),v1=(t,n,o,s,l=Sn)=>{const d=s===1;if(!d&&o<=0)return T0.first(t[0]);if(d&&o>=t.length-1)return T0.last(t[t.length-1]);{const m=o+s,f=t[m];return l(f)?T0.middle(n,f):v1(t,n,m,s,l)}},g3=(t,n)=>i8(t,n).bind(o=>{const s=f3(o,"th,td",Sn);return rn(s,l=>Ur(t,l)).map(l=>({index:l,all:s}))}),Dp=(t,n,o,s,l)=>{const d=Jn(Ue(o),"td,th,caption").map(f=>f.dom),m=ne(((f,y)=>En(y,_=>{const E=((T,P)=>({left:T.left-P,top:T.top-P,right:T.right+-2,bottom:T.bottom+-2,width:T.width+P,height:T.height+P}))(Vm(_.getBoundingClientRect()),-1);return[{x:E.left,y:f(E),cell:_},{x:E.right,y:f(E),cell:_}]}))(t,d),f=>n(f,l));return((f,y,_)=>Ve(f,(E,T)=>E.fold(()=>Q.some(T),P=>{const V=Math.sqrt(Math.abs(P.x-y)+Math.abs(P.y-_)),B=Math.sqrt(Math.abs(T.x-y)+Math.abs(T.y-_));return Q.some(B<V?T:P)}),Q.none()))(m,s,l).map(f=>f.cell)},l8=it(Dp,t=>t.bottom,(t,n)=>t.y<n),p3=it(Dp,t=>t.top,(t,n)=>t.y>n),h3=(t,n,o)=>{const s=t(n,o);return(l=>l.breakType===ku.Wrap&&l.positions.length===0)(s)||!kt(o.getNode())&&(l=>l.breakType===ku.Br&&l.positions.length===1)(s)?!((l,d,m)=>m.breakAt.exists(f=>l(d,f).breakAt.isSome()))(t,n,s):s.breakAt.isNone()},v3=it(h3,k0),Ip=it(h3,S0),c8=(t,n,o,s)=>{const l=t.selection.getRng(),d=n?1:-1;return!(!mp()||!((m,f,y)=>{const _=St.fromRangeStart(f);return is(!m,y).exists(E=>E.isEqual(_))})(n,l,o)||(Cu(d,t,o,!n,!1).each(m=>{im(t,m)}),0))},ou=(t,n,o)=>{const s=((d,m)=>{const f=m.getNode(d);return na(f)?Q.some(f):Q.none()})(!!n,o),l=n===!1;s.fold(()=>im(t,o.toRange()),d=>is(l,t.getBody()).filter(m=>m.isEqual(o)).fold(()=>im(t,o.toRange()),m=>((f,y,_)=>{y.undoManager.transact(()=>{const E=f?hl:Vi,T=XT(y,Ue(_),E);im(y,T)})})(n,t,d)))},b1=(t,n,o,s)=>{const l=t.selection.getRng(),d=St.fromRangeStart(l),m=t.getBody();if(!n&&v3(s,d)){const f=((y,_,E)=>((T,P)=>Xn(P.getClientRects()).bind(V=>l8(T,V.left,V.top)).bind(V=>{return hg(xl(B=V).map(Z=>k0(B,Z).positions.concat(Z)).getOr([]),P);var B}))(_,E).orThunk(()=>Xn(E.getClientRects()).bind(T=>f_(YS(y,St.before(_)),T.left))).getOr(St.before(_)))(m,o,d);return ou(t,n,f),!0}if(n&&Ip(s,d)){const f=((y,_,E)=>((T,P)=>so(P.getClientRects()).bind(V=>p3(T,V.left,V.top)).bind(V=>{return hg(Gi(B=V).map(Z=>[Z].concat(S0(B,Z).positions)).getOr([]),P);var B}))(_,E).orThunk(()=>Xn(E.getClientRects()).bind(T=>f_(e2(y,St.after(_)),T.left))).getOr(St.after(_)))(m,o,d);return ou(t,n,f),!0}return!1},O_=(t,n,o)=>Q.from(t.dom.getParent(t.selection.getNode(),"td,th")).bind(s=>Q.from(t.dom.getParent(s,"table")).map(l=>o(t,n,l,s))).getOr(!1),b3=(t,n)=>O_(t,n,c8),u8=(t,n)=>O_(t,n,b1),y3=(t,n,o)=>o.fold(Q.none,Q.none,(s,l)=>{return(d=l,((m,f)=>{const y=_=>{for(let E=0;E<_.childNodes.length;E++){const T=Ue(_.childNodes[E]);if(f(T))return Q.some(T);const P=y(_.childNodes[E]);if(P.isSome())return P}return Q.none()};return y(m.dom)})(d,iO)).map(m=>(f=>{const y=Kh.exact(f,0,f,0);return kN(y)})(m));var d},s=>(t.execCommand("mceTableInsertRowAfter"),y1(t,n,s))),y1=(t,n,o)=>{return y3(t,n,(l=El,g3(s=o,void 0).fold(()=>T0.none(s),d=>v1(d.all,s,d.index,1,l))));var s,l},w3=(t,n,o)=>{return y3(t,n,(l=El,g3(s=o,void 0).fold(()=>T0.none(),d=>v1(d.all,s,d.index,-1,l))));var s,l},x3=(t,n)=>{const o=["table","li","dl"],s=Ue(t.getBody()),l=m=>{const f=Jr(m);return Ur(m,s)||Ht(o,f)},d=t.selection.getRng();return((m,f)=>((y,_,E=pn)=>E(_)?Q.none():Ht(y,Jr(_))?Q.some(_):Ul(_,y.join(","),T=>tl(T,"table")||E(T)))(["td","th"],m,f))(Ue(n?d.endContainer:d.startContainer),l).map(m=>(i8(m,l).each(f=>{t.model.table.clearSelectedCells(f.dom)}),t.selection.collapse(!n),(n?y1:w3)(t,l,m).each(f=>{t.selection.setRng(f)}),!0)).getOr(!1)},yd=(t,n)=>({container:t,offset:n}),A0=la.DOM,T_=t=>n=>t===n?-1:0,_3=(t,n,o)=>{if(tn(t)&&n>=0)return Q.some(yd(t,n));{const s=Fd(A0);return Q.from(s.backwards(t,n,T_(t),o)).map(l=>yd(l.container,l.container.data.length))}},A_=(t,n,o)=>{if(!tn(t))return Q.none();const s=t.data;if(n>=0&&n<=s.length)return Q.some(yd(t,n));{const l=Fd(A0);return Q.from(l.backwards(t,n,T_(t),o)).bind(d=>{const m=d.container.data;return A_(d.container,n+m.length,o)})}},d8=(t,n,o)=>{if(!tn(t))return Q.none();const s=t.data;if(n<=s.length)return Q.some(yd(t,n));{const l=Fd(A0);return Q.from(l.forwards(t,n,T_(t),o)).bind(d=>d8(d.container,n-s.length,o))}},tc=(t,n,o,s,l)=>{const d=Fd(t,(m=>f=>m.isBlock(f)||Ht(["BR","IMG","HR","INPUT"],f.nodeName)||m.getContentEditable(f)==="false")(t));return Q.from(d.backwards(n,o,s,l))},N_=t=>Gu(t.toString().replace(/\u00A0/g," ")),C3=t=>t!==""&&` \xA0\f
\r	\v`.indexOf(t)!==-1,c2=(t,n)=>t.substring(n.length),k3=(t,n,o,s=0)=>{return(l=Ue(n.startContainer),Ya(l,lO)).fold(()=>((d,m,f,y=0)=>{if(!(_=m).collapsed||!tn(_.startContainer))return Q.none();var _;const E={text:"",offset:0},T=d.getParent(m.startContainer,d.isBlock)||d.getRoot();return tc(d,m.startContainer,m.startOffset,(P,V,B)=>(E.text=B+E.text,E.offset+=V,((Z,z,W)=>{let te;const se=W.charAt(0);for(te=z-1;te>=0;te--){const be=Z.charAt(te);if(C3(be))return Q.none();if(se===be&&Cn(Z,W,te,z))break}return Q.some(te)})(E.text,E.offset,f).getOr(V)),T).bind(P=>{const V=m.cloneRange();if(V.setStart(P.container,P.offset),V.setEnd(m.endContainer,m.endOffset),V.collapsed)return Q.none();const B=N_(V);return B.lastIndexOf(f)!==0||c2(B,f).length<y?Q.none():Q.some({text:c2(B,f),range:V,trigger:f})})})(t,n,o,s),d=>{const m=t.createRng();m.selectNode(d.dom);const f=N_(m);return Q.some({range:m,text:c2(f,o),trigger:o})});var l},N0=t=>{if((n=>n.nodeType===3)(t))return yd(t,t.data.length);{const n=t.childNodes;return n.length>0?N0(n[n.length-1]):yd(t,n.length)}},pf=(t,n)=>{const o=t.childNodes;return o.length>0&&n<o.length?pf(o[n],0):o.length>0&&(s=>s.nodeType===1)(t)&&o.length===n?N0(o[o.length-1]):yd(t,n)},Pp=(t,n,o,s={})=>{var l;const d=n(),m=(l=t.selection.getRng().startContainer.nodeValue)!==null&&l!==void 0?l:"",f=ne(d.lookupByTrigger(o.trigger),_=>o.text.length>=_.minChars&&_.matches.getOrThunk(()=>(E=>T=>{const P=pf(T.startContainer,T.startOffset);return!((V,B)=>{var Z;const z=(Z=V.getParent(B.container,V.isBlock))!==null&&Z!==void 0?Z:V.getRoot();return tc(V,B.container,B.offset,(W,te)=>te===0?-1:te,z).filter(W=>{const te=W.container.data.charAt(W.offset-1);return!C3(te)}).isSome()})(E,P)})(t.dom))(o.range,m,o.text));if(f.length===0)return Q.none();const y=Promise.all(Et(f,_=>_.fetch(o.text,_.maxResults,s).then(E=>({matchText:o.text,items:E,columns:_.columns,onAction:_.onAction,highlightOn:_.highlightOn}))));return Q.some({lookupData:y,context:o})};var Eu;(function(t){t[t.Error=0]="Error",t[t.Value=1]="Value"})(Eu||(Eu={}));const u2=(t,n,o)=>t.stype===Eu.Error?n(t.serror):o(t.svalue),Lp=t=>({stype:Eu.Value,svalue:t}),M0=t=>({stype:Eu.Error,serror:t}),wM=u2,M_=t=>ue(t)&&ur(t).length>100?" removed due to size":JSON.stringify(t,null,2),d2=(t,n)=>M0([{path:t,getErrorInfo:n}]),m8=(t,n)=>({extract:(o,s)=>Zt(s,t).fold(()=>((l,d)=>d2(l,()=>'Choice schema did not contain choice key: "'+d+'"'))(o,t),l=>((d,m,f,y)=>Zt(f,y).fold(()=>((_,E,T)=>d2(_,()=>'The chosen schema: "'+T+'" did not exist in branches: '+M_(E)))(d,f,y),_=>_.extract(d.concat(["branch: "+y]),m)))(o,s,n,l)),toString:()=>"chooseOn("+t+"). Possible values: "+ur(n)}),f8=t=>(...n)=>{if(n.length===0)throw new Error("Can't merge zero objects");const o={};for(let s=0;s<n.length;s++){const l=n[s];for(const d in l)fn(l,d)&&(o[d]=t(o[d],l[d]))}return o},S3=f8((t,n)=>ke(t)&&ke(n)?S3(t,n):n),g8=t=>({tag:"defaultedThunk",process:Ke(t)}),xM=t=>{const n=(s=>{const l=[],d=[];return ze(s,m=>{u2(m,f=>d.push(f),f=>l.push(f))}),{values:l,errors:d}})(t);return n.errors.length>0?(o=n.errors,qn(M0,Un)(o)):Lp(n.values);var o},nc=(t,n,o)=>{switch(t.tag){case"field":return n(t.key,t.newKey,t.presence,t.prop);case"custom":return o(t.newKey,t.instantiator)}},R_=t=>({extract:(n,o)=>{return s=t(o),l=d=>((m,f)=>d2(m,Ke(f)))(n,d),s.stype===Eu.Error?l(s.serror):s;var s,l},toString:Ke("val")}),m2=R_(Lp),p8=(t,n,o,s)=>s(Zt(t,n).getOrThunk(()=>o(t))),h8=(t,n,o,s,l)=>{const d=f=>l.extract(n.concat([s]),f),m=f=>f.fold(()=>Lp(Q.none()),y=>{return E=l.extract(n.concat([s]),y),T=Q.some,E.stype===Eu.Value?{stype:Eu.Value,svalue:T(E.svalue)}:E;var E,T});switch(t.tag){case"required":return((f,y,_,E)=>Zt(y,_).fold(()=>((T,P,V)=>d2(T,()=>'Could not find valid *required* value for "'+P+'" in '+M_(V)))(f,_,y),E))(n,o,s,d);case"defaultedThunk":return p8(o,s,t.process,d);case"option":return((f,y,_)=>_(Zt(f,y)))(o,s,m);case"defaultedOptionThunk":return((f,y,_,E)=>E(Zt(f,y).map(T=>T===!0?_(f):T)))(o,s,t.process,m);case"mergeWithThunk":return p8(o,s,Ke({}),f=>{const y=S3(t.process(o),f);return d(y)})}},D_=t=>({extract:(n,o)=>((s,l,d)=>{const m={},f=[];for(const y of d)nc(y,(_,E,T,P)=>{const V=h8(T,s,l,_,P);wM(V,B=>{f.push(...B)},B=>{m[E]=B})},(_,E)=>{m[_]=E(l)});return f.length>0?M0(f):Lp(m)})(n,o,t),toString:()=>{const n=Et(t,o=>nc(o,(s,l,d,m)=>s+" -> "+m.toString(),(s,l)=>"state("+s+")"));return`obj{
`+n.join(`
`)+"}"}}),I_=t=>({extract:(n,o)=>{const s=Et(o,(l,d)=>t.extract(n.concat(["["+d+"]"]),l));return xM(s)},toString:()=>"array("+t.toString()+")"}),v8=(t,n,o)=>{return s=((l,d,m)=>((f,y)=>f.stype===Eu.Error?{stype:Eu.Error,serror:y(f.serror)}:f)(d.extract([l],m),f=>({input:m,errors:f})))(t,n,o),u2(s,Oa.error,Oa.value);var s},b8=(t,n)=>m8(t,rt(n,D_)),_M=Ke(m2),P_=(t,n)=>R_(o=>{const s=typeof o;return t(o)?Lp(o):M0(`Expected type: ${n} but got: ${s}`)}),E3=P_(ye,"number"),L_=P_(le,"string"),CM=P_(J,"boolean"),f2=P_(Ae,"function"),R0=(t,n,o,s)=>({tag:"field",key:t,newKey:n,presence:o,prop:s}),y8=(t,n)=>({tag:"custom",newKey:t,instantiator:n}),w8=(t,n)=>R0(t,t,{tag:"required",process:{}},n),B_=t=>w8(t,L_),g2=t=>w8(t,f2),F_=(t,n)=>R0(t,t,{tag:"option",process:{}},n),p2=t=>F_(t,L_),Bp=(t,n,o)=>R0(t,t,g8(n),o),x8=(t,n)=>Bp(t,n,E3),_8=(t,n,o)=>Bp(t,n,(s=>{return l=d=>Ht(s,d)?Oa.value(d):Oa.error(`Unsupported value: "${d}", choose one of "${s.join(", ")}".`),R_(d=>l(d).fold(M0,Lp));var l})(o)),O3=(t,n)=>Bp(t,n,CM),yg=(t,n)=>Bp(t,n,f2),kM=B_("type"),H_=g2("fetch"),T3=g2("onAction"),A3=yg("onSetup",()=>Ft),C8=p2("text"),k8=p2("icon"),S8=p2("tooltip"),z_=p2("label"),SM=O3("active",!1),EM=O3("enabled",!0),V_=O3("primary",!1),D0=t=>((n,o)=>Bp("type",o,L_))(0,t),OM=D_([kM,B_("trigger"),x8("minChars",1),((t,n)=>R0(t,t,g8(1),_M()))("columns"),x8("maxResults",10),F_("matches",f2),H_,T3,(E8=L_,Bp("highlightOn",[],I_(E8)))]);var E8;const N3=[EM,S8,k8,C8,A3],O8=[SM].concat(N3),M3=[yg("predicate",pn),_8("scope","node",["node","editor"]),_8("position","selection",["node","selection","line"])],T8=N3.concat([D0("contextformbutton"),V_,T3,y8("original",nn)]),TM=O8.concat([D0("contextformbutton"),V_,T3,y8("original",nn)]),AM=N3.concat([D0("contextformbutton")]),qs=O8.concat([D0("contextformtogglebutton")]),NM=b8("type",{contextformbutton:T8,contextformtogglebutton:TM});D_([D0("contextform"),yg("initValue",Ke("")),z_,((t,n)=>R0(t,t,{tag:"required",process:{}},I_(n)))("commands",NM),F_("launch",b8("type",{contextformbutton:AM,contextformtogglebutton:qs}))].concat(M3));const MM=t=>{const n=t.ui.registry.getAll().popups,o=rt(n,d=>{return(m=d,v8("Autocompleter",OM,{trigger:m.ch,...m})).fold(f=>{throw new Error(`Errors: 
`+(_=>{const E=_.length>10?_.slice(0,10).concat([{path:[],getErrorInfo:Ke("... (only showing first ten failures)")}]):_;return Et(E,T=>"Failed path: ("+T.path.join(" > ")+`)
`+T.getErrorInfo())})((y=f).errors).join(`
`)+`

Input object: `+M_(y.input));var y},nn);var m}),s=$n(io(o,d=>d.trigger)),l=Dt(o);return{dataset:o,triggers:s,lookupByTrigger:d=>ne(l,m=>m.trigger===d)}},A8=t=>{const n=_a(),o=_s(!1),s=n.isSet,l=()=>{s()&&((f=>{Os(f).autocompleter.removeDecoration()})(t),(f=>{f.dispatch("AutocompleterEnd")})(t),o.set(!1),n.clear())},d=Bi(()=>MM(t)),m=f=>{(y=>n.get().map(_=>k3(t.dom,t.selection.getRng(),_.trigger).bind(E=>Pp(t,d,E,y))).getOrThunk(()=>((_,E)=>{const T=E(),P=_.selection.getRng();return((V,B,Z)=>Rr(Z.triggers,z=>k3(V,B,z)))(_.dom,P,T).bind(V=>Pp(_,E,V))})(t,d)))(f).fold(l,y=>{(_=>{s()||(((E,T)=>{Os(E).autocompleter.addDecoration(T)})(t,_.range),n.set({trigger:_.trigger,matchLength:_.text.length}))})(y.context),y.lookupData.then(_=>{n.get().map(E=>{const T=y.context;E.trigger===T.trigger&&(T.text.length-E.matchLength>=10?l():(n.set({...E,matchLength:T.text.length}),o.get()?((P,V)=>{P.dispatch("AutocompleterUpdate",V)})(t,{lookupData:_}):(o.set(!0),((P,V)=>{P.dispatch("AutocompleterStart",V)})(t,{lookupData:_}))))})})})};t.addCommand("mceAutocompleterReload",(f,y)=>{const _=ue(y)?y.fetchOptions:{};m(_)}),t.addCommand("mceAutocompleterClose",l),((f,y)=>{const _=Ei(y.load,50);f.on("keypress compositionend",E=>{E.which!==27&&_.throttle()}),f.on("keydown",E=>{const T=E.which;T===8?_.throttle():T===27&&y.cancelIfNecessary()}),f.on("remove",_.cancel)})(t,{cancelIfNecessary:l,load:m})},$_=t=>(n,o,s={})=>{const l=n.getBody(),d={bubbles:!0,composed:!0,data:null,isComposing:!1,detail:0,view:null,target:l,currentTarget:l,eventPhase:Event.AT_TARGET,originalTarget:l,explicitOriginalTarget:l,isTrusted:!1,srcElement:l,cancelable:!1,preventDefault:Ft,inputType:o},m=ov(new InputEvent(t));return n.dispatch(t,{...m,...d,...s})},h2=$_("input"),lm=$_("beforeinput"),Fp=(t,n)=>{const o=t.dom,s=t.schema.getMoveCaretBeforeOnEnterElements();if(!n)return;if(/^(LI|DT|DD)$/.test(n.nodeName)){const d=(m=>{for(;m;){if(vn(m)||tn(m)&&m.data&&/[\r\n\s]/.test(m.data))return m;m=m.nextSibling}return null})(n.firstChild);d&&/^(UL|OL|DL)$/.test(d.nodeName)&&n.insertBefore(o.doc.createTextNode(ds),n.firstChild)}const l=o.createRng();if(n.normalize(),n.hasChildNodes()){const d=new qo(n,n);let m,f=n;for(;m=d.current();){if(tn(m)){l.setStart(m,0),l.setEnd(m,0);break}if(s[m.nodeName.toLowerCase()]){l.setStartBefore(m),l.setEndBefore(m);break}f=m,m=d.next()}m||(l.setStart(f,0),l.setEnd(f,0))}else kt(n)?n.nextSibling&&o.isBlock(n.nextSibling)?(l.setStartBefore(n),l.setEndBefore(n)):(l.setStartAfter(n),l.setEndAfter(n)):(l.setStart(n,0),l.setEnd(n,0));t.selection.setRng(l),wp(t,l)},v2=(t,n)=>{const o=t.getRoot();let s,l=n;for(;l!==o&&l&&t.getContentEditable(l)!=="false";)t.getContentEditable(l)==="true"&&(s=l),l=l.parentNode;return l!==o?s:o},b2=t=>Q.from(t.dom.getParent(t.selection.getStart(!0),t.dom.isBlock)),U_=(t,n)=>{const o=t==null?void 0:t.parentNode;return G(o)&&o.nodeName===n},j_=t=>G(t)&&/^(OL|UL|LI)$/.test(t.nodeName),y2=t=>{const n=t.parentNode;return G(o=n)&&/^(LI|DT|DD)$/.test(o.nodeName)?n:t;var o},w1=(t,n,o)=>{let s=t[o?"firstChild":"lastChild"];for(;s&&!vn(s);)s=s[o?"nextSibling":"previousSibling"];return s===n},Z_=(t,n)=>n&&n.nodeName==="A"&&t.isEmpty(n),x1=t=>{t.innerHTML='<br data-mce-bogus="1">'},_1=(t,n)=>t.nodeName===n||t.previousSibling&&t.previousSibling.nodeName===n,wd=(t,n)=>G(n)&&t.isBlock(n)&&!/^(TD|TH|CAPTION|FORM)$/.test(n.nodeName)&&!/^(fixed|absolute)/i.test(n.style.position)&&t.isEditable(n.parentNode)&&t.getContentEditable(n)!=="false",C1=(t,n,o)=>tn(n)?t?o===1&&n.data.charAt(o-1)===Vs?0:o:o===n.data.length-1&&n.data.charAt(o)===Vs?n.data.length:o:o,I0=(t,n)=>{ll(t).toLowerCase()===n.tagName.toLowerCase()&&((o,s,l)=>{const d=o.dom;Q.from(l.style).map(d.parseStyle).each(E=>{const T={...cu(Ue(s)),...E};d.setStyles(s,T)});const m=Q.from(l.class).map(E=>E.split(/\s+/)),f=Q.from(s.className).map(E=>ne(E.split(/\s+/),T=>T!==""));Ka(m,f,(E,T)=>{const P=ne(T,B=>!Ht(E,B)),V=[...E,...P];d.setAttrib(s,"class",V.join(" "))});const y=["style","class"],_=ho(l,(E,T)=>!Ht(y,T));d.setAttribs(s,_)})(t,n,Oi(t))},R3={insert:(t,n)=>{let o,s,l,d,m=!1;const f=t.dom,y=t.schema,_=y.getNonEmptyElements(),E=t.selection.getRng(),T=ll(t),P=E.collapsed&&E.startContainer===t.dom.getRoot(),V=Ue(E.startContainer),B=$u(V,E.startOffset),Z=B.exists(qe=>dc(qe)&&!El(qe)),z=P&&Z,W=qe=>{let tt=o;const Xe=y.getTextInlineElements();let ft;ft=qe||l==="TABLE"||l==="HR"?f.create(qe||T):je.cloneNode(!1);let Tn=ft;if(np(t)===!1)f.setAttrib(ft,"style",null),f.setAttrib(ft,"class",null);else do if(Xe[tt.nodeName]){if(Oc(tt)||Le(tt))continue;const on=tt.cloneNode(!1);f.setAttrib(on,"id",""),ft.hasChildNodes()?(on.appendChild(ft.firstChild),ft.appendChild(on)):(Tn=on,ft.appendChild(on))}while((tt=tt.parentNode)&&tt!==Ie);return I0(t,ft),x1(Tn),ft},te=qe=>{const tt=C1(qe,o,s);if(tn(o)&&(qe?tt>0:tt<o.data.length))return!1;if(o.parentNode===je&&m&&!qe||qe&&vn(o)&&o===je.firstChild)return!0;if(_1(o,"TABLE")||_1(o,"HR"))return m&&!qe||!m&&qe;const Xe=new qo(o,je);let ft;for(tn(o)&&(qe&&tt===0?Xe.prev():qe||tt!==o.data.length||Xe.next());ft=Xe.current();){if(vn(ft)){if(!ft.getAttribute("data-mce-bogus")){const Tn=ft.nodeName.toLowerCase();if(_[Tn]&&Tn!=="br")return!1}}else if(tn(ft)&&!Wl(ft.data))return!1;qe?Xe.prev():Xe.next()}return!0},se=()=>{let qe;return qe=/^(H[1-6]|PRE|FIGURE)$/.test(l)&&st!=="HGROUP"?W(T):W(),((tt,Xe)=>{const ft=Qu(tt);return!De(Xe)&&(le(ft)?Ht(an.explode(ft),Xe.nodeName.toLowerCase()):ft)})(t,d)&&wd(f,d)&&f.isEmpty(je,void 0,{includeZwsp:!0})?qe=f.split(d,je):f.insertAfter(qe,je),Fp(t,qe),qe};sy(f,E).each(qe=>{E.setStart(qe.startContainer,qe.startOffset),E.setEnd(qe.endContainer,qe.endOffset)}),o=E.startContainer,s=E.startOffset;const be=!(!n||!n.shiftKey),Ce=!(!n||!n.ctrlKey);vn(o)&&o.hasChildNodes()&&!z&&(m=s>o.childNodes.length-1,o=o.childNodes[Math.min(s,o.childNodes.length-1)]||o,s=m&&tn(o)?o.data.length:0);const Ie=v2(f,o);if(!Ie||((qe,tt)=>{const Xe=qe.dom.getParent(tt,"ol,ul,dl");return Xe!==null&&qe.dom.getContentEditableParent(Xe)==="false"})(t,o))return;be||(o=((qe,tt,Xe,ft,Tn)=>{var on,lo;const Nn=qe.dom,Ho=(on=v2(Nn,ft))!==null&&on!==void 0?on:Nn.getRoot();let zo=Nn.getParent(ft,Nn.isBlock);if(!zo||!wd(Nn,zo)){if(zo=zo||Ho,!zo.hasChildNodes()){const Ge=Nn.create(tt);return I0(qe,Ge),zo.appendChild(Ge),Xe.setStart(Ge,0),Xe.setEnd(Ge,0),Ge}let Fn,ro=ft;for(;ro&&ro.parentNode!==zo;)ro=ro.parentNode;for(;ro&&!Nn.isBlock(ro);)Fn=ro,ro=ro.previousSibling;const Ao=(lo=Fn==null?void 0:Fn.parentElement)===null||lo===void 0?void 0:lo.nodeName;if(Fn&&Ao&&qe.schema.isValidChild(Ao,tt.toLowerCase())){const Ge=Fn.parentNode,Qe=Nn.create(tt);for(I0(qe,Qe),Ge.insertBefore(Qe,Fn),ro=Fn;ro&&!Nn.isBlock(ro);){const At=ro.nextSibling;Qe.appendChild(ro),ro=At}Xe.setStart(ft,Tn),Xe.setEnd(ft,Tn)}}return ft})(t,T,E,o,s));let je=f.getParent(o,f.isBlock)||f.getRoot();d=G(je==null?void 0:je.parentNode)?f.getParent(je.parentNode,f.isBlock):null,l=je?je.nodeName.toUpperCase():"";const st=d?d.nodeName.toUpperCase():"";if(st!=="LI"||Ce||(je=d,d=d.parentNode,l=st),vn(d)&&((qe,tt,Xe)=>!tt&&Xe.nodeName.toLowerCase()===ll(qe)&&qe.dom.isEmpty(Xe)&&((ft,Tn,on)=>{let lo=Tn;for(;lo&&lo!==ft&&me(lo.nextSibling);){const Ho=lo.parentElement;if(!Ho||(Nn=Ho,!fn(qe.schema.getTextBlockElements(),Nn.nodeName.toLowerCase())))return ki(Ho);lo=Ho}var Nn;return!1})(qe.getBody(),Xe))(t,be,je))return((qe,tt,Xe)=>{var ft,Tn,on;const lo=tt(ll(qe)),Nn=((Ho,zo)=>Ho.dom.getParent(zo,ki))(qe,Xe);Nn&&(qe.dom.insertAfter(lo,Nn),Fp(qe,lo),((on=(Tn=(ft=Xe.parentElement)===null||ft===void 0?void 0:ft.childNodes)===null||Tn===void 0?void 0:Tn.length)!==null&&on!==void 0?on:0)>1&&qe.dom.remove(Xe))})(t,W,je);if(/^(LI|DT|DD)$/.test(l)&&vn(d)&&f.isEmpty(je))return void((qe,tt,Xe,ft,Tn)=>{const on=qe.dom,lo=qe.selection.getRng(),Nn=Xe.parentNode;if(Xe===qe.getBody()||!Nn)return;var Ho;j_(Ho=Xe)&&j_(Ho.parentNode)&&(Tn="LI");let zo=tt(Tn);if(w1(Xe,ft,!0)&&w1(Xe,ft,!1))if(U_(Xe,"LI")){const Fn=y2(Xe);on.insertAfter(zo,Fn),(ro=>{var Ao;return((Ao=ro.parentNode)===null||Ao===void 0?void 0:Ao.firstChild)===ro})(Xe)?on.remove(Fn):on.remove(Xe)}else on.replace(zo,Xe);else if(w1(Xe,ft,!0))U_(Xe,"LI")?(on.insertAfter(zo,y2(Xe)),zo.appendChild(on.doc.createTextNode(" ")),zo.appendChild(Xe)):Nn.insertBefore(zo,Xe),on.remove(ft);else if(w1(Xe,ft,!1))on.insertAfter(zo,y2(Xe)),on.remove(ft);else{Xe=y2(Xe);const Fn=lo.cloneRange();Fn.setStartAfter(ft),Fn.setEndAfter(Xe);const ro=Fn.extractContents();Tn==="LI"&&((Ao,Ge)=>Ao.firstChild&&Ao.firstChild.nodeName==="LI")(ro)?(zo=ro.firstChild,on.insertAfter(ro,Xe)):(on.insertAfter(ro,Xe),on.insertAfter(zo,Xe)),on.remove(ft)}Fp(qe,zo)})(t,W,d,je,T);if(!(z||je!==t.getBody()&&wd(f,je)))return;const Nt=je.parentNode;let bt;if(z)bt=W(T),B.fold(()=>{lr(V,Ue(bt))},qe=>{Vi(qe,Ue(bt))}),t.selection.setCursorLocation(bt,0);else if(Al(je))bt=mu(je),f.isEmpty(je)&&x1(je),I0(t,bt),Fp(t,bt);else if(te(!1))bt=se();else if(te(!0)&&Nt){bt=Nt.insertBefore(W(),je);const qe=Ue(E.startContainer).dom.hasChildNodes()&&E.collapsed;Fp(t,_1(je,"HR")||qe?bt:je)}else{const qe=(Xe=>{const ft=Xe.cloneRange();return ft.setStart(Xe.startContainer,C1(!0,Xe.startContainer,Xe.startOffset)),ft.setEnd(Xe.endContainer,C1(!1,Xe.endContainer,Xe.endOffset)),ft})(E).cloneRange();qe.setEndAfter(je);const tt=qe.extractContents();(Xe=>{ze(Go(Ue(Xe),vr),ft=>{const Tn=ft.dom;Tn.nodeValue=Gu(Tn.data)})})(tt),(Xe=>{let ft=Xe;do tn(ft)&&(ft.data=ft.data.replace(/^[\r\n]+/,"")),ft=ft.firstChild;while(ft)})(tt),bt=tt.firstChild,f.insertAfter(tt,je),((Xe,ft,Tn)=>{var on;const lo=[];if(!Tn)return;let Nn=Tn;for(;Nn=Nn.firstChild;){if(Xe.isBlock(Nn))return;vn(Nn)&&!ft[Nn.nodeName.toLowerCase()]&&lo.push(Nn)}let Ho=lo.length;for(;Ho--;)Nn=lo[Ho],(!Nn.hasChildNodes()||Nn.firstChild===Nn.lastChild&&((on=Nn.firstChild)===null||on===void 0?void 0:on.nodeValue)===""||Z_(Xe,Nn))&&Xe.remove(Nn)})(f,_,bt),((Xe,ft)=>{ft.normalize();const Tn=ft.lastChild;(!Tn||vn(Tn)&&/^(left|right)$/gi.test(Xe.getStyle(Tn,"float",!0)))&&Xe.add(ft,"br")})(f,je),f.isEmpty(je)&&x1(je),bt.normalize(),f.isEmpty(bt)?(f.remove(bt),se()):(I0(t,bt),Fp(t,bt))}f.setAttrib(bt,"id",""),t.dispatch("NewBlock",{newBlock:bt})},fakeEventName:"insertParagraph"},N8=(t,n,o)=>{const s=t.dom.createRng();o?(s.setStartBefore(n),s.setEndBefore(n)):(s.setStartAfter(n),s.setEndAfter(n)),t.selection.setRng(s),wp(t,s)},M8=(t,n)=>{const o=us("br");Vi(Ue(n),o),t.undoManager.add()},RM=(t,n)=>{DM(t.getBody(),n)||hl(Ue(n),us("br"));const o=us("br");hl(Ue(n),o),N8(t,o.dom,!1),t.undoManager.add()},DM=(t,n)=>{return o=St.after(n),!!kt(o.getNode())||Zs(t,St.after(n)).map(s=>kt(s.getNode())).getOr(!1);var o},D3=t=>t&&t.nodeName==="A"&&"href"in t,IM=t=>t.fold(pn,D3,D3,pn),PM=(t,n)=>{n.fold(Ft,it(M8,t),it(RM,t),Ft)},R8={insert:(t,n)=>{const o=(s=>{const l=it(Qd,s),d=St.fromRangeStart(s.selection.getRng());return df(l,s.getBody(),d).filter(IM)})(t);o.isSome()?o.each(it(PM,t)):((s,l)=>{const d=s.selection,m=s.dom,f=d.getRng();let y,_=!1;sy(m,f).each(z=>{f.setStart(z.startContainer,z.startOffset),f.setEnd(z.endContainer,z.endOffset)});let E=f.startOffset,T=f.startContainer;if(vn(T)&&T.hasChildNodes()){const z=E>T.childNodes.length-1;T=T.childNodes[Math.min(E,T.childNodes.length-1)]||T,E=z&&tn(T)?T.data.length:0}let P=m.getParent(T,m.isBlock);const V=P&&P.parentNode?m.getParent(P.parentNode,m.isBlock):null,B=V?V.nodeName.toUpperCase():"",Z=!(!l||!l.ctrlKey);B!=="LI"||Z||(P=V),tn(T)&&E>=T.data.length&&(((z,W,te)=>{const se=new qo(W,te);let be;const Ce=z.getNonEmptyElements();for(;be=se.next();)if(Ce[be.nodeName.toLowerCase()]||tn(be)&&be.length>0)return!0;return!1})(s.schema,T,P||m.getRoot())||(y=m.create("br"),f.insertNode(y),f.setStartAfter(y),f.setEndAfter(y),_=!0)),y=m.create("br"),$s(m,f,y),N8(s,y,_),s.undoManager.add()})(t,n)},fakeEventName:"insertLineBreak"},D8=(t,n)=>b2(t).filter(o=>n.length>0&&tl(Ue(o),n)).isSome(),ru=ss([{br:[]},{block:[]},{none:[]}]),LM=(t,n)=>(o=>D8(o,Eh(o)))(t),I8=t=>(n,o)=>(s=>b2(s).filter(l=>Va(Ue(l))).isSome())(n)===t,P8=(t,n)=>(o,s)=>(d=>b2(d).fold(Ke(""),m=>m.nodeName.toUpperCase()))(o)===t.toUpperCase()===n,BM=t=>{const n=v2(t.dom,t.selection.getStart());return De(n)},w2=t=>P8("pre",t),x2=t=>(n,o)=>Rb(n)===t,L8=(t,n)=>(o=>D8(o,wl(o)))(t),_2=(t,n)=>n,B8=t=>{const n=ll(t),o=v2(t.dom,t.selection.getStart());return G(o)&&t.schema.isValidChild(o.nodeName,n)},F8=t=>{const n=t.selection.getRng(),o=n.collapsed&&n.startContainer===t.dom.getRoot(),s=Ue(n.startContainer),l=$u(s,n.startOffset).map(d=>dc(d)&&!El(d));return o&&l.getOr(!0)},au=(t,n)=>(o,s)=>Ve(t,(l,d)=>l&&d(o,s),!0)?Q.some(n):Q.none(),C2=(t,n,o)=>{n.selection.isCollapsed()||(s=>{s.execCommand("delete")})(n),G(o)&&lm(n,t.fakeEventName).isDefaultPrevented()||(t.insert(n,o),G(o)&&h2(n,t.fakeEventName))},H8=(t,n)=>{const o=()=>C2(R8,t,n),s=()=>C2(R3,t,n),l=((d,m)=>GS([au([LM],ru.none()),au([w2(!0),BM],ru.none()),au([P8("summary",!0)],ru.br()),au([w2(!0),x2(!1),_2],ru.br()),au([w2(!0),x2(!1)],ru.block()),au([w2(!0),x2(!0),_2],ru.block()),au([w2(!0),x2(!0)],ru.br()),au([I8(!0),_2],ru.br()),au([I8(!0)],ru.block()),au([L8],ru.br()),au([_2],ru.br()),au([B8],ru.block()),au([F8],ru.block())],[d,!(!m||!m.shiftKey)]).getOr(ru.none()))(t,n);switch(wv(t)){case"linebreak":l.fold(o,o,Ft);break;case"block":l.fold(s,s,Ft);break;case"invert":l.fold(s,o,Ft);break;default:l.fold(o,s,Ft)}},I3=zl(),FM=I3.os.isiOS()&&I3.browser.isSafari(),z8=(t,n)=>{var o;n.isDefaultPrevented()||(n.preventDefault(),(o=t.undoManager).typing&&(o.typing=!1,o.add()),t.undoManager.transact(()=>{H8(t,n)}))},V8=zl(),P3=t=>t.stopImmediatePropagation(),$8=t=>t.keyCode===Yn.PAGE_UP||t.keyCode===Yn.PAGE_DOWN,L3=(t,n,o)=>{o&&!t.get()?n.on("NodeChange",P3,!0):!o&&t.get()&&n.off("NodeChange",P3),t.set(o)},B3=(t,n)=>{const o=n.container(),s=n.offset();return tn(o)?(o.insertData(s,t),Q.some(St(o,s+t.length))):Il(n).map(l=>{const d=Fc(t);return n.isAtEnd()?hl(l,d):Vi(l,d),St(d.dom,t.length)})},U8=it(B3,ds),j8=it(B3," "),Z8=t=>n=>{t.selection.setRng(n.toRange()),t.nodeChanged()},HM=t=>{const n=St.fromRangeStart(t.selection.getRng()),o=Ue(t.getBody());if(t.selection.isCollapsed()){const s=it(Qd,t),l=St.fromRangeStart(t.selection.getRng());return df(s,t.getBody(),l).bind((d=>m=>m.fold(f=>ci(d.dom,St.before(f)),f=>Gi(f),f=>xl(f),f=>Zs(d.dom,St.after(f))))(o)).map(d=>()=>((m,f)=>y=>f4(m,y)?U8(f):j8(f))(o,n)(d).each(Z8(t)))}return Q.none()},zM=t=>{return Kr(_r.browser.isFirefox()&&t.selection.isEditable()&&(n=t.dom,o=t.selection.getRng().startContainer,n.isEditable(n.getParent(o,"summary"))),()=>{const s=Ue(t.getBody());t.selection.isCollapsed()||t.getDoc().execCommand("Delete"),((l,d)=>f4(l,d)?U8(d):j8(d))(s,St.fromRangeStart(t.selection.getRng())).each(Z8(t))});var n,o},W_=t=>Kb(t)?[{keyCode:Yn.TAB,action:Yo(x3,t,!0)},{keyCode:Yn.TAB,shiftKey:!0,action:Yo(x3,t,!1)}]:[],W8=t=>{if(t.addShortcut("Meta+P","","mcePrint"),A8(t),gd(t))return _s(null);{const n=b_(t);return(o=>{o.on("keyup compositionstart",it(QT,o))})(t),((o,s)=>{o.on("keydown",l=>{l.isDefaultPrevented()||((d,m,f)=>{const y=_r.os.isMacOS()||_r.os.isiOS();l2([{keyCode:Yn.RIGHT,action:Yo(t8,d,!0)},{keyCode:Yn.LEFT,action:Yo(t8,d,!1)},{keyCode:Yn.UP,action:Yo(bg,d,!1)},{keyCode:Yn.DOWN,action:Yo(bg,d,!0)},...y?[{keyCode:Yn.UP,action:Yo(k_,d,!1),metaKey:!0,shiftKey:!0},{keyCode:Yn.DOWN,action:Yo(k_,d,!0),metaKey:!0,shiftKey:!0}]:[],{keyCode:Yn.RIGHT,action:Yo(b3,d,!0)},{keyCode:Yn.LEFT,action:Yo(b3,d,!1)},{keyCode:Yn.UP,action:Yo(u8,d,!1)},{keyCode:Yn.DOWN,action:Yo(u8,d,!0)},{keyCode:Yn.RIGHT,action:Yo(gf,d,!0)},{keyCode:Yn.LEFT,action:Yo(gf,d,!1)},{keyCode:Yn.UP,action:Yo(S_,d,!1)},{keyCode:Yn.DOWN,action:Yo(S_,d,!0)},{keyCode:Yn.RIGHT,action:Yo(n3,d,m,!0)},{keyCode:Yn.LEFT,action:Yo(n3,d,m,!1)},{keyCode:Yn.RIGHT,ctrlKey:!y,altKey:y,action:Yo(r3,d,m)},{keyCode:Yn.LEFT,ctrlKey:!y,altKey:y,action:Yo(LT,d,m)},{keyCode:Yn.UP,action:Yo(r8,d,!1)},{keyCode:Yn.DOWN,action:Yo(r8,d,!0)}],f).each(_=>{f.preventDefault()})})(o,s,l)})})(t,n),((o,s)=>{let l=!1;o.on("keydown",d=>{l=d.keyCode===Yn.BACKSPACE,d.isDefaultPrevented()||((m,f,y)=>{const _=y.keyCode===Yn.BACKSPACE?"deleteContentBackward":"deleteContentForward";s8([{keyCode:Yn.BACKSPACE,action:Yo(ZT,m)},{keyCode:Yn.BACKSPACE,action:Yo(r_,m,!1)},{keyCode:Yn.DELETE,action:Yo(r_,m,!0)},{keyCode:Yn.BACKSPACE,action:Yo(fg,m,!1)},{keyCode:Yn.DELETE,action:Yo(fg,m,!0)},{keyCode:Yn.BACKSPACE,action:Yo(a3,m,f,!1)},{keyCode:Yn.DELETE,action:Yo(a3,m,f,!0)},{keyCode:Yn.BACKSPACE,action:Yo(dx,m,!1)},{keyCode:Yn.DELETE,action:Yo(dx,m,!0)},{keyCode:Yn.BACKSPACE,action:Yo(a_,m,!1)},{keyCode:Yn.DELETE,action:Yo(a_,m,!0)},{keyCode:Yn.BACKSPACE,action:Yo(u3,m,!1)},{keyCode:Yn.DELETE,action:Yo(u3,m,!0)},{keyCode:Yn.BACKSPACE,action:Yo(US,m,!1)},{keyCode:Yn.DELETE,action:Yo(US,m,!0)},{keyCode:Yn.BACKSPACE,action:Yo($S,m,!1)},{keyCode:Yn.DELETE,action:Yo($S,m,!0)},{keyCode:Yn.BACKSPACE,action:Yo(l3,m,!1)},{keyCode:Yn.DELETE,action:Yo(l3,m,!0)}],y).filter(E=>m.selection.isEditable()).each(E=>{y.preventDefault(),lm(m,_).isDefaultPrevented()||(E(),h2(m,_))})})(o,s,d)}),o.on("keyup",d=>{d.isDefaultPrevented()||((m,f,y)=>{const _=zl(),E=_.os,T=_.browser,P=E.isMacOS()?[{keyCode:Yn.BACKSPACE,altKey:!0,action:Yo(a2,m)},{keyCode:Yn.DELETE,altKey:!0,action:Yo(a2,m)}]:[{keyCode:Yn.BACKSPACE,ctrlKey:!0,action:Yo(a2,m)},{keyCode:Yn.DELETE,ctrlKey:!0,action:Yo(a2,m)}];E.isMacOS()&&y&&P.push({keyCode:T.isFirefox()?224:91,action:Yo(a2,m)}),l2([{keyCode:Yn.BACKSPACE,action:Yo(ST,m)},{keyCode:Yn.DELETE,action:Yo(ST,m)},...P],f)})(o,d,l),l=!1})})(t,n),(o=>{let s=Q.none();o.on("keydown",l=>{l.keyCode===Yn.ENTER&&(FM&&(d=>{if(!d.collapsed)return!1;const m=d.startContainer;if(tn(m)){const f=/^[\uAC00-\uD7AF\u1100-\u11FF\u3130-\u318F\uA960-\uA97F\uD7B0-\uD7FF]$/,y=m.data.charAt(d.startOffset-1);return f.test(y)}return!1})(o.selection.getRng())?(d=>{s=Q.some(d.selection.getBookmark()),d.undoManager.add()})(o):z8(o,l))}),o.on("keyup",l=>{l.keyCode===Yn.ENTER&&s.each(()=>((d,m)=>{d.undoManager.undo(),s.fold(Ft,f=>d.selection.moveToBookmark(f)),z8(d,m),s=Q.none()})(o,l))})})(t),(o=>{o.on("keydown",s=>{s.isDefaultPrevented()||((l,d)=>{s8([{keyCode:Yn.SPACEBAR,action:Yo(HM,l)},{keyCode:Yn.SPACEBAR,action:Yo(zM,l)}],d).each(m=>{d.preventDefault(),lm(l,"insertText",{data:" "}).isDefaultPrevented()||(m(),h2(l,"insertText",{data:" "}))})})(o,s)})})(t),(o=>{o.on("input",s=>{s.isComposing||(l=>{const d=Ue(l.getBody());l.selection.isCollapsed()&&Gr(d,St.fromRangeStart(l.selection.getRng())).each(m=>{l.selection.setRng(m.toRange())})})(o)})})(t),(o=>{o.on("keydown",s=>{s.isDefaultPrevented()||((l,d)=>{l2([...W_(l)],d).each(m=>{d.preventDefault()})})(o,s)})})(t),((o,s)=>{o.on("keydown",l=>{l.isDefaultPrevented()||((d,m,f)=>{const y=_r.os.isMacOS()||_r.os.isiOS();l2([{keyCode:Yn.END,action:Yo(C_,d,!0)},{keyCode:Yn.HOME,action:Yo(C_,d,!1)},...y?[]:[{keyCode:Yn.HOME,action:Yo(k_,d,!1),ctrlKey:!0,shiftKey:!0},{keyCode:Yn.END,action:Yo(k_,d,!0),ctrlKey:!0,shiftKey:!0}],{keyCode:Yn.END,action:Yo(E_,d,!0)},{keyCode:Yn.HOME,action:Yo(E_,d,!1)},{keyCode:Yn.END,action:Yo(E0,d,!0,m)},{keyCode:Yn.HOME,action:Yo(E0,d,!1,m)}],f).each(_=>{f.preventDefault()})})(o,s,l)})})(t,n),((o,s)=>{if(V8.os.isMacOS())return;const l=_s(!1);o.on("keydown",d=>{$8(d)&&L3(l,o,!0)}),o.on("keyup",d=>{d.isDefaultPrevented()||((m,f,y)=>{l2([{keyCode:Yn.PAGE_UP,action:Yo(E0,m,!1,f)},{keyCode:Yn.PAGE_DOWN,action:Yo(E0,m,!0,f)}],y)})(o,s,d),$8(d)&&l.get()&&(L3(l,o,!1),o.nodeChanged())})})(t,n),n}};class G8{constructor(n){let o;this.lastPath=[],this.editor=n;const s=this;"onselectionchange"in n.getDoc()||n.on("NodeChange click mouseup keyup focus",l=>{const d=n.selection.getRng(),m={startContainer:d.startContainer,startOffset:d.startOffset,endContainer:d.endContainer,endOffset:d.endOffset};l.type!=="nodechange"&&Rk(m,o)||n.dispatch("SelectionChange"),o=m}),n.on("contextmenu",()=>{n.dispatch("SelectionChange")}),n.on("SelectionChange",()=>{const l=n.selection.getStart(!0);l&&jo(n)&&!s.isSameElementPath(l)&&n.dom.isChildOf(l,n.getBody())&&n.nodeChanged({selectionChange:!0})}),n.on("mouseup",l=>{!l.isDefaultPrevented()&&jo(n)&&(n.selection.getNode().nodeName==="IMG"?Xc.setEditorTimeout(n,()=>{n.nodeChanged()}):n.nodeChanged())})}nodeChanged(n={}){const o=this.editor.selection;let s;if(this.editor.initialized&&o&&!Dh(this.editor)&&!this.editor.mode.isReadOnly()){const l=this.editor.getBody();s=o.getStart(!0)||l,s.ownerDocument===this.editor.getDoc()&&this.editor.dom.isChildOf(s,l)||(s=l);const d=[];this.editor.dom.getParent(s,m=>m===l||(d.push(m),!1)),this.editor.dispatch("NodeChange",{...n,element:s,parents:d})}}isSameElementPath(n){let o;const s=this.editor,l=Je(s.dom.getParents(n,Sn,s.getBody()));if(l.length===this.lastPath.length){for(o=l.length;o>=0&&l[o]===this.lastPath[o];o--);if(o===-1)return this.lastPath=l,!0}return this.lastPath=l,!1}}const F3=Ea("image"),H3=Ea("event"),G_=t=>n=>{n[H3]=t},z3=G_(0),VM=G_(2),V3=G_(1),q8=t=>{const n=t;return Q.from(n[H3]).exists(o=>o===0)},$3=Ea("mode"),Ts=t=>n=>{n[$3]=t},cm=(t,n)=>Ts(n)(t),K8=Ts(0),U3=Ts(2),$M=Ts(1),j3=t=>n=>{const o=n;return Q.from(o[$3]).exists(s=>s===t)},um=j3(0),Y8=j3(1),dm=["none","copy","link","move"],UM=["none","copy","copyLink","copyMove","link","linkMove","move","all","uninitialized"],Z3=()=>{const t=new window.DataTransfer;let n="move",o="all";const s={get dropEffect(){return n},set dropEffect(l){Ht(dm,l)&&(n=l)},get effectAllowed(){return o},set effectAllowed(l){q8(s)&&Ht(UM,l)&&(o=l)},get items(){return((l,d)=>({...d,get length(){return d.length},add:(m,f)=>{if(um(l)){if(!le(m))return d.add(m);if(!ae(f))return d.add(m,f)}return null},remove:m=>{um(l)&&d.remove(m)},clear:()=>{um(l)&&d.clear()}}))(s,t.items)},get files(){return Y8(s)?Object.freeze({length:0,item:l=>null}):t.files},get types(){return t.types},setDragImage:(l,d,m)=>{var f;um(s)&&(f={image:l,x:d,y:m},s[F3]=f,t.setDragImage(l,d,m))},getData:l=>Y8(s)?"":t.getData(l),setData:(l,d)=>{um(s)&&t.setData(l,d)},clearData:l=>{um(s)&&t.clearData(l)}};return K8(s),s},W3=(t,n)=>t.setData("text/html",n),G3="x-tinymce/html",q_=Ke(G3),k2="<!-- "+G3+" -->",X8=t=>k2+t,J8=t=>t.indexOf(k2)!==-1,Q8="%MCEPASTEBIN%",K_=t=>t.dom.get("mcepastebin"),eA=t=>G(t)&&t.id==="mcepastebin",Y_=t=>t===Q8,X_=(t,n)=>(an.each(n,o=>{t=fe(o,RegExp)?t.replace(o,""):t.replace(o[0],o[1])}),t),J_=t=>X_(t,[/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/gi,/<!--StartFragment-->|<!--EndFragment-->/g,[/( ?)<span class="Apple-converted-space">\u00a0<\/span>( ?)/g,(n,o,s)=>o||s?ds:" "],/<br class="Apple-interchange-newline">/g,/<br>$/i]),Q_=(t,n)=>({content:t,cancelled:n}),eC=(t,n)=>(t.insertContent(n,{merge:Dv(t),paste:!0}),!0),tC=t=>/^https?:\/\/[\w\-\/+=.,!;:&%@^~(){}?#]+$/i.test(t),q3=(t,n,o)=>!(t.selection.isCollapsed()||!tC(n))&&((s,l,d)=>(s.undoManager.extra(()=>{d(s,l)},()=>{s.execCommand("mceInsertLink",!1,l)}),!0))(t,n,o),jM=(t,n,o)=>!!((s,l)=>tC(l)&&dt(cp(s),d=>On(l.toLowerCase(),`.${d.toLowerCase()}`)))(t,n)&&((s,l,d)=>(s.undoManager.extra(()=>{d(s,l)},()=>{s.insertContent('<img src="'+l+'">')}),!0))(t,n,o),tA=(t=>{let n=0;return()=>"mceclip"+n++})(),K3=t=>{const n=Z3();return W3(n,t),U3(n),n},Y3=(t,n,o,s,l)=>{const d=((m,f,y)=>((_,E,T)=>{const P=((B,Z,z)=>B.dispatch("PastePreProcess",{content:Z,internal:z}))(_,E,T),V=((B,Z)=>{const z=g0({sanitize:eg(B)},B.schema);z.addNodeFilter("meta",te=>{an.each(te,se=>{se.remove()})});const W=z.parse(Z,{forced_root_block:!1,isRootContent:!0});return sg({validate:!0},B.schema).serialize(W)})(_,P.content);return _.hasEventListeners("PastePostProcess")&&!P.isDefaultPrevented()?((B,Z,z)=>{const W=B.dom.create("div",{style:"display:none"},Z),te=((se,be,Ce)=>se.dispatch("PastePostProcess",{node:be,internal:Ce}))(B,W,z);return Q_(te.node.innerHTML,te.isDefaultPrevented())})(_,V,T):Q_(V,P.isDefaultPrevented())})(m,f,y))(t,n,o);if(!d.cancelled){const m=d.content,f=()=>((y,_,E)=>{E||!Zb(y)?eC(y,_):((T,P)=>{an.each([q3,jM,eC],V=>!V(T,P,eC))})(y,_)})(t,m,s);l?lm(t,"insertFromPaste",{dataTransfer:K3(m)}).isDefaultPrevented()||(f(),h2(t,"insertFromPaste")):f()}},S2=(t,n,o,s)=>{const l=o||J8(n);Y3(t,(d=>d.replace(k2,""))(n),l,!1,s)},P0=(t,n,o)=>{const s=t.dom.encode(n).replace(/\r\n/g,`
`),l=((d,m,f)=>{const y=d.split(/\n\n/),_=((P,V)=>{let B="<"+P;const Z=io(V,(z,W)=>W+'="'+pi.encodeAllRaw(z)+'"');return Z.length&&(B+=" "+Z.join(" ")),B+">"})(m,f),E="</"+m+">",T=Et(y,P=>P.split(/\n/).join("<br />"));return T.length===1?T[0]:Et(T,P=>_+P+E).join("")})(Dd(s,Tw(t)),ll(t),Oi(t));Y3(t,l,!1,!0,o)},X3=t=>{const n={};if(t&&t.types)for(let o=0;o<t.types.length;o++){const s=t.types[o];try{n[s]=t.getData(s)}catch{n[s]=""}}return n},wg=(t,n)=>n in t&&t[n].length>0,nA=t=>wg(t,"text/html")||wg(t,"text/plain"),oA=(t,n,o)=>{const s=n.type==="paste"?n.clipboardData:n.dataTransfer;var l;if(Ud(t)&&s){const d=((m,f)=>{const y=f.items?En(So(f.items),E=>E.kind==="file"?[E.getAsFile()]:[]):[],_=f.files?So(f.files):[];return ne(y.length>0?y:_,(E=>{const T=cp(E);return P=>Rn(P.type,"image/")&&dt(T,V=>(B=>{const Z=B.toLowerCase(),z={jpg:"jpeg",jpe:"jpeg",jfi:"jpeg",jif:"jpeg",jfif:"jpeg",pjpeg:"jpeg",pjp:"jpeg",svg:"svg+xml"};return an.hasOwn(z,Z)?"image/"+z[Z]:"image/"+Z})(V)===P.type)})(m))})(t,s);if(d.length>0)return n.preventDefault(),(l=d,Promise.all(Et(l,m=>Tx(m).then(f=>({file:m,uri:f}))))).then(m=>{o&&t.selection.setRng(o),ze(m,f=>{((y,_)=>{Q4(_.uri).each(({data:E,type:T,base64Encoded:P})=>{const V=P?E:btoa(E),B=_.file,Z=y.editorUpload.blobCache,z=Z.getByData(V,T),W=z!=null?z:((te,se,be,Ce)=>{const Ie=tA(),je=xv(te)&&G(be.name),st=je?((qe,tt)=>{const Xe=tt.match(/([\s\S]+?)(?:\.[a-z0-9.]+)$/i);return G(Xe)?qe.dom.encode(Xe[1]):void 0})(te,be.name):Ie,Nt=je?be.name:void 0,bt=se.create(Ie,be,Ce,st,Nt);return se.add(bt),bt})(y,Z,B,V);S2(y,`<img src="${W.blobUri()}">`,!1,!0)})})(t,f)})}),!0}return!1},J3=(t,n,o,s,l)=>{let d=J_(o);const m=wg(n,q_())||J8(o),f=!m&&(_=>!/<(?:\/?(?!(?:div|p|br|span)>)\w+|(?:(?!(?:span style="white-space:\s?pre;?">)|br\s?\/>))\w+\s[^>]+)>/i.test(_))(d),y=tC(d);(Y_(d)||!d.length||f&&!y)&&(s=!0),(s||y)&&(d=wg(n,"text/plain")&&f?n["text/plain"]:(_=>{const E=Pd(),T=g0({},E);let P="";const V=E.getVoidElements(),B=an.makeMap("script noscript style textarea video audio iframe object"," "),Z=E.getBlockElements(),z=W=>{const te=W.name,se=W;if(te!=="br"){if(te!=="wbr")if(V[te]&&(P+=" "),B[te])P+=" ";else{if(W.type===3&&(P+=W.value),!(W.name in E.getVoidElements())){let be=W.firstChild;if(be)do z(be);while(be=be.next)}Z[te]&&se.next&&(P+=`
`,te==="p"&&(P+=`
`))}}else P+=`
`};return _=X_(_,[/<!\[[^\]]+\]>/g]),z(T.parse(_)),P})(d)),Y_(d)||(s?P0(t,d,l):S2(t,d,m,l))},ZM=(t,n,o)=>{((s,l,d)=>{let m;s.on("keydown",f=>{(y=>Yn.metaKeyPressed(y)&&y.keyCode===86||y.shiftKey&&y.keyCode===45)(f)&&!f.isDefaultPrevented()&&(m=f.shiftKey&&f.keyCode===86)}),s.on("paste",f=>{if(f.isDefaultPrevented()||(E=>{var T,P;return _r.os.isAndroid()&&((P=(T=E.clipboardData)===null||T===void 0?void 0:T.items)===null||P===void 0?void 0:P.length)===0})(f))return;const y=d.get()==="text"||m;m=!1;const _=X3(f.clipboardData);!nA(_)&&oA(s,f,l.getLastRng()||s.selection.getRng())||(wg(_,"text/html")?(f.preventDefault(),J3(s,_,_["text/html"],y,!0)):wg(_,"text/plain")&&wg(_,"text/uri-list")?(f.preventDefault(),J3(s,_,_["text/plain"],y,!0)):(l.create(),Xc.setEditorTimeout(s,()=>{const E=l.getHtml();l.remove(),J3(s,_,E,y,!1)},0)))})})(t,n,o),(s=>{const l=m=>Rn(m,"webkit-fake-url"),d=m=>Rn(m,"data:");s.parser.addNodeFilter("img",(m,f,y)=>{if(!Ud(s)&&(_=>{var E;return((E=_.data)===null||E===void 0?void 0:E.paste)===!0})(y))for(const _ of m){const E=_.attr("src");le(E)&&!_.attr("data-mce-object")&&E!==_r.transparentSrc&&(l(E)||!Wb(s)&&d(E))&&_.remove()}})})(t)},rA=(t,n,o,s)=>{((l,d,m)=>{if(!l)return!1;try{return l.clearData(),l.setData("text/html",d),l.setData("text/plain",m),l.setData(q_(),d),!0}catch{return!1}})(t.clipboardData,n.html,n.text)?(t.preventDefault(),s()):o(n.html,s)},As=t=>(n,o)=>{const{dom:s,selection:l}=t,d=s.create("div",{contenteditable:"false","data-mce-bogus":"all"}),m=s.create("div",{contenteditable:"true"},n);s.setStyles(d,{position:"fixed",top:"0",left:"-3000px",width:"1000px",overflow:"hidden"}),d.appendChild(m),s.add(t.getBody(),d);const f=l.getRng();m.focus();const y=s.createRng();y.selectNodeContents(m),l.setRng(y),Xc.setEditorTimeout(t,()=>{l.setRng(f),s.remove(d),o()},0)},nC=t=>({html:X8(t.selection.getContent({contextual:!0})),text:t.selection.getContent({format:"text"})}),mm=t=>!t.selection.isCollapsed()||(n=>!!n.dom.getParent(n.selection.getStart(),"td[data-mce-selected],th[data-mce-selected]",n.getBody()))(t),Q3=(t,n)=>{var o,s;return af.getCaretRangeFromPoint((o=n.clientX)!==null&&o!==void 0?o:0,(s=n.clientY)!==null&&s!==void 0?s:0,t.getDoc())},eE=(t,n)=>{t.focus(),n&&t.selection.setRng(n)},oC=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,rC=t=>an.trim(t).replace(oC,_n).toLowerCase(),aA=(t,n,o)=>{const s=lp(t);if(o||s==="all"||!Ow(t))return n;const l=s?s.split(/[, ]/):[];if(l&&s!=="none"){const d=t.dom,m=t.selection.getNode();n=n.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,(f,y,_,E)=>{const T=d.parseStyle(d.decode(_)),P={};for(let B=0;B<l.length;B++){const Z=T[l[B]];let z=Z,W=d.getStyle(m,l[B],!0);/color/.test(l[B])&&(z=rC(z),W=rC(W)),W!==z&&(P[l[B]]=Z)}const V=d.serializeStyle(P,"span");return V?y+' style="'+V+'"'+E:y+E})}else n=n.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,"$1$3");return n=n.replace(/(<[^>]+) data-mce-style="([^"]+)"([^>]*>)/gi,(d,m,f,y)=>m+' style="'+f+'"'+y),n},sA=t=>{const n=_s(!1),o=_s(Ti(t)?"text":"html"),s=(l=>{const d=_s(null);return{create:()=>((m,f)=>{const{dom:y,selection:_}=m,E=m.getBody();f.set(_.getRng());const T=y.add(m.getBody(),"div",{id:"mcepastebin",class:"mce-pastebin",contentEditable:!0,"data-mce-bogus":"all",style:"position: fixed; top: 50%; width: 10px; height: 10px; overflow: hidden; opacity: 0"},Q8);_r.browser.isFirefox()&&y.setStyle(T,"left",y.getStyle(E,"direction",!0)==="rtl"?65535:-65535),y.bind(T,"beforedeactivate focusin focusout",P=>{P.stopPropagation()}),T.focus(),_.select(T,!0)})(l,d),remove:()=>((m,f)=>{const y=m.dom;if(K_(m)){let _;const E=f.get();for(;_=K_(m);)y.remove(_),y.unbind(_);E&&m.selection.setRng(E)}f.set(null)})(l,d),getEl:()=>K_(l),getHtml:()=>(m=>{const f=m.dom,y=(P,V)=>{P.appendChild(V),f.remove(V,!0)},[_,...E]=ne(m.getBody().childNodes,eA);ze(E,P=>{y(_,P)});const T=f.select("div[id=mcepastebin]",_);for(let P=T.length-1;P>=0;P--){const V=f.create("div");_.insertBefore(V,T[P]),y(V,T[P])}return _?_.innerHTML:""})(l),getLastRng:d.get}})(t);(l=>{(_r.browser.isChromium()||_r.browser.isSafari())&&((d,m)=>{d.on("PastePreProcess",f=>{f.content=m(d,f.content,f.internal)})})(l,aA)})(t),((l,d)=>{l.addCommand("mceTogglePlainTextPaste",()=>{((m,f)=>{f.get()==="text"?(f.set("html"),Wh(m,!1)):(f.set("text"),Wh(m,!0)),m.focus()})(l,d)}),l.addCommand("mceInsertClipboardContent",(m,f)=>{f.html&&S2(l,f.html,f.internal,!1),f.text&&P0(l,f.text,!1)})})(t,o),(l=>{const d=y=>_=>{y(l,_)},m=Ub(l);Ae(m)&&l.on("PastePreProcess",d(m));const f=jb(l);Ae(f)&&l.on("PastePostProcess",d(f))})(t),t.on("PreInit",()=>{(l=>{l.on("cut",(d=>m=>{!m.isDefaultPrevented()&&mm(d)&&rA(m,nC(d),As(d),()=>{if(_r.browser.isChromium()||_r.browser.isFirefox()){const f=d.selection.getRng();Xc.setEditorTimeout(d,()=>{d.selection.setRng(f),d.execCommand("Delete")},0)}else d.execCommand("Delete")})})(l)),l.on("copy",(d=>m=>{!m.isDefaultPrevented()&&mm(d)&&rA(m,nC(d),As(d),Ft)})(l))})(t),((l,d)=>{Qf(l)&&l.on("dragend dragover draggesture dragdrop drop drag",m=>{m.preventDefault(),m.stopPropagation()}),Ud(l)||l.on("drop",m=>{const f=m.dataTransfer;f&&(y=>dt(y.files,_=>/^image\//.test(_.type)))(f)&&m.preventDefault()}),l.on("drop",m=>{if(m.isDefaultPrevented())return;const f=Q3(l,m);if(De(f))return;const y=X3(m.dataTransfer),_=wg(y,q_());if((!nA(y)||(V=>{const B=V["text/plain"];return!!B&&B.indexOf("file://")===0})(y))&&oA(l,m,f))return;const E=y[q_()],T=E||y["text/html"]||y["text/plain"],P=((V,B,Z,z)=>{const W=V.getParent(Z,te=>Ku(B,te));if(W&&fn(z,"text/html")){const te=new DOMParser().parseFromString(z["text/html"],"text/html").body;return!me(te.querySelector(W.nodeName.toLowerCase()))}return!1})(l.dom,l.schema,f.startContainer,y);d.get()&&!P||T&&(m.preventDefault(),Xc.setEditorTimeout(l,()=>{l.undoManager.transact(()=>{E&&l.execCommand("Delete"),eE(l,f);const V=J_(T);y["text/html"]?S2(l,V,_,!0):P0(l,V,!0)})}))}),l.on("dragstart",m=>{d.set(!0)}),l.on("dragover dragend",m=>{Ud(l)&&!d.get()&&(m.preventDefault(),eE(l,Q3(l,m))),m.type==="dragend"&&d.set(!1)})})(t,n),ZM(t,s,o)})},tE=t=>Wu(Ue(t)),iA=(t,n)=>{const o=n.getNode();ae(o)||t.selection.setCursorLocation(o,n.offset())},lA=(t,n)=>{var o;return t.startOffset===0&&t.endOffset===((o=n.textContent)===null||o===void 0?void 0:o.length)},cA=zl(),uA=cA.browser,nE=cA.os,WM=uA.isSafari(),aC=nE.isMacOS()||nE.isiOS(),sC=(t,n)=>G(t.getParent(n.container(),"details")),dA=(t,n)=>{const o=t.dom.getParent(n.container(),"details");if(o&&!o.open){const s=t.dom.select("summary",o)[0];s&&xl(s).each(l=>iA(t,l))}else iA(t,n)},mA=(t,n,o)=>{const s=t.selection,l=s.getNode(),d=s.getRng(),m=o.keyCode===Yn.BACKSPACE,f=o.keyCode===Yn.DELETE,y=t.selection.isCollapsed(),_=St.fromRangeStart(d),E=t.getBody();return!((y||!((T,P)=>{const V=P.startSummary.exists(z=>z.contains(T.startContainer)),B=P.startSummary.exists(z=>z.contains(T.endContainer)),Z=P.startDetails.forall(z=>P.endDetails.forall(W=>z!==W));return(V||B)&&!(V&&B)||Z})(d,n))&&!(y&&m&&((T,P)=>P.startSummary.exists(V=>((B,Z)=>Gi(Z).exists(z=>z.isEqual(B)))(T,V)))(_,n))&&!(y&&f&&((T,P)=>P.startSummary.exists(V=>((B,Z)=>xl(Z).exists(z=>kt(z.getNode())&&ci(Z,z).exists(W=>W.isEqual(B))||z.isEqual(B)))(T,V)))(_,n))&&!(y&&m&&((T,P)=>P.startDetails.exists(V=>ci(V,T).forall(B=>P.startSummary.exists(Z=>!Z.contains(T.container())&&Z.contains(B.container())))))(_,n))&&!(y&&f&&((T,P,V)=>V.startDetails.exists(B=>Zs(T,P).forall(Z=>!B.contains(Z.container()))))(E,_,n))&&(!WM||!Vr(l)||(!y&&lA(d,l)||ox(f,_,l)?tE(l):t.undoManager.transact(()=>{const T=s.getSel();let{anchorNode:P,anchorOffset:V,focusNode:B,focusOffset:Z}=T!=null?T:{};const z=()=>{G(P)&&G(V)&&G(B)&&G(Z)&&(T==null||T.setBaseAndExtent(P,V,B,Z))},W=(se,be)=>{ze(se.childNodes,Ce=>{Ni(Ce)&&be.appendChild(Ce)})},te=t.dom.create("span",{"data-mce-bogus":"all"});W(l,te),l.appendChild(te),z(),y&&(aC&&(o.altKey||m&&o.metaKey)||!aC&&o.ctrlKey)&&(T==null||T.modify("extend",m?"left":"right",o.metaKey?"line":"word")),!s.isCollapsed()&&lA(s.getRng(),te)?tE(l):(t.execCommand(m?"Delete":"ForwardDelete"),P=T==null?void 0:T.anchorNode,V=T==null?void 0:T.anchorOffset,B=T==null?void 0:T.focusNode,Z=T==null?void 0:T.focusOffset,W(te,l),z()),t.dom.remove(te)}),0)))},GM=t=>{(n=>{n.on("click",o=>{n.dom.getParent(o.target,"details")&&o.preventDefault()})})(t),(n=>{n.parser.addNodeFilter("details",o=>{const s=Mw(n);ze(o,l=>{s==="expanded"?l.attr("open","open"):s==="collapsed"&&l.attr("open",null)})}),n.serializer.addNodeFilter("details",o=>{const s=Yb(n);ze(o,l=>{s==="expanded"?l.attr("open","open"):s==="collapsed"&&l.attr("open",null)})})})(t),(n=>{n.on("keydown",o=>{o.keyCode!==Yn.BACKSPACE&&o.keyCode!==Yn.DELETE||((s,l)=>{const d=Q.from(s.getParent(l.startContainer,"details")),m=Q.from(s.getParent(l.endContainer,"details"));if(d.isSome()||m.isSome()){const f=d.bind(y=>Q.from(s.select("summary",y)[0]));return Q.some({startSummary:f,startDetails:d,endDetails:m})}return Q.none()})(n.dom,n.selection.getRng()).fold(()=>{((s,l)=>{const{dom:d,selection:m}=s,f=s.getBody();if(s.selection.isCollapsed()){const y=St.fromRangeStart(m.getRng()),_=d.getParent(y.container(),d.isBlock);if(_&&d.isEmpty(_)){if(me(_.nextSibling)){const E=ci(f,y).filter(T=>sC(d,T));if(E.isSome())return E.each(T=>{l||dA(s,T)}),!0}else if(me(_.previousSibling)&&Zs(f,y).filter(E=>sC(d,E)))return!0}return es(l,f,y).fold(pn,E=>!!sC(d,E)&&(_&&d.isEmpty(_)&&s.dom.remove(_),l||dA(s,E),!0))}return!1})(n,o.keyCode===Yn.DELETE)&&o.preventDefault()},s=>{mA(n,s,o)&&o.preventDefault()})})})(t)},qM=kt,Ki=tn,KM=t=>rr(t.dom),fA=t=>n=>Ur(Ue(t),n),gA=(t,n)=>os(Ue(t),KM,fA(n)),pA=(t,n,o)=>{const s=new qo(t,n),l=o?s.next.bind(s):s.prev.bind(s);let d=t;for(let m=o?t:l();m&&!qM(m);m=l())yc(m)&&(d=m);return d},iC=t=>{const n=((o,s)=>{const l=St.fromRangeStart(o).getNode(),d=((_,E)=>os(Ue(_),T=>(P=>$c(P.dom))(T)||rs(T),fA(E)).getOr(Ue(E)).dom)(l,s),m=pA(l,d,!1),f=pA(l,d,!0),y=document.createRange();return gA(m,d).fold(()=>{Ki(m)?y.setStart(m,0):y.setStartBefore(m)},_=>y.setStartBefore(_.dom)),gA(f,d).fold(()=>{Ki(f)?y.setEnd(f,f.data.length):y.setEndAfter(f)},_=>y.setEndAfter(_.dom)),y})(t.selection.getRng(),t.getBody());t.selection.setRng(_y(n))};var L0;(function(t){t.Before="before",t.After="after"})(L0||(L0={}));const oE=(t,n)=>Math.abs(t.left-n),rE=(t,n)=>Math.abs(t.right-n),YM=(t,n)=>(o=>Ve(o,(s,l)=>s.fold(()=>Q.some(l),d=>{const m=Math.min(l.left,d.left),f=Math.min(l.top,d.top),y=Math.max(l.right,d.right),_=Math.max(l.bottom,d.bottom);return Q.some({top:f,right:y,bottom:_,left:m,width:y-m,height:_-f})}),Q.none()))(ne(t,o=>{return(s=n)>=(l=o).top&&s<=l.bottom;var s,l})).fold(()=>[[],t],o=>{const{pass:s,fail:l}=Be(t,d=>((m,f)=>{const y=((_,E)=>Math.max(0,Math.min(_.bottom,E.bottom)-Math.max(_.top,E.top)))(m,f)/Math.min(m.height,f.height);return((_,E)=>_.top<E.bottom&&_.bottom>E.top)(m,f)&&y>.5})(d,o));return[s,l]}),XM=(t,n,o)=>n>t.left&&n<t.right?0:Math.min(Math.abs(t.left-n),Math.abs(t.right-n)),fm=(t,n,o)=>{const s=_=>yc(_.node)?Q.some(_):vn(_.node)?fm(So(_.node.childNodes),n,o):Q.none(),l=(_,E)=>{const T=Dn(_,(P,V)=>E(P,n,o)-E(V,n,o));return((P,V)=>{if(P.length>=2){const B=s(P[0]).getOr(P[0]),Z=s(P[1]).getOr(P[1]);if(Math.abs(V(B,n,o)-V(Z,n,o))<2){if(tn(B.node))return Q.some(B);if(tn(Z.node))return Q.some(Z)}}return Q.none()})(T,E).orThunk(()=>Rr(T,s))},[d,m]=YM(g_(t),o),{pass:f,fail:y}=Be(m,_=>_.top<o);return l(d,XM).orThunk(()=>l(y,as)).orThunk(()=>l(f,as))},xg=(t,n,o)=>((s,l,d)=>{const m=Ue(s),f=mc(m),y=km(f,l,d).filter(_=>Hc(m,_)).getOr(m);return((_,E,T,P)=>{const V=(B,Z)=>{const z=ne(B.dom.childNodes,kn(W=>vn(W)&&W.classList.contains("mce-drag-container")));return Z.fold(()=>fm(z,T,P),W=>{const te=ne(z,se=>se!==W.dom);return fm(te,T,P)}).orThunk(()=>(Ur(B,_)?Q.none():Hg(B)).bind(W=>V(W,Q.some(B))))};return V(E,Q.none())})(m,y,l,d)})(t,n,o).filter(s=>od(s.node)).map(s=>((l,d)=>({node:l.node,position:oE(l,d)<rE(l,d)?L0.Before:L0.After}))(s,n)),aE=t=>{var n,o;const s=t.getBoundingClientRect(),l=t.ownerDocument,d=l.documentElement,m=l.defaultView;return{top:s.top+((n=m==null?void 0:m.scrollY)!==null&&n!==void 0?n:0)-d.clientTop,left:s.left+((o=m==null?void 0:m.scrollX)!==null&&o!==void 0?o:0)-d.clientLeft}},hA=t=>({target:t,srcElement:t}),sE=(t,n,o,s)=>{const l=((d,m)=>{const f=(y=>{const _=Z3(),E=(T=>{const P=T;return Q.from(P[$3])})(y);return U3(y),z3(_),_.dropEffect=y.dropEffect,_.effectAllowed=y.effectAllowed,(T=>{const P=T;return Q.from(P[F3])})(y).each(T=>_.setDragImage(T.image,T.x,T.y)),ze(y.types,T=>{T!=="Files"&&_.setData(T,y.getData(T))}),ze(y.files,T=>_.items.add(T)),(T=>{const P=T;return Q.from(P[H3])})(y).each(T=>{((P,V)=>{G_(V)(P)})(_,T)}),E.each(T=>{cm(y,T),cm(_,T)}),_})(d);return m==="dragstart"?(z3(f),K8(f)):m==="drop"?(VM(f),U3(f)):(V3(f),$M(f)),f})(o,t);return ae(s)?((d,m,f)=>{const y=wt("Function not supported on simulated event.");return{bubbles:!0,cancelBubble:!1,cancelable:!0,composed:!1,currentTarget:null,defaultPrevented:!1,eventPhase:0,isTrusted:!0,returnValue:!1,timeStamp:0,type:d,composedPath:y,initEvent:y,preventDefault:Ft,stopImmediatePropagation:Ft,stopPropagation:Ft,AT_TARGET:window.Event.AT_TARGET,BUBBLING_PHASE:window.Event.BUBBLING_PHASE,CAPTURING_PHASE:window.Event.CAPTURING_PHASE,NONE:window.Event.NONE,altKey:!1,button:0,buttons:0,clientX:0,clientY:0,ctrlKey:!1,metaKey:!1,movementX:0,movementY:0,offsetX:0,offsetY:0,pageX:0,pageY:0,relatedTarget:null,screenX:0,screenY:0,shiftKey:!1,x:0,y:0,detail:0,view:null,which:0,initUIEvent:y,initMouseEvent:y,getModifierState:y,dataTransfer:f,...hA(m)}})(t,n,l):((d,m,f,y)=>({...m,dataTransfer:y,type:d,...hA(f)}))(t,s,n,l)},iE=rr,lC=((...t)=>n=>{for(let o=0;o<t.length;o++)if(t[o](n))return!0;return!1})(iE,$c),vA=(t,n,o,s)=>{const l=t.dom,d=n.cloneNode(!0);l.setStyles(d,{width:o,height:s}),l.setAttrib(d,"data-mce-selected",null);const m=l.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return l.setStyles(m,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:o,height:s}),l.setStyles(d,{margin:0,boxSizing:"border-box"}),m.appendChild(d),m},E2=(t,n)=>o=>()=>{const s=t==="left"?o.scrollX:o.scrollY;o.scroll({[t]:s+n,behavior:"smooth"})},lE=E2("left",-32),bA=E2("left",32),yA=E2("top",-32),cC=E2("top",32),wA=t=>{t&&t.parentNode&&t.parentNode.removeChild(t)},O2=(t,n,o,s,l)=>{n==="dragstart"&&W3(s,t.dom.getOuterHTML(o));const d=sE(n,o,s,l);return t.dispatch(n,d)},uC=(t,n)=>{const o=Ca((l,d)=>((m,f,y)=>{m._selectionOverrides.hideFakeCaret(),xg(m.getBody(),f,y).fold(()=>m.selection.placeCaretAt(f,y),_=>{const E=m._selectionOverrides.showCaret(1,_.node,_.position===L0.Before,!1);E?m.selection.setRng(E):m.selection.placeCaretAt(f,y)})})(n,l,d),0);n.on("remove",o.cancel);const s=t;return l=>t.on(d=>{const m=Math.max(Math.abs(l.screenX-d.screenX),Math.abs(l.screenY-d.screenY));if(!d.dragging&&m>10){const _=O2(n,"dragstart",d.element,d.dataTransfer,l);if(G(_.dataTransfer)&&(d.dataTransfer=_.dataTransfer),_.isDefaultPrevented())return;d.dragging=!0,n.focus()}if(d.dragging){const _=l.currentTarget===n.getDoc().documentElement,E=((T,P)=>({pageX:P.pageX-T.relX,pageY:P.pageY+5}))(d,((T,P)=>{return V=(z=>z.inline?aE(z.getBody()):{left:0,top:0})(T),B=(z=>{const W=z.getBody();return z.inline?{left:W.scrollLeft,top:W.scrollTop}:{left:0,top:0}})(T),Z=((z,W)=>{if(W.target.ownerDocument!==z.getDoc()){const te=aE(z.getContentAreaContainer()),se=(be=>{const Ce=be.getBody(),Ie=be.getDoc().documentElement,je={left:Ce.scrollLeft,top:Ce.scrollTop},st={left:Ce.scrollLeft||Ie.scrollLeft,top:Ce.scrollTop||Ie.scrollTop};return be.inline?je:st})(z);return{left:W.pageX-te.left+se.left,top:W.pageY-te.top+se.top}}return{left:W.pageX,top:W.pageY}})(T,P),{pageX:Z.left-V.left+B.left,pageY:Z.top-V.top+B.top};var V,B,Z})(n,l));f=d.ghost,y=n.getBody(),f.parentNode!==y&&y.appendChild(f),((T,P,V,B,Z,z,W,te,se,be,Ce,Ie)=>{let je=0,st=0;T.style.left=P.pageX+"px",T.style.top=P.pageY+"px",P.pageX+V>Z&&(je=P.pageX+V-Z),P.pageY+B>z&&(st=P.pageY+B-z),T.style.width=V-je+"px",T.style.height=B-st+"px";const Nt=se.clientHeight,bt=se.clientWidth,qe=W+se.getBoundingClientRect().top,tt=te+se.getBoundingClientRect().left;Ce.on(Xe=>{Xe.intervalId.clear(),Xe.dragging&&Ie&&(W+8>=Nt?Xe.intervalId.set(cC(be)):W-8<=0?Xe.intervalId.set(yA(be)):te+8>=bt?Xe.intervalId.set(bA(be)):te-8<=0?Xe.intervalId.set(lE(be)):qe+16>=window.innerHeight?Xe.intervalId.set(cC(window)):qe-16<=0?Xe.intervalId.set(yA(window)):tt+16>=window.innerWidth?Xe.intervalId.set(bA(window)):tt-16<=0&&Xe.intervalId.set(lE(window)))})})(d.ghost,E,d.width,d.height,d.maxX,d.maxY,l.clientY,l.clientX,n.getContentAreaContainer(),n.getWin(),s,_),o.throttle(l.clientX,l.clientY)}var f,y})},dC=(t,n,o)=>{t.on(s=>{s.intervalId.clear(),s.dragging&&o.fold(()=>O2(n,"dragend",s.element,s.dataTransfer),l=>O2(n,"dragend",s.element,s.dataTransfer,l))}),mC(t)},mC=t=>{t.on(n=>{n.intervalId.clear(),wA(n.ghost)}),t.clear()},xA=t=>{const n=_a(),o=la.DOM,s=document,l=((y,_)=>E=>{if((T=>T.button===0)(E)){const T=Ct(_.dom.getParents(E.target),lC).getOr(null);if(G(T)&&((P,V,B)=>iE(B)&&B!==V&&P.isEditable(B.parentElement))(_.dom,_.getBody(),T)){const P=_.dom.getPos(T),V=_.getBody(),B=_.getDoc().documentElement;y.set({element:T,dataTransfer:Z3(),dragging:!1,screenX:E.screenX,screenY:E.screenY,maxX:(_.inline?V.scrollWidth:B.offsetWidth)-2,maxY:(_.inline?V.scrollHeight:B.offsetHeight)-2,relX:E.pageX-P.x,relY:E.pageY-P.y,width:T.offsetWidth,height:T.offsetHeight,ghost:vA(_,T,T.offsetWidth,T.offsetHeight),intervalId:ep(100)})}}})(n,t),d=uC(n,t),m=((y,_)=>E=>{y.on(T=>{var P;if(T.intervalId.clear(),T.dragging){if(((V,B,Z)=>!De(B)&&B!==Z&&!V.dom.isChildOf(B,Z)&&V.dom.isEditable(B))(_,(V=>{const B=V.getSel();if(G(B)){const Z=B.getRangeAt(0).startContainer;return tn(Z)?Z.parentNode:Z}return null})(_.selection),T.element)){const V=(P=_.getDoc().elementFromPoint(E.clientX,E.clientY))!==null&&P!==void 0?P:_.getBody();O2(_,"drop",V,T.dataTransfer,E).isDefaultPrevented()||_.undoManager.transact(()=>{((B,Z)=>{const z=B.getParent(Z.parentNode,B.isBlock);wA(Z),z&&z!==B.getRoot()&&B.isEmpty(z)&&Wu(Ue(z))})(_.dom,T.element),(B=>{const Z=B.getData("text/html");return Z===""?Q.none():Q.some(Z)})(T.dataTransfer).each(B=>_.insertContent(B)),_._selectionOverrides.hideFakeCaret()})}O2(_,"dragend",_.getBody(),T.dataTransfer,E)}}),mC(y)})(n,t),f=((y,_)=>E=>dC(y,_,Q.some(E)))(n,t);t.on("mousedown",l),t.on("mousemove",d),t.on("mouseup",m),o.bind(s,"mousemove",d),o.bind(s,"mouseup",f),t.on("remove",()=>{o.unbind(s,"mousemove",d),o.unbind(s,"mouseup",f)}),t.on("keydown",y=>{y.keyCode===Yn.ESC&&dC(n,t,Q.none())})},xd=rr,_A=(t,n)=>kp(t.getBody(),n),JM=t=>{const n=t.selection,o=t.dom,s=t.getBody(),l=Ai(t,s,o.isBlock,()=>Yh(t)),d="sel-"+o.uniqueId(),m="data-mce-selected";let f;const y=z=>z!==s&&(xd(z)||$i(z))&&o.isChildOf(z,s)&&o.isEditable(z.parentNode),_=(z,W,te,se=!0)=>t.dispatch("ShowCaret",{target:W,direction:z,before:te}).isDefaultPrevented()?null:(se&&n.scrollIntoView(W,z===-1),l.show(te,W)),E=z=>ni(z)||jg(z)||Lf(z),T=z=>E(z.startContainer)||E(z.endContainer),P=z=>{const W=t.schema.getVoidElements(),te=o.createRng(),se=z.startContainer,be=z.startOffset,Ce=z.endContainer,Ie=z.endOffset;return fn(W,se.nodeName.toLowerCase())?be===0?te.setStartBefore(se):te.setStartAfter(se):te.setStart(se,be),fn(W,Ce.nodeName.toLowerCase())?Ie===0?te.setEndBefore(Ce):te.setEndAfter(Ce):te.setEnd(Ce,Ie),te},V=(z,W)=>{if(!z)return null;if(z.collapsed){if(!T(z)){const Ce=W?1:-1,Ie=Is(Ce,s,z),je=Ie.getNode(!W);if(G(je)){if(od(je))return _(Ce,je,!!W&&!Ie.isAtEnd(),!1);if(vc(je)&&rr(je.nextSibling)){const Nt=o.createRng();return Nt.setStart(je,0),Nt.setEnd(je,0),Nt}}const st=Ie.getNode(W);if(G(st)){if(od(st))return _(Ce,st,!W&&!Ie.isAtEnd(),!1);if(vc(st)&&rr(st.previousSibling)){const Nt=o.createRng();return Nt.setStart(st,1),Nt.setEnd(st,1),Nt}}}return null}let te=z.startContainer,se=z.startOffset;const be=z.endOffset;if(tn(te)&&se===0&&xd(te.parentNode)&&(te=te.parentNode,se=o.nodeIndex(te),te=te.parentNode),!vn(te))return null;if(be===se+1&&te===z.endContainer){const Ce=te.childNodes[se];if(y(Ce))return(Ie=>{const je=Ie.cloneNode(!0),st=t.dispatch("ObjectSelected",{target:Ie,targetClone:je});if(st.isDefaultPrevented())return null;const Nt=((qe,tt)=>{const Xe=Ue(t.getBody()),ft=t.getDoc(),Tn=xs(Xe,"#"+d).getOrThunk(()=>{const Nn=Cm('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>',ft);return Yr(Nn,"id",d),lr(Xe,Nn),Nn}),on=o.createRng();de(Tn),X(Tn,[Fc(ds,ft),Ue(tt),Fc(ds,ft)]),on.setStart(Tn.dom.firstChild,1),on.setEnd(Tn.dom.lastChild,0),Vc(Tn,{top:o.getPos(qe,t.getBody()).y+"px"}),nO(Tn);const lo=n.getSel();return lo&&(lo.removeAllRanges(),lo.addRange(on)),on})(Ie,st.targetClone),bt=Ue(Ie);return ze(Jn(Ue(t.getBody()),`*[${m}]`),qe=>{Ur(bt,qe)||Da(qe,m)}),o.getAttrib(Ie,m)||Ie.setAttribute(m,"1"),f=Ie,Z(),Nt})(Ce)}return null},B=()=>{f&&f.removeAttribute(m),xs(Ue(t.getBody()),"#"+d).each(ce),f=null},Z=()=>{l.hide()};return gd(t)||(t.on("click",z=>{o.isEditable(z.target)||(z.preventDefault(),t.focus())}),t.on("blur NewBlock",B),t.on("ResizeWindow FullscreenStateChanged",l.reposition),t.on("tap",z=>{const W=z.target,te=_A(t,W);xd(te)?(z.preventDefault(),Qy(t,te).each(V)):y(W)&&Qy(t,W).each(V)},!0),t.on("mousedown",z=>{const W=z.target;if(W!==s&&W.nodeName!=="HTML"&&!o.isChildOf(W,s)||!((se,be,Ce)=>{const Ie=Ue(se.getBody()),je=se.inline?Ie:Ue(mc(Ie).dom.documentElement),st=((Nt,bt,qe,tt)=>{const Xe=(ft=>ft.dom.getBoundingClientRect())(bt);return{x:qe-(Nt?Xe.left+bt.dom.clientLeft+b0(bt):0),y:tt-(Nt?Xe.top+bt.dom.clientTop+iM(bt):0)}})(se.inline,je,be,Ce);return((Nt,bt,qe)=>{const tt=NS(Nt),Xe=sM(Nt);return bt>=0&&qe>=0&&bt<=tt&&qe<=Xe})(je,st.x,st.y)})(t,z.clientX,z.clientY))return;B(),Z();const te=_A(t,W);xd(te)?(z.preventDefault(),Qy(t,te).each(V)):xg(s,z.clientX,z.clientY).each(se=>{var be;z.preventDefault(),(be=_(1,se.node,se.position===L0.Before,!1))&&n.setRng(be),vn(te)?te.focus():t.getBody().focus()})}),t.on("keypress",z=>{Yn.modifierPressed(z)||xd(n.getNode())&&z.preventDefault()}),t.on("GetSelectionRange",z=>{let W=z.range;if(f){if(!f.parentNode)return void(f=null);W=W.cloneRange(),W.selectNode(f),z.range=W}}),t.on("SetSelectionRange",z=>{z.range=P(z.range);const W=V(z.range,z.forward);W&&(z.range=W)}),t.on("AfterSetSelectionRange",z=>{const W=z.range,te=W.startContainer.parentElement;var se;T(W)||vn(se=te)&&se.id==="mcepastebin"||Z(),(be=>G(be)&&o.hasClass(be,"mce-offscreen-selection"))(te)||B()}),(z=>{xA(z),Vb(z)&&(W=>{const te=Ce=>{if(!Ce.isDefaultPrevented()){const Ie=Ce.dataTransfer;Ie&&(Ht(Ie.types,"Files")||Ie.files.length>0)&&(Ce.preventDefault(),Ce.type==="drop"&&i1(W,"Dropped file type is not supported"))}},se=Ce=>{cy(W,Ce.target)&&te(Ce)},be=()=>{const Ce=la.DOM,Ie=W.dom,je=document,st=W.inline?W.getBody():W.getDoc(),Nt=["drop","dragover"];ze(Nt,bt=>{Ce.bind(je,bt,se),Ie.bind(st,bt,te)}),W.on("remove",()=>{ze(Nt,bt=>{Ce.unbind(je,bt,se),Ie.unbind(st,bt,te)})})};W.on("init",()=>{Xc.setEditorTimeout(W,be,0)})})(z)})(t),(z=>{const W=Ca(()=>{if(!z.removed&&z.getBody().contains(document.activeElement)){const te=z.selection.getRng();if(te.collapsed){const se=n_(z,te,!1);z.selection.setRng(se)}}},0);z.on("focus",()=>{W.throttle()}),z.on("blur",()=>{W.cancel()})})(t),(z=>{z.on("init",()=>{z.on("focusin",W=>{const te=W.target;if($i(te)){const se=kp(z.getBody(),te),be=rr(se)?se:te;z.selection.getNode()!==be&&Qy(z,be).each(Ce=>z.selection.setRng(Ce))}})})})(t)),{showCaret:_,showBlockCaretContainer:z=>{z.hasAttribute("data-mce-caret")&&(mu(z),n.scrollIntoView(z))},hideFakeCaret:Z,destroy:()=>{l.destroy(),f=null}}},fC=(t,n)=>{let o=n;for(let s=t.previousSibling;tn(s);s=s.previousSibling)o+=s.data.length;return o},cE=(t,n,o,s,l)=>{if(tn(o)&&(s<0||s>o.data.length))return[];const d=l&&tn(o)?[fC(o,s)]:[s];let m=o;for(;m!==n&&m.parentNode;)d.push(t.nodeIndex(m,l)),m=m.parentNode;return m===n?d.reverse():[]},gC=(t,n,o,s,l,d,m=!1)=>({start:cE(t,n,o,s,m),end:cE(t,n,l,d,m)}),uE=(t,n)=>{const o=n.slice(),s=o.pop();return ye(s)?Ve(o,(l,d)=>l.bind(m=>Q.from(m.childNodes[d])),Q.some(t)).bind(l=>tn(l)&&(s<0||s>l.data.length)?Q.none():Q.some({node:l,offset:s})):Q.none()},CA=(t,n)=>uE(t,n.start).bind(({node:o,offset:s})=>uE(t,n.end).map(({node:l,offset:d})=>{const m=document.createRange();return m.setStart(o,s),m.setEnd(l,d),m})),B0=(t,n,o)=>{if(n&&t.isEmpty(n)&&!o(n)){const s=n.parentNode;t.remove(n),B0(t,s,o)}},T2=(t,n,o,s=!0)=>{const l=n.startContainer.parentNode,d=n.endContainer.parentNode;n.deleteContents(),s&&!o(n.startContainer)&&(tn(n.startContainer)&&n.startContainer.data.length===0&&t.remove(n.startContainer),tn(n.endContainer)&&n.endContainer.data.length===0&&t.remove(n.endContainer),B0(t,l,o),l!==d&&B0(t,d,o))},A2=(t,n)=>Q.from(t.dom.getParent(n.startContainer,t.dom.isBlock)),pC=(t,n,o)=>{const s=t.dynamicPatternsLookup({text:o,block:n});return{...t,blockPatterns:ks(s).concat(t.blockPatterns),inlinePatterns:Tb(s).concat(t.inlinePatterns)}},dE=(t,n,o,s)=>{const l=t.createRng();return l.setStart(n,0),l.setEnd(o,s),l.toString()},N2=(t,n,o)=>{((s,l,d)=>{if(tn(s)&&0>=s.length)return Q.some(yd(s,0));{const m=Fd(A0);return Q.from(m.forwards(s,0,T_(s),d)).map(f=>yd(f.container,0))}})(n,0,n).each(s=>{const l=s.container;d8(l,o.start.length,n).each(f=>{const y=t.createRng();y.setStart(l,0),y.setEnd(f.container,f.offset),T2(t,y,_=>_===n)});const d=Ue(l),m=uu(d);/^\s[^\s]/.test(m)&&((f,y)=>{Vg.set(f,y)})(d,m.slice(1))})},mE=(t,n)=>t.create("span",{"data-mce-type":"bookmark",id:n}),M2=(t,n)=>{const o=t.createRng();return o.setStartAfter(n.start),o.setEndBefore(n.end),o},kA=(t,n,o)=>{const s=CA(t.getRoot(),o).getOrDie("Unable to resolve path range"),l=s.startContainer,d=s.endContainer,m=s.endOffset===0?d:d.splitText(s.endOffset),f=s.startOffset===0?l:l.splitText(s.startOffset),y=f.parentNode;return{prefix:n,end:m.parentNode.insertBefore(mE(t,n+"-end"),m),start:y.insertBefore(mE(t,n+"-start"),f)}},SA=(t,n,o)=>{B0(t,t.get(n.prefix+"-end"),o),B0(t,t.get(n.prefix+"-start"),o)},R2=t=>t.start.length===0,fE=(t,n,o,s)=>{const l=n.start;var d;return tc(t,s.container,s.offset,(d=l,(m,f)=>{const y=m.data.substring(0,f),_=y.lastIndexOf(d.charAt(d.length-1)),E=y.lastIndexOf(d);return E!==-1?E+d.length:_!==-1?_+1:-1}),o).bind(m=>{var f,y;const _=(y=(f=o.textContent)===null||f===void 0?void 0:f.indexOf(l))!==null&&y!==void 0?y:-1;if(_!==-1&&m.offset>=_+l.length){const E=t.createRng();return E.setStart(m.container,m.offset-l.length),E.setEnd(m.container,m.offset),Q.some(E)}{const E=m.offset-l.length;return A_(m.container,E,o).map(T=>{const P=t.createRng();return P.setStart(T.container,T.offset),P.setEnd(m.container,m.offset),P}).filter(T=>T.toString()===l).orThunk(()=>fE(t,n,o,yd(m.container,0)))}})},EA=(t,n,o,s)=>{const l=t.dom,d=l.getRoot(),m=o.pattern,f=o.position.container,y=o.position.offset;return A_(f,y-o.pattern.end.length,n).bind(_=>{const E=gC(l,d,_.container,_.offset,f,y,s);if(R2(m))return Q.some({matches:[{pattern:m,startRng:E,endRng:E}],position:_});{const T=hC(t,o.remainingPatterns,_.container,_.offset,n,s),P=T.getOr({matches:[],position:_}),V=P.position;return((Z,z,W,te,se,be=!1)=>{if(z.start.length===0&&!be){const Ce=Z.createRng();return Ce.setStart(W,te),Ce.setEnd(W,te),Q.some(Ce)}return _3(W,te,se).bind(Ce=>fE(Z,z,se,Ce).bind(Ie=>{var je;return be&&(Ie.endContainer===Ce.container&&Ie.endOffset===Ce.offset||Ce.offset===0&&((je=Ie.endContainer.textContent)===null||je===void 0?void 0:je.length)===Ie.endOffset)?Q.none():Q.some(Ie)}))})(l,m,V.container,V.offset,n,T.isNone()).map(Z=>{const z=((W,te,se,be=!1)=>gC(W,te,se.startContainer,se.startOffset,se.endContainer,se.endOffset,be))(l,d,Z,s);return{matches:P.matches.concat([{pattern:m,startRng:z,endRng:E}]),position:yd(Z.startContainer,Z.startOffset)}})}})},hC=(t,n,o,s,l,d)=>{const m=t.dom;return _3(o,s,m.getRoot()).bind(f=>{const y=dE(m,l,o,s);for(let _=0;_<n.length;_++){const E=n[_];if(!On(y,E.end))continue;const T=n.slice();T.splice(_,1);const P=EA(t,l,{pattern:E,remainingPatterns:T,position:f},d);if(P.isNone()&&s>0)return hC(t,n,o,s-1,l,d);if(P.isSome())return P}return Q.none()})},OA=(t,n,o)=>{t.selection.setRng(o),n.type==="inline-format"?ze(n.format,s=>{t.formatter.apply(s)}):t.execCommand(n.cmd,!1,n.value)},TA=(t,n,o,s,l,d)=>{var m;return((f,y)=>{const _=hn(f,E=>dt(y,T=>E.pattern.start===T.pattern.start&&E.pattern.end===T.pattern.end));return f.length===y.length?_?f:y:f.length>y.length?f:y})(hC(t,l.inlinePatterns,o,s,n,d).fold(()=>[],f=>f.matches),hC(t,(m=l.inlinePatterns,Dn(m,(f,y)=>y.end.length-f.end.length)),o,s,n,d).fold(()=>[],f=>f.matches))},gE=(t,n)=>{if(n.length===0)return;const o=t.dom,s=t.selection.getBookmark(),l=((d,m)=>{const f=Ea("mce_textpattern"),y=Oe(m,(_,E)=>{const T=kA(d,f+`_end${_.length}`,E.endRng);return _.concat([{...E,endMarker:T}])},[]);return Oe(y,(_,E)=>{const T=y.length-_.length-1,P=R2(E.pattern)?E.endMarker:kA(d,f+`_start${T}`,E.startRng);return _.concat([{...E,startMarker:P}])},[])})(o,n);ze(l,d=>{const m=o.getParent(d.startMarker.start,o.isBlock),f=y=>y===m;R2(d.pattern)?((y,_,E,T)=>{const P=M2(y.dom,E);T2(y.dom,P,T),OA(y,_,P)})(t,d.pattern,d.endMarker,f):((y,_,E,T,P)=>{const V=y.dom,B=M2(V,T),Z=M2(V,E);T2(V,Z,P),T2(V,B,P);const z={prefix:E.prefix,start:E.end,end:T.start},W=M2(V,z);OA(y,_,W)})(t,d.pattern,d.startMarker,d.endMarker,f),SA(o,d.endMarker,f),SA(o,d.startMarker,f)}),t.selection.moveToBookmark(s)},AA=(t,n)=>{const o=t.selection.getRng();return A2(t,o).map(s=>{var l;const d=Math.max(0,o.startOffset),m=pC(n,s,(l=s.textContent)!==null&&l!==void 0?l:""),f=TA(t,s,o.startContainer,d,m,!0),y=((_,E,T,P)=>{var V;const B=_.dom,Z=ll(_);if(!B.is(E,Z))return[];const z=(V=E.textContent)!==null&&V!==void 0?V:"";return((W,te)=>{const se=(Ce=>Dn(Ce,(Ie,je)=>je.start.length-Ie.start.length))(W),be=te.replace(ds," ");return Ct(se,Ce=>te.indexOf(Ce.start)===0||be.indexOf(Ce.start)===0)})(T.blockPatterns,z).map(W=>an.trim(z).length===W.start.length?[]:[{pattern:W,range:gC(B,B.getRoot(),E,0,E,0,!0)}]).getOr([])})(t,s,m);return(y.length>0||f.length>0)&&(t.undoManager.add(),t.undoManager.extra(()=>{t.execCommand("mceInsertNewLine")},()=>{t.insertContent(Tl),gE(t,f),((T,P)=>{if(P.length===0)return;const V=T.selection.getBookmark();ze(P,B=>((Z,z)=>{const W=Z.dom,te=z.pattern,se=CA(W.getRoot(),z.range).getOrDie("Unable to resolve path range");return A2(Z,se).each(be=>{te.type==="block-format"?((Ce,Ie)=>{const je=Ie.get(Ce);return xe(je)&&Xn(je).exists(st=>fn(st,"block"))})(te.format,Z.formatter)&&Z.undoManager.transact(()=>{N2(Z.dom,be,te),Z.formatter.apply(te.format)}):te.type==="block-command"&&Z.undoManager.transact(()=>{N2(Z.dom,be,te),Z.execCommand(te.cmd,!1,te.value)})}),!0})(T,B)),T.selection.moveToBookmark(V)})(t,y);const _=t.selection.getRng(),E=_3(_.startContainer,_.startOffset,t.dom.getRoot());t.execCommand("mceInsertNewLine"),E.each(T=>{const P=T.container;P.data.charAt(T.offset-1)===Tl&&(P.deleteData(T.offset-1,1),B0(t.dom,P.parentNode,V=>V===t.dom.getRoot()))})}),!0)}).getOr(!1)},NA=(t,n,o)=>{for(let s=0;s<t.length;s++)if(o(t[s],n))return!0;return!1},QM=t=>{const n=an.each,o=Yn.BACKSPACE,s=Yn.DELETE,l=t.dom,d=t.selection,m=t.parser,f=_r.browser,y=f.isFirefox(),_=f.isChromium()||f.isSafari(),E=_r.deviceType.isiPhone()||_r.deviceType.isiPad(),T=_r.os.isMacOS()||_r.os.isiOS(),P=(qe,tt)=>{try{t.getDoc().execCommand(qe,!1,String(tt))}catch{}},V=qe=>qe.isDefaultPrevented(),B=()=>{t.shortcuts.add("meta+a",null,"SelectAll")},Z=()=>{t.inline||l.bind(t.getDoc(),"mousedown mouseup",qe=>{let tt;if(qe.target===t.getDoc().documentElement)if(tt=d.getRng(),t.getBody().focus(),qe.type==="mousedown"){if(ni(tt.startContainer))return;d.placeCaretAt(qe.clientX,qe.clientY)}else d.setRng(tt)})},z=()=>{Range.prototype.getClientRects||t.on("mousedown",qe=>{if(!V(qe)&&qe.target.nodeName==="HTML"){const tt=t.getBody();tt.blur(),Xc.setEditorTimeout(t,()=>{tt.focus()})}})},W=()=>{const qe=Sw(t);t.on("click",tt=>{const Xe=tt.target;/^(IMG|HR)$/.test(Xe.nodeName)&&l.isEditable(Xe.parentNode)&&(tt.preventDefault(),t.selection.select(Xe),t.nodeChanged()),Xe.nodeName==="A"&&l.hasClass(Xe,qe)&&Xe.childNodes.length===0&&l.isEditable(Xe.parentNode)&&(tt.preventDefault(),d.select(Xe))})},te=()=>{t.on("keydown",qe=>{if(!V(qe)&&qe.keyCode===o&&d.isCollapsed()&&d.getRng().startOffset===0){const tt=d.getNode().previousSibling;if(tt&&tt.nodeName&&tt.nodeName.toLowerCase()==="table")return qe.preventDefault(),!1}return!0})},se=()=>{Tv(t)||t.on("BeforeExecCommand mousedown",()=>{P("StyleWithCSS",!1),P("enableInlineTableEditing",!1),Ds(t)||P("enableObjectResizing",!1)})},be=()=>{t.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")},Ce=()=>{t.inline||t.on("keydown",()=>{document.activeElement===document.body&&t.getWin().focus()})},Ie=()=>{t.inline||(t.contentStyles.push("body {min-height: 150px}"),t.on("click",qe=>{let tt;qe.target.nodeName==="HTML"&&(tt=t.selection.getRng(),t.getBody().focus(),t.selection.setRng(tt),t.selection.normalize(),t.nodeChanged())}))},je=()=>{T&&t.on("keydown",qe=>{!Yn.metaKeyPressed(qe)||qe.shiftKey||qe.keyCode!==37&&qe.keyCode!==39||(qe.preventDefault(),t.selection.getSel().modify("move",qe.keyCode===37?"backward":"forward","lineboundary"))})},st=()=>{t.on("click",qe=>{let tt=qe.target;do if(tt.tagName==="A")return void qe.preventDefault();while(tt=tt.parentNode)}),t.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")},Nt=()=>{t.on("init",()=>{t.dom.bind(t.getBody(),"submit",qe=>{qe.preventDefault()})})},bt=Ft;return gd(t)?(_&&(Z(),W(),Nt(),B(),E&&(Ce(),Ie(),st())),y&&(z(),se(),be(),je())):(t.on("keydown",qe=>{if(V(qe)||qe.keyCode!==Yn.BACKSPACE)return;let tt=d.getRng();const Xe=tt.startContainer,ft=tt.startOffset,Tn=l.getRoot();let on=Xe;if(tt.collapsed&&ft===0){for(;on.parentNode&&on.parentNode.firstChild===on&&on.parentNode!==Tn;)on=on.parentNode;on.nodeName==="BLOCKQUOTE"&&(t.formatter.toggle("blockquote",void 0,on),tt=l.createRng(),tt.setStart(Xe,0),tt.setEnd(Xe,0),d.setRng(tt))}}),(()=>{const qe=tt=>{const Xe=l.create("body"),ft=tt.cloneContents();return Xe.appendChild(ft),d.serializer.serialize(Xe,{format:"html"})};t.on("keydown",tt=>{const Xe=tt.keyCode;if(!V(tt)&&(Xe===s||Xe===o)&&t.selection.isEditable()){const ft=t.selection.isCollapsed(),Tn=t.getBody();if(ft&&!l.isEmpty(Tn)||!ft&&!(on=>{const lo=qe(on),Nn=l.createRng();return Nn.selectNode(t.getBody()),lo===qe(Nn)})(t.selection.getRng()))return;tt.preventDefault(),t.setContent(""),Tn.firstChild&&l.isBlock(Tn.firstChild)?t.selection.setCursorLocation(Tn.firstChild,0):t.selection.setCursorLocation(Tn,0),t.nodeChanged()}})})(),_r.windowsPhone||t.on("keyup focusin mouseup",qe=>{Yn.modifierPressed(qe)||(tt=>{const Xe=tt.getBody(),ft=tt.selection.getRng();return ft.startContainer===ft.endContainer&&ft.startContainer===Xe&&ft.startOffset===0&&ft.endOffset===Xe.childNodes.length})(t)||d.normalize()},!0),_&&(Z(),W(),t.on("init",()=>{P("DefaultParagraphSeparator",ll(t))}),Nt(),te(),m.addNodeFilter("br",qe=>{let tt=qe.length;for(;tt--;)qe[tt].attr("class")==="Apple-interchange-newline"&&qe[tt].remove()}),E?(Ce(),Ie(),st()):B()),y&&(t.on("keydown",qe=>{if(!V(qe)&&qe.keyCode===o){if(!t.getBody().getElementsByTagName("hr").length)return;if(d.isCollapsed()&&d.getRng().startOffset===0){const tt=d.getNode(),Xe=tt.previousSibling;if(tt.nodeName==="HR")return l.remove(tt),void qe.preventDefault();Xe&&Xe.nodeName&&Xe.nodeName.toLowerCase()==="hr"&&(l.remove(Xe),qe.preventDefault())}}}),z(),(()=>{const qe=()=>{const Xe=l.getAttribs(d.getStart().cloneNode(!1));return()=>{const ft=d.getStart();ft!==t.getBody()&&(l.setAttrib(ft,"style",null),n(Xe,Tn=>{ft.setAttributeNode(Tn.cloneNode(!0))}))}},tt=()=>!d.isCollapsed()&&l.getParent(d.getStart(),l.isBlock)!==l.getParent(d.getEnd(),l.isBlock);t.on("keypress",Xe=>{let ft;return!(!(V(Xe)||Xe.keyCode!==8&&Xe.keyCode!==46)&&tt()&&(ft=qe(),t.getDoc().execCommand("delete",!1),ft(),Xe.preventDefault(),1))}),l.bind(t.getDoc(),"cut",Xe=>{if(!V(Xe)&&tt()){const ft=qe();Xc.setEditorTimeout(t,()=>{ft()})}})})(),se(),t.on("SetContent ExecCommand",qe=>{qe.type!=="setcontent"&&qe.command!=="mceInsertLink"||n(l.select("a:not([data-mce-block])"),tt=>{var Xe;let ft=tt.parentNode;const Tn=l.getRoot();if((ft==null?void 0:ft.lastChild)===tt){for(;ft&&!l.isBlock(ft);){if(((Xe=ft.parentNode)===null||Xe===void 0?void 0:Xe.lastChild)!==ft||ft===Tn)return;ft=ft.parentNode}l.add(ft,"br",{"data-mce-bogus":1})}})}),be(),je(),te(),t.on("drop",qe=>{var tt;const Xe=(tt=qe.dataTransfer)===null||tt===void 0?void 0:tt.getData("text/html");le(Xe)&&/^<img[^>]*>$/.test(Xe)&&t.dispatch("dragend",new window.DragEvent("dragend",qe))}))),{refreshContentEditable:bt,isHidden:()=>{if(!y||t.removed)return!1;const qe=t.selection.getSel();return!qe||!qe.rangeCount||qe.rangeCount===0}}},Hp=la.DOM,e7=t=>t.inline?t.getElement().nodeName.toLowerCase():void 0,pE=t=>ho(t,n=>ae(n)===!1),hE=t=>{const n=t.options.get,o=t.editorUpload.blobCache;return pE({allow_conditional_comments:n("allow_conditional_comments"),allow_html_data_urls:n("allow_html_data_urls"),allow_svg_data_urls:n("allow_svg_data_urls"),allow_html_in_named_anchor:n("allow_html_in_named_anchor"),allow_script_urls:n("allow_script_urls"),allow_unsafe_link_target:n("allow_unsafe_link_target"),convert_fonts_to_spans:n("convert_fonts_to_spans"),fix_list_elements:n("fix_list_elements"),font_size_legacy_values:n("font_size_legacy_values"),forced_root_block:n("forced_root_block"),forced_root_block_attrs:n("forced_root_block_attrs"),preserve_cdata:n("preserve_cdata"),inline_styles:n("inline_styles"),root_name:e7(t),sanitize:n("xss_sanitization"),validate:!0,blob_cache:o,document:t.getDoc()})},vE=t=>{const n=t.options.get;return pE({custom_elements:n("custom_elements"),extended_valid_elements:n("extended_valid_elements"),invalid_elements:n("invalid_elements"),invalid_styles:n("invalid_styles"),schema:n("schema"),valid_children:n("valid_children"),valid_classes:n("valid_classes"),valid_elements:n("valid_elements"),valid_styles:n("valid_styles"),verify_html:n("verify_html"),padd_empty_block_inline_children:n("format_empty_lines")})},D2=t=>t.inline?t.ui.styleSheetLoader:t.dom.styleSheetLoader,MA=t=>{const n=D2(t),o=Gf(t),s=t.contentCSS,l=()=>{n.unloadAll(s),t.inline||t.ui.styleSheetLoader.unloadAll(o)},d=()=>{t.removed?l():t.on("remove",l)};if(t.contentStyles.length>0){let y="";an.each(t.contentStyles,_=>{y+=_+`\r
`}),t.dom.addStyle(y)}const m=Promise.all(((y,_,E)=>{const T=[D2(y).loadAll(_)];return y.inline?T:T.concat([y.ui.styleSheetLoader.loadAll(E)])})(t,s,o)).then(d).catch(d),f=Th(t);return f&&((y,_)=>{const E=Ue(y.getBody()),T=ol(ns(E)),P=us("style");Yr(P,"type","text/css"),lr(P,Fc(_)),lr(T,P),y.on("remove",()=>{ce(P)})})(t,f),m},bE=t=>{t.removed!==!0&&((n=>{gd(n)||n.load({initial:!0,format:"html"}),n.startContent=n.getContent({format:"raw"})})(t),(n=>{n.bindPendingEventDelegates(),n.initialized=!0,(s=>{s.dispatch("Init")})(n),n.focus(!0),(s=>{const l=s.dom.getRoot();s.inline||jo(s)&&s.selection.getStart(!0)!==l||Gi(l).each(d=>{const m=d.getNode(),f=na(m)?Gi(m).getOr(d):d;s.selection.setRng(f.toRange())})})(n),n.nodeChanged({initial:!0});const o=Rv(n);Ae(o)&&o.call(n,n),(s=>{const l=sp(s);l&&Xc.setEditorTimeout(s,()=>{let d;d=l===!0?s:s.editorManager.get(l),d&&!d.destroyed&&(d.focus(),d.selection.scrollIntoView())},100)})(n)})(t))},RA=t=>{const n=t.getElement();let o=t.getDoc();t.inline&&(Hp.addClass(n,"mce-content-body"),t.contentDocument=o=document,t.contentWindow=window,t.bodyElement=n,t.contentAreaContainer=n);const s=t.getBody();s.disabled=!0,t.readonly=Tv(t),t._editableRoot=kw(t),!t.readonly&&t.hasEditableRoot()&&(t.inline&&Hp.getStyle(s,"position",!0)==="static"&&(s.style.position="relative"),s.contentEditable="true"),s.disabled=!1,t.editorUpload=gT(t),t.schema=Pd(vE(t)),t.dom=la(o,{keep_values:!0,url_converter:t.convertURL,url_converter_scope:t,update_styles:!0,root_element:t.inline?t.getBody():null,collect:t.inline,schema:t.schema,contentCssCors:Ib(t),referrerPolicy:Ev(t),onSetAttrib:m=>{t.dispatch("SetAttrib",m)}}),t.parser=(m=>{const f=g0(hE(m),m.schema);return f.addAttributeFilter("src,href,style,tabindex",(y,_)=>{const E=m.dom,T="data-mce-"+_;let P=y.length;for(;P--;){const V=y[P];let B=V.attr(_);if(B&&!V.attr(T)){if(B.indexOf("data:")===0||B.indexOf("blob:")===0)continue;_==="style"?(B=E.serializeStyle(E.parseStyle(B),V.name),B.length||(B=null),V.attr(T,B),V.attr(_,B)):_==="tabindex"?(V.attr(T,B),V.attr(_,null)):V.attr(T,m.convertURL(B,_,V.name))}}}),f.addNodeFilter("script",y=>{let _=y.length;for(;_--;){const E=y[_],T=E.attr("type")||"no/type";T.indexOf("mce-")!==0&&E.attr("type","mce-"+T)}}),Nw(m)&&f.addNodeFilter("#cdata",y=>{var _;let E=y.length;for(;E--;){const T=y[E];T.type=8,T.name="#comment",T.value="[CDATA["+m.dom.encode((_=T.value)!==null&&_!==void 0?_:"")+"]]"}}),f.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",y=>{let _=y.length;const E=m.schema.getNonEmptyElements();for(;_--;){const T=y[_];T.isEmpty(E)&&T.getAll("br").length===0&&T.append(new ec("br",1))}}),f})(t),t.serializer=Gx((m=>{const f=m.options.get;return{...hE(m),...vE(m),...pE({remove_trailing_brs:f("remove_trailing_brs"),url_converter:f("url_converter"),url_converter_scope:f("url_converter_scope"),element_format:f("element_format"),entities:f("entities"),entity_encoding:f("entity_encoding"),indent:f("indent"),indent_after:f("indent_after"),indent_before:f("indent_before")})}})(t),t),t.selection=Wx(t.dom,t.getWin(),t.serializer,t),t.annotator=U5(t),t.formatter=w0(t),t.undoManager=x0(t),t._nodeChangeDispatcher=new G8(t),t._selectionOverrides=JM(t),(m=>{const f=_a(),y=_s(!1),_=Ei(E=>{m.dispatch("longpress",{...E,type:"longpress"}),y.set(!0)},400);m.on("touchstart",E=>{w_(E).each(T=>{_.cancel();const P={x:T.clientX,y:T.clientY,target:E.target};_.throttle(E),y.set(!1),f.set(P)})},!0),m.on("touchmove",E=>{_.cancel(),w_(E).each(T=>{f.on(P=>{((V,B)=>{const Z=Math.abs(V.clientX-B.x),z=Math.abs(V.clientY-B.y);return Z>5||z>5})(T,P)&&(f.clear(),y.set(!1),m.dispatch("longpresscancel"))})})},!0),m.on("touchend touchcancel",E=>{_.cancel(),E.type!=="touchcancel"&&f.get().filter(T=>T.target.isEqualNode(E.target)).each(()=>{y.get()?E.preventDefault():m.dispatch("tap",{...E,type:"tap"})})},!0)})(t),GM(t),(m=>{const f="contenteditable",y=" "+an.trim(qb(m))+" ",_=" "+an.trim(Lh(m))+" ",E=p1(y),T=p1(_),P=Iv(m);P.length>0&&m.on("BeforeSetContent",V=>{((B,Z,z)=>{let W=Z.length,te=z.content;if(z.format!=="raw"){for(;W--;)te=te.replace(Z[W],JT(B,te,Lh(B)));z.content=te}})(m,P,V)}),m.parser.addAttributeFilter("class",V=>{let B=V.length;for(;B--;){const Z=V[B];E(Z)?Z.attr(f,"true"):T(Z)&&Z.attr(f,"false")}}),m.serializer.addAttributeFilter(f,V=>{let B=V.length;for(;B--;){const Z=V[B];(E(Z)||T(Z))&&(P.length>0&&Z.attr("data-mce-content")?(Z.name="#text",Z.type=3,Z.raw=!0,Z.value=Z.attr("data-mce-content")):Z.attr(f,null))}})})(t),gd(t)||((m=>{m.on("mousedown",f=>{f.detail>=3&&(f.preventDefault(),iC(m))})})(t),(m=>{(f=>{const y=[",",".",";",":","!","?"],_=[32],E=()=>{return V=Gb(f),B=Aw(f),{inlinePatterns:Tb(V),blockPatterns:ks(V),dynamicPatternsLookup:B};var V,B},T=()=>(V=>V.options.isSet("text_patterns_lookup"))(f);f.on("keydown",V=>{if(V.keyCode===13&&!Yn.modifierPressed(V)&&f.selection.isCollapsed()){const B=E();(B.inlinePatterns.length>0||B.blockPatterns.length>0||T())&&AA(f,B)&&V.preventDefault()}},!0);const P=()=>{if(f.selection.isCollapsed()){const V=E();(V.inlinePatterns.length>0||T())&&((B,Z)=>{const z=B.selection.getRng();A2(B,z).map(W=>{const te=Math.max(0,z.startOffset-1),se=dE(B.dom,W,z.startContainer,te),be=pC(Z,W,se),Ce=TA(B,W,z.startContainer,te,be,!1);Ce.length>0&&B.undoManager.transact(()=>{gE(B,Ce)})})})(f,V)}};f.on("keyup",V=>{NA(_,V,(B,Z)=>B===Z.keyCode&&!Yn.modifierPressed(Z))&&P()}),f.on("keypress",V=>{NA(y,V,(B,Z)=>B.charCodeAt(0)===Z.charCode)&&Xc.setEditorTimeout(f,P)})})(m)})(t));const l=W8(t);bd(t,l),(m=>{m.on("NodeChange",it(YT,m))})(t),(m=>{var f;const y=m.dom,_=ll(m),E=(f=_w(m))!==null&&f!==void 0?f:"",T=(P,V)=>{if((z=>{if(yT(z)){const W=z.keyCode;return!FS(z)&&(Yn.metaKeyPressed(z)||z.altKey||W>=112&&W<=123||Ht(bT,W))}return!1})(P))return;const B=m.getBody(),Z=!(z=>yT(z)&&!(FS(z)||z.type==="keyup"&&z.keyCode===229))(P)&&((z,W,te)=>{if(Ma(Ue(W),!1)){const se=W.firstElementChild;return!se||!z.getStyle(W.firstElementChild,"padding-left")&&!z.getStyle(W.firstElementChild,"padding-right")&&te===se.nodeName.toLowerCase()}return!1})(y,B,_);(y.getAttrib(B,BS)!==""!==Z||V)&&(y.setAttrib(B,BS,Z?E:null),y.setAttrib(B,"aria-placeholder",Z?E:null),((z,W)=>{z.dispatch("PlaceholderToggle",{state:W})})(m,Z),m.on(Z?"keydown":"keyup",T),m.off(Z?"keyup":"keydown",T))};mr(E)&&m.on("init",P=>{T(P,!0),m.on("change SetContent ExecCommand",T),m.on("paste",V=>Xc.setEditorTimeout(m,()=>T(V)))})})(t),sA(t);const d=(m=>{const f=m;return(y=>Zt(y.plugins,"rtc").bind(_=>Q.from(_.setup)))(m).fold(()=>(f.rtcInstance=am(m),Q.none()),y=>(f.rtcInstance=(()=>{const _=Ke(null),E=Ke("");return{init:{bindEvents:Ft},undoManager:{beforeChange:Ft,add:_,undo:_,redo:_,clear:Ft,reset:Ft,hasUndo:pn,hasRedo:pn,transact:_,ignore:Ft,extra:Ft},formatter:{match:pn,matchAll:Ke([]),matchNode:Ke(void 0),canApply:pn,closest:E,apply:Ft,remove:Ft,toggle:Ft,formatChanged:Ke({unbind:Ft})},editor:{getContent:E,setContent:Ke({content:"",html:""}),insertContent:Ke(""),addVisual:Ft},selection:{getContent:E},autocompleter:{addDecoration:Ft,removeDecoration:Ft},raw:{getModel:Ke(Q.none())}}})(),Q.some(()=>y().then(_=>(f.rtcInstance=(E=>{const T=se=>ue(se)?se:{},{init:P,undoManager:V,formatter:B,editor:Z,selection:z,autocompleter:W,raw:te}=E;return{init:{bindEvents:P.bindEvents},undoManager:{beforeChange:V.beforeChange,add:V.add,undo:V.undo,redo:V.redo,clear:V.clear,reset:V.reset,hasUndo:V.hasUndo,hasRedo:V.hasRedo,transact:(se,be,Ce)=>V.transact(Ce),ignore:(se,be)=>V.ignore(be),extra:(se,be,Ce,Ie)=>V.extra(Ce,Ie)},formatter:{match:(se,be,Ce,Ie)=>B.match(se,T(be),Ie),matchAll:B.matchAll,matchNode:B.matchNode,canApply:se=>B.canApply(se),closest:se=>B.closest(se),apply:(se,be,Ce)=>B.apply(se,T(be)),remove:(se,be,Ce,Ie)=>B.remove(se,T(be)),toggle:(se,be,Ce)=>B.toggle(se,T(be)),formatChanged:(se,be,Ce,Ie,je)=>B.formatChanged(be,Ce,Ie,je)},editor:{getContent:se=>Z.getContent(se),setContent:(se,be)=>({content:Z.setContent(se,be),html:""}),insertContent:(se,be)=>(Z.insertContent(se),""),addVisual:Z.addVisual},selection:{getContent:(se,be)=>z.getContent(be)},autocompleter:{addDecoration:W.addDecoration,removeDecoration:W.removeDecoration},raw:{getModel:()=>Q.some(te.getRawModel())}}})(_),_.rtc.isRemote)))))})(t);(m=>{const f=m.getDoc(),y=m.getBody();(T=>{T.dispatch("PreInit")})(m),ip(m)||(f.body.spellcheck=!1,Hp.setAttrib(y,"spellcheck","false")),m.quirks=QM(m),(T=>{T.dispatch("PostRender")})(m);const _=ha(m);_!==void 0&&(y.dir=_);const E=Ew(m);E&&m.on("BeforeSetContent",T=>{an.each(E,P=>{T.content=T.content.replace(P,V=>"<!--mce:protected "+escape(V)+"-->")})}),m.on("SetContent",()=>{m.addVisual(m.getBody())}),m.on("compositionstart compositionend",T=>{m.composing=T.type==="compositionstart"})})(t),d.fold(()=>{MA(t).then(()=>bE(t))},m=>{t.setProgressState(!0),MA(t).then(()=>{m().then(f=>{t.setProgressState(!1),bE(t),h0(t)},f=>{t.notificationManager.open({type:"error",text:String(f)}),bE(t),h0(t)})})})},t7=Sn,yE=la.DOM,DA=la.DOM,IA=(t,n)=>({editorContainer:t,iframeContainer:n,api:{}}),PA=t=>{const n=t.getElement();return t.inline?IA(null):(o=>{const s=DA.create("div");return DA.insertAfter(s,o),IA(s,s)})(n)},n7=async t=>{t.dispatch("ScriptsLoaded"),(o=>{const s=an.trim(op(o)),l=o.ui.registry.getAll().icons,d={...Jx.get("default").icons,...Jx.get(s).icons};ut(d,(m,f)=>{fn(l,f)||o.ui.registry.addIcon(f,m)})})(t),(o=>{const s=Km(o);if(le(s)){const l=Np.get(s);o.theme=l(o,Np.urls[s])||{},Ae(o.theme.init)&&o.theme.init(o,Np.urls[s]||o.documentBaseUrl.replace(/\/$/,""))}else o.theme={}})(t),(o=>{const s=qf(o),l=v0.get(s);o.model=l(o,v0.urls[s])})(t),(o=>{const s=[];ze(Ih(o),l=>{((d,m,f)=>{const y=eu.get(f),_=eu.urls[f]||d.documentBaseUrl.replace(/\/$/,"");if(f=an.trim(f),y&&an.inArray(m,f)===-1){if(d.plugins[f])return;try{const E=y(d,_)||{};d.plugins[f]=E,Ae(E.init)&&(E.init(d,_),m.push(f))}catch(E){((T,P,V)=>{const B=Cc.translate(["Failed to initialize plugin: {0}",P]);ny(T,"PluginLoadError",{message:B}),Ky(B,V),i1(T,B)})(d,f,E)}}})(o,s,(d=>d.replace(/^\-/,""))(l))})})(t);const n=await(o=>{const s=o.getElement();return o.orgDisplay=s.style.display,le(Km(o))?(l=>{const d=l.theme.renderUI;return d?d():PA(l)})(o):Ae(Km(o))?(l=>{const d=l.getElement(),m=Km(l)(l,d);return m.editorContainer.nodeType&&(m.editorContainer.id=m.editorContainer.id||l.id+"_parent"),m.iframeContainer&&m.iframeContainer.nodeType&&(m.iframeContainer.id=m.iframeContainer.id||l.id+"_iframecontainer"),m.height=m.iframeHeight?m.iframeHeight:d.offsetHeight,m})(o):PA(o)})(t);((o,s)=>{const l={show:Q.from(s.show).getOr(Ft),hide:Q.from(s.hide).getOr(Ft),isEnabled:Q.from(s.isEnabled).getOr(Sn),setEnabled:d=>{o.mode.isReadOnly()||Q.from(s.setEnabled).each(m=>m(d))}};o.ui={...o.ui,...l}})(t,Q.from(n.api).getOr({})),t.editorContainer=n.editorContainer,(o=>{o.contentCSS=o.contentCSS.concat((s=>DS(s,hk(s)))(o),(s=>DS(s,Gf(s)))(o))})(t),t.inline?RA(t):((o,s)=>{((l,d)=>{const m=l.translate("Rich Text Area"),f=Fi(Ue(l.getElement()),"tabindex").bind(ma),y=((_,E,T,P)=>{const V=us("iframe");return P.each(B=>Yr(V,"tabindex",B)),el(V,T),el(V,{id:_+"_ifr",frameBorder:"0",allowTransparency:"true",title:E}),Ed(V,"tox-edit-area__iframe"),V})(l.id,m,Nb(l),f).dom;y.onload=()=>{y.onload=null,l.dispatch("load")},l.contentAreaContainer=d.iframeContainer,l.iframeElement=y,l.iframeHTML=(_=>{let E=xw(_)+"<html><head>";ln(_)!==_.documentBaseUrl&&(E+='<base href="'+_.documentBaseURI.getURI()+'" />'),E+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />';const T=pk(_),P=js(_),V=_.translate(Jf(_));return Mb(_)&&(E+='<meta http-equiv="Content-Security-Policy" content="'+Mb(_)+'" />'),E+=`</head><body id="${T}" class="mce-content-body ${P}" data-id="${_.id}" aria-label="${V}"><br></body></html>`,E})(l),yE.add(d.iframeContainer,y)})(o,s),s.editorContainer&&(s.editorContainer.style.display=o.orgDisplay,o.hidden=yE.isHidden(s.editorContainer)),o.getElement().style.display="none",yE.setAttrib(o.id,"aria-hidden","true"),o.getElement().style.visibility=o.orgVisibility,(l=>{const d=l.iframeElement,m=()=>{l.contentDocument=d.contentDocument,RA(l)};if(Pv(l)||_r.browser.isFirefox()){const y=l.getDoc();y.open(),y.write(l.iframeHTML),y.close(),m()}else{const y=(f=Ue(d),mn(f,"load",t7,()=>{y.unbind(),m()}));d.srcdoc=l.iframeHTML}var f})(o)})(t,{editorContainer:n.editorContainer,iframeContainer:n.iframeContainer})},k1=la.DOM,ra=t=>t.charAt(0)==="-",wE=(t,n,o)=>Q.from(n).filter(s=>mr(s)&&!Jx.has(s)).map(s=>({url:`${t.editorManager.baseURL}/icons/${s}/icons${o}.js`,name:Q.some(s)})),xE=(t,n)=>{const o=Xu.ScriptLoader,s=()=>{!t.removed&&(l=>{const d=Km(l);return!le(d)||G(Np.get(d))})(t)&&(l=>{const d=qf(l);return G(v0.get(d))})(t)&&n7(t)};((l,d)=>{const m=Km(l);if(le(m)&&!ra(m)&&!fn(Np.urls,m)){const f=Cw(l),y=f?l.documentBaseURI.toAbsolute(f):`themes/${m}/theme${d}.js`;Np.load(m,y).catch(()=>{((_,E,T)=>{qy(_,"ThemeLoadError",l1("theme",E,T))})(l,y,m)})}})(t,n),((l,d)=>{const m=qf(l);if(m!=="plugin"&&!fn(v0.urls,m)){const f=rp(l),y=le(f)?l.documentBaseURI.toAbsolute(f):`models/${m}/model${d}.js`;v0.load(m,y).catch(()=>{((_,E,T)=>{qy(_,"ModelLoadError",l1("model",E,T))})(l,y,m)})}})(t,n),((l,d)=>{const m=Pb(d),f=Lb(d);if(!Cc.hasCode(m)&&m!=="en"){const y=mr(f)?f:`${d.editorManager.baseURL}/langs/${m}.js`;l.add(y).catch(()=>{((_,E,T)=>{qy(_,"LanguageLoadError",l1("language",E,T))})(d,y,m)})}})(o,t),((l,d,m)=>{const f=wE(d,"default",m),y=(_=>Q.from(_v(_)).filter(mr).map(E=>({url:E,name:Q.none()})))(d).orThunk(()=>wE(d,op(d),""));ze((_=>{const E=[],T=P=>{E.push(P)};for(let P=0;P<_.length;P++)_[P].each(T);return E})([f,y]),_=>{l.add(_.url).catch(()=>{((E,T,P)=>{qy(E,"IconsLoadError",l1("icons",T,P))})(d,_.url,_.name.getOrUndefined())})})})(o,t,n),((l,d)=>{const m=(f,y)=>{eu.load(f,y).catch(()=>{((_,E,T)=>{qy(_,"PluginLoadError",l1("plugin",E,T))})(l,y,f)})};ut(Nv(l),(f,y)=>{m(y,f),l.options.set("plugins",Ih(l).concat(y))}),ze(Ih(l),f=>{!(f=an.trim(f))||eu.urls[f]||ra(f)||m(f,`plugins/${f}/plugin${d}.js`)})})(t,n),o.loadQueue().then(s,s)},_E=zl().deviceType,CE=_E.isPhone(),LA=_E.isTablet(),I2=t=>{if(De(t))return[];{const n=xe(t)?t:t.split(/[ ,]/),o=Et(n,Qn);return ne(o,mr)}},o7=(t,n)=>{const o=((d,m)=>{const f={},y={};return Lt(d,(_,E)=>Ht(t,E),Ze(f),Ze(y)),{t:f,f:y}})(n);return s=o.t,l=o.f,{sections:Ke(s),options:Ke(l)};var s,l},vC=(t,n)=>fn(t.sections(),n),r7=(t,n)=>({table_grid:!1,object_resizing:!1,resize:!1,toolbar_mode:Zt(t,"toolbar_mode").getOr("scrolling"),toolbar_sticky:!1,...n?{menubar:!1}:{}}),a7=(t,n)=>{var o;const s=(o=n.external_plugins)!==null&&o!==void 0?o:{};return t&&t.external_plugins?an.extend({},t.external_plugins,s):s},s7=(t,n,o,s,l)=>{var d;const m=t?{mobile:r7((d=l.mobile)!==null&&d!==void 0?d:{},n)}:{},f=o7(["mobile"],S3(m,l)),y=an.extend(o,s,f.options(),((_,E)=>_&&vC(E,"mobile"))(t,f)?((_,E,T={})=>{const P=_.sections(),V=Zt(P,E).getOr({});return an.extend({},T,V)})(f,"mobile"):{},{external_plugins:a7(s,f.options())});return((_,E,T,P)=>{const V=I2(T.forced_plugins),B=I2(P.plugins),Z=((te,se)=>vC(te,se)?te.sections()[se]:{})(E,"mobile"),z=((te,se,be,Ce)=>te&&vC(se,"mobile")?Ce:be)(_,E,B,Z.plugins?I2(Z.plugins):B),W=((te,se)=>[...I2(te),...I2(se)])(V,z);return an.extend(P,{forced_plugins:V,plugins:W})})(t,f,s,y)},F0=t=>{(n=>{const o=s=>()=>{ze("left,center,right,justify".split(","),l=>{s!==l&&n.formatter.remove("align"+l)}),s!=="none"&&((l,d)=>{n.formatter.toggle(l,void 0),n.nodeChanged()})("align"+s)};n.editorCommands.addCommands({JustifyLeft:o("left"),JustifyCenter:o("center"),JustifyRight:o("right"),JustifyFull:o("justify"),JustifyNone:o("none")})})(t),(n=>{const o=s=>()=>{const l=n.selection,d=l.isCollapsed()?[n.dom.getParent(l.getNode(),n.dom.isBlock)]:l.getSelectedBlocks();return dt(d,m=>G(n.formatter.matchNode(m,s)))};n.editorCommands.addCommands({JustifyLeft:o("alignleft"),JustifyCenter:o("aligncenter"),JustifyRight:o("alignright"),JustifyFull:o("alignjustify")},"state")})(t)},P2=(t,n)=>{const o=t.selection,s=t.dom;return/^ | $/.test(n)?((l,d,m)=>{const f=Ue(l.getRoot());return m=t0(f,St.fromRangeStart(d))?m.replace(/^ /,"&nbsp;"):m.replace(/^&nbsp;/," "),Mi(f,St.fromRangeEnd(d))?m.replace(/(&nbsp;| )(<br( \/)>)?$/,"&nbsp;"):m.replace(/&nbsp;(<br( \/)?>)?$/," ")})(s,o.getRng(),n):n},_g=(t,n)=>{if(t.selection.isEditable()){const{content:o,details:s}=(l=>{if(typeof l!="string"){const d=an.extend({paste:l.paste,data:{paste:l.paste}},l);return{content:l.content,details:d}}return{content:l,details:{}}})(n);Bx(t,{...s,content:P2(t,o),format:"html",set:!1,selection:!0}).each(l=>{const d=((m,f,y)=>Zx(m).editor.insertContent(f,y))(t,l.content,s);s1(t,d,l),t.addVisual()})}},kE={"font-size":"size","font-family":"face"},SE=Fu("font"),EE=t=>(n,o)=>Q.from(o).map(Ue).filter(xi).bind(s=>((l,d,m)=>P4(Ue(m),f=>(y=>Zl(y,l).orThunk(()=>SE(y)?Zt(kE,l).bind(_=>Fi(y,_)):Q.none()))(f),f=>Ur(Ue(d),f)))(t,n,s.dom).or(((l,d)=>Q.from(la.DOM.getStyle(d,l,!0)))(t,s.dom))).getOr(""),BA=EE("font-size"),FA=qn(t=>t.replace(/[\'\"\\]/g,"").replace(/,\s+/g,","),EE("font-family")),i7=t=>Gi(t.getBody()).bind(n=>{const o=n.container();return Q.from(tn(o)?o.parentNode:o)}),bC=(t,n)=>((o,s)=>(l=>Q.from(l.selection.getRng()).bind(d=>{const m=l.getBody();return d.startContainer===m&&d.startOffset===0?Q.none():Q.from(l.selection.getStart(!0))}))(o).orThunk(it(i7,o)).map(Ue).filter(xi).bind(s))(t,wn(Q.some,n)),OE=(t,n)=>{if(/^[0-9.]+$/.test(n)){const o=parseInt(n,10);if(o>=1&&o<=7){const s=(d=>an.explode(d.options.get("font_size_style_values")))(t),l=(d=>an.explode(d.options.get("font_size_classes")))(t);return l.length>0?l[o-1]||n:s[o-1]||n}return n}return n},l7=t=>{const n=t.split(/\s*,\s*/);return Et(n,o=>o.indexOf(" ")===-1||Rn(o,'"')||Rn(o,"'")?o:`'${o}'`).join(",")},c7=t=>{F0(t),(n=>{n.editorCommands.addCommands({"Cut,Copy,Paste":o=>{const s=n.getDoc();let l;try{s.execCommand(o)}catch{l=!0}if(o!=="paste"||s.queryCommandEnabled(o)||(l=!0),l||!s.queryCommandSupported(o)){let d=n.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");(_r.os.isMacOS()||_r.os.isiOS())&&(d=d.replace(/Ctrl\+/g,"\u2318+")),n.notificationManager.open({text:d,type:"error"})}}})})(t),(n=>{n.editorCommands.addCommands({mceAddUndoLevel:()=>{n.undoManager.add()},mceEndUndoLevel:()=>{n.undoManager.add()},Undo:()=>{n.undoManager.undo()},Redo:()=>{n.undoManager.redo()}})})(t),(n=>{n.editorCommands.addCommands({mceSelectNodeDepth:(o,s,l)=>{let d=0;n.dom.getParent(n.selection.getNode(),m=>!vn(m)||d++!==l||(n.selection.select(m),!1),n.getBody())},mceSelectNode:(o,s,l)=>{n.selection.select(l)},selectAll:()=>{const o=n.dom.getParent(n.selection.getStart(),$c);if(o){const s=n.dom.createRng();s.selectNodeContents(o),n.selection.setRng(s)}}})})(t),(n=>{n.editorCommands.addCommands({mceCleanup:()=>{const o=n.selection.getBookmark();n.setContent(n.getContent()),n.selection.moveToBookmark(o)},insertImage:(o,s,l)=>{_g(n,n.dom.createHTML("img",{src:l}))},insertHorizontalRule:()=>{n.execCommand("mceInsertContent",!1,"<hr>")},insertText:(o,s,l)=>{_g(n,n.dom.encode(l))},insertHTML:(o,s,l)=>{_g(n,l)},mceInsertContent:(o,s,l)=>{_g(n,l)},mceSetContent:(o,s,l)=>{n.setContent(l)},mceReplaceContent:(o,s,l)=>{n.execCommand("mceInsertContent",!1,l.replace(/\{\$selection\}/g,n.selection.getContent({format:"text"})))},mceNewDocument:()=>{n.setContent(jd(n))}})})(t),(n=>{const o=(s,l,d)=>{const m=le(d)?{href:d}:d,f=n.dom.getParent(n.selection.getNode(),"a");ue(m)&&le(m.href)&&(m.href=m.href.replace(/ /g,"%20"),f&&m.href||n.formatter.remove("link"),m.href&&n.formatter.apply("link",m,f))};n.editorCommands.addCommands({unlink:()=>{if(n.selection.isEditable()){if(n.selection.isCollapsed()){const s=n.dom.getParent(n.selection.getStart(),"a");return void(s&&n.dom.remove(s,!0))}n.formatter.remove("link")}},mceInsertLink:o,createLink:o})})(t),(n=>{n.editorCommands.addCommands({Indent:()=>{(o=>{UT(o,"indent")})(n)},Outdent:()=>{jT(n)}}),n.editorCommands.addCommands({Outdent:()=>i2(n)},"state")})(t),(n=>{n.editorCommands.addCommands({insertParagraph:()=>{C2(R3,n)},mceInsertNewLine:(o,s,l)=>{H8(n,l)},InsertLineBreak:(o,s,l)=>{C2(R8,n)}})})(t),(n=>{(o=>{o.editorCommands.addCommands({"InsertUnorderedList,InsertOrderedList":s=>{o.getDoc().execCommand(s);const l=o.dom.getParent(o.selection.getNode(),"ol,ul");if(l){const d=l.parentNode;if(d&&/^(H[1-6]|P|ADDRESS|PRE)$/.test(d.nodeName)){const m=o.selection.getBookmark();o.dom.split(d,l),o.selection.moveToBookmark(m)}}}})})(n),(o=>{o.editorCommands.addCommands({"InsertUnorderedList,InsertOrderedList":s=>{const l=o.dom.getParent(o.selection.getNode(),"ul,ol");return l&&(s==="insertunorderedlist"&&l.tagName==="UL"||s==="insertorderedlist"&&l.tagName==="OL")}},"state")})(n)})(t),(n=>{(o=>{const s=(l,d)=>{o.formatter.toggle(l,d),o.nodeChanged()};o.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":l=>{s(l)},"ForeColor,HiliteColor":(l,d,m)=>{s(l,{value:m})},BackColor:(l,d,m)=>{s("hilitecolor",{value:m})},FontName:(l,d,m)=>{((f,y)=>{const _=OE(f,y);f.formatter.toggle("fontname",{value:l7(_)}),f.nodeChanged()})(o,m)},FontSize:(l,d,m)=>{((f,y)=>{f.formatter.toggle("fontsize",{value:OE(f,y)}),f.nodeChanged()})(o,m)},LineHeight:(l,d,m)=>{((f,y)=>{f.formatter.toggle("lineheight",{value:String(y)}),f.nodeChanged()})(o,m)},Lang:(l,d,m)=>{var f;s(l,{value:m.code,customValue:(f=m.customCode)!==null&&f!==void 0?f:null})},RemoveFormat:l=>{o.formatter.remove(l)},mceBlockQuote:()=>{s("blockquote")},FormatBlock:(l,d,m)=>{s(le(m)?m:"p")},mceToggleFormat:(l,d,m)=>{s(m)}})})(n),(o=>{const s=l=>o.formatter.match(l);o.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":l=>s(l),mceBlockQuote:()=>s("blockquote")},"state"),o.editorCommands.addQueryValueHandler("FontName",()=>(l=>bC(l,d=>FA(l.getBody(),d.dom)).getOr(""))(o)),o.editorCommands.addQueryValueHandler("FontSize",()=>(l=>bC(l,d=>BA(l.getBody(),d.dom)).getOr(""))(o)),o.editorCommands.addQueryValueHandler("LineHeight",()=>(l=>bC(l,d=>{const m=Ue(l.getBody());return P4(d,y=>Zl(y,"line-height"),it(Ur,m)).getOrThunk(()=>{const y=parseFloat(jl(d,"line-height")),_=parseFloat(jl(d,"font-size"));return String(y/_)})}).getOr(""))(o))})(n)})(t),(n=>{n.editorCommands.addCommands({mceRemoveNode:(o,s,l)=>{const d=l!=null?l:n.selection.getNode();if(d!==n.getBody()){const m=n.selection.getBookmark();n.dom.remove(d,!0),n.selection.moveToBookmark(m)}},mcePrint:()=>{n.getWin().print()},mceFocus:(o,s,l)=>{((d,m)=>{d.removed||(m?jk(d):(f=>{const y=f.selection,_=f.getBody();let E=y.getRng();f.quirks.refreshContentEditable(),G(f.bookmark)&&!Yh(f)&&Yw(f).each(P=>{f.selection.setRng(P),E=P});const T=((P,V)=>P.dom.getParent(V,B=>P.dom.getContentEditable(B)==="true"))(f,y.getNode());if(T&&f.dom.isChildOf(T,_))return Uk(T),aO(f,E),void jk(f);f.inline||(_r.browser.isOpera()||Uk(_),f.getWin().focus()),(_r.browser.isFirefox()||f.inline)&&(Uk(_),aO(f,E)),jk(f)})(d))})(n,l===!0)},mceToggleVisualAid:()=>{n.hasVisual=!n.hasVisual,n.addVisual()}})})(t)},yC=["toggleview"],TE=t=>Ht(yC,t.toLowerCase());class HA{constructor(n){this.commands={state:{},exec:{},value:{}},this.editor=n}execCommand(n,o=!1,s,l){const d=this.editor,m=n.toLowerCase(),f=l==null?void 0:l.skip_focus;if(d.removed||(m!=="mcefocus"&&(/^(mceAddUndoLevel|mceEndUndoLevel)$/i.test(m)||f?(_=>{Yw(_).each(E=>_.selection.setRng(E))})(d):d.focus()),d.dispatch("BeforeExecCommand",{command:n,ui:o,value:s}).isDefaultPrevented()))return!1;const y=this.commands.exec[m];return!!Ae(y)&&(y(m,o,s),d.dispatch("ExecCommand",{command:n,ui:o,value:s}),!0)}queryCommandState(n){if(!TE(n)&&this.editor.quirks.isHidden()||this.editor.removed)return!1;const o=n.toLowerCase(),s=this.commands.state[o];return!!Ae(s)&&s(o)}queryCommandValue(n){if(!TE(n)&&this.editor.quirks.isHidden()||this.editor.removed)return"";const o=n.toLowerCase(),s=this.commands.value[o];return Ae(s)?s(o):""}addCommands(n,o="exec"){const s=this.commands;ut(n,(l,d)=>{ze(d.toLowerCase().split(","),m=>{s[o][m]=l})})}addCommand(n,o,s){const l=n.toLowerCase();this.commands.exec[l]=(d,m,f)=>o.call(s!=null?s:this.editor,m,f)}queryCommandSupported(n){const o=n.toLowerCase();return!!this.commands.exec[o]}addQueryStateHandler(n,o,s){this.commands.state[n.toLowerCase()]=()=>o.call(s!=null?s:this.editor)}addQueryValueHandler(n,o,s){this.commands.value[n.toLowerCase()]=()=>o.call(s!=null?s:this.editor)}}const S1="data-mce-contenteditable",AE=(t,n,o)=>{try{t.getDoc().execCommand(n,!1,String(o))}catch{}},wC=(t,n)=>{t.dom.contentEditable=n?"true":"false"},zA=(t,n)=>{const o=Ue(t.getBody());((s,l,d)=>{Fg(s,l)&&!d?Od(s,l):d&&Ed(s,l)})(o,"mce-content-readonly",n),n?(t.selection.controlSelection.hideResizeRect(),t._selectionOverrides.hideFakeCaret(),(s=>{Q.from(s.selection.getNode()).each(l=>{l.removeAttribute("data-mce-selected")})})(t),t.readonly=!0,wC(o,!1),ze(Jn(o,'*[contenteditable="true"]'),s=>{Yr(s,S1,"true"),wC(s,!1)})):(t.readonly=!1,t.hasEditableRoot()&&wC(o,!0),ze(Jn(o,`*[${S1}="true"]`),s=>{Da(s,S1),wC(s,!0)}),AE(t,"StyleWithCSS",!1),AE(t,"enableInlineTableEditing",!1),AE(t,"enableObjectResizing",!1),(s=>Yh(s)||(l=>{const d=ns(Ue(l.getElement()));return Fk(d).filter(m=>!Jv(m.dom)&&cy(l,m.dom)).isSome()})(s))(t)&&t.focus(),(s=>{s.selection.setRng(s.selection.getRng())})(t),t.nodeChanged())},zp=t=>t.readonly,VA=t=>{t.parser.addAttributeFilter("contenteditable",n=>{zp(t)&&ze(n,o=>{o.attr(S1,o.attr("contenteditable")),o.attr("contenteditable","false")})}),t.serializer.addAttributeFilter(S1,n=>{zp(t)&&ze(n,o=>{o.attr("contenteditable",o.attr(S1))})}),t.serializer.addTempAttr(S1)},u7=["copy"],d7=an.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input beforeinput contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend touchcancel"," ");class NE{static isNative(n){return!!d7[n.toLowerCase()]}constructor(n){this.bindings={},this.settings=n||{},this.scope=this.settings.scope||this,this.toggleEvent=this.settings.toggleEvent||pn}fire(n,o){return this.dispatch(n,o)}dispatch(n,o){const s=n.toLowerCase(),l=$f(s,o!=null?o:{},this.scope);this.settings.beforeFire&&this.settings.beforeFire(l);const d=this.bindings[s];if(d)for(let m=0,f=d.length;m<f;m++){const y=d[m];if(!y.removed){if(y.once&&this.off(s,y.func),l.isImmediatePropagationStopped())return l;if(y.func.call(this.scope,l)===!1)return l.preventDefault(),l}}return l}on(n,o,s,l){if(o===!1&&(o=pn),o){const d={func:o,removed:!1};l&&an.extend(d,l);const m=n.toLowerCase().split(" ");let f=m.length;for(;f--;){const y=m[f];let _=this.bindings[y];_||(_=[],this.toggleEvent(y,!0)),_=s?[d,..._]:[..._,d],this.bindings[y]=_}}return this}off(n,o){if(n){const s=n.toLowerCase().split(" ");let l=s.length;for(;l--;){const d=s[l];let m=this.bindings[d];if(!d)return ut(this.bindings,(f,y)=>{this.toggleEvent(y,!1),delete this.bindings[y]}),this;if(m){if(o){const f=Be(m,y=>y.func===o);m=f.fail,this.bindings[d]=m,ze(f.pass,y=>{y.removed=!0})}else m.length=0;m.length||(this.toggleEvent(n,!1),delete this.bindings[d])}}}else ut(this.bindings,(s,l)=>{this.toggleEvent(l,!1)}),this.bindings={};return this}once(n,o,s){return this.on(n,o,s,{once:!0})}has(n){n=n.toLowerCase();const o=this.bindings[n];return!(!o||o.length===0)}}const Vp=t=>(t._eventDispatcher||(t._eventDispatcher=new NE({scope:t,toggleEvent:(n,o)=>{NE.isNative(n)&&t.toggleNativeEvent&&t.toggleNativeEvent(n,o)}})),t._eventDispatcher),xC={fire(t,n,o){return this.dispatch(t,n,o)},dispatch(t,n,o){const s=this;if(s.removed&&t!=="remove"&&t!=="detach")return $f(t.toLowerCase(),n!=null?n:{},s);const l=Vp(s).dispatch(t,n);if(o!==!1&&s.parent){let d=s.parent();for(;d&&!l.isPropagationStopped();)d.dispatch(t,l,!1),d=d.parent?d.parent():void 0}return l},on(t,n,o){return Vp(this).on(t,n,o)},off(t,n){return Vp(this).off(t,n)},once(t,n){return Vp(this).once(t,n)},hasEventListeners(t){return Vp(this).has(t)}},_C=la.DOM;let $p;const L2=(t,n)=>{if(n==="selectionchange")return t.getDoc();if(!t.inline&&/^(?:mouse|touch|click|contextmenu|drop|dragover|dragend)/.test(n))return t.getDoc().documentElement;const o=Fb(t);return o?(t.eventRoot||(t.eventRoot=_C.select(o)[0]),t.eventRoot):t.getBody()},CC=(t,n,o)=>{(s=>!s.hidden&&!zp(s))(t)?t.dispatch(n,o):zp(t)&&((s,l)=>{if((d=>d.type==="click")(l)&&!Yn.metaKeyPressed(l)){const d=Ue(l.target);((m,f)=>Ya(f,"a",y=>Ur(y,Ue(m.getBody()))).bind(y=>Fi(y,"href")))(s,d).each(m=>{if(l.preventDefault(),/^#/.test(m)){const f=s.dom.select(`${m},[name="${Tt(m,"#")}"]`);f.length&&s.selection.scrollIntoView(f[0],!0)}else window.open(m,"_blank","rel=noopener noreferrer,menubar=yes,toolbar=yes,location=yes,status=yes,resizable=yes,scrollbars=yes")})}else(d=>Ht(u7,d.type))(l)&&s.dispatch(l.type,l)})(t,o)},ME=(t,n)=>{if(t.delegates||(t.delegates={}),t.delegates[n]||t.removed)return;const o=L2(t,n);if(Fb(t)){if($p||($p={},t.editorManager.on("removeEditor",()=>{t.editorManager.activeEditor||$p&&(ut($p,(l,d)=>{t.dom.unbind(L2(t,d))}),$p=null)})),$p[n])return;const s=l=>{const d=l.target,m=t.editorManager.get();let f=m.length;for(;f--;){const y=m[f].getBody();(y===d||_C.isChildOf(d,y))&&CC(m[f],n,l)}};$p[n]=s,_C.bind(o,n,s)}else{const s=l=>{CC(t,n,l)};_C.bind(o,n,s),t.delegates[n]=s}},RE={...xC,bindPendingEventDelegates(){const t=this;an.each(t._pendingNativeEvents,n=>{ME(t,n)})},toggleNativeEvent(t,n){const o=this;t!=="focus"&&t!=="blur"&&(o.removed||(n?o.initialized?ME(o,t):o._pendingNativeEvents?o._pendingNativeEvents.push(t):o._pendingNativeEvents=[t]:o.initialized&&o.delegates&&(o.dom.unbind(L2(o,t),t,o.delegates[t]),delete o.delegates[t])))},unbindAllNativeEvents(){const t=this,n=t.getBody(),o=t.dom;t.delegates&&(ut(t.delegates,(s,l)=>{t.dom.unbind(L2(t,l),l,s)}),delete t.delegates),!t.inline&&n&&o&&(n.onload=null,o.unbind(t.getWin()),o.unbind(t.getDoc())),o&&(o.unbind(n),o.unbind(t.getContainer()))}},$A=t=>le(t)?{value:t.split(/[ ,]/),valid:!0}:Pt(t,le)?{value:t,valid:!0}:{valid:!1,message:"The value must be a string[] or a comma/space separated string."},UA=(t,n)=>t+(Jo(n.message)?"":`. ${n.message}`),jA=t=>t.valid,E1=(t,n,o="")=>{const s=n(t);return J(s)?s?{value:t,valid:!0}:{valid:!1,message:o}:s},m7=["design","readonly"],DE=(t,n,o,s)=>{const l=o[n.get()],d=o[s];try{d.activate()}catch(m){return void console.error(`problem while activating editor mode ${s}:`,m)}l.deactivate(),l.editorReadOnly!==d.editorReadOnly&&zA(t,d.editorReadOnly),n.set(s),((m,f)=>{m.dispatch("SwitchMode",{mode:f})})(t,s)},H0=an.each,kC=an.explode,ZA={f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},WA=an.makeMap("alt,ctrl,shift,meta,access"),f7=t=>{const n={},o=_r.os.isMacOS()||_r.os.isiOS();H0(kC(t.toLowerCase(),"+"),d=>{(m=>m in WA)(d)?n[d]=!0:/^[0-9]{2,}$/.test(d)?n.keyCode=parseInt(d,10):(n.charCode=d.charCodeAt(0),n.keyCode=ZA[d]||d.toUpperCase().charCodeAt(0))});const s=[n.keyCode];let l;for(l in WA)n[l]?s.push(l):n[l]=!1;return n.id=s.join(","),n.access&&(n.alt=!0,o?n.ctrl=!0:n.shift=!0),n.meta&&(o?n.meta=!0:(n.ctrl=!0,n.meta=!1)),n};class SC{constructor(n){this.shortcuts={},this.pendingPatterns=[],this.editor=n;const o=this;n.on("keyup keypress keydown",s=>{!o.hasModifier(s)&&!o.isFunctionKey(s)||s.isDefaultPrevented()||(H0(o.shortcuts,l=>{o.matchShortcut(s,l)&&(o.pendingPatterns=l.subpatterns.slice(0),s.type==="keydown"&&o.executeShortcutAction(l))}),o.matchShortcut(s,o.pendingPatterns[0])&&(o.pendingPatterns.length===1&&s.type==="keydown"&&o.executeShortcutAction(o.pendingPatterns[0]),o.pendingPatterns.shift()))})}add(n,o,s,l){const d=this,m=d.normalizeCommandFunc(s);return H0(kC(an.trim(n)),f=>{const y=d.createShortcut(f,o,m,l);d.shortcuts[y.id]=y}),!0}remove(n){const o=this.createShortcut(n);return!!this.shortcuts[o.id]&&(delete this.shortcuts[o.id],!0)}normalizeCommandFunc(n){const o=this,s=n;return typeof s=="string"?()=>{o.editor.execCommand(s,!1,null)}:an.isArray(s)?()=>{o.editor.execCommand(s[0],s[1],s[2])}:s}createShortcut(n,o,s,l){const d=an.map(kC(n,">"),f7);return d[d.length-1]=an.extend(d[d.length-1],{func:s,scope:l||this.editor}),an.extend(d[0],{desc:this.editor.translate(o),subpatterns:d.slice(1)})}hasModifier(n){return n.altKey||n.ctrlKey||n.metaKey}isFunctionKey(n){return n.type==="keydown"&&n.keyCode>=112&&n.keyCode<=123}matchShortcut(n,o){return!!o&&o.ctrl===n.ctrlKey&&o.meta===n.metaKey&&o.alt===n.altKey&&o.shift===n.shiftKey&&!!(n.keyCode===o.keyCode||n.charCode&&n.charCode===o.charCode)&&(n.preventDefault(),!0)}executeShortcutAction(n){return n.func?n.func.call(n.scope):null}}const IE=()=>{const t=(()=>{const n={},o={},s={},l={},d={},m={},f={},y={},_=(E,T)=>(P,V)=>{E[P.toLowerCase()]={...V,type:T}};return{addButton:_(n,"button"),addGroupToolbarButton:_(n,"grouptoolbarbutton"),addToggleButton:_(n,"togglebutton"),addMenuButton:_(n,"menubutton"),addSplitButton:_(n,"splitbutton"),addMenuItem:_(o,"menuitem"),addNestedMenuItem:_(o,"nestedmenuitem"),addToggleMenuItem:_(o,"togglemenuitem"),addAutocompleter:_(s,"autocompleter"),addContextMenu:_(d,"contextmenu"),addContextToolbar:_(m,"contexttoolbar"),addContextForm:_(m,"contextform"),addSidebar:_(f,"sidebar"),addView:_(y,"views"),addIcon:(E,T)=>l[E.toLowerCase()]=T,getAll:()=>({buttons:n,menuItems:o,icons:l,popups:s,contextMenus:d,contextToolbars:m,sidebars:f,views:y})}})();return{addAutocompleter:t.addAutocompleter,addButton:t.addButton,addContextForm:t.addContextForm,addContextMenu:t.addContextMenu,addContextToolbar:t.addContextToolbar,addIcon:t.addIcon,addMenuButton:t.addMenuButton,addMenuItem:t.addMenuItem,addNestedMenuItem:t.addNestedMenuItem,addSidebar:t.addSidebar,addSplitButton:t.addSplitButton,addToggleButton:t.addToggleButton,addGroupToolbarButton:t.addGroupToolbarButton,addToggleMenuItem:t.addToggleMenuItem,addView:t.addView,getAll:t.getAll}},hf=la.DOM,PE=an.extend,LE=an.each;class B2{constructor(n,o,s){this.plugins={},this.contentCSS=[],this.contentStyles=[],this.loadedCSS={},this.isNotDirty=!1,this.composing=!1,this.destroyed=!1,this.hasHiddenInput=!1,this.iframeElement=null,this.initialized=!1,this.readonly=!1,this.removed=!1,this.startContent="",this._pendingNativeEvents=[],this._skinLoaded=!1,this._editableRoot=!0,this.editorManager=s,this.documentBaseUrl=s.documentBaseURL,PE(this,RE);const l=this;this.id=n,this.hidden=!1;const d=((V,B)=>s7(CE||LA,CE,B,V,B))(s.defaultOptions,o);this.options=((V,B)=>{const Z={},z={},W=(se,be,Ce)=>{const Ie=E1(be,Ce);return jA(Ie)?(z[se]=Ie.value,!0):(console.warn(UA(`Invalid value passed for the ${se} option`,Ie)),!1)},te=se=>fn(Z,se);return{register:(se,be)=>{const Ce=(je=>le(je.processor))(be)?(je=>{const st=(()=>{switch(je){case"array":return xe;case"boolean":return J;case"function":return Ae;case"number":return ye;case"object":return ue;case"string":return le;case"string[]":return $A;case"object[]":return Nt=>Pt(Nt,ue);case"regexp":return Nt=>fe(Nt,RegExp);default:return Sn}})();return Nt=>E1(Nt,st,`The value must be a ${je}.`)})(be.processor):be.processor,Ie=((je,st,Nt)=>{if(!ae(st)){const bt=E1(st,Nt);if(jA(bt))return bt.value;console.error(UA(`Invalid default value passed for the "${je}" option`,bt))}})(se,be.default,Ce);Z[se]={...be,default:Ie,processor:Ce},Zt(z,se).orThunk(()=>Zt(B,se)).each(je=>W(se,je,Ce))},isRegistered:te,get:se=>Zt(z,se).orThunk(()=>Zt(Z,se).map(be=>be.default)).getOrUndefined(),set:(se,be)=>{if(te(se)){const Ce=Z[se];return Ce.immutable?(console.error(`"${se}" is an immutable option and cannot be updated`),!1):W(se,be,Ce.processor)}return console.warn(`"${se}" is not a registered option. Ensure the option has been registered before setting a value.`),!1},unset:se=>{const be=te(se);return be&&delete z[se],be},isSet:se=>fn(z,se)}})(0,d),(V=>{const B=V.options.register;B("id",{processor:"string",default:V.id}),B("selector",{processor:"string"}),B("target",{processor:"object"}),B("suffix",{processor:"string"}),B("cache_suffix",{processor:"string"}),B("base_url",{processor:"string"}),B("referrer_policy",{processor:"string",default:""}),B("language_load",{processor:"boolean",default:!0}),B("inline",{processor:"boolean",default:!1}),B("iframe_attrs",{processor:"object",default:{}}),B("doctype",{processor:"string",default:"<!DOCTYPE html>"}),B("document_base_url",{processor:"string",default:V.documentBaseUrl}),B("body_id",{processor:Sh(V,"tinymce"),default:"tinymce"}),B("body_class",{processor:Sh(V),default:""}),B("content_security_policy",{processor:"string",default:""}),B("br_in_pre",{processor:"boolean",default:!0}),B("forced_root_block",{processor:Z=>{const z=le(Z)&&mr(Z);return z?{value:Z,valid:z}:{valid:!1,message:"Must be a non-empty string."}},default:"p"}),B("forced_root_block_attrs",{processor:"object",default:{}}),B("newline_behavior",{processor:Z=>{const z=Ht(["block","linebreak","invert","default"],Z);return z?{value:Z,valid:z}:{valid:!1,message:"Must be one of: block, linebreak, invert or default."}},default:"default"}),B("br_newline_selector",{processor:"string",default:".mce-toc h2,figcaption,caption"}),B("no_newline_selector",{processor:"string",default:""}),B("keep_styles",{processor:"boolean",default:!0}),B("end_container_on_empty_block",{processor:Z=>J(Z)||le(Z)?{valid:!0,value:Z}:{valid:!1,message:"Must be boolean or a string"},default:"blockquote"}),B("font_size_style_values",{processor:"string",default:"xx-small,x-small,small,medium,large,x-large,xx-large"}),B("font_size_legacy_values",{processor:"string",default:"xx-small,small,medium,large,x-large,xx-large,300%"}),B("font_size_classes",{processor:"string",default:""}),B("automatic_uploads",{processor:"boolean",default:!0}),B("images_reuse_filename",{processor:"boolean",default:!1}),B("images_replace_blob_uris",{processor:"boolean",default:!0}),B("icons",{processor:"string",default:""}),B("icons_url",{processor:"string",default:""}),B("images_upload_url",{processor:"string",default:""}),B("images_upload_base_path",{processor:"string",default:""}),B("images_upload_credentials",{processor:"boolean",default:!1}),B("images_upload_handler",{processor:"function"}),B("language",{processor:"string",default:"en"}),B("language_url",{processor:"string",default:""}),B("entity_encoding",{processor:"string",default:"named"}),B("indent",{processor:"boolean",default:!0}),B("indent_before",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,details,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),B("indent_after",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,details,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),B("indent_use_margin",{processor:"boolean",default:!1}),B("indentation",{processor:"string",default:"40px"}),B("content_css",{processor:Z=>{const z=Z===!1||le(Z)||Pt(Z,le);return z?le(Z)?{value:Et(Z.split(","),Qn),valid:z}:xe(Z)?{value:Z,valid:z}:Z===!1?{value:[],valid:z}:{value:Z,valid:z}:{valid:!1,message:"Must be false, a string or an array of strings."}},default:ap(V)?[]:["default"]}),B("content_style",{processor:"string"}),B("content_css_cors",{processor:"boolean",default:!1}),B("font_css",{processor:Z=>{const z=le(Z)||Pt(Z,le);return z?{value:xe(Z)?Z:Et(Z.split(","),Qn),valid:z}:{valid:!1,message:"Must be a string or an array of strings."}},default:[]}),B("inline_boundaries",{processor:"boolean",default:!0}),B("inline_boundaries_selector",{processor:"string",default:"a[href],code,span.mce-annotation"}),B("object_resizing",{processor:Z=>{const z=J(Z)||le(Z);return z?Z===!1||bv.isiPhone()||bv.isiPad()?{value:"",valid:z}:{value:Z===!0?"table,img,figure.image,div,video,iframe":Z,valid:z}:{valid:!1,message:"Must be boolean or a string"}},default:!Ab}),B("resize_img_proportional",{processor:"boolean",default:!0}),B("event_root",{processor:"object"}),B("service_message",{processor:"string"}),B("theme",{processor:Z=>Z===!1||le(Z)||Ae(Z),default:"silver"}),B("theme_url",{processor:"string"}),B("formats",{processor:"object"}),B("format_empty_lines",{processor:"boolean",default:!1}),B("format_noneditable_selector",{processor:"string",default:""}),B("preview_styles",{processor:Z=>{const z=Z===!1||le(Z);return z?{value:Z===!1?"":Z,valid:z}:{valid:!1,message:"Must be false or a string"}},default:"font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow"}),B("custom_ui_selector",{processor:"string",default:""}),B("hidden_input",{processor:"boolean",default:!0}),B("submit_patch",{processor:"boolean",default:!0}),B("encoding",{processor:"string"}),B("add_form_submit_trigger",{processor:"boolean",default:!0}),B("add_unload_trigger",{processor:"boolean",default:!0}),B("custom_undo_redo_levels",{processor:"number",default:0}),B("disable_nodechange",{processor:"boolean",default:!1}),B("readonly",{processor:"boolean",default:!1}),B("editable_root",{processor:"boolean",default:!0}),B("plugins",{processor:"string[]",default:[]}),B("external_plugins",{processor:"object"}),B("forced_plugins",{processor:"string[]"}),B("model",{processor:"string",default:V.hasPlugin("rtc")?"plugin":"dom"}),B("model_url",{processor:"string"}),B("block_unsupported_drop",{processor:"boolean",default:!0}),B("visual",{processor:"boolean",default:!0}),B("visual_table_class",{processor:"string",default:"mce-item-table"}),B("visual_anchor_class",{processor:"string",default:"mce-item-anchor"}),B("iframe_aria_text",{processor:"string",default:"Rich Text Area. Press ALT-0 for help."}),B("setup",{processor:"function"}),B("init_instance_callback",{processor:"function"}),B("url_converter",{processor:"function",default:V.convertURL}),B("url_converter_scope",{processor:"object",default:V}),B("urlconverter_callback",{processor:"function"}),B("allow_conditional_comments",{processor:"boolean",default:!1}),B("allow_html_data_urls",{processor:"boolean",default:!1}),B("allow_svg_data_urls",{processor:"boolean"}),B("allow_html_in_named_anchor",{processor:"boolean",default:!1}),B("allow_script_urls",{processor:"boolean",default:!1}),B("allow_unsafe_link_target",{processor:"boolean",default:!1}),B("convert_fonts_to_spans",{processor:"boolean",default:!0,deprecated:!0}),B("fix_list_elements",{processor:"boolean",default:!1}),B("preserve_cdata",{processor:"boolean",default:!1}),B("remove_trailing_brs",{processor:"boolean",default:!0}),B("inline_styles",{processor:"boolean",default:!0,deprecated:!0}),B("element_format",{processor:"string",default:"html"}),B("entities",{processor:"string"}),B("schema",{processor:"string",default:"html5"}),B("convert_urls",{processor:"boolean",default:!0}),B("relative_urls",{processor:"boolean",default:!0}),B("remove_script_host",{processor:"boolean",default:!0}),B("custom_elements",{processor:"string"}),B("extended_valid_elements",{processor:"string"}),B("invalid_elements",{processor:"string"}),B("invalid_styles",{processor:$d}),B("valid_children",{processor:"string"}),B("valid_classes",{processor:$d}),B("valid_elements",{processor:"string"}),B("valid_styles",{processor:$d}),B("verify_html",{processor:"boolean",default:!0}),B("auto_focus",{processor:Z=>le(Z)||Z===!0}),B("browser_spellcheck",{processor:"boolean",default:!1}),B("protect",{processor:"array"}),B("images_file_types",{processor:"string",default:"jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp"}),B("deprecation_warnings",{processor:"boolean",default:!0}),B("a11y_advanced_options",{processor:"boolean",default:!1}),B("api_key",{processor:"string"}),B("paste_block_drop",{processor:"boolean",default:!1}),B("paste_data_images",{processor:"boolean",default:!0}),B("paste_preprocess",{processor:"function"}),B("paste_postprocess",{processor:"function"}),B("paste_webkit_styles",{processor:"string",default:"none"}),B("paste_remove_styles_if_webkit",{processor:"boolean",default:!0}),B("paste_merge_formats",{processor:"boolean",default:!0}),B("smart_paste",{processor:"boolean",default:!0}),B("paste_as_text",{processor:"boolean",default:!1}),B("paste_tab_spaces",{processor:"number",default:4}),B("text_patterns",{processor:Z=>Pt(Z,ue)||Z===!1?{value:vv(Z===!1?[]:Z),valid:!0}:{valid:!1,message:"Must be an array of objects or false."},default:[{start:"*",end:"*",format:"italic"},{start:"**",end:"**",format:"bold"},{start:"#",format:"h1"},{start:"##",format:"h2"},{start:"###",format:"h3"},{start:"####",format:"h4"},{start:"#####",format:"h5"},{start:"######",format:"h6"},{start:"1. ",cmd:"InsertOrderedList"},{start:"* ",cmd:"InsertUnorderedList"},{start:"- ",cmd:"InsertUnorderedList"}]}),B("text_patterns_lookup",{processor:Z=>{return Ae(Z)?{value:(z=Z,W=>{const te=z(W);return vv(te)}),valid:!0}:{valid:!1,message:"Must be a single function"};var z},default:Z=>[]}),B("noneditable_class",{processor:"string",default:"mceNonEditable"}),B("editable_class",{processor:"string",default:"mceEditable"}),B("noneditable_regexp",{processor:Z=>Pt(Z,qm)?{value:Z,valid:!0}:qm(Z)?{value:[Z],valid:!0}:{valid:!1,message:"Must be a RegExp or an array of RegExp."},default:[]}),B("table_tab_navigation",{processor:"boolean",default:!0}),B("highlight_on_focus",{processor:"boolean",default:!1}),B("xss_sanitization",{processor:"boolean",default:!0}),B("details_initial_state",{processor:Z=>{const z=Ht(["inherited","collapsed","expanded"],Z);return z?{value:Z,valid:z}:{valid:!1,message:"Must be one of: inherited, collapsed, or expanded."}},default:"inherited"}),B("details_serialized_state",{processor:Z=>{const z=Ht(["inherited","collapsed","expanded"],Z);return z?{value:Z,valid:z}:{valid:!1,message:"Must be one of: inherited, collapsed, or expanded."}},default:"inherited"}),B("init_content_sync",{processor:"boolean",default:!1}),B("newdocument_content",{processor:"string",default:""}),V.on("ScriptsLoaded",()=>{B("directionality",{processor:"string",default:Cc.isRtl()?"rtl":void 0}),B("placeholder",{processor:"string",default:yv.getAttrib(V.getElement(),"placeholder")})})})(l);const m=this.options.get;m("deprecation_warnings")&&((V,B)=>{((Z,z)=>{const W=Yx(Z),te=rM(z),se=te.length>0,be=W.length>0,Ce=z.theme==="mobile";if(se||be||Ce){const Ie=`
- `,je=Ce?`

Themes:${Ie}mobile`:"",st=se?`

Plugins:${Ie}${te.join(Ie)}`:"",Nt=be?`

Options:${Ie}${W.join(Ie)}`:"";console.warn("The following deprecated features are currently enabled and have been removed in TinyMCE 6.0. These features will no longer work and should be removed from the TinyMCE configuration. See https://www.tiny.cloud/docs/tinymce/6/migration-from-5x/ for more information."+je+st+Nt)}})(V,B),((Z,z)=>{const W=uT(Z),te=aM(z),se=te.length>0,be=W.length>0;if(se||be){const Ce=`
- `,Ie=se?`

Plugins:${Ce}${te.map(dT).join(Ce)}`:"",je=be?`

Options:${Ce}${W.join(Ce)}`:"";console.warn("The following deprecated features are currently enabled but will be removed soon."+Ie+je)}})(V,B)})(o,d);const f=m("suffix");f&&(s.suffix=f),this.suffix=s.suffix;const y=m("base_url");y&&s._setBaseUrl(y),this.baseUri=s.baseURI;const _=Ev(l);_&&(Xu.ScriptLoader._setReferrerPolicy(_),la.DOM.styleSheetLoader._setReferrerPolicy(_));const E=Av(l);G(E)&&la.DOM.styleSheetLoader._setContentCssCors(E),ai.languageLoad=m("language_load"),ai.baseURL=s.baseURL,this.setDirty(!1),this.documentBaseURI=new fd(ln(l),{base_uri:this.baseUri}),this.baseURI=this.baseUri,this.inline=ap(l),this.hasVisual=$b(l),this.shortcuts=new SC(this),this.editorCommands=new HA(this),c7(this);const T=m("cache_suffix");T&&(_r.cacheSuffix=T.replace(/^[\?\&]+/,"")),this.ui={registry:IE(),styleSheetLoader:void 0,show:Ft,hide:Ft,setEnabled:Ft,isEnabled:Sn},this.mode=(V=>{const B=_s("design"),Z=_s({design:{activate:Ft,deactivate:Ft,editorReadOnly:!1},readonly:{activate:Ft,deactivate:Ft,editorReadOnly:!0}});return(z=>{z.serializer?VA(z):z.on("PreInit",()=>{VA(z)})})(V),(z=>{z.on("ShowCaret",W=>{zp(z)&&W.preventDefault()}),z.on("ObjectSelected",W=>{zp(z)&&W.preventDefault()})})(V),{isReadOnly:()=>zp(V),set:z=>((W,te,se,be)=>{if(be!==se.get()){if(!fn(te,be))throw new Error(`Editor mode '${be}' is invalid`);W.initialized?DE(W,se,te,be):W.on("init",()=>DE(W,se,te,be))}})(V,Z.get(),B,z),get:()=>B.get(),register:(z,W)=>{Z.set(((te,se,be)=>{if(Ht(m7,se))throw new Error(`Cannot override default mode ${se}`);return{...te,[se]:{...be,deactivate:()=>{try{be.deactivate()}catch(Ce){console.error(`problem while deactivating editor mode ${se}:`,Ce)}}}}})(Z.get(),z,W))}}})(l),s.dispatch("SetupEditor",{editor:this});const P=Ph(l);Ae(P)&&P.call(l,l)}render(){(n=>{const o=n.id;Cc.setCode(Pb(n));const s=()=>{k1.unbind(window,"ready",s),n.render()};if(!Ld.Event.domLoaded)return void k1.bind(window,"ready",s);if(!n.getElement())return;const l=Ue(n.getElement()),d=Sd(l);n.on("remove",()=>{oo(l.dom.attributes,f=>Da(l,f.name)),el(l,d)}),n.ui.styleSheetLoader=((f,y)=>eo.forElement(f,{contentCssCors:Av(y),referrerPolicy:Ev(y)}))(l,n),ap(n)?n.inline=!0:(n.orgVisibility=n.getElement().style.visibility,n.getElement().style.visibility="hidden");const m=n.getElement().form||k1.getParent(o,"form");m&&(n.formElement=m,zb(n)&&!Ci(n.getElement())&&(k1.insertAfter(k1.create("input",{type:"hidden",name:o}),o),n.hasHiddenInput=!0),n.formEventDelegate=f=>{n.dispatch(f.type,f)},k1.bind(m,"submit reset",n.formEventDelegate),n.on("reset",()=>{n.resetContent()}),!ed(n)||m.submit.nodeType||m.submit.length||m._mceOldSubmit||(m._mceOldSubmit=m.submit,m.submit=()=>(n.editorManager.triggerSave(),n.setDirty(!1),m._mceOldSubmit(m)))),n.windowManager=MS(n),n.notificationManager=mg(n),(f=>f.options.get("encoding")==="xml")(n)&&n.on("GetContent",f=>{f.save&&(f.content=k1.encode(f.content))}),Ym(n)&&n.on("submit",()=>{n.initialized&&n.save()}),Rh(n)&&(n._beforeUnload=()=>{!n.initialized||n.destroyed||n.isHidden()||n.save({format:"raw",no_events:!0,set_dirty:!1})},n.editorManager.on("BeforeUnload",n._beforeUnload)),n.editorManager.add(n),xE(n,n.suffix)})(this)}focus(n){this.execCommand("mceFocus",!1,n)}hasFocus(){return Yh(this)}translate(n){return Cc.translate(n)}getParam(n,o,s){const l=this.options;return l.isRegistered(n)||(G(s)?l.register(n,{processor:s,default:o}):l.register(n,{processor:Sn,default:o})),l.isSet(n)||ae(o)?l.get(n):o}hasPlugin(n,o){return!(!Ht(Ih(this),n)||o&&eu.get(n)===void 0)}nodeChanged(n){this._nodeChangeDispatcher.nodeChanged(n)}addCommand(n,o,s){this.editorCommands.addCommand(n,o,s)}addQueryStateHandler(n,o,s){this.editorCommands.addQueryStateHandler(n,o,s)}addQueryValueHandler(n,o,s){this.editorCommands.addQueryValueHandler(n,o,s)}addShortcut(n,o,s,l){this.shortcuts.add(n,o,s,l)}execCommand(n,o,s,l){return this.editorCommands.execCommand(n,o,s,l)}queryCommandState(n){return this.editorCommands.queryCommandState(n)}queryCommandValue(n){return this.editorCommands.queryCommandValue(n)}queryCommandSupported(n){return this.editorCommands.queryCommandSupported(n)}show(){const n=this;n.hidden&&(n.hidden=!1,n.inline?n.getBody().contentEditable="true":(hf.show(n.getContainer()),hf.hide(n.id)),n.load(),n.dispatch("show"))}hide(){const n=this;n.hidden||(n.save(),n.inline?(n.getBody().contentEditable="false",n===n.editorManager.focusedEditor&&(n.editorManager.focusedEditor=null)):(hf.hide(n.getContainer()),hf.setStyle(n.id,"display",n.orgDisplay)),n.hidden=!0,n.dispatch("hide"))}isHidden(){return this.hidden}setProgressState(n,o){this.dispatch("ProgressState",{state:n,time:o})}load(n={}){const o=this,s=o.getElement();if(o.removed)return"";if(s){const l={...n,load:!0},d=Ci(s)?s.value:s.innerHTML,m=o.setContent(d,l);return l.no_events||o.dispatch("LoadContent",{...l,element:s}),m}return""}save(n={}){const o=this;let s=o.getElement();if(!s||!o.initialized||o.removed)return"";const l={...n,save:!0,element:s};let d=o.getContent(l);const m={...l,content:d};if(m.no_events||o.dispatch("SaveContent",m),m.format==="raw"&&o.dispatch("RawSaveContent",m),d=m.content,Ci(s))s.value=d;else{!n.is_removing&&o.inline||(s.innerHTML=d);const f=hf.getParent(o.id,"form");f&&LE(f.elements,y=>y.name!==o.id||(y.value=d,!1))}return m.element=l.element=s=null,m.set_dirty!==!1&&o.setDirty(!1),d}setContent(n,o){return qx(this,n,o)}getContent(n){return((o,s={})=>{const l=((d,m)=>({...d,format:m,get:!0,getInner:!0}))(s,s.format?s.format:"html");return dg(o,l).fold(nn,d=>{const m=((f,y)=>Zx(f).editor.getContent(y))(o,d);return Lx(o,m,d)})})(this,n)}insertContent(n,o){o&&(n=PE({content:n},o)),this.execCommand("mceInsertContent",!1,n)}resetContent(n){n===void 0?qx(this,this.startContent,{format:"raw"}):qx(this,n),this.undoManager.reset(),this.setDirty(!1),this.nodeChanged()}isDirty(){return!this.isNotDirty}setDirty(n){const o=!this.isNotDirty;this.isNotDirty=!n,n&&n!==o&&this.dispatch("dirty")}getContainer(){const n=this;return n.container||(n.container=n.editorContainer||hf.get(n.id+"_parent")),n.container}getContentAreaContainer(){return this.contentAreaContainer}getElement(){return this.targetElm||(this.targetElm=hf.get(this.id)),this.targetElm}getWin(){const n=this;if(!n.contentWindow){const o=n.iframeElement;o&&(n.contentWindow=o.contentWindow)}return n.contentWindow}getDoc(){const n=this;if(!n.contentDocument){const o=n.getWin();o&&(n.contentDocument=o.document)}return n.contentDocument}getBody(){var n,o;const s=this.getDoc();return(o=(n=this.bodyElement)!==null&&n!==void 0?n:s==null?void 0:s.body)!==null&&o!==void 0?o:null}convertURL(n,o,s){const l=this,d=l.options.get,m=vk(l);return Ae(m)?m.call(l,n,s,!0,o):!d("convert_urls")||s==="link"||ue(s)&&s.nodeName==="LINK"||n.indexOf("file:")===0||n.length===0?n:d("relative_urls")?l.documentBaseURI.toRelative(n):n=l.documentBaseURI.toAbsolute(n,d("remove_script_host"))}addVisual(n){((o,s)=>{((l,d)=>{Os(l).editor.addVisual(d)})(o,s)})(this,n)}setEditableRoot(n){((o,s)=>{o._editableRoot!==s&&(o._editableRoot=s,o.readonly||(o.getBody().contentEditable=String(o.hasEditableRoot()),o.nodeChanged()),((l,d)=>{l.dispatch("EditableRootStateChange",{state:d})})(o,s))})(this,n)}hasEditableRoot(){return this._editableRoot}remove(){(n=>{if(!n.removed){const{_selectionOverrides:o,editorUpload:s}=n,l=n.getBody(),d=n.getElement();l&&n.save({is_removing:!0}),n.removed=!0,n.unbindAllNativeEvents(),n.hasHiddenInput&&G(d==null?void 0:d.nextSibling)&&Xx.remove(d.nextSibling),(m=>{m.dispatch("remove")})(n),n.editorManager.remove(n),!n.inline&&l&&(m=>{Xx.setStyle(m.id,"display",m.orgDisplay)})(n),(m=>{m.dispatch("detach")})(n),Xx.remove(n.getContainer()),Gy(o),Gy(s),n.destroy()}})(this)}destroy(n){((o,s)=>{const{selection:l,dom:d}=o;o.destroyed||(s||o.removed?(s||(o.editorManager.off("beforeunload",o._beforeUnload),o.theme&&o.theme.destroy&&o.theme.destroy(),Gy(l),Gy(d)),(m=>{const f=m.formElement;f&&(f._mceOldSubmit&&(f.submit=f._mceOldSubmit,delete f._mceOldSubmit),Xx.unbind(f,"submit reset",m.formEventDelegate))})(o),(m=>{const f=m;f.contentAreaContainer=f.formElement=f.container=f.editorContainer=null,f.bodyElement=f.contentDocument=f.contentWindow=null,f.iframeElement=f.targetElm=null;const y=m.selection;if(y){const _=y.dom;f.selection=y.win=y.dom=_.doc=null}})(o),o.destroyed=!0):o.remove())})(this,n)}uploadImages(){return this.editorUpload.uploadImages()}_scanForImages(){return this.editorUpload.scanForImages()}}const z0=la.DOM,F2=an.each;let EC,BE=!1,Ll=[];const OC=t=>{const n=t.type;F2(Cg.get(),o=>{switch(n){case"scroll":o.dispatch("ScrollWindow",t);break;case"resize":o.dispatch("ResizeWindow",t)}})},FE=t=>{if(t!==BE){const n=la.DOM;t?(n.bind(window,"resize",OC),n.bind(window,"scroll",OC)):(n.unbind(window,"resize",OC),n.unbind(window,"scroll",OC)),BE=t}},TC=t=>{const n=Ll;return Ll=ne(Ll,o=>t!==o),Cg.activeEditor===t&&(Cg.activeEditor=Ll.length>0?Ll[0]:null),Cg.focusedEditor===t&&(Cg.focusedEditor=null),n.length!==Ll.length},GA=document.compatMode!=="CSS1Compat",Cg={...xC,baseURI:null,baseURL:null,defaultOptions:{},documentBaseURL:null,suffix:null,majorVersion:"6",minorVersion:"5.1",releaseDate:"2023-06-19",i18n:Cc,activeEditor:null,focusedEditor:null,setup(){const t=this;let n="",o="",s=fd.getDocumentBaseUrl(document.location);/^[^:]+:\/\/\/?[^\/]+\//.test(s)&&(s=s.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(s)||(s+="/"));const l=window.tinymce||window.tinyMCEPreInit;if(l)n=l.base||l.baseURL,o=l.suffix;else{const m=document.getElementsByTagName("script");for(let f=0;f<m.length;f++){const y=m[f].src||"";if(y==="")continue;const _=y.substring(y.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(y)){_.indexOf(".min")!==-1&&(o=".min"),n=y.substring(0,y.lastIndexOf("/"));break}}if(!n&&document.currentScript){const f=document.currentScript.src;f.indexOf(".min")!==-1&&(o=".min"),n=f.substring(0,f.lastIndexOf("/"))}}var d;t.baseURL=new fd(s).toAbsolute(n),t.documentBaseURL=s,t.baseURI=new fd(t.baseURL),t.suffix=o,(d=t).on("AddEditor",it(AN,d)),d.on("RemoveEditor",it(NN,d))},overrideDefaults(t){const n=t.base_url;n&&this._setBaseUrl(n);const o=t.suffix;o&&(this.suffix=o),this.defaultOptions=t;const s=t.plugin_base_urls;s!==void 0&&ut(s,(l,d)=>{ai.PluginManager.urls[d]=l})},init(t){const n=this;let o;const s=an.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option table tbody tfoot thead tr th td script noscript style textarea video audio iframe object menu"," ");let l=m=>{o=m};const d=()=>{let m=0;const f=[];let y;z0.unbind(window,"ready",d),(_=>{const E=t.onpageload;E&&E.apply(n,[])})(),y=((_,E)=>{const T=[],P=Ae(E)?V=>dt(T,B=>E(B,V)):V=>Ht(T,V);for(let V=0,B=_.length;V<B;V++){const Z=_[V];P(Z)||T.push(Z)}return T})((_=>_r.browser.isIE()||_r.browser.isEdge()?(Ky("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tiny.cloud/docs/tinymce/6/support/#supportedwebbrowsers"),[]):GA?(Ky("Failed to initialize the editor as the document is not in standards mode. TinyMCE requires standards mode."),[]):le(_.selector)?z0.select(_.selector):G(_.target)?[_.target]:[])(t)),an.each(y,_=>{var E;(E=n.get(_.id))&&E.initialized&&!(E.getContainer()||E.getBody()).parentNode&&(TC(E),E.unbindAllNativeEvents(),E.destroy(!0),E.removed=!0)}),y=an.grep(y,_=>!n.get(_.id)),y.length===0?l([]):F2(y,_=>{((E,T)=>E.inline&&T.tagName.toLowerCase()in s)(t,_)?Ky("Could not initialize inline editor on invalid inline target element",_):((E,T,P)=>{const V=new B2(E,T,n);f.push(V),V.on("init",()=>{++m===y.length&&l(f)}),V.targetElm=V.targetElm||P,V.render()})((E=>{let T=E.id;return T||(T=Zt(E,"name").filter(P=>!z0.get(P)).getOrThunk(z0.uniqueId),E.setAttribute("id",T)),T})(_),t,_)})};return z0.bind(window,"ready",d),new Promise(m=>{o?m(o):l=f=>{m(f)}})},get(t){return arguments.length===0?Ll.slice(0):le(t)?Ct(Ll,n=>n.id===t).getOr(null):ye(t)&&Ll[t]?Ll[t]:null},add(t){const n=this,o=n.get(t.id);return o===t||(o===null&&Ll.push(t),FE(!0),n.activeEditor=t,n.dispatch("AddEditor",{editor:t}),EC||(EC=s=>{const l=n.dispatch("BeforeUnload");if(l.returnValue)return s.preventDefault(),s.returnValue=l.returnValue,l.returnValue},window.addEventListener("beforeunload",EC))),t},createEditor(t,n){return this.add(new B2(t,n,this))},remove(t){const n=this;let o;if(t){if(!le(t))return o=t,me(n.get(o.id))?null:(TC(o)&&n.dispatch("RemoveEditor",{editor:o}),Ll.length===0&&window.removeEventListener("beforeunload",EC),o.remove(),FE(Ll.length>0),o);F2(z0.select(t),s=>{o=n.get(s.id),o&&n.remove(o)})}else for(let s=Ll.length-1;s>=0;s--)n.remove(Ll[s])},execCommand(t,n,o){var s;const l=this,d=ue(o)?(s=o.id)!==null&&s!==void 0?s:o.index:o;switch(t){case"mceAddEditor":if(!l.get(d)){const m=o.options;new B2(d,m,l).render()}return!0;case"mceRemoveEditor":{const m=l.get(d);return m&&m.remove(),!0}case"mceToggleEditor":{const m=l.get(d);return m?(m.isHidden()?m.show():m.hide(),!0):(l.execCommand("mceAddEditor",!1,o),!0)}}return!!l.activeEditor&&l.activeEditor.execCommand(t,n,o)},triggerSave:()=>{F2(Ll,t=>{t.save()})},addI18n:(t,n)=>{Cc.add(t,n)},translate:t=>Cc.translate(t),setActive(t){const n=this.activeEditor;this.activeEditor!==t&&(n&&n.dispatch("deactivate",{relatedTarget:t}),t.dispatch("activate",{relatedTarget:n})),this.activeEditor=t},_setBaseUrl(t){this.baseURL=new fd(this.documentBaseURL).toAbsolute(t.replace(/\/+$/,"")),this.baseURI=new fd(this.baseURL)}};Cg.setup();const qA=(()=>{const t=_a();return{FakeClipboardItem:n=>({items:n,types:ur(n),getType:o=>Zt(n,o).getOrUndefined()}),write:n=>{t.set(n)},read:()=>t.get().getOrUndefined(),clear:t.clear}})(),HE=Math.min,V0=Math.max,AC=Math.round,NC=(t,n,o)=>{let s=n.x,l=n.y;const d=t.w,m=t.h,f=n.w,y=n.h,_=(o||"").split("");return _[0]==="b"&&(l+=y),_[1]==="r"&&(s+=f),_[0]==="c"&&(l+=AC(y/2)),_[1]==="c"&&(s+=AC(f/2)),_[3]==="b"&&(l-=m),_[4]==="r"&&(s-=d),_[3]==="c"&&(l-=AC(m/2)),_[4]==="c"&&(s-=AC(d/2)),$0(s,l,d,m)},$0=(t,n,o,s)=>({x:t,y:n,w:o,h:s}),KA={inflate:(t,n,o)=>$0(t.x-n,t.y-o,t.w+2*n,t.h+2*o),relativePosition:NC,findBestRelativePosition:(t,n,o,s)=>{for(let l=0;l<s.length;l++){const d=NC(t,n,s[l]);if(d.x>=o.x&&d.x+d.w<=o.w+o.x&&d.y>=o.y&&d.y+d.h<=o.h+o.y)return s[l]}return null},intersect:(t,n)=>{const o=V0(t.x,n.x),s=V0(t.y,n.y),l=HE(t.x+t.w,n.x+n.w),d=HE(t.y+t.h,n.y+n.h);return l-o<0||d-s<0?null:$0(o,s,l-o,d-s)},clamp:(t,n,o)=>{let s=t.x,l=t.y,d=t.x+t.w,m=t.y+t.h;const f=n.x+n.w,y=n.y+n.h,_=V0(0,n.x-s),E=V0(0,n.y-l),T=V0(0,d-f),P=V0(0,m-y);return s+=_,l+=E,o&&(d+=_,m+=E,s-=T,l-=P),d-=T,m-=P,$0(s,l,d-s,m-l)},create:$0,fromClientRect:t=>$0(t.left,t.top,t.width,t.height)},YA=(()=>{const t={},n={};return{load:(o,s)=>{const l=`Script at URL "${s}" failed to load`,d=`Script at URL "${s}" did not call \`tinymce.Resource.add('${o}', data)\` within 1 second`;if(t[o]!==void 0)return t[o];{const m=new Promise((f,y)=>{const _=((E,T,P=1e3)=>{let V=!1,B=null;const Z=te=>(...se)=>{V||(V=!0,B!==null&&(clearTimeout(B),B=null),te.apply(null,se))},z=Z(E),W=Z(T);return{start:(...te)=>{V||B!==null||(B=setTimeout(()=>W.apply(null,te),P))},resolve:z,reject:W}})(f,y);n[o]=_.resolve,Xu.ScriptLoader.loadScript(s).then(()=>_.start(d),()=>_.reject(l))});return t[o]=m,m}},add:(o,s)=>{n[o]!==void 0&&(n[o](s),delete n[o]),t[o]=Promise.resolve(s)},unload:o=>{delete t[o]}}})();let O1;try{const t="__storage_test__";O1=window.localStorage,O1.setItem(t,t),O1.removeItem(t)}catch{O1=(()=>{let n={},o=[];const s={getItem:l=>n[l]||null,setItem:(l,d)=>{o.push(l),n[l]=String(d)},key:l=>o[l],removeItem:l=>{o=o.filter(d=>d===l),delete n[l]},clear:()=>{o=[],n={}},length:0};return Object.defineProperty(s,"length",{get:()=>o.length,configurable:!1,enumerable:!1}),s})()}const zE={geom:{Rect:KA},util:{Delay:Xc,Tools:an,VK:Yn,URI:fd,EventDispatcher:NE,Observable:xC,I18n:Cc,LocalStorage:O1,ImageUploader:t=>{const n=PS(),o=tu(t,n);return{upload:(s,l=!0)=>o.upload(s,l?fT(t):void 0)}}},dom:{EventUtils:Ld,TreeWalker:qo,TextSeeker:Fd,DOMUtils:la,ScriptLoader:Xu,RangeUtils:af,Serializer:Gx,StyleSheetLoader:Pr,ControlSelection:ld,BookmarkManager:id,Selection:Wx,Event:Ld.Event},html:{Styles:nv,Entities:pi,Node:ec,Schema:Pd,DomParser:g0,Writer:uy,Serializer:sg},Env:_r,AddOnManager:ai,Annotator:U5,Formatter:w0,UndoManager:x0,EditorCommands:HA,WindowManager:MS,NotificationManager:mg,EditorObservable:RE,Shortcuts:SC,Editor:B2,FocusManager:Vk,EditorManager:Cg,DOM:la.DOM,ScriptLoader:Xu.ScriptLoader,PluginManager:eu,ThemeManager:Np,ModelManager:v0,IconManager:Jx,Resource:YA,FakeClipboard:qA,trim:an.trim,isArray:an.isArray,is:an.is,toArray:an.toArray,makeMap:an.makeMap,each:an.each,map:an.map,grep:an.grep,inArray:an.inArray,extend:an.extend,walk:an.walk,resolve:an.resolve,explode:an.explode,_addCacheSuffix:an._addCacheSuffix},MC=an.extend(Cg,zE);(t=>{window.tinymce=t,window.tinyMCE=t})(MC),(t=>{if(typeof module=="object")try{module.exports=t}catch{}})(MC)})();(function(){var a=tinymce.util.Tools.resolve("tinymce.PluginManager");const u=(wn,Ke)=>{const nn=((H,it)=>H.dispatch("insertCustomChar",{chr:it}))(wn,Ke).chr;wn.execCommand("mceInsertContent",!1,nn)},p=wn=>Ke=>wn===Ke,b=wn=>(Ke=>{const nn=typeof Ke;return Ke===null?"null":nn==="object"&&Array.isArray(Ke)?"array":nn==="object"&&(H=it=Ke,(kn=String).prototype.isPrototypeOf(H)||((wt=it.constructor)===null||wt===void 0?void 0:wt.name)===kn.name)?"string":nn;var H,it,kn,wt})(wn)==="array",C=p(null),S=p(void 0),M=wn=>typeof wn=="function",D=()=>!1;class I{constructor(Ke,nn){this.tag=Ke,this.value=nn}static some(Ke){return new I(!0,Ke)}static none(){return I.singletonNone}fold(Ke,nn){return this.tag?nn(this.value):Ke()}isSome(){return this.tag}isNone(){return!this.tag}map(Ke){return this.tag?I.some(Ke(this.value)):I.none()}bind(Ke){return this.tag?Ke(this.value):I.none()}exists(Ke){return this.tag&&Ke(this.value)}forall(Ke){return!this.tag||Ke(this.value)}filter(Ke){return!this.tag||Ke(this.value)?this:I.none()}getOr(Ke){return this.tag?this.value:Ke}or(Ke){return this.tag?this:Ke}getOrThunk(Ke){return this.tag?this.value:Ke()}orThunk(Ke){return this.tag?this:Ke()}getOrDie(Ke){if(this.tag)return this.value;throw new Error(Ke!=null?Ke:"Called getOrDie on None")}static from(Ke){return Ke==null?I.none():I.some(Ke)}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(Ke){this.tag&&Ke(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}I.singletonNone=new I(!1);const q=Array.prototype.push,re=(wn,Ke)=>{const nn=wn.length,H=new Array(nn);for(let it=0;it<nn;it++){const kn=wn[it];H[it]=Ke(kn,it)}return H};var fe=tinymce.util.Tools.resolve("tinymce.util.Tools");const le=wn=>Ke=>Ke.options.get(wn),ue=le("charmap"),ke=le("charmap_append"),xe=fe.isArray,me="User Defined",J=wn=>{return xe(wn)?(Ke=wn,fe.grep(Ke,nn=>xe(nn)&&nn.length===2)):typeof wn=="function"?wn():[];var Ke},ae=wn=>{const Ke=((it,kn)=>{const wt=ue(it);wt&&(kn=[{name:me,characters:J(wt)}]);const cn=ke(it);if(cn){const In=fe.grep(kn,pn=>pn.name===me);return In.length?(In[0].characters=[...In[0].characters,...J(cn)],kn):kn.concat({name:me,characters:J(cn)})}return kn})(wn,[{name:"Currency",characters:[[36,"dollar sign"],[162,"cent sign"],[8364,"euro sign"],[163,"pound sign"],[165,"yen sign"],[164,"currency sign"],[8352,"euro-currency sign"],[8353,"colon sign"],[8354,"cruzeiro sign"],[8355,"french franc sign"],[8356,"lira sign"],[8357,"mill sign"],[8358,"naira sign"],[8359,"peseta sign"],[8360,"rupee sign"],[8361,"won sign"],[8362,"new sheqel sign"],[8363,"dong sign"],[8365,"kip sign"],[8366,"tugrik sign"],[8367,"drachma sign"],[8368,"german penny symbol"],[8369,"peso sign"],[8370,"guarani sign"],[8371,"austral sign"],[8372,"hryvnia sign"],[8373,"cedi sign"],[8374,"livre tournois sign"],[8375,"spesmilo sign"],[8376,"tenge sign"],[8377,"indian rupee sign"],[8378,"turkish lira sign"],[8379,"nordic mark sign"],[8380,"manat sign"],[8381,"ruble sign"],[20870,"yen character"],[20803,"yuan character"],[22291,"yuan character, in hong kong and taiwan"],[22278,"yen/yuan character variant one"]]},{name:"Text",characters:[[169,"copyright sign"],[174,"registered sign"],[8482,"trade mark sign"],[8240,"per mille sign"],[181,"micro sign"],[183,"middle dot"],[8226,"bullet"],[8230,"three dot leader"],[8242,"minutes / feet"],[8243,"seconds / inches"],[167,"section sign"],[182,"paragraph sign"],[223,"sharp s / ess-zed"]]},{name:"Quotations",characters:[[8249,"single left-pointing angle quotation mark"],[8250,"single right-pointing angle quotation mark"],[171,"left pointing guillemet"],[187,"right pointing guillemet"],[8216,"left single quotation mark"],[8217,"right single quotation mark"],[8220,"left double quotation mark"],[8221,"right double quotation mark"],[8218,"single low-9 quotation mark"],[8222,"double low-9 quotation mark"],[60,"less-than sign"],[62,"greater-than sign"],[8804,"less-than or equal to"],[8805,"greater-than or equal to"],[8211,"en dash"],[8212,"em dash"],[175,"macron"],[8254,"overline"],[164,"currency sign"],[166,"broken bar"],[168,"diaeresis"],[161,"inverted exclamation mark"],[191,"turned question mark"],[710,"circumflex accent"],[732,"small tilde"],[176,"degree sign"],[8722,"minus sign"],[177,"plus-minus sign"],[247,"division sign"],[8260,"fraction slash"],[215,"multiplication sign"],[185,"superscript one"],[178,"superscript two"],[179,"superscript three"],[188,"fraction one quarter"],[189,"fraction one half"],[190,"fraction three quarters"]]},{name:"Mathematical",characters:[[402,"function / florin"],[8747,"integral"],[8721,"n-ary sumation"],[8734,"infinity"],[8730,"square root"],[8764,"similar to"],[8773,"approximately equal to"],[8776,"almost equal to"],[8800,"not equal to"],[8801,"identical to"],[8712,"element of"],[8713,"not an element of"],[8715,"contains as member"],[8719,"n-ary product"],[8743,"logical and"],[8744,"logical or"],[172,"not sign"],[8745,"intersection"],[8746,"union"],[8706,"partial differential"],[8704,"for all"],[8707,"there exists"],[8709,"diameter"],[8711,"backward difference"],[8727,"asterisk operator"],[8733,"proportional to"],[8736,"angle"]]},{name:"Extended Latin",characters:[[192,"A - grave"],[193,"A - acute"],[194,"A - circumflex"],[195,"A - tilde"],[196,"A - diaeresis"],[197,"A - ring above"],[256,"A - macron"],[198,"ligature AE"],[199,"C - cedilla"],[200,"E - grave"],[201,"E - acute"],[202,"E - circumflex"],[203,"E - diaeresis"],[274,"E - macron"],[204,"I - grave"],[205,"I - acute"],[206,"I - circumflex"],[207,"I - diaeresis"],[298,"I - macron"],[208,"ETH"],[209,"N - tilde"],[210,"O - grave"],[211,"O - acute"],[212,"O - circumflex"],[213,"O - tilde"],[214,"O - diaeresis"],[216,"O - slash"],[332,"O - macron"],[338,"ligature OE"],[352,"S - caron"],[217,"U - grave"],[218,"U - acute"],[219,"U - circumflex"],[220,"U - diaeresis"],[362,"U - macron"],[221,"Y - acute"],[376,"Y - diaeresis"],[562,"Y - macron"],[222,"THORN"],[224,"a - grave"],[225,"a - acute"],[226,"a - circumflex"],[227,"a - tilde"],[228,"a - diaeresis"],[229,"a - ring above"],[257,"a - macron"],[230,"ligature ae"],[231,"c - cedilla"],[232,"e - grave"],[233,"e - acute"],[234,"e - circumflex"],[235,"e - diaeresis"],[275,"e - macron"],[236,"i - grave"],[237,"i - acute"],[238,"i - circumflex"],[239,"i - diaeresis"],[299,"i - macron"],[240,"eth"],[241,"n - tilde"],[242,"o - grave"],[243,"o - acute"],[244,"o - circumflex"],[245,"o - tilde"],[246,"o - diaeresis"],[248,"o slash"],[333,"o macron"],[339,"ligature oe"],[353,"s - caron"],[249,"u - grave"],[250,"u - acute"],[251,"u - circumflex"],[252,"u - diaeresis"],[363,"u - macron"],[253,"y - acute"],[254,"thorn"],[255,"y - diaeresis"],[563,"y - macron"],[913,"Alpha"],[914,"Beta"],[915,"Gamma"],[916,"Delta"],[917,"Epsilon"],[918,"Zeta"],[919,"Eta"],[920,"Theta"],[921,"Iota"],[922,"Kappa"],[923,"Lambda"],[924,"Mu"],[925,"Nu"],[926,"Xi"],[927,"Omicron"],[928,"Pi"],[929,"Rho"],[931,"Sigma"],[932,"Tau"],[933,"Upsilon"],[934,"Phi"],[935,"Chi"],[936,"Psi"],[937,"Omega"],[945,"alpha"],[946,"beta"],[947,"gamma"],[948,"delta"],[949,"epsilon"],[950,"zeta"],[951,"eta"],[952,"theta"],[953,"iota"],[954,"kappa"],[955,"lambda"],[956,"mu"],[957,"nu"],[958,"xi"],[959,"omicron"],[960,"pi"],[961,"rho"],[962,"final sigma"],[963,"sigma"],[964,"tau"],[965,"upsilon"],[966,"phi"],[967,"chi"],[968,"psi"],[969,"omega"]]},{name:"Symbols",characters:[[8501,"alef symbol"],[982,"pi symbol"],[8476,"real part symbol"],[978,"upsilon - hook symbol"],[8472,"Weierstrass p"],[8465,"imaginary part"]]},{name:"Arrows",characters:[[8592,"leftwards arrow"],[8593,"upwards arrow"],[8594,"rightwards arrow"],[8595,"downwards arrow"],[8596,"left right arrow"],[8629,"carriage return"],[8656,"leftwards double arrow"],[8657,"upwards double arrow"],[8658,"rightwards double arrow"],[8659,"downwards double arrow"],[8660,"left right double arrow"],[8756,"therefore"],[8834,"subset of"],[8835,"superset of"],[8836,"not a subset of"],[8838,"subset of or equal to"],[8839,"superset of or equal to"],[8853,"circled plus"],[8855,"circled times"],[8869,"perpendicular"],[8901,"dot operator"],[8968,"left ceiling"],[8969,"right ceiling"],[8970,"left floor"],[8971,"right floor"],[9001,"left-pointing angle bracket"],[9002,"right-pointing angle bracket"],[9674,"lozenge"],[9824,"black spade suit"],[9827,"black club suit"],[9829,"black heart suit"],[9830,"black diamond suit"],[8194,"en space"],[8195,"em space"],[8201,"thin space"],[8204,"zero width non-joiner"],[8205,"zero width joiner"],[8206,"left-to-right mark"],[8207,"right-to-left mark"]]}]);return Ke.length>1?[{name:"All",characters:(nn=Ke,H=it=>it.characters,(it=>{const kn=[];for(let wt=0,cn=it.length;wt<cn;++wt){if(!b(it[wt]))throw new Error("Arr.flatten item "+wt+" was not an array, input: "+it);q.apply(kn,it[wt])}return kn})(re(nn,H)))}].concat(Ke):Ke;var nn,H},De=wn=>{let Ke=wn;return{get:()=>Ke,set:nn=>{Ke=nn}}},G=(wn,Ke,nn=0,H)=>{const it=wn.indexOf(Ke,nn);return it!==-1&&(!!S(H)||it+Ke.length<=H)},Ae=String.fromCodePoint,ye=(wn,Ke)=>{const nn=[],H=Ke.toLowerCase();return((it,kn)=>{for(let cn=0,In=it.length;cn<In;cn++)((pn,Sn,Q)=>!!G(Ae(pn).toLowerCase(),Q)||G(Sn.toLowerCase(),Q)||G(Sn.toLowerCase().replace(/\s+/g,""),Q))((wt=it[cn])[0],wt[1],H)&&nn.push(wt);var wt})(wn.characters),re(nn,it=>({text:it[1],value:Ae(it[0]),icon:Ae(it[0])}))},Pt="pattern",Ft=(wn,Ke)=>{const nn=()=>[{label:"Search",type:"input",name:Pt},{type:"collection",name:"results"}],H=Ke.length===1?De(me):De("All"),it=((wt,cn)=>{let In=null;const pn=()=>{C(In)||(clearTimeout(In),In=null)};return{cancel:pn,throttle:(...Sn)=>{pn(),In=setTimeout(()=>{In=null,wt.apply(null,Sn)},40)}}})(wt=>{const cn=wt.getData().pattern;((In,pn)=>{var Sn,Q;(Sn=Ke,Q=xn=>xn.name===H.get(),((xn,et,_t)=>{for(let Sr=0,Ht=xn.length;Sr<Ht;Sr++){const dt=xn[Sr];if(et(dt,Sr))return I.some(dt);if(_t(dt,Sr))break}return I.none()})(Sn,Q,D)).each(xn=>{const et=ye(xn,pn);In.setData({results:et})})})(wt,cn)}),kn={title:"Special Character",size:"normal",body:Ke.length===1?{type:"panel",items:nn()}:{type:"tabpanel",tabs:re(Ke,wt=>({title:wt.name,name:wt.name,items:nn()}))},buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}],initialData:{pattern:"",results:ye(Ke[0],"")},onAction:(wt,cn)=>{cn.name==="results"&&(u(wn,cn.value),wt.close())},onTabChange:(wt,cn)=>{H.set(cn.newTabName),it.throttle(wt)},onChange:(wt,cn)=>{cn.name===Pt&&it.throttle(wt)}};wn.windowManager.open(kn).focus(Pt)},qn=wn=>Ke=>{const nn=()=>{Ke.setEnabled(wn.selection.isEditable())};return wn.on("NodeChange",nn),nn(),()=>{wn.off("NodeChange",nn)}};a.add("charmap",wn=>{(nn=>{const H=nn.options.register,it=kn=>M(kn)||b(kn);H("charmap",{processor:it}),H("charmap_append",{processor:it})})(wn);const Ke=ae(wn);return((nn,H)=>{nn.addCommand("mceShowCharmap",()=>{Ft(nn,H)})})(wn,Ke),(nn=>{const H=()=>nn.execCommand("mceShowCharmap");nn.ui.registry.addButton("charmap",{icon:"insert-character",tooltip:"Special character",onAction:H,onSetup:qn(nn)}),nn.ui.registry.addMenuItem("charmap",{icon:"insert-character",text:"Special character...",onAction:H,onSetup:qn(nn)})})(wn),((nn,H)=>{nn.ui.registry.addAutocompleter("charmap",{trigger:":",columns:"auto",minChars:2,fetch:(it,kn)=>new Promise((wt,cn)=>{wt(ye(H,it))}),onAction:(it,kn,wt)=>{nn.selection.setRng(kn),nn.insertContent(wt),it.hide()}})})(wn,Ke[0]),(nn=>({getCharMap:()=>ae(nn),insertChar:H=>{u(nn,H)}}))(wn)})})();(function(){var a=tinymce.util.Tools.resolve("tinymce.PluginManager");let u=0;const p=kn=>{const wt=new Date().getTime(),cn=Math.floor(1e9*Math.random());return u++,kn+"_"+cn+u+String(wt)},b=kn=>wt=>wt.options.get(kn),C=b("help_tabs"),S=b("forced_plugins"),M=kn=>(wt=>{const cn=typeof wt;return wt===null?"null":cn==="object"&&Array.isArray(wt)?"array":cn==="object"&&(In=pn=wt,(Sn=String).prototype.isPrototypeOf(In)||((Q=pn.constructor)===null||Q===void 0?void 0:Q.name)===Sn.name)?"string":cn;var In,pn,Sn,Q})(kn)==="string",D=kn=>kn===void 0,I=kn=>typeof kn=="function",q=()=>!1;class re{constructor(wt,cn){this.tag=wt,this.value=cn}static some(wt){return new re(!0,wt)}static none(){return re.singletonNone}fold(wt,cn){return this.tag?cn(this.value):wt()}isSome(){return this.tag}isNone(){return!this.tag}map(wt){return this.tag?re.some(wt(this.value)):re.none()}bind(wt){return this.tag?wt(this.value):re.none()}exists(wt){return this.tag&&wt(this.value)}forall(wt){return!this.tag||wt(this.value)}filter(wt){return!this.tag||wt(this.value)?this:re.none()}getOr(wt){return this.tag?this.value:wt}or(wt){return this.tag?this:wt}getOrThunk(wt){return this.tag?this.value:wt()}orThunk(wt){return this.tag?this:wt()}getOrDie(wt){if(this.tag)return this.value;throw new Error(wt!=null?wt:"Called getOrDie on None")}static from(wt){return wt==null?re.none():re.some(wt)}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(wt){this.tag&&wt(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}re.singletonNone=new re(!1);const fe=Array.prototype.slice,le=Array.prototype.indexOf,ue=(kn,wt)=>{const cn=kn.length,In=new Array(cn);for(let pn=0;pn<cn;pn++){const Sn=kn[pn];In[pn]=wt(Sn,pn)}return In},ke=(kn,wt)=>{const cn=[];for(let In=0,pn=kn.length;In<pn;In++){const Sn=kn[In];wt(Sn,In)&&cn.push(Sn)}return cn},xe=(kn,wt)=>{const cn=fe.call(kn,0);return cn.sort(wt),cn},me=Object.keys,J=Object.hasOwnProperty,ae=(kn,wt)=>J.call(kn,wt);var De=tinymce.util.Tools.resolve("tinymce.Resource"),G=tinymce.util.Tools.resolve("tinymce.util.I18n");const Ae=(kn,wt)=>De.load(`tinymce.html-i18n.help-keynav.${wt}`,`${kn}/js/i18n/keynav/${wt}.js`),ye=kn=>Ae(kn,G.getCode()).catch(()=>Ae(kn,"en"));var Pt=tinymce.util.Tools.resolve("tinymce.Env");const Ft=kn=>{const wt=Pt.os.isMacOS()||Pt.os.isiOS(),cn=wt?{alt:"&#x2325;",ctrl:"&#x2303;",shift:"&#x21E7;",meta:"&#x2318;",access:"&#x2303;&#x2325;"}:{meta:"Ctrl ",access:"Shift + Alt "},In=kn.split("+"),pn=ue(In,Sn=>{const Q=Sn.toLowerCase().trim();return ae(cn,Q)?cn[Q]:Sn});return wt?pn.join("").replace(/\s/,""):pn.join("+")},qn=[{shortcuts:["Meta + B"],action:"Bold"},{shortcuts:["Meta + I"],action:"Italic"},{shortcuts:["Meta + U"],action:"Underline"},{shortcuts:["Meta + A"],action:"Select all"},{shortcuts:["Meta + Y","Meta + Shift + Z"],action:"Redo"},{shortcuts:["Meta + Z"],action:"Undo"},{shortcuts:["Access + 1"],action:"Heading 1"},{shortcuts:["Access + 2"],action:"Heading 2"},{shortcuts:["Access + 3"],action:"Heading 3"},{shortcuts:["Access + 4"],action:"Heading 4"},{shortcuts:["Access + 5"],action:"Heading 5"},{shortcuts:["Access + 6"],action:"Heading 6"},{shortcuts:["Access + 7"],action:"Paragraph"},{shortcuts:["Access + 8"],action:"Div"},{shortcuts:["Access + 9"],action:"Address"},{shortcuts:["Alt + 0"],action:"Open help dialog"},{shortcuts:["Alt + F9"],action:"Focus to menubar"},{shortcuts:["Alt + F10"],action:"Focus to toolbar"},{shortcuts:["Alt + F11"],action:"Focus to element path"},{shortcuts:["Ctrl + F9"],action:"Focus to contextual toolbar"},{shortcuts:["Shift + Enter"],action:"Open popup menu for split buttons"},{shortcuts:["Meta + K"],action:"Insert link (if link plugin activated)"},{shortcuts:["Meta + S"],action:"Save (if save plugin activated)"},{shortcuts:["Meta + F"],action:"Find (if searchreplace plugin activated)"},{shortcuts:["Meta + Shift + F"],action:"Switch to or from fullscreen mode"}],wn=()=>({name:"shortcuts",title:"Handy Shortcuts",items:[{type:"table",header:["Action","Shortcut"],cells:ue(qn,kn=>{const wt=ue(kn.shortcuts,Ft).join(" or ");return[kn.action,wt]})}]}),Ke=ue([{key:"accordion",name:"Accordion"},{key:"advlist",name:"Advanced List"},{key:"anchor",name:"Anchor"},{key:"autolink",name:"Autolink"},{key:"autoresize",name:"Autoresize"},{key:"autosave",name:"Autosave"},{key:"charmap",name:"Character Map"},{key:"code",name:"Code"},{key:"codesample",name:"Code Sample"},{key:"colorpicker",name:"Color Picker"},{key:"directionality",name:"Directionality"},{key:"emoticons",name:"Emoticons"},{key:"fullscreen",name:"Full Screen"},{key:"help",name:"Help"},{key:"image",name:"Image"},{key:"importcss",name:"Import CSS"},{key:"insertdatetime",name:"Insert Date/Time"},{key:"link",name:"Link"},{key:"lists",name:"Lists"},{key:"media",name:"Media"},{key:"nonbreaking",name:"Nonbreaking"},{key:"pagebreak",name:"Page Break"},{key:"preview",name:"Preview"},{key:"quickbars",name:"Quick Toolbars"},{key:"save",name:"Save"},{key:"searchreplace",name:"Search and Replace"},{key:"table",name:"Table"},{key:"template",name:"Template"},{key:"textcolor",name:"Text Color"},{key:"visualblocks",name:"Visual Blocks"},{key:"visualchars",name:"Visual Characters"},{key:"wordcount",name:"Word Count"},{key:"a11ychecker",name:"Accessibility Checker",type:"premium"},{key:"advcode",name:"Advanced Code Editor",type:"premium"},{key:"advtable",name:"Advanced Tables",type:"premium"},{key:"advtemplate",name:"Advanced Templates",type:"premium",slug:"advanced-templates"},{key:"casechange",name:"Case Change",type:"premium"},{key:"checklist",name:"Checklist",type:"premium"},{key:"editimage",name:"Enhanced Image Editing",type:"premium"},{key:"footnotes",name:"Footnotes",type:"premium"},{key:"typography",name:"Advanced Typography",type:"premium",slug:"advanced-typography"},{key:"mediaembed",name:"Enhanced Media Embed",type:"premium",slug:"introduction-to-mediaembed"},{key:"export",name:"Export",type:"premium"},{key:"formatpainter",name:"Format Painter",type:"premium"},{key:"inlinecss",name:"Inline CSS",type:"premium",slug:"inline-css"},{key:"linkchecker",name:"Link Checker",type:"premium"},{key:"mentions",name:"Mentions",type:"premium"},{key:"mergetags",name:"Merge Tags",type:"premium"},{key:"pageembed",name:"Page Embed",type:"premium"},{key:"permanentpen",name:"Permanent Pen",type:"premium"},{key:"powerpaste",name:"PowerPaste",type:"premium",slug:"introduction-to-powerpaste"},{key:"rtc",name:"Real-Time Collaboration",type:"premium",slug:"rtc-introduction"},{key:"tinymcespellchecker",name:"Spell Checker Pro",type:"premium",slug:"introduction-to-tiny-spellchecker"},{key:"autocorrect",name:"Spelling Autocorrect",type:"premium"},{key:"tableofcontents",name:"Table of Contents",type:"premium"},{key:"tinycomments",name:"Tiny Comments",type:"premium",slug:"introduction-to-tiny-comments"},{key:"tinydrive",name:"Tiny Drive",type:"premium",slug:"tinydrive-introduction"}],kn=>({...kn,type:kn.type||"opensource",slug:kn.slug||kn.key})),nn=kn=>{const wt=Sn=>`<a href="${Sn.url}" target="_blank" rel="noopener">${Sn.name}</a>`,cn=(Sn,Q)=>{return(xn=Ke,et=_t=>_t.key===Q,((_t,Sr,Ht)=>{for(let dt=0,Et=_t.length;dt<Et;dt++){const ze=_t[dt];if(Sr(ze,dt))return re.some(ze);if(Ht(ze,dt))break}return re.none()})(xn,et,q)).fold(()=>((_t,Sr)=>{const Ht=_t.plugins[Sr].getMetadata;if(I(Ht)){const dt=Ht();return{name:dt.name,html:wt(dt)}}return{name:Sr,html:Sr}})(Sn,Q),_t=>{const Sr=_t.type==="premium"?`${_t.name}*`:_t.name;return{name:Sr,html:wt({name:Sr,url:`https://www.tiny.cloud/docs/tinymce/6/${_t.slug}/`})}});var xn,et},In=Sn=>{const Q=(Ht=>{const dt=me(Ht.plugins),Et=S(Ht);return D(Et)?dt:ke(dt,ze=>!(((oo,Be)=>le.call(oo,Be))(Et,ze)>-1))})(Sn),xn=xe(ue(Q,Ht=>cn(Sn,Ht)),(Ht,dt)=>Ht.name.localeCompare(dt.name)),et=ue(xn,Ht=>"<li>"+Ht.html+"</li>"),_t=et.length,Sr=et.join("");return"<p><b>"+G.translate(["Plugins installed ({0}):",_t])+"</b></p><ul>"+Sr+"</ul>"},pn={type:"htmlpanel",presets:"document",html:[(Sn=>Sn==null?"":'<div data-mce-tabstop="1" tabindex="-1">'+In(Sn)+"</div>")(kn),(()=>{const Sn=ke(Ke,({type:et})=>et==="premium"),Q=xe(ue(Sn,et=>et.name),(et,_t)=>et.localeCompare(_t)),xn=ue(Q,et=>`<li>${et}</li>`).join("");return'<div data-mce-tabstop="1" tabindex="-1"><p><b>'+G.translate("Premium plugins:")+"</b></p><ul>"+xn+'<li class="tox-help__more-link" "><a href="https://www.tiny.cloud/pricing/?utm_campaign=editor_referral&utm_medium=help_dialog&utm_source=tinymce" rel="noopener" target="_blank">'+G.translate("Learn more...")+"</a></li></ul></div>"})()].join("")};return{name:"plugins",title:"Plugins",items:[pn]}};var H=tinymce.util.Tools.resolve("tinymce.EditorManager");const it=(kn,wt,cn)=>()=>{(async(In,pn,Sn)=>{const Q=wn(),xn=await(async Ht=>({name:"keyboardnav",title:"Keyboard Navigation",items:[{type:"htmlpanel",presets:"document",html:await ye(Ht)}]}))(Sn),et=nn(In),_t=(()=>{var Ht,dt;const Et='<a href="https://www.tiny.cloud/docs/tinymce/6/changelog/?utm_campaign=editor_referral&utm_medium=help_dialog&utm_source=tinymce" rel="noopener" target="_blank">TinyMCE '+(Ht=H.majorVersion,dt=H.minorVersion,(Ht.indexOf("@")===0?"X.X.X":Ht+"."+dt)+"</a>");return{name:"versions",title:"Version",items:[{type:"htmlpanel",html:"<p>"+G.translate(["You are using {0}",Et])+"</p>",presets:"document"}]}})(),Sr={[Q.name]:Q,[xn.name]:xn,[et.name]:et,[_t.name]:_t,...pn.get()};return re.from(C(In)).fold(()=>(Ht=>{const dt=me(Ht),Et=dt.indexOf("versions");return Et!==-1&&(dt.splice(Et,1),dt.push("versions")),{tabs:Ht,names:dt}})(Sr),Ht=>((dt,Et)=>{const ze={},oo=ue(dt,Be=>{var ne;if(M(Be))return ae(Et,Be)&&(ze[Be]=Et[Be]),Be;{const Oe=(ne=Be.name)!==null&&ne!==void 0?ne:p("tab-name");return ze[Oe]=Be,Oe}});return{tabs:ze,names:oo}})(Ht,Sr))})(kn,wt,cn).then(({tabs:In,names:pn})=>{const Sn={type:"tabpanel",tabs:(Q=>{const xn=[],et=_t=>{xn.push(_t)};for(let _t=0;_t<Q.length;_t++)Q[_t].each(et);return xn})(ue(pn,Q=>{return ae(xn=In,et=Q)?re.from(xn[et]):re.none();var xn,et}))};kn.windowManager.open({title:"Help",size:"medium",body:Sn,buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}],initialData:{}})})};a.add("help",(kn,wt)=>{const cn=(Sn=>{let Q={};return{get:()=>Q,set:xn=>{Q=xn}}})(),In=(Sn=>({addTab:Q=>{var xn;const et=(xn=Q.name)!==null&&xn!==void 0?xn:p("tab-name"),_t=Sn.get();_t[et]=Q,Sn.set(_t)}}))(cn);(Sn=>{(0,Sn.options.register)("help_tabs",{processor:"array"})})(kn);const pn=it(kn,cn,wt);return((Sn,Q)=>{Sn.ui.registry.addButton("help",{icon:"help",tooltip:"Help",onAction:Q}),Sn.ui.registry.addMenuItem("help",{text:"Help",icon:"help",shortcut:"Alt+0",onAction:Q})})(kn,pn),((Sn,Q)=>{Sn.addCommand("mceHelp",Q)})(kn,pn),kn.shortcuts.add("Alt+0","Open help dialog","mceHelp"),((Sn,Q)=>{Sn.on("init",()=>{ye(Q)})})(kn,wt),In})})();(function(){var a=tinymce.util.Tools.resolve("tinymce.PluginManager");const u=Object.getPrototypeOf,p=(Ne,$e,vt)=>{var en;return!!vt(Ne,$e.prototype)||((en=Ne.constructor)===null||en===void 0?void 0:en.name)===$e.name},b=Ne=>$e=>(vt=>{const en=typeof vt;return vt===null?"null":en==="object"&&Array.isArray(vt)?"array":en==="object"&&p(vt,String,(Yt,dn)=>dn.isPrototypeOf(Yt))?"string":en})($e)===Ne,C=Ne=>$e=>typeof $e===Ne,S=b("string"),M=b("object"),D=Ne=>(($e,vt)=>M($e)&&p($e,vt,(en,Yt)=>u(en)===Yt))(Ne,Object),I=b("array"),q=Ne=>Ne===null,re=C("boolean"),fe=Ne=>!($e=>$e==null)(Ne),le=C("function"),ue=C("number"),ke=()=>{};class xe{constructor($e,vt){this.tag=$e,this.value=vt}static some($e){return new xe(!0,$e)}static none(){return xe.singletonNone}fold($e,vt){return this.tag?vt(this.value):$e()}isSome(){return this.tag}isNone(){return!this.tag}map($e){return this.tag?xe.some($e(this.value)):xe.none()}bind($e){return this.tag?$e(this.value):xe.none()}exists($e){return this.tag&&$e(this.value)}forall($e){return!this.tag||$e(this.value)}filter($e){return!this.tag||$e(this.value)?this:xe.none()}getOr($e){return this.tag?this.value:$e}or($e){return this.tag?this:$e}getOrThunk($e){return this.tag?this.value:$e()}orThunk($e){return this.tag?this:$e()}getOrDie($e){if(this.tag)return this.value;throw new Error($e!=null?$e:"Called getOrDie on None")}static from($e){return fe($e)?xe.some($e):xe.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each($e){this.tag&&$e(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}xe.singletonNone=new xe(!1);const me=Object.keys,J=Object.hasOwnProperty,ae=(Ne,$e)=>J.call(Ne,$e),De=Array.prototype.push,G=Ne=>{const $e=[];for(let vt=0,en=Ne.length;vt<en;++vt){if(!I(Ne[vt]))throw new Error("Arr.flatten item "+vt+" was not an array, input: "+Ne);De.apply($e,Ne[vt])}return $e};typeof window!="undefined"||Function("return this;")();const Ae=(Ne,$e,vt)=>{((en,Yt,dn)=>{if(!(S(dn)||re(dn)||ue(dn)))throw console.error("Invalid call to Attribute.set. Key ",Yt,":: Value ",dn,":: Element ",en),new Error("Attribute value was not simple");en.setAttribute(Yt,dn+"")})(Ne.dom,$e,vt)},ye=Ne=>{if(Ne==null)throw new Error("Node cannot be null or undefined");return{dom:Ne}},Pt=ye;var Ft=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),qn=tinymce.util.Tools.resolve("tinymce.util.URI");const wn=Ne=>Ne.length>0,Ke=Ne=>$e=>$e.options.get(Ne),nn=Ke("image_dimensions"),H=Ke("image_advtab"),it=Ke("image_uploadtab"),kn=Ke("image_prepend_url"),wt=Ke("image_class_list"),cn=Ke("image_description"),In=Ke("image_title"),pn=Ke("image_caption"),Sn=Ke("image_list"),Q=Ke("a11y_advanced_options"),xn=Ke("automatic_uploads"),et=(Ne,$e)=>Math.max(parseInt(Ne,10),parseInt($e,10)),_t=Ne=>(Ne&&(Ne=Ne.replace(/px$/,"")),Ne),Sr=Ne=>(Ne.length>0&&/^[0-9]+$/.test(Ne)&&(Ne+="px"),Ne),Ht=Ne=>Ne.nodeName==="IMG"&&(Ne.hasAttribute("data-mce-object")||Ne.hasAttribute("data-mce-placeholder")),dt=(Ne,$e)=>{const vt=Ne.options.get;return qn.isDomSafe($e,"img",{allow_html_data_urls:vt("allow_html_data_urls"),allow_script_urls:vt("allow_script_urls"),allow_svg_data_urls:vt("allow_svg_data_urls")})},Et=Ft.DOM,ze=Ne=>Ne.style.marginLeft&&Ne.style.marginRight&&Ne.style.marginLeft===Ne.style.marginRight?_t(Ne.style.marginLeft):"",oo=Ne=>Ne.style.marginTop&&Ne.style.marginBottom&&Ne.style.marginTop===Ne.style.marginBottom?_t(Ne.style.marginTop):"",Be=Ne=>Ne.style.borderWidth?_t(Ne.style.borderWidth):"",ne=(Ne,$e)=>{var vt;return Ne.hasAttribute($e)&&(vt=Ne.getAttribute($e))!==null&&vt!==void 0?vt:""},Oe=Ne=>Ne.parentNode!==null&&Ne.parentNode.nodeName==="FIGURE",Ve=(Ne,$e,vt)=>{vt===""||vt===null?Ne.removeAttribute($e):Ne.setAttribute($e,vt)},yt=(Ne,$e)=>{const vt=Ne.getAttribute("style"),en=$e(vt!==null?vt:"");en.length>0?(Ne.setAttribute("style",en),Ne.setAttribute("data-mce-style",en)):Ne.removeAttribute("style")},Ct=(Ne,$e)=>(vt,en,Yt)=>{const dn=vt.style;dn[en]?(dn[en]=Sr(Yt),yt(vt,$e)):Ve(vt,en,Yt)},rn=(Ne,$e)=>Ne.style[$e]?_t(Ne.style[$e]):ne(Ne,$e),Un=(Ne,$e)=>{const vt=Sr($e);Ne.style.marginLeft=vt,Ne.style.marginRight=vt},En=(Ne,$e)=>{const vt=Sr($e);Ne.style.marginTop=vt,Ne.style.marginBottom=vt},hn=(Ne,$e)=>{const vt=Sr($e);Ne.style.borderWidth=vt},Je=(Ne,$e)=>{Ne.style.borderStyle=$e},qt=Ne=>{var $e;return($e=Ne.style.borderStyle)!==null&&$e!==void 0?$e:""},Hn=Ne=>fe(Ne)&&Ne.nodeName==="FIGURE",Dn=Ne=>Et.getAttrib(Ne,"alt").length===0&&Et.getAttrib(Ne,"role")==="presentation",Uo=Ne=>Dn(Ne)?"":ne(Ne,"alt"),Xn=(Ne,$e)=>{var vt;const en=document.createElement("img");return Ve(en,"style",$e.style),(ze(en)||$e.hspace!=="")&&Un(en,$e.hspace),(oo(en)||$e.vspace!=="")&&En(en,$e.vspace),(Be(en)||$e.border!=="")&&hn(en,$e.border),(qt(en)||$e.borderStyle!=="")&&Je(en,$e.borderStyle),Ne((vt=en.getAttribute("style"))!==null&&vt!==void 0?vt:"")},so=(Ne,$e)=>({src:ne($e,"src"),alt:Uo($e),title:ne($e,"title"),width:rn($e,"width"),height:rn($e,"height"),class:ne($e,"class"),style:Ne(ne($e,"style")),caption:Oe($e),hspace:ze($e),vspace:oo($e),border:Be($e),borderStyle:qt($e),isDecorative:Dn($e)}),So=(Ne,$e,vt,en,Yt)=>{vt[en]!==$e[en]&&Yt(Ne,en,String(vt[en]))},Rr=(Ne,$e,vt)=>{if(vt){Et.setAttrib(Ne,"role","presentation");const en=Pt(Ne);Ae(en,"alt","")}else{if(q($e))Pt(Ne).dom.removeAttribute("alt");else{const en=Pt(Ne);Ae(en,"alt",$e)}Et.getAttrib(Ne,"role")==="presentation"&&Et.setAttrib(Ne,"role","")}},ur=(Ne,$e)=>(vt,en,Yt)=>{Ne(vt,Yt),yt(vt,$e)},vs=(Ne,$e,vt)=>{const en=so(Ne,vt);So(vt,en,$e,"caption",(Yt,dn,Eo)=>(go=>{Oe(go)?(Lo=>{const ir=Lo.parentNode;fe(ir)&&(Et.insertAfter(Lo,ir),Et.remove(ir))})(go):(Lo=>{const ir=Et.create("figure",{class:"image"});Et.insertAfter(ir,Lo),ir.appendChild(Lo),ir.appendChild(Et.create("figcaption",{contentEditable:"true"},"Caption")),ir.contentEditable="false"})(go)})(Yt)),So(vt,en,$e,"src",Ve),So(vt,en,$e,"title",Ve),So(vt,en,$e,"width",Ct(0,Ne)),So(vt,en,$e,"height",Ct(0,Ne)),So(vt,en,$e,"class",Ve),So(vt,en,$e,"style",ur((Yt,dn)=>Ve(Yt,"style",dn),Ne)),So(vt,en,$e,"hspace",ur(Un,Ne)),So(vt,en,$e,"vspace",ur(En,Ne)),So(vt,en,$e,"border",ur(hn,Ne)),So(vt,en,$e,"borderStyle",ur(Je,Ne)),((Yt,dn,Eo)=>{Eo.alt===dn.alt&&Eo.isDecorative===dn.isDecorative||Rr(Yt,Eo.alt,Eo.isDecorative)})(vt,en,$e)},ut=(Ne,$e)=>{const vt=(Yt=>{if(Yt.margin){const dn=String(Yt.margin).split(" ");switch(dn.length){case 1:Yt["margin-top"]=Yt["margin-top"]||dn[0],Yt["margin-right"]=Yt["margin-right"]||dn[0],Yt["margin-bottom"]=Yt["margin-bottom"]||dn[0],Yt["margin-left"]=Yt["margin-left"]||dn[0];break;case 2:Yt["margin-top"]=Yt["margin-top"]||dn[0],Yt["margin-right"]=Yt["margin-right"]||dn[1],Yt["margin-bottom"]=Yt["margin-bottom"]||dn[0],Yt["margin-left"]=Yt["margin-left"]||dn[1];break;case 3:Yt["margin-top"]=Yt["margin-top"]||dn[0],Yt["margin-right"]=Yt["margin-right"]||dn[1],Yt["margin-bottom"]=Yt["margin-bottom"]||dn[2],Yt["margin-left"]=Yt["margin-left"]||dn[1];break;case 4:Yt["margin-top"]=Yt["margin-top"]||dn[0],Yt["margin-right"]=Yt["margin-right"]||dn[1],Yt["margin-bottom"]=Yt["margin-bottom"]||dn[2],Yt["margin-left"]=Yt["margin-left"]||dn[3]}delete Yt.margin}return Yt})(Ne.dom.styles.parse($e)),en=Ne.dom.styles.parse(Ne.dom.styles.serialize(vt));return Ne.dom.styles.serialize(en)},rt=Ne=>{const $e=Ne.selection.getNode(),vt=Ne.dom.getParent($e,"figure.image");return vt?Ne.dom.select("img",vt)[0]:$e&&($e.nodeName!=="IMG"||Ht($e))?null:$e},Ot=(Ne,$e)=>{var vt;const en=Ne.dom,Yt=((Eo,go)=>{const Lo={};var ir;return((Er,Qo,qr,Ms)=>{((Xs,Hl)=>{const ka=me(Xs);for(let Sa=0,ys=ka.length;Sa<ys;Sa++){const ya=ka[Sa];Hl(Xs[ya],ya)}})(Er,(Xs,Hl)=>{(Qo(Xs,Hl)?qr:Ms)(Xs,Hl)})})(Eo,(Er,Qo)=>!Ne.schema.isValidChild(Qo,"figure"),(ir=Lo,(Er,Qo)=>{ir[Qo]=Er}),ke),Lo})(Ne.schema.getTextBlockElements()),dn=en.getParent($e.parentNode,Eo=>{return go=Yt,Lo=Eo.nodeName,ae(go,Lo)&&go[Lo]!==void 0&&go[Lo]!==null;var go,Lo},Ne.getBody());return dn&&(vt=en.split(dn,$e))!==null&&vt!==void 0?vt:$e},Ze=(Ne,$e)=>{const vt=((Yt,dn)=>{const Eo=document.createElement("img");if(vs(go=>ut(Ne,go),{...dn,caption:!1},Eo),Rr(Eo,dn.alt,dn.isDecorative),dn.caption){const go=Et.create("figure",{class:"image"});return go.appendChild(Eo),go.appendChild(Et.create("figcaption",{contentEditable:"true"},"Caption")),go.contentEditable="false",go}return Eo})(0,$e);Ne.dom.setAttrib(vt,"data-mce-id","__mcenew"),Ne.focus(),Ne.selection.setContent(vt.outerHTML);const en=Ne.dom.select('*[data-mce-id="__mcenew"]')[0];if(Ne.dom.setAttrib(en,"data-mce-id",null),Hn(en)){const Yt=Ot(Ne,en);Ne.selection.select(Yt)}else Ne.selection.select(en)},Lt=(Ne,$e)=>{const vt=rt(Ne);if(vt){const en={...so(dn=>ut(Ne,dn),vt),...$e},Yt=((dn,Eo)=>{const go=Eo.src;return{...Eo,src:dt(dn,go)?go:""}})(Ne,en);en.src?((dn,Eo)=>{const go=rt(dn);if(go)if(vs(Lo=>ut(dn,Lo),Eo,go),((Lo,ir)=>{Lo.dom.setAttrib(ir,"src",ir.getAttribute("src"))})(dn,go),Hn(go.parentNode)){const Lo=go.parentNode;Ot(dn,Lo),dn.selection.select(go.parentNode)}else dn.selection.select(go),((Lo,ir,Er)=>{const Qo=()=>{Er.onload=Er.onerror=null,Lo.selection&&(Lo.selection.select(Er),Lo.nodeChanged())};Er.onload=()=>{ir.width||ir.height||!nn(Lo)||Lo.dom.setAttribs(Er,{width:String(Er.clientWidth),height:String(Er.clientHeight)}),Qo()},Er.onerror=Qo})(dn,Eo,go)})(Ne,Yt):((dn,Eo)=>{if(Eo){const go=dn.dom.is(Eo.parentNode,"figure.image")?Eo.parentNode:Eo;dn.dom.remove(go),dn.focus(),dn.nodeChanged(),dn.dom.isEmpty(dn.getBody())&&(dn.setContent(""),dn.selection.setCursorLocation())}})(Ne,vt)}else $e.src&&Ze(Ne,{src:"",alt:"",title:"",width:"",height:"",class:"",style:"",caption:!1,hspace:"",vspace:"",border:"",borderStyle:"",isDecorative:!1,...$e})},ho=(io=(Ne,$e)=>D(Ne)&&D($e)?ho(Ne,$e):$e,(...Ne)=>{if(Ne.length===0)throw new Error("Can't merge zero objects");const $e={};for(let vt=0;vt<Ne.length;vt++){const en=Ne[vt];for(const Yt in en)ae(en,Yt)&&($e[Yt]=io($e[Yt],en[Yt]))}return $e});var io,Dt=tinymce.util.Tools.resolve("tinymce.util.ImageUploader"),Zt=tinymce.util.Tools.resolve("tinymce.util.Tools");const fn=Ne=>S(Ne.value)?Ne.value:"",dr=(Ne,$e)=>{const vt=[];return Zt.each(Ne,en=>{const Yt=(dn=>S(dn.text)?dn.text:S(dn.title)?dn.title:"")(en);if(en.menu!==void 0){const dn=dr(en.menu,$e);vt.push({text:Yt,items:dn})}else{const dn=$e(en);vt.push({text:Yt,value:dn})}}),vt},$n=(Ne=fn)=>$e=>$e?xe.from($e).map(vt=>dr(vt,Ne)):xe.none(),Ar=(Ne,$e)=>((vt,en)=>{for(let dn=0;dn<vt.length;dn++){const Eo=(go=>ae(go,"items"))(Yt=vt[dn])?Ar(Yt.items,$e):Yt.value===$e?xe.some(Yt):xe.none();if(Eo.isSome())return Eo}var Yt;return xe.none()})(Ne),xr=$n,Dr=(Ne,$e)=>Ne.bind(vt=>Ar(vt,$e)),Xr=Ne=>{const $e=xr(Sa=>Ne.convertURL(Sa.value||Sa.url||"","src")),vt=new Promise(Sa=>{((ys,ya)=>{const Fs=Sn(ys);S(Fs)?fetch(Fs).then(Hs=>{Hs.ok&&Hs.json().then(ya)}):le(Fs)?Fs(ya):ya(Fs)})(Ne,ys=>{Sa($e(ys).map(ya=>G([[{text:"None",value:""}],ya])))})}),en=(ka=wt(Ne),$n(fn)(ka)),Yt=H(Ne),dn=it(Ne),Eo=(Sa=>wn(Sa.options.get("images_upload_url")))(Ne),go=(Sa=>fe(Sa.options.get("images_upload_handler")))(Ne),Lo=(Sa=>{const ys=rt(Sa);return ys?so(ya=>ut(Sa,ya),ys):{src:"",alt:"",title:"",width:"",height:"",class:"",style:"",caption:!1,hspace:"",vspace:"",border:"",borderStyle:"",isDecorative:!1}})(Ne),ir=cn(Ne),Er=In(Ne),Qo=nn(Ne),qr=pn(Ne),Ms=Q(Ne),Xs=xn(Ne),Hl=xe.some(kn(Ne)).filter(Sa=>S(Sa)&&Sa.length>0);var ka;return vt.then(Sa=>({image:Lo,imageList:Sa,classList:en,hasAdvTab:Yt,hasUploadTab:dn,hasUploadUrl:Eo,hasUploadHandler:go,hasDescription:ir,hasImageTitle:Er,hasDimensions:Qo,hasImageCaption:qr,prependURL:Hl,hasAccessibilityOptions:Ms,automaticUploads:Xs}))},zr=Ne=>{const $e=Ne.imageList.map(dn=>({name:"images",type:"listbox",label:"Image list",items:dn})),vt={name:"alt",type:"input",label:"Alternative description",enabled:!(Ne.hasAccessibilityOptions&&Ne.image.isDecorative)},en=Ne.classList.map(dn=>({name:"classes",type:"listbox",label:"Class",items:dn}));return G([[{name:"src",type:"urlinput",filetype:"image",label:"Source"}],$e.toArray(),Ne.hasAccessibilityOptions&&Ne.hasDescription?[{type:"label",label:"Accessibility",items:[{name:"isDecorative",type:"checkbox",label:"Image is decorative"}]}]:[],Ne.hasDescription?[vt]:[],Ne.hasImageTitle?[{name:"title",type:"input",label:"Image title"}]:[],Ne.hasDimensions?[{name:"dimensions",type:"sizeinput"}]:[],[{...(Yt=Ne.classList.isSome()&&Ne.hasImageCaption,Yt?{type:"grid",columns:2}:{type:"panel"}),items:G([en.toArray(),Ne.hasImageCaption?[{type:"label",label:"Caption",items:[{type:"checkbox",name:"caption",label:"Show caption"}]}]:[]])}]]);var Yt},bs=Ne=>({title:"General",name:"general",items:zr(Ne)}),Ys=zr,Bs=Ne=>({src:{value:Ne.src,meta:{}},images:Ne.src,alt:Ne.alt,title:Ne.title,dimensions:{width:Ne.width,height:Ne.height},classes:Ne.class,caption:Ne.caption,style:Ne.style,vspace:Ne.vspace,border:Ne.border,hspace:Ne.hspace,borderstyle:Ne.borderStyle,fileinput:[],isDecorative:Ne.isDecorative}),Bi=(Ne,$e)=>({src:Ne.src.value,alt:Ne.alt!==null&&Ne.alt.length!==0||!$e?Ne.alt:null,title:Ne.title,width:Ne.dimensions.width,height:Ne.dimensions.height,class:Ne.classes,style:Ne.style,caption:Ne.caption,hspace:Ne.hspace,vspace:Ne.vspace,border:Ne.border,borderStyle:Ne.borderstyle,isDecorative:Ne.isDecorative}),Ra=(Ne,$e,vt,en)=>{((Yt,dn)=>{const Eo=dn.getData();((go,Lo)=>/^(?:[a-zA-Z]+:)?\/\//.test(Lo)?xe.none():go.prependURL.bind(ir=>Lo.substring(0,ir.length)!==ir?xe.some(ir+Lo):xe.none()))(Yt,Eo.src.value).each(go=>{dn.setData({src:{value:go,meta:Eo.src.meta}})})})($e,en),((Yt,dn)=>{const Eo=dn.getData(),go=Eo.src.meta;if(go!==void 0){const Lo=ho({},Eo);((ir,Er,Qo)=>{ir.hasDescription&&S(Qo.alt)&&(Er.alt=Qo.alt),ir.hasAccessibilityOptions&&(Er.isDecorative=Qo.isDecorative||Er.isDecorative||!1),ir.hasImageTitle&&S(Qo.title)&&(Er.title=Qo.title),ir.hasDimensions&&(S(Qo.width)&&(Er.dimensions.width=Qo.width),S(Qo.height)&&(Er.dimensions.height=Qo.height)),S(Qo.class)&&Dr(ir.classList,Qo.class).each(qr=>{Er.classes=qr.value}),ir.hasImageCaption&&re(Qo.caption)&&(Er.caption=Qo.caption),ir.hasAdvTab&&(S(Qo.style)&&(Er.style=Qo.style),S(Qo.vspace)&&(Er.vspace=Qo.vspace),S(Qo.border)&&(Er.border=Qo.border),S(Qo.hspace)&&(Er.hspace=Qo.hspace),S(Qo.borderstyle)&&(Er.borderstyle=Qo.borderstyle))})(Yt,Lo,go),dn.setData(Lo)}})($e,en),((Yt,dn,Eo,go)=>{const Lo=go.getData(),ir=Lo.src.value,Er=Lo.src.meta||{};Er.width||Er.height||!dn.hasDimensions||(wn(ir)?Yt.imageSize(ir).then(Qo=>{Eo.open&&go.setData({dimensions:Qo})}).catch(Qo=>console.error(Qo)):go.setData({dimensions:{width:"",height:""}}))})(Ne,$e,vt,en),((Yt,dn,Eo)=>{const go=Eo.getData(),Lo=Dr(Yt.imageList,go.src.value);dn.prevImage=Lo,Eo.setData({images:Lo.map(ir=>ir.value).getOr("")})})($e,vt,en)},wi=(Ne,$e,vt,en)=>{const Yt=en.getData();var dn;en.block("Uploading image"),(dn=Yt.fileinput,((Eo,go)=>0<Eo.length?xe.some(Eo[0]):xe.none())(dn)).fold(()=>{en.unblock()},Eo=>{const go=URL.createObjectURL(Eo),Lo=()=>{en.unblock(),URL.revokeObjectURL(go)},ir=Qo=>{en.setData({src:{value:Qo,meta:{}}}),en.showTab("general"),Ra(Ne,$e,vt,en)};var Er;(Er=Eo,new Promise((Qo,qr)=>{const Ms=new FileReader;Ms.onload=()=>{Qo(Ms.result)},Ms.onerror=()=>{var Xs;qr((Xs=Ms.error)===null||Xs===void 0?void 0:Xs.message)},Ms.readAsDataURL(Er)})).then(Qo=>{const qr=Ne.createBlobCache(Eo,go,Qo);$e.automaticUploads?Ne.uploadImage(qr).then(Ms=>{ir(Ms.url),Lo()}).catch(Ms=>{Lo(),Ne.alertErr(Ms)}):(Ne.addToBlobCache(qr),ir(qr.blobUri()),en.unblock())})})},Pe=(Ne,$e,vt)=>(en,Yt)=>{Yt.name==="src"?Ra(Ne,$e,vt,en):Yt.name==="images"?((dn,Eo,go,Lo)=>{const ir=Lo.getData(),Er=Dr(Eo.imageList,ir.images);Er.each(Qo=>{ir.alt===""||go.prevImage.map(Ms=>Ms.text===ir.alt).getOr(!1)?Qo.value===""?Lo.setData({src:Qo,alt:go.prevAlt}):Lo.setData({src:Qo,alt:Qo.text}):Lo.setData({src:Qo})}),go.prevImage=Er,Ra(dn,Eo,go,Lo)})(Ne,$e,vt,en):Yt.name==="alt"?vt.prevAlt=en.getData().alt:Yt.name==="fileinput"?wi(Ne,$e,vt,en):Yt.name==="isDecorative"&&en.setEnabled("alt",!en.getData().isDecorative)},ot=Ne=>()=>{Ne.open=!1},It=Ne=>Ne.hasAdvTab||Ne.hasUploadUrl||Ne.hasUploadHandler?{type:"tabpanel",tabs:G([[bs(Ne)],Ne.hasAdvTab?[{title:"Advanced",name:"advanced",items:[{type:"grid",columns:2,items:[{type:"input",label:"Vertical space",name:"vspace",inputMode:"numeric"},{type:"input",label:"Horizontal space",name:"hspace",inputMode:"numeric"},{type:"input",label:"Border width",name:"border",inputMode:"numeric"},{type:"listbox",name:"borderstyle",label:"Border style",items:[{text:"Select...",value:""},{text:"Solid",value:"solid"},{text:"Dotted",value:"dotted"},{text:"Dashed",value:"dashed"},{text:"Double",value:"double"},{text:"Groove",value:"groove"},{text:"Ridge",value:"ridge"},{text:"Inset",value:"inset"},{text:"Outset",value:"outset"},{text:"None",value:"none"},{text:"Hidden",value:"hidden"}]}]}]}]:[],Ne.hasUploadTab&&(Ne.hasUploadUrl||Ne.hasUploadHandler)?[{title:"Upload",name:"upload",items:[{type:"dropzone",name:"fileinput"}]}]:[]])}:{type:"panel",items:Ys(Ne)},Tt=(Ne,$e,vt)=>en=>{const Yt=ho(Bs($e.image),en.getData()),dn={...Yt,style:Xn(vt.normalizeCss,Bi(Yt,!1))};Ne.execCommand("mceUpdateImage",!1,Bi(dn,$e.hasAccessibilityOptions)),Ne.editorUpload.uploadImagesAuto(),en.close()},Cn=Ne=>$e=>dt(Ne,$e)?(vt=>new Promise(en=>{const Yt=document.createElement("img"),dn=go=>{Yt.onload=Yt.onerror=null,Yt.parentNode&&Yt.parentNode.removeChild(Yt),en(go)};Yt.onload=()=>{const go={width:et(Yt.width,Yt.clientWidth),height:et(Yt.height,Yt.clientHeight)};dn(Promise.resolve(go))},Yt.onerror=()=>{dn(Promise.reject(`Failed to get image dimensions for: ${vt}`))};const Eo=Yt.style;Eo.visibility="hidden",Eo.position="fixed",Eo.bottom=Eo.left="0px",Eo.width=Eo.height="auto",document.body.appendChild(Yt),Yt.src=vt}))(Ne.documentBaseURI.toAbsolute($e)).then(vt=>({width:String(vt.width),height:String(vt.height)})):Promise.resolve({width:"",height:""}),Rn=Ne=>($e,vt,en)=>{var Yt;return Ne.editorUpload.blobCache.create({blob:$e,blobUri:vt,name:(Yt=$e.name)===null||Yt===void 0?void 0:Yt.replace(/\.[^\.]+$/,""),filename:$e.name,base64:en.split(",")[1]})},On=Ne=>$e=>{Ne.editorUpload.blobCache.add($e)},To=Ne=>$e=>{Ne.windowManager.alert($e)},Qn=Ne=>$e=>ut(Ne,$e),fr=Ne=>$e=>Ne.dom.parseStyle($e),Ir=Ne=>($e,vt)=>Ne.dom.serializeStyle($e,vt),mr=Ne=>$e=>Dt(Ne).upload([$e],!1).then(vt=>{var en;return vt.length===0?Promise.reject("Failed to upload image"):vt[0].status===!1?Promise.reject((en=vt[0].error)===null||en===void 0?void 0:en.message):vt[0]}),Jo=Ne=>{const $e={imageSize:Cn(Ne),addToBlobCache:On(Ne),createBlobCache:Rn(Ne),alertErr:To(Ne),normalizeCss:Qn(Ne),parseStyle:fr(Ne),serializeStyle:Ir(Ne),uploadImage:mr(Ne)};return{open:()=>{Xr(Ne).then(vt=>{const en=(Yt=>({prevImage:Dr(Yt.imageList,Yt.image.src),prevAlt:Yt.image.alt,open:!0}))(vt);return{title:"Insert/Edit Image",size:"normal",body:It(vt),buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:Bs(vt.image),onSubmit:Tt(Ne,vt,$e),onChange:Pe($e,vt,en),onClose:ot(en)}}).then(Ne.windowManager.open)}}},ma=Ne=>{const $e=Ne.attr("class");return fe($e)&&/\bimage\b/.test($e)},cs=Ne=>$e=>{let vt=$e.length;const en=Yt=>{Yt.attr("contenteditable",Ne?"true":null)};for(;vt--;){const Yt=$e[vt];ma(Yt)&&(Yt.attr("contenteditable",Ne?"false":null),Zt.each(Yt.getAll("figcaption"),en))}},Mo=Ne=>$e=>{const vt=()=>{$e.setEnabled(Ne.selection.isEditable())};return Ne.on("NodeChange",vt),vt(),()=>{Ne.off("NodeChange",vt)}};a.add("image",Ne=>{($e=>{const vt=$e.options.register;vt("image_dimensions",{processor:"boolean",default:!0}),vt("image_advtab",{processor:"boolean",default:!1}),vt("image_uploadtab",{processor:"boolean",default:!0}),vt("image_prepend_url",{processor:"string",default:""}),vt("image_class_list",{processor:"object[]"}),vt("image_description",{processor:"boolean",default:!0}),vt("image_title",{processor:"boolean",default:!1}),vt("image_caption",{processor:"boolean",default:!1}),vt("image_list",{processor:en=>{const Yt=en===!1||S(en)||((dn,Eo)=>{if(I(dn)){for(let go=0,Lo=dn.length;go<Lo;++go)if(!Eo(dn[go]))return!1;return!0}return!1})(en,M)||le(en);return Yt?{value:en,valid:Yt}:{valid:!1,message:"Must be false, a string, an array or a function."}},default:!1})})(Ne),($e=>{$e.on("PreInit",()=>{$e.parser.addNodeFilter("figure",cs(!0)),$e.serializer.addNodeFilter("figure",cs(!1))})})(Ne),($e=>{$e.ui.registry.addToggleButton("image",{icon:"image",tooltip:"Insert/edit image",onAction:Jo($e).open,onSetup:vt=>{vt.setActive(fe(rt($e)));const en=$e.selection.selectorChangedWithUnbind("img:not([data-mce-object]):not([data-mce-placeholder]),figure.image",vt.setActive).unbind,Yt=Mo($e)(vt);return()=>{en(),Yt()}}}),$e.ui.registry.addMenuItem("image",{icon:"image",text:"Image...",onAction:Jo($e).open,onSetup:Mo($e)}),$e.ui.registry.addContextMenu("image",{update:vt=>Hn(vt)||vt.nodeName==="IMG"&&!Ht(vt)?["image"]:[]})})(Ne),($e=>{$e.addCommand("mceImage",Jo($e).open),$e.addCommand("mceUpdateImage",(vt,en)=>{$e.undoManager.transact(()=>Lt($e,en))})})(Ne)})})();(function(){var a=tinymce.util.Tools.resolve("tinymce.PluginManager");const u=Pe=>ot=>(It=>{const Tt=typeof It;return It===null?"null":Tt==="object"&&Array.isArray(It)?"array":Tt==="object"&&(Cn=Rn=It,(On=String).prototype.isPrototypeOf(Cn)||((To=Rn.constructor)===null||To===void 0?void 0:To.name)===On.name)?"string":Tt;var Cn,Rn,On,To})(ot)===Pe,p=Pe=>ot=>typeof ot===Pe,b=u("string"),C=u("object"),S=u("array"),M=Pe=>Pe===null,D=p("boolean"),I=Pe=>!(ot=>ot==null)(Pe),q=p("function"),re=(Pe,ot)=>{if(S(Pe)){for(let It=0,Tt=Pe.length;It<Tt;++It)if(!ot(Pe[It]))return!1;return!0}return!1},fe=()=>{},le=(Pe,ot)=>Pe===ot;class ue{constructor(ot,It){this.tag=ot,this.value=It}static some(ot){return new ue(!0,ot)}static none(){return ue.singletonNone}fold(ot,It){return this.tag?It(this.value):ot()}isSome(){return this.tag}isNone(){return!this.tag}map(ot){return this.tag?ue.some(ot(this.value)):ue.none()}bind(ot){return this.tag?ot(this.value):ue.none()}exists(ot){return this.tag&&ot(this.value)}forall(ot){return!this.tag||ot(this.value)}filter(ot){return!this.tag||ot(this.value)?this:ue.none()}getOr(ot){return this.tag?this.value:ot}or(ot){return this.tag?this:ot}getOrThunk(ot){return this.tag?this.value:ot()}orThunk(ot){return this.tag?this:ot()}getOrDie(ot){if(this.tag)return this.value;throw new Error(ot!=null?ot:"Called getOrDie on None")}static from(ot){return I(ot)?ue.some(ot):ue.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(ot){this.tag&&ot(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}ue.singletonNone=new ue(!1);const ke=Array.prototype.indexOf,xe=Array.prototype.push,me=Pe=>{const ot=[];for(let It=0,Tt=Pe.length;It<Tt;++It){if(!S(Pe[It]))throw new Error("Arr.flatten item "+It+" was not an array, input: "+Pe);xe.apply(ot,Pe[It])}return ot},J=(Pe,ot)=>{for(let It=0;It<Pe.length;It++){const Tt=ot(Pe[It],It);if(Tt.isSome())return Tt}return ue.none()},ae=(Pe,ot,It=le)=>Pe.exists(Tt=>It(Tt,ot)),De=Pe=>{const ot=[],It=Tt=>{ot.push(Tt)};for(let Tt=0;Tt<Pe.length;Tt++)Pe[Tt].each(It);return ot},G=(Pe,ot)=>Pe?ue.some(ot):ue.none(),Ae=Pe=>ot=>ot.options.get(Pe),ye=Ae("link_assume_external_targets"),Pt=Ae("link_context_toolbar"),Ft=Ae("link_list"),qn=Ae("link_default_target"),wn=Ae("link_default_protocol"),Ke=Ae("link_target_list"),nn=Ae("link_rel_list"),H=Ae("link_class_list"),it=Ae("link_title"),kn=Ae("allow_unsafe_link_target"),wt=Ae("link_quicklink");var cn=tinymce.util.Tools.resolve("tinymce.util.Tools");const In=Pe=>b(Pe.value)?Pe.value:"",pn=(Pe,ot)=>{const It=[];return cn.each(Pe,Tt=>{const Cn=(Rn=>b(Rn.text)?Rn.text:b(Rn.title)?Rn.title:"")(Tt);if(Tt.menu!==void 0){const Rn=pn(Tt.menu,ot);It.push({text:Cn,items:Rn})}else{const Rn=ot(Tt);It.push({text:Cn,value:Rn})}}),It},Sn=(Pe=In)=>ot=>ue.from(ot).map(It=>pn(It,Pe)),Q=Pe=>Sn(In)(Pe),xn=Sn,et=(Pe,ot)=>It=>({name:Pe,type:"listbox",label:ot,items:It}),_t=In,Sr=Object.keys,Ht=Object.hasOwnProperty,dt=(Pe,ot)=>Ht.call(Pe,ot);var Et=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),ze=tinymce.util.Tools.resolve("tinymce.util.URI");const oo=Pe=>I(Pe)&&Pe.nodeName.toLowerCase()==="a",Be=Pe=>oo(Pe)&&!!Ve(Pe),ne=(Pe,ot)=>{if(Pe.collapsed)return[];{const It=Pe.cloneContents(),Tt=It.firstChild,Cn=new Et(Tt,It),Rn=[];let On=Tt;do ot(On)&&Rn.push(On);while(On=Cn.next());return Rn}},Oe=Pe=>/^\w+:/i.test(Pe),Ve=Pe=>{var ot,It;return(It=(ot=Pe.getAttribute("data-mce-href"))!==null&&ot!==void 0?ot:Pe.getAttribute("href"))!==null&&It!==void 0?It:""},yt=(Pe,ot)=>{const It=["noopener"],Tt=Pe?Pe.split(/\s+/):[],Cn=On=>On.filter(To=>cn.inArray(It,To)===-1),Rn=ot?(On=>(On=Cn(On)).length>0?On.concat(It):It)(Tt):Cn(Tt);return Rn.length>0?(On=>cn.trim(On.sort().join(" ")))(Rn):""},Ct=(Pe,ot)=>(ot=ot||En(Pe.selection.getRng())[0]||Pe.selection.getNode(),Hn(ot)?ue.from(Pe.dom.select("a[href]",ot)[0]):ue.from(Pe.dom.getParent(ot,"a[href]"))),rn=(Pe,ot)=>Ct(Pe,ot).isSome(),Un=(Pe,ot)=>ot.fold(()=>Pe.getContent({format:"text"}),It=>It.innerText||It.textContent||"").replace(/\uFEFF/g,""),En=Pe=>ne(Pe,Be),hn=Pe=>cn.grep(Pe,Be),Je=Pe=>hn(Pe).length>0,qt=Pe=>{const ot=Pe.schema.getTextInlineElements();if(Ct(Pe).exists(Tt=>Tt.hasAttribute("data-mce-block")))return!1;const It=Pe.selection.getRng();return!!It.collapsed||ne(It,Tt=>Tt.nodeType===1&&!oo(Tt)&&!dt(ot,Tt.nodeName.toLowerCase())).length===0},Hn=Pe=>I(Pe)&&Pe.nodeName==="FIGURE"&&/\bimage\b/i.test(Pe.className),Dn=(Pe,ot,It)=>{const Tt=Pe.selection.getNode(),Cn=Ct(Pe,Tt),Rn=((On,To)=>{const Qn={...To};if(nn(On).length===0&&!kn(On)){const fr=yt(Qn.rel,Qn.target==="_blank");Qn.rel=fr||null}return ue.from(Qn.target).isNone()&&Ke(On)===!1&&(Qn.target=qn(On)),Qn.href=((fr,Ir)=>Ir!=="http"&&Ir!=="https"||Oe(fr)?fr:Ir+"://"+fr)(Qn.href,ye(On)),Qn})(Pe,(On=>{return To=["title","rel","class","target"],Qn=(Ir,mr)=>(On[mr].each(Jo=>{Ir[mr]=Jo.length>0?Jo:null}),Ir),fr={href:On.href},((Ir,mr)=>{for(let Jo=0,ma=Ir.length;Jo<ma;Jo++)mr(Ir[Jo],Jo)})(To,(Ir,mr)=>{fr=Qn(fr,Ir)}),fr;var To,Qn,fr})(It));Pe.undoManager.transact(()=>{It.href===ot.href&&ot.attach(),Cn.fold(()=>{((On,To,Qn,fr)=>{const Ir=On.dom;Hn(To)?Rr(Ir,To,fr):Qn.fold(()=>{On.execCommand("mceInsertLink",!1,fr)},mr=>{On.insertContent(Ir.createHTML("a",fr,Ir.encode(mr)))})})(Pe,Tt,It.text,Rn)},On=>{Pe.focus(),((To,Qn,fr,Ir)=>{fr.each(mr=>{dt(Qn,"innerText")?Qn.innerText=mr:Qn.textContent=mr}),To.dom.setAttribs(Qn,Ir),To.selection.select(Qn)})(Pe,On,It.text,Rn)})})},Uo=Pe=>{const{class:ot,href:It,rel:Tt,target:Cn,text:Rn,title:On}=Pe;return((To,Qn)=>{const fr={};var Ir;return((mr,Jo,ma,cs)=>{((Mo,Ne)=>{const $e=Sr(Mo);for(let vt=0,en=$e.length;vt<en;vt++){const Yt=$e[vt];Ne(Mo[Yt],Yt)}})(mr,(Mo,Ne)=>{(Jo(Mo,Ne)?ma:cs)(Mo,Ne)})})(To,(mr,Jo)=>M(mr)===!1,(Ir=fr,(mr,Jo)=>{Ir[Jo]=mr}),fe),fr})({class:ot.getOrNull(),href:It,rel:Tt.getOrNull(),target:Cn.getOrNull(),text:Rn.getOrNull(),title:On.getOrNull()})},Xn=(Pe,ot,It)=>{const Tt=((Cn,Rn)=>{const On=Cn.options.get,To={allow_html_data_urls:On("allow_html_data_urls"),allow_script_urls:On("allow_script_urls"),allow_svg_data_urls:On("allow_svg_data_urls")},Qn=Rn.href;return{...Rn,href:ze.isDomSafe(Qn,"a",To)?Qn:""}})(Pe,It);Pe.hasPlugin("rtc",!0)?Pe.execCommand("createlink",!1,Uo(Tt)):Dn(Pe,ot,Tt)},so=Pe=>{Pe.hasPlugin("rtc",!0)?Pe.execCommand("unlink"):(ot=>{ot.undoManager.transact(()=>{const It=ot.selection.getNode();Hn(It)?So(ot,It):(Tt=>{const Cn=Tt.dom,Rn=Tt.selection,On=Rn.getBookmark(),To=Rn.getRng().cloneRange(),Qn=Cn.getParent(To.startContainer,"a[href]",Tt.getBody()),fr=Cn.getParent(To.endContainer,"a[href]",Tt.getBody());Qn&&To.setStartBefore(Qn),fr&&To.setEndAfter(fr),Rn.setRng(To),Tt.execCommand("unlink"),Rn.moveToBookmark(On)})(ot),ot.focus()})})(Pe)},So=(Pe,ot)=>{var It;const Tt=Pe.dom.select("img",ot)[0];if(Tt){const Cn=Pe.dom.getParents(Tt,"a[href]",ot)[0];Cn&&((It=Cn.parentNode)===null||It===void 0||It.insertBefore(Tt,Cn),Pe.dom.remove(Cn))}},Rr=(Pe,ot,It)=>{var Tt;const Cn=Pe.select("img",ot)[0];if(Cn){const Rn=Pe.create("a",It);(Tt=Cn.parentNode)===null||Tt===void 0||Tt.insertBefore(Rn,Cn),Rn.appendChild(Cn)}},ur=(Pe,ot)=>J(ot,It=>(Tt=>{return dt(Cn=Tt,Rn="items")&&Cn[Rn]!==void 0&&Cn[Rn]!==null;var Cn,Rn})(It)?ur(Pe,It.items):G(It.value===Pe,It)),vs=(Pe,ot)=>{const It={text:Pe.text,title:Pe.title},Tt=(Cn,Rn)=>{const On=(To=ot,Qn=Rn,Qn==="link"?To.link:Qn==="anchor"?To.anchor:ue.none()).getOr([]);var To,Qn;return((fr,Ir,mr,Jo)=>{const ma=Jo[Ir],cs=fr.length>0;return ma!==void 0?ur(ma,mr).map(Mo=>({url:{value:Mo.value,meta:{text:cs?fr:Mo.text,attach:fe}},text:cs?fr:Mo.text})):ue.none()})(It.text,Rn,On,Cn)};return{onChange:(Cn,Rn)=>{const On=Rn.name;return On==="url"?(To=>{const Qn=(fr=To.url,G(It.text.length<=0,ue.from((Ir=fr.meta)===null||Ir===void 0?void 0:Ir.text).getOr(fr.value)));var fr,Ir;const mr=(Jo=>{var ma;return G(It.title.length<=0,ue.from((ma=Jo.meta)===null||ma===void 0?void 0:ma.title).getOr(""))})(To.url);return Qn.isSome()||mr.isSome()?ue.some({...Qn.map(Jo=>({text:Jo})).getOr({}),...mr.map(Jo=>({title:Jo})).getOr({})}):ue.none()})(Cn()):((To,Qn)=>ke.call(To,Qn))(["anchor","link"],On)>-1?Tt(Cn(),On):((On==="text"||On==="title")&&(It[On]=Cn()[On]),ue.none())}}};var ut=tinymce.util.Tools.resolve("tinymce.util.Delay");const rt=Pe=>{const ot=Pe.href;return ot.indexOf("@")>0&&ot.indexOf("/")===-1&&ot.indexOf("mailto:")===-1?ue.some({message:"The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?",preprocess:It=>({...It,href:"mailto:"+ot})}):ue.none()},Ot=(Pe,ot)=>It=>{const Tt=It.href;return Pe===1&&!Oe(Tt)||Pe===0&&/^\s*www(\.|\d\.)/i.test(Tt)?ue.some({message:`The URL you entered seems to be an external link. Do you want to add the required ${ot}:// prefix?`,preprocess:Cn=>({...Cn,href:ot+"://"+Tt})}):ue.none()},Ze=Pe=>{const ot=Pe.dom.select("a:not([href])"),It=me(((Tt,Cn)=>{const Rn=Tt.length,On=new Array(Rn);for(let To=0;To<Rn;To++){const Qn=Tt[To];On[To]=Cn(Qn,To)}return On})(ot,Tt=>{const Cn=Tt.name||Tt.id;return Cn?[{text:Cn,value:"#"+Cn}]:[]}));return It.length>0?ue.some([{text:"None",value:""}].concat(It)):ue.none()},Lt=Pe=>{const ot=H(Pe);return ot.length>0?Q(ot):ue.none()},ho=Pe=>{try{return ue.some(JSON.parse(Pe))}catch{return ue.none()}},io=(Pe,ot)=>{const It=nn(Pe);if(It.length>0){const Tt=ae(ot,"_blank"),Cn=Rn=>yt(_t(Rn),Tt);return(kn(Pe)===!1?xn(Cn):Q)(It)}return ue.none()},Dt=[{text:"Current window",value:""},{text:"New window",value:"_blank"}],Zt=Pe=>{const ot=Ke(Pe);return S(ot)?Q(ot).orThunk(()=>ue.some(Dt)):ot===!1?ue.none():ue.some(Dt)},fn=(Pe,ot,It)=>{const Tt=Pe.getAttrib(ot,It);return Tt!==null&&Tt.length>0?ue.some(Tt):ue.none()},dr=(Pe,ot)=>(It=>{const Tt=Rn=>It.convertURL(Rn.value||Rn.url||"","href"),Cn=Ft(It);return new Promise(Rn=>{b(Cn)?fetch(Cn).then(On=>On.ok?On.text().then(ho):Promise.reject()).then(Rn,()=>Rn(ue.none())):q(Cn)?Cn(On=>Rn(ue.some(On))):Rn(ue.from(Cn))}).then(Rn=>Rn.bind(xn(Tt)).map(On=>On.length>0?[{text:"None",value:""}].concat(On):On))})(Pe).then(It=>{const Tt=((Cn,Rn)=>{const On=Cn.dom,To=qt(Cn)?ue.some(Un(Cn.selection,Rn)):ue.none(),Qn=Rn.bind(Jo=>ue.from(On.getAttrib(Jo,"href"))),fr=Rn.bind(Jo=>ue.from(On.getAttrib(Jo,"target"))),Ir=Rn.bind(Jo=>fn(On,Jo,"rel")),mr=Rn.bind(Jo=>fn(On,Jo,"class"));return{url:Qn,text:To,title:Rn.bind(Jo=>fn(On,Jo,"title")),target:fr,rel:Ir,linkClass:mr}})(Pe,ot);return{anchor:Tt,catalogs:{targets:Zt(Pe),rels:io(Pe,Tt.target),classes:Lt(Pe),anchor:Ze(Pe),link:It},optNode:ot,flags:{titleEnabled:it(Pe)}}}),$n=Pe=>{(It=>{const Tt=Ct(It);return dr(It,Tt)})(Pe).then(It=>{const Tt=((Cn,Rn)=>On=>{const To=On.getData();if(!To.url.value)return so(Cn),void On.close();const Qn=mr=>ue.from(To[mr]).filter(Jo=>!ae(Rn.anchor[mr],Jo)),fr={href:To.url.value,text:Qn("text"),target:Qn("target"),rel:Qn("rel"),class:Qn("linkClass"),title:Qn("title")},Ir={href:To.url.value,attach:To.url.meta!==void 0&&To.url.meta.attach?To.url.meta.attach:fe};((mr,Jo)=>J([rt,Ot(ye(mr),wn(mr))],ma=>ma(Jo)).fold(()=>Promise.resolve(Jo),ma=>new Promise(cs=>{((Mo,Ne,$e)=>{const vt=Mo.selection.getRng();ut.setEditorTimeout(Mo,()=>{Mo.windowManager.confirm(Ne,en=>{Mo.selection.setRng(vt),$e(en)})})})(mr,ma.message,Mo=>{cs(Mo?ma.preprocess(Jo):Jo)})})))(Cn,fr).then(mr=>{Xn(Cn,Ir,mr)}),On.close()})(Pe,It);return((Cn,Rn,On)=>{const To=Cn.anchor.text.map(()=>({name:"text",type:"input",label:"Text to display"})).toArray(),Qn=Cn.flags.titleEnabled?[{name:"title",type:"input",label:"Title"}]:[],fr=((Jo,ma)=>{const cs=Jo.anchor,Mo=cs.url.getOr("");return{url:{value:Mo,meta:{original:{value:Mo}}},text:cs.text.getOr(""),title:cs.title.getOr(""),anchor:Mo,link:Mo,rel:cs.rel.getOr(""),target:cs.target.or(ma).getOr(""),linkClass:cs.linkClass.getOr("")}})(Cn,ue.from(qn(On))),Ir=Cn.catalogs,mr=vs(fr,Ir);return{title:"Insert/Edit Link",size:"normal",body:{type:"panel",items:me([[{name:"url",type:"urlinput",filetype:"file",label:"URL"}],To,Qn,De([Ir.anchor.map(et("anchor","Anchors")),Ir.rels.map(et("rel","Rel")),Ir.targets.map(et("target","Open link in...")),Ir.link.map(et("link","Link list")),Ir.classes.map(et("linkClass","Class"))])])},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:fr,onChange:(Jo,{name:ma})=>{mr.onChange(Jo.getData,{name:ma}).each(cs=>{Jo.setData(cs)})},onSubmit:Rn}})(It,Tt,Pe)}).then(It=>{Pe.windowManager.open(It)})};var Ar=tinymce.util.Tools.resolve("tinymce.util.VK");const xr=(Pe,ot)=>Pe.dom.getParent(ot,"a[href]"),Dr=Pe=>xr(Pe,Pe.selection.getStart()),Xr=(Pe,ot)=>{if(ot){const It=Ve(ot);if(/^#/.test(It)){const Tt=Pe.dom.select(It);Tt.length&&Pe.selection.scrollIntoView(Tt[0],!0)}else(Tt=>{const Cn=document.createElement("a");Cn.target="_blank",Cn.href=Tt,Cn.rel="noreferrer noopener";const Rn=document.createEvent("MouseEvents");Rn.initMouseEvent("click",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),((On,To)=>{document.body.appendChild(On),On.dispatchEvent(To),document.body.removeChild(On)})(Cn,Rn)})(ot.href)}},zr=Pe=>()=>{Pe.execCommand("mceLink",!1,{dialog:!0})},bs=Pe=>()=>{Xr(Pe,Dr(Pe))},Ys=(Pe,ot)=>(Pe.on("NodeChange",ot),()=>Pe.off("NodeChange",ot)),Bs=Pe=>ot=>{const It=()=>{ot.setActive(!Pe.mode.isReadOnly()&&rn(Pe,Pe.selection.getNode())),ot.setEnabled(Pe.selection.isEditable())};return It(),Ys(Pe,It)},Bi=Pe=>ot=>{const It=()=>{ot.setEnabled(Pe.selection.isEditable())};return It(),Ys(Pe,It)},Ra=Pe=>ot=>{const It=()=>ot.setEnabled((Tt=>(Tt.selection.isCollapsed()?hn(Tt.dom.getParents(Tt.selection.getStart())):En(Tt.selection.getRng())).length===1)(Pe));return It(),Ys(Pe,It)},wi=Pe=>ot=>{const It=Pe.dom.getParents(Pe.selection.getStart()),Tt=Cn=>{ot.setEnabled((Rn=>{return Je(Rn)||(On=Pe.selection.getRng(),En(On).length>0);var On})(Cn)&&Pe.selection.isEditable())};return Tt(It),Ys(Pe,Cn=>Tt(Cn.parents))};a.add("link",Pe=>{(ot=>{const It=ot.options.register;It("link_assume_external_targets",{processor:Tt=>{const Cn=b(Tt)||D(Tt);return Cn?Tt===!0?{value:1,valid:Cn}:Tt==="http"||Tt==="https"?{value:Tt,valid:Cn}:{value:0,valid:Cn}:{valid:!1,message:"Must be a string or a boolean."}},default:!1}),It("link_context_toolbar",{processor:"boolean",default:!1}),It("link_list",{processor:Tt=>b(Tt)||q(Tt)||re(Tt,C)}),It("link_default_target",{processor:"string"}),It("link_default_protocol",{processor:"string",default:"https"}),It("link_target_list",{processor:Tt=>D(Tt)||re(Tt,C),default:!0}),It("link_rel_list",{processor:"object[]",default:[]}),It("link_class_list",{processor:"object[]",default:[]}),It("link_title",{processor:"boolean",default:!0}),It("allow_unsafe_link_target",{processor:"boolean",default:!1}),It("link_quicklink",{processor:"boolean",default:!1})})(Pe),(ot=>{ot.ui.registry.addToggleButton("link",{icon:"link",tooltip:"Insert/edit link",onAction:zr(ot),onSetup:Bs(ot)}),ot.ui.registry.addButton("openlink",{icon:"new-tab",tooltip:"Open link",onAction:bs(ot),onSetup:Ra(ot)}),ot.ui.registry.addButton("unlink",{icon:"unlink",tooltip:"Remove link",onAction:()=>so(ot),onSetup:wi(ot)})})(Pe),(ot=>{ot.ui.registry.addMenuItem("openlink",{text:"Open link",icon:"new-tab",onAction:bs(ot),onSetup:Ra(ot)}),ot.ui.registry.addMenuItem("link",{icon:"link",text:"Link...",shortcut:"Meta+K",onSetup:Bi(ot),onAction:zr(ot)}),ot.ui.registry.addMenuItem("unlink",{icon:"unlink",text:"Remove link",onAction:()=>so(ot),onSetup:wi(ot)})})(Pe),(ot=>{ot.ui.registry.addContextMenu("link",{update:It=>ot.dom.isEditable(It)?Je(ot.dom.getParents(It,"a"))?"link unlink openlink":"link":""})})(Pe),(ot=>{const It=Tt=>{const Cn=ot.selection.getNode();return Tt.setEnabled(rn(ot,Cn)),fe};ot.ui.registry.addContextForm("quicklink",{launch:{type:"contextformtogglebutton",icon:"link",tooltip:"Link",onSetup:Bs(ot)},label:"Link",predicate:Tt=>Pt(ot)&&rn(ot,Tt),initValue:()=>Ct(ot).fold(()=>"",Ve),commands:[{type:"contextformtogglebutton",icon:"link",tooltip:"Link",primary:!0,onSetup:Tt=>{const Cn=ot.selection.getNode();return Tt.setActive(rn(ot,Cn)),Bs(ot)(Tt)},onAction:Tt=>{const Cn=Tt.getValue(),Rn=(On=>{const To=Ct(ot),Qn=qt(ot);if(To.isNone()&&Qn){const fr=Un(ot.selection,To);return G(fr.length===0,On)}return ue.none()})(Cn);Xn(ot,{href:Cn,attach:fe},{href:Cn,text:Rn,title:ue.none(),rel:ue.none(),target:ue.none(),class:ue.none()}),(On=>{On.selection.collapse(!1)})(ot),Tt.hide()}},{type:"contextformbutton",icon:"unlink",tooltip:"Remove link",onSetup:It,onAction:Tt=>{so(ot),Tt.hide()}},{type:"contextformbutton",icon:"new-tab",tooltip:"Open link",onSetup:It,onAction:Tt=>{bs(ot)(),Tt.hide()}}]})})(Pe),(ot=>{ot.on("click",It=>{const Tt=xr(ot,It.target);Tt&&Ar.metaKeyPressed(It)&&(It.preventDefault(),Xr(ot,Tt))}),ot.on("keydown",It=>{if(!It.isDefaultPrevented()&&It.keyCode===13&&(Tt=>Tt.altKey===!0&&Tt.shiftKey===!1&&Tt.ctrlKey===!1&&Tt.metaKey===!1)(It)){const Tt=Dr(ot);Tt&&(It.preventDefault(),Xr(ot,Tt))}})})(Pe),(ot=>{ot.addCommand("mceLink",(It,Tt)=>{(Tt==null?void 0:Tt.dialog)!==!0&&wt(ot)?ot.dispatch("contexttoolbar-show",{toolbarKey:"quicklink"}):$n(ot)})})(Pe),(ot=>{ot.addShortcut("Meta+K","",()=>{ot.execCommand("mceLink")})})(Pe)})})();(function(){var a=tinymce.util.Tools.resolve("tinymce.PluginManager");const u=ut=>rt=>(Ot=>{const Ze=typeof Ot;return Ot===null?"null":Ze==="object"&&Array.isArray(Ot)?"array":Ze==="object"&&(Lt=ho=Ot,(io=String).prototype.isPrototypeOf(Lt)||((Dt=ho.constructor)===null||Dt===void 0?void 0:Dt.name)===io.name)?"string":Ze;var Lt,ho,io,Dt})(rt)===ut,p=u("string"),b=u("object"),C=u("array"),S=ut=>!(rt=>rt==null)(ut);class M{constructor(rt,Ot){this.tag=rt,this.value=Ot}static some(rt){return new M(!0,rt)}static none(){return M.singletonNone}fold(rt,Ot){return this.tag?Ot(this.value):rt()}isSome(){return this.tag}isNone(){return!this.tag}map(rt){return this.tag?M.some(rt(this.value)):M.none()}bind(rt){return this.tag?rt(this.value):M.none()}exists(rt){return this.tag&&rt(this.value)}forall(rt){return!this.tag||rt(this.value)}filter(rt){return!this.tag||rt(this.value)?this:M.none()}getOr(rt){return this.tag?this.value:rt}or(rt){return this.tag?this:rt}getOrThunk(rt){return this.tag?this.value:rt()}orThunk(rt){return this.tag?this:rt()}getOrDie(rt){if(this.tag)return this.value;throw new Error(rt!=null?rt:"Called getOrDie on None")}static from(rt){return S(rt)?M.some(rt):M.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(rt){this.tag&&rt(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}M.singletonNone=new M(!1);const D=Array.prototype.push,I=(ut,rt)=>{for(let Ot=0,Ze=ut.length;Ot<Ze;Ot++)rt(ut[Ot],Ot)},q=ut=>{const rt=[];for(let Ot=0,Ze=ut.length;Ot<Ze;++Ot){if(!C(ut[Ot]))throw new Error("Arr.flatten item "+Ot+" was not an array, input: "+ut);D.apply(rt,ut[Ot])}return rt},re=Object.keys,fe=Object.hasOwnProperty,le=(ut,rt)=>ue(ut,rt)?M.from(ut[rt]):M.none(),ue=(ut,rt)=>fe.call(ut,rt),ke=ut=>rt=>rt.options.get(ut),xe=ke("audio_template_callback"),me=ke("video_template_callback"),J=ke("iframe_template_callback"),ae=ke("media_live_embeds"),De=ke("media_filter_html"),G=ke("media_url_resolver"),Ae=ke("media_alt_source"),ye=ke("media_poster"),Pt=ke("media_dimensions");var Ft=tinymce.util.Tools.resolve("tinymce.util.Tools"),qn=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),wn=tinymce.util.Tools.resolve("tinymce.html.DomParser");const Ke=qn.DOM,nn=ut=>ut.replace(/px$/,""),H=ut=>{const rt=ut.attr("style"),Ot=rt?Ke.parseStyle(rt):{};return{type:"ephox-embed-iri",source:ut.attr("data-ephox-embed-iri"),altsource:"",poster:"",width:le(Ot,"max-width").map(nn).getOr(""),height:le(Ot,"max-height").map(nn).getOr("")}},it=(ut,rt)=>{let Ot={};for(let Ze=wn({validate:!1,forced_root_block:!1},rt).parse(ut);Ze;Ze=Ze.walk())if(Ze.type===1){const Lt=Ze.name;if(Ze.attr("data-ephox-embed-iri")){Ot=H(Ze);break}Ot.source||Lt!=="param"||(Ot.source=Ze.attr("movie")),Lt!=="iframe"&&Lt!=="object"&&Lt!=="embed"&&Lt!=="video"&&Lt!=="audio"||(Ot.type||(Ot.type=Lt),Ot=Ft.extend(Ze.attributes.map,Ot)),Lt==="script"&&(Ot={type:"script",source:Ze.attr("src")}),Lt==="source"&&(Ot.source?Ot.altsource||(Ot.altsource=Ze.attr("src")):Ot.source=Ze.attr("src")),Lt!=="img"||Ot.poster||(Ot.poster=Ze.attr("src"))}return Ot.source=Ot.source||Ot.src||"",Ot.altsource=Ot.altsource||"",Ot.poster=Ot.poster||"",Ot},kn=ut=>{var rt;const Ot=(rt=ut.toLowerCase().split(".").pop())!==null&&rt!==void 0?rt:"";return le({mp3:"audio/mpeg",m4a:"audio/x-m4a",wav:"audio/wav",mp4:"video/mp4",webm:"video/webm",ogg:"video/ogg",swf:"application/x-shockwave-flash"},Ot).getOr("")};var wt=tinymce.util.Tools.resolve("tinymce.html.Node"),cn=tinymce.util.Tools.resolve("tinymce.html.Serializer");const In=(ut,rt={})=>wn({forced_root_block:!1,validate:!1,allow_conditional_comments:!0,...rt},ut),pn=qn.DOM,Sn=ut=>/^[0-9.]+$/.test(ut)?ut+"px":ut,Q=(ut,rt)=>{const Ot=rt.attr("style"),Ze=Ot?pn.parseStyle(Ot):{};S(ut.width)&&(Ze["max-width"]=Sn(ut.width)),S(ut.height)&&(Ze["max-height"]=Sn(ut.height)),rt.attr("style",pn.serializeStyle(Ze))},xn=["source","altsource"],et=(ut,rt,Ot,Ze)=>{let Lt=0,ho=0;const io=In(Ze);io.addNodeFilter("source",Zt=>Lt=Zt.length);const Dt=io.parse(ut);for(let Zt=Dt;Zt;Zt=Zt.walk())if(Zt.type===1){const fn=Zt.name;if(Zt.attr("data-ephox-embed-iri")){Q(rt,Zt);break}switch(fn){case"video":case"object":case"embed":case"img":case"iframe":rt.height!==void 0&&rt.width!==void 0&&(Zt.attr("width",rt.width),Zt.attr("height",rt.height))}if(Ot)switch(fn){case"video":Zt.attr("poster",rt.poster),Zt.attr("src",null);for(let $n=Lt;$n<2;$n++)if(rt[xn[$n]]){const Ar=new wt("source",1);Ar.attr("src",rt[xn[$n]]),Ar.attr("type",rt[xn[$n]+"mime"]||null),Zt.append(Ar)}break;case"iframe":Zt.attr("src",rt.source);break;case"object":const dr=Zt.getAll("img").length>0;if(rt.poster&&!dr){Zt.attr("src",rt.poster);const $n=new wt("img",1);$n.attr("src",rt.poster),$n.attr("width",rt.width),$n.attr("height",rt.height),Zt.append($n)}break;case"source":if(ho<2&&(Zt.attr("src",rt[xn[ho]]),Zt.attr("type",rt[xn[ho]+"mime"]||null),!rt[xn[ho]])){Zt.remove();continue}ho++;break;case"img":rt.poster||Zt.remove()}}return cn({},Ze).serialize(Dt)},_t=[{regex:/youtu\.be\/([\w\-_\?&=.]+)/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$1",allowFullscreen:!0},{regex:/youtube\.com(.+)v=([^&]+)(&([a-z0-9&=\-_]+))?/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$2?$4",allowFullscreen:!0},{regex:/youtube.com\/embed\/([a-z0-9\?&=\-_]+)/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$1",allowFullscreen:!0},{regex:/vimeo\.com\/([0-9]+)\?h=(\w+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$1?h=$2&title=0&byline=0&portrait=0&color=8dc7dc",allowFullscreen:!0},{regex:/vimeo\.com\/(.*)\/([0-9]+)\?h=(\w+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$2?h=$3&title=0&amp;byline=0",allowFullscreen:!0},{regex:/vimeo\.com\/([0-9]+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$1?title=0&byline=0&portrait=0&color=8dc7dc",allowFullscreen:!0},{regex:/vimeo\.com\/(.*)\/([0-9]+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$2?title=0&amp;byline=0",allowFullscreen:!0},{regex:/maps\.google\.([a-z]{2,3})\/maps\/(.+)msid=(.+)/,type:"iframe",w:425,h:350,url:'maps.google.com/maps/ms?msid=$2&output=embed"',allowFullscreen:!1},{regex:/dailymotion\.com\/video\/([^_]+)/,type:"iframe",w:480,h:270,url:"www.dailymotion.com/embed/video/$1",allowFullscreen:!0},{regex:/dai\.ly\/([^_]+)/,type:"iframe",w:480,h:270,url:"www.dailymotion.com/embed/video/$1",allowFullscreen:!0}],Sr=(ut,rt)=>{const Ot=(ho=>{const io=ho.match(/^(https?:\/\/|www\.)(.+)$/i);return io&&io.length>1?io[1]==="www."?"https://":io[1]:"https://"})(rt),Ze=ut.regex.exec(rt);let Lt=Ot+ut.url;if(S(Ze))for(let ho=0;ho<Ze.length;ho++)Lt=Lt.replace("$"+ho,()=>Ze[ho]?Ze[ho]:"");return Lt.replace(/\?$/,"")},Ht=ut=>{const rt=_t.filter(Ot=>Ot.regex.test(ut));return rt.length>0?Ft.extend({},rt[0],{url:Sr(rt[0],ut)}):null},dt=(ut,rt)=>{var Ot;const Ze=Ft.extend({},rt);if(!Ze.source&&(Ft.extend(Ze,it((Ot=Ze.embed)!==null&&Ot!==void 0?Ot:"",ut.schema)),!Ze.source))return"";Ze.altsource||(Ze.altsource=""),Ze.poster||(Ze.poster=""),Ze.source=ut.convertURL(Ze.source,"source"),Ze.altsource=ut.convertURL(Ze.altsource,"source"),Ze.sourcemime=kn(Ze.source),Ze.altsourcemime=kn(Ze.altsource),Ze.poster=ut.convertURL(Ze.poster,"poster");const Lt=Ht(Ze.source);if(Lt&&(Ze.source=Lt.url,Ze.type=Lt.type,Ze.allowfullscreen=Lt.allowFullscreen,Ze.width=Ze.width||String(Lt.w),Ze.height=Ze.height||String(Lt.h)),Ze.embed)return et(Ze.embed,Ze,!0,ut.schema);{const ho=xe(ut),io=me(ut),Dt=J(ut);return Ze.width=Ze.width||"300",Ze.height=Ze.height||"150",Ft.each(Ze,(Zt,fn)=>{Ze[fn]=ut.dom.encode(""+Zt)}),Ze.type==="iframe"?((Zt,fn)=>{if(fn)return fn(Zt);{const dr=Zt.allowfullscreen?' allowFullscreen="1"':"";return'<iframe src="'+Zt.source+'" width="'+Zt.width+'" height="'+Zt.height+'"'+dr+"></iframe>"}})(Ze,Dt):Ze.sourcemime==="application/x-shockwave-flash"?(Zt=>{let fn='<object data="'+Zt.source+'" width="'+Zt.width+'" height="'+Zt.height+'" type="application/x-shockwave-flash">';return Zt.poster&&(fn+='<img src="'+Zt.poster+'" width="'+Zt.width+'" height="'+Zt.height+'" />'),fn+="</object>",fn})(Ze):Ze.sourcemime.indexOf("audio")!==-1?((Zt,fn)=>fn?fn(Zt):'<audio controls="controls" src="'+Zt.source+'">'+(Zt.altsource?`
<source src="`+Zt.altsource+'"'+(Zt.altsourcemime?' type="'+Zt.altsourcemime+'"':"")+` />
`:"")+"</audio>")(Ze,ho):Ze.type==="script"?(Zt=>'<script src="'+Zt.source+'"><\/script>')(Ze):((Zt,fn)=>fn?fn(Zt):'<video width="'+Zt.width+'" height="'+Zt.height+'"'+(Zt.poster?' poster="'+Zt.poster+'"':"")+` controls="controls">
<source src="`+Zt.source+'"'+(Zt.sourcemime?' type="'+Zt.sourcemime+'"':"")+` />
`+(Zt.altsource?'<source src="'+Zt.altsource+'"'+(Zt.altsourcemime?' type="'+Zt.altsourcemime+'"':"")+` />
`:"")+"</video>")(Ze,io)}},Et=ut=>ut.hasAttribute("data-mce-object")||ut.hasAttribute("data-ephox-embed-iri"),ze={},oo=ut=>rt=>dt(ut,rt),Be=(ut,rt)=>{const Ot=G(ut);return Ot?((Ze,Lt,ho)=>new Promise((io,Dt)=>{const Zt=fn=>(fn.html&&(ze[Ze.source]=fn),io({url:Ze.source,html:fn.html?fn.html:Lt(Ze)}));ze[Ze.source]?Zt(ze[Ze.source]):ho({url:Ze.source},Zt,Dt)}))(rt,oo(ut),Ot):((Ze,Lt)=>Promise.resolve({html:Lt(Ze),url:Ze.source}))(rt,oo(ut))},ne=(ut,rt)=>{const Ot={};return le(ut,"dimensions").each(Ze=>{I(["width","height"],Lt=>{le(rt,Lt).orThunk(()=>le(Ze,Lt)).each(ho=>Ot[Lt]=ho)})}),Ot},Oe=(ut,rt)=>{const Ot=rt&&rt!=="dimensions"?((Lt,ho)=>le(ho,Lt).bind(io=>le(io,"meta")))(rt,ut).getOr({}):{},Ze=((Lt,ho,io)=>Dt=>{const Zt=()=>le(Lt,Dt),fn=()=>le(ho,Dt),dr=$n=>le($n,"value").bind(Ar=>Ar.length>0?M.some(Ar):M.none());return{[Dt]:(Dt===io?Zt().bind($n=>b($n)?dr($n).orThunk(fn):fn().orThunk(()=>M.from($n))):fn().orThunk(()=>Zt().bind($n=>b($n)?dr($n):M.from($n)))).getOr("")}})(ut,Ot,rt);return{...Ze("source"),...Ze("altsource"),...Ze("poster"),...Ze("embed"),...ne(ut,Ot)}},Ve=ut=>{const rt={...ut,source:{value:le(ut,"source").getOr("")},altsource:{value:le(ut,"altsource").getOr("")},poster:{value:le(ut,"poster").getOr("")}};return I(["width","height"],Ot=>{le(ut,Ot).each(Ze=>{const Lt=rt.dimensions||{};Lt[Ot]=Ze,rt.dimensions=Lt})}),rt},yt=ut=>rt=>{const Ot=rt&&rt.msg?"Media embed handler error: "+rt.msg:"Media embed handler threw unknown error.";ut.notificationManager.open({type:"error",text:Ot})},Ct=(ut,rt)=>Ot=>{if(p(Ot.url)&&Ot.url.trim().length>0){const Ze=Ot.html,Lt={...it(Ze,rt.schema),source:Ot.url,embed:Ze};ut.setData(Ve(Lt))}},rn=(ut,rt)=>{const Ot=ut.dom.select("*[data-mce-object]");ut.insertContent(rt),((Ze,Lt)=>{const ho=Ze.dom.select("*[data-mce-object]");for(let io=0;io<Lt.length;io++)for(let Dt=ho.length-1;Dt>=0;Dt--)Lt[io]===ho[Dt]&&ho.splice(Dt,1);Ze.selection.select(ho[0])})(ut,Ot),ut.nodeChanged()},Un=(ut,rt)=>S(rt)&&rt==="ephox-embed-iri"&&S(Ht(ut)),En=(ut,rt)=>((Ot,Ze)=>Ot.width!==Ze.width||Ot.height!==Ze.height)(ut,rt)&&Un(rt.source,ut.type),hn=ut=>{const rt=($n=>{const Ar=$n.selection.getNode(),xr=Et(Ar)?$n.serializer.serialize(Ar,{selection:!0}):"",Dr=it(xr,$n.schema),Xr=(()=>{if(Un(Dr.source,Dr.type)){const zr=$n.dom.getRect(Ar);return{width:zr.w.toString().replace(/px$/,""),height:zr.h.toString().replace(/px$/,"")}}return{}})();return{embed:xr,...Dr,...Xr}})(ut),Ot=($n=>{let Ar=$n;return{get:()=>Ar,set:xr=>{Ar=xr}}})(rt),Ze=Ve(rt),Lt=Pt(ut)?[{type:"sizeinput",name:"dimensions",label:"Constrain proportions",constrain:!0}]:[],ho={title:"General",name:"general",items:q([[{name:"source",type:"urlinput",filetype:"media",label:"Source"}],Lt])},io=[];Ae(ut)&&io.push({name:"altsource",type:"urlinput",filetype:"media",label:"Alternative source URL"}),ye(ut)&&io.push({name:"poster",type:"urlinput",filetype:"image",label:"Media poster (Image URL)"});const Dt={title:"Advanced",name:"advanced",items:io},Zt=[ho,{title:"Embed",items:[{type:"textarea",name:"embed",label:"Paste your embed code below:"}]}];io.length>0&&Zt.push(Dt);const fn={type:"tabpanel",tabs:Zt},dr=ut.windowManager.open({title:"Insert/Edit Media",size:"normal",body:fn,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:$n=>{const Ar=Oe($n.getData());((xr,Dr,Xr)=>{var zr,bs;Dr.embed=En(xr,Dr)&&Pt(Xr)?dt(Xr,{...Dr,embed:""}):et((zr=Dr.embed)!==null&&zr!==void 0?zr:"",Dr,!1,Xr.schema),Dr.embed&&(xr.source===Dr.source||(bs=Dr.source,ue(ze,bs)))?rn(Xr,Dr.embed):Be(Xr,Dr).then(Ys=>{rn(Xr,Ys.html)}).catch(yt(Xr))})(Ot.get(),Ar,ut),$n.close()},onChange:($n,Ar)=>{switch(Ar.name){case"source":((xr,Dr)=>{const Xr=Oe(Dr.getData(),"source");xr.source!==Xr.source&&(Ct(dr,ut)({url:Xr.source,html:""}),Be(ut,Xr).then(Ct(dr,ut)).catch(yt(ut)))})(Ot.get(),$n);break;case"embed":(xr=>{var Dr;const Xr=Oe(xr.getData()),zr=it((Dr=Xr.embed)!==null&&Dr!==void 0?Dr:"",ut.schema);xr.setData(Ve(zr))})($n);break;case"dimensions":case"altsource":case"poster":((xr,Dr,Xr)=>{const zr=Oe(xr.getData(),Dr),bs=En(Xr,zr)&&Pt(ut)?{...zr,embed:""}:zr,Ys=dt(ut,bs);xr.setData(Ve({...bs,embed:Ys}))})($n,Ar.name,Ot.get())}Ot.set(Oe($n.getData()))},initialData:Ze})};var Je=tinymce.util.Tools.resolve("tinymce.Env");const qt=ut=>{const rt=ut.name;return rt==="iframe"||rt==="video"||rt==="audio"},Hn=(ut,rt,Ot,Ze=null)=>{const Lt=ut.attr(Ot);return S(Lt)?Lt:ue(rt,Ot)?null:Ze},Dn=(ut,rt,Ot)=>{const Ze=rt.name==="img"||ut.name==="video",Lt=Ze?"300":null,ho=ut.name==="audio"?"30":"150",io=Ze?ho:null;rt.attr({width:Hn(ut,Ot,"width",Lt),height:Hn(ut,Ot,"height",io)})},Uo=(ut,rt)=>{const Ot=rt.name,Ze=new wt("img",1);return so(ut,rt,Ze),Dn(rt,Ze,{}),Ze.attr({style:rt.attr("style"),src:Je.transparentSrc,"data-mce-object":Ot,class:"mce-object mce-object-"+Ot}),Ze},Xn=(ut,rt)=>{var Ot;const Ze=rt.name,Lt=new wt("span",1);Lt.attr({contentEditable:"false",style:rt.attr("style"),"data-mce-object":Ze,class:"mce-preview-object mce-object-"+Ze}),so(ut,rt,Lt);const ho=ut.dom.parseStyle((Ot=rt.attr("style"))!==null&&Ot!==void 0?Ot:""),io=new wt(Ze,1);if(Dn(rt,io,ho),io.attr({src:rt.attr("src"),style:rt.attr("style"),class:rt.attr("class")}),Ze==="iframe")io.attr({allowfullscreen:rt.attr("allowfullscreen"),frameborder:"0"});else{I(["controls","crossorigin","currentTime","loop","muted","poster","preload"],fn=>{io.attr(fn,rt.attr(fn))});const Zt=Lt.attr("data-mce-html");S(Zt)&&((fn,dr,$n,Ar)=>{const xr=In(fn.schema).parse(Ar,{context:dr});for(;xr.firstChild;)$n.append(xr.firstChild)})(ut,Ze,io,unescape(Zt))}const Dt=new wt("span",1);return Dt.attr("class","mce-shim"),Lt.append(io),Lt.append(Dt),Lt},so=(ut,rt,Ot)=>{var Ze;const Lt=(Ze=rt.attributes)!==null&&Ze!==void 0?Ze:[];let ho=Lt.length;for(;ho--;){const $n=Lt[ho].name;let Ar=Lt[ho].value;$n==="width"||$n==="height"||$n==="style"||(Dt="data-mce-",(io=$n).length>=9&&io.substr(0,9)===Dt)||($n!=="data"&&$n!=="src"||(Ar=ut.convertURL(Ar,$n)),Ot.attr("data-mce-p-"+$n,Ar))}var io,Dt;const Zt=cn({inner:!0},ut.schema),fn=new wt("div",1);I(rt.children(),$n=>fn.append($n));const dr=Zt.serialize(fn);dr&&(Ot.attr("data-mce-html",escape(dr)),Ot.empty())},So=ut=>{const rt=ut.attr("class");return p(rt)&&/\btiny-pageembed\b/.test(rt)},Rr=ut=>{let rt=ut;for(;rt=rt.parent;)if(rt.attr("data-ephox-embed-iri")||So(rt))return!0;return!1},ur=(ut,rt,Ot)=>{const Ze=(0,ut.options.get)("xss_sanitization"),Lt=De(ut);return In(ut.schema,{sanitize:Ze,validate:Lt}).parse(Ot,{context:rt})},vs=ut=>rt=>{const Ot=()=>{rt.setEnabled(ut.selection.isEditable())};return ut.on("NodeChange",Ot),Ot(),()=>{ut.off("NodeChange",Ot)}};a.add("media",ut=>((rt=>{const Ot=rt.options.register;Ot("audio_template_callback",{processor:"function"}),Ot("video_template_callback",{processor:"function"}),Ot("iframe_template_callback",{processor:"function"}),Ot("media_live_embeds",{processor:"boolean",default:!0}),Ot("media_filter_html",{processor:"boolean",default:!0}),Ot("media_url_resolver",{processor:"function"}),Ot("media_alt_source",{processor:"boolean",default:!0}),Ot("media_poster",{processor:"boolean",default:!0}),Ot("media_dimensions",{processor:"boolean",default:!0})})(ut),(rt=>{rt.addCommand("mceMedia",()=>{hn(rt)})})(ut),(rt=>{const Ot=()=>rt.execCommand("mceMedia");rt.ui.registry.addToggleButton("media",{tooltip:"Insert/edit media",icon:"embed",onAction:Ot,onSetup:Ze=>{const Lt=rt.selection;Ze.setActive(Et(Lt.getNode()));const ho=Lt.selectorChangedWithUnbind("img[data-mce-object],span[data-mce-object],div[data-ephox-embed-iri]",Ze.setActive).unbind,io=vs(rt)(Ze);return()=>{ho(),io()}}}),rt.ui.registry.addMenuItem("media",{icon:"embed",text:"Media...",onAction:Ot,onSetup:vs(rt)})})(ut),(rt=>{rt.on("ResolveName",Ot=>{let Ze;Ot.target.nodeType===1&&(Ze=Ot.target.getAttribute("data-mce-object"))&&(Ot.name=Ze)})})(ut),(rt=>{rt.on("PreInit",()=>{const{schema:Ot,serializer:Ze,parser:Lt}=rt,ho=Ot.getBoolAttrs();I("webkitallowfullscreen mozallowfullscreen".split(" "),io=>{ho[io]={}}),((io,Dt)=>{const Zt=re(io);for(let fn=0,dr=Zt.length;fn<dr;fn++){const $n=Zt[fn];Dt(io[$n],$n)}})({embed:["wmode"]},(io,Dt)=>{const Zt=Ot.getElementRule(Dt);Zt&&I(io,fn=>{Zt.attributes[fn]={},Zt.attributesOrder.push(fn)})}),Lt.addNodeFilter("iframe,video,audio,object,embed,script",(io=>Dt=>{let Zt,fn=Dt.length;for(;fn--;)Zt=Dt[fn],Zt.parent&&(Zt.parent.attr("data-mce-object")||(qt(Zt)&&ae(io)?Rr(Zt)||Zt.replace(Xn(io,Zt)):Rr(Zt)||Zt.replace(Uo(io,Zt))))})(rt)),Ze.addAttributeFilter("data-mce-object",(io,Dt)=>{var Zt;let fn=io.length;for(;fn--;){const dr=io[fn];if(!dr.parent)continue;const $n=dr.attr(Dt),Ar=new wt($n,1);if($n!=="audio"&&$n!=="script"){const zr=dr.attr("class");zr&&zr.indexOf("mce-preview-object")!==-1&&dr.firstChild?Ar.attr({width:dr.firstChild.attr("width"),height:dr.firstChild.attr("height")}):Ar.attr({width:dr.attr("width"),height:dr.attr("height")})}Ar.attr({style:dr.attr("style")});const xr=(Zt=dr.attributes)!==null&&Zt!==void 0?Zt:[];let Dr=xr.length;for(;Dr--;){const zr=xr[Dr].name;zr.indexOf("data-mce-p-")===0&&Ar.attr(zr.substr(11),xr[Dr].value)}$n==="script"&&Ar.attr("type","text/javascript");const Xr=dr.attr("data-mce-html");if(Xr){const zr=ur(rt,$n,unescape(Xr));I(zr.children(),bs=>Ar.append(bs))}dr.replace(Ar)}})}),rt.on("SetContent",()=>{const Ot=rt.dom;I(Ot.select("span.mce-preview-object"),Ze=>{Ot.select("span.mce-shim",Ze).length===0&&Ot.add(Ze,"span",{class:"mce-shim"})})})})(ut),(rt=>{rt.on("click keyup touchend",()=>{const Ot=rt.selection.getNode();Ot&&rt.dom.hasClass(Ot,"mce-preview-object")&&rt.dom.getAttrib(Ot,"data-mce-selected")&&Ot.setAttribute("data-mce-selected","2")}),rt.on("ObjectSelected",Ot=>{Ot.target.getAttribute("data-mce-object")==="script"&&Ot.preventDefault()}),rt.on("ObjectResized",Ot=>{const Ze=Ot.target;if(Ze.getAttribute("data-mce-object")){let Lt=Ze.getAttribute("data-mce-html");Lt&&(Lt=unescape(Lt),Ze.setAttribute("data-mce-html",escape(et(Lt,{width:String(Ot.width),height:String(Ot.height)},!1,rt.schema))))}})})(ut),(rt=>({showDialog:()=>{hn(rt)}}))(ut)))})();(function(){var a=tinymce.util.Tools.resolve("tinymce.PluginManager");const u=X=>de=>(ce=>{const _e=typeof ce;return ce===null?"null":_e==="object"&&Array.isArray(ce)?"array":_e==="object"&&(nt=at=ce,(zt=String).prototype.isPrototypeOf(nt)||((mn=at.constructor)===null||mn===void 0?void 0:mn.name)===zt.name)?"string":_e;var nt,at,zt,mn})(de)===X,p=X=>de=>typeof de===X,b=u("string"),C=u("array"),S=p("boolean"),M=X=>X===void 0,D=X=>!(de=>de==null)(X),I=p("function"),q=p("number"),re=()=>{},fe=X=>()=>X,le=X=>X,ue=(X,de)=>X===de;function ke(X,...de){return(...ce)=>{const _e=de.concat(ce);return X.apply(null,_e)}}const xe=X=>{X()},me=fe(!1),J=fe(!0);class ae{constructor(de,ce){this.tag=de,this.value=ce}static some(de){return new ae(!0,de)}static none(){return ae.singletonNone}fold(de,ce){return this.tag?ce(this.value):de()}isSome(){return this.tag}isNone(){return!this.tag}map(de){return this.tag?ae.some(de(this.value)):ae.none()}bind(de){return this.tag?de(this.value):ae.none()}exists(de){return this.tag&&de(this.value)}forall(de){return!this.tag||de(this.value)}filter(de){return!this.tag||de(this.value)?this:ae.none()}getOr(de){return this.tag?this.value:de}or(de){return this.tag?this:de}getOrThunk(de){return this.tag?this.value:de()}orThunk(de){return this.tag?this:de()}getOrDie(de){if(this.tag)return this.value;throw new Error(de!=null?de:"Called getOrDie on None")}static from(de){return D(de)?ae.some(de):ae.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(de){this.tag&&de(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}ae.singletonNone=new ae(!1);const De=Object.keys,G=Object.hasOwnProperty,Ae=(X,de)=>{const ce=De(X);for(let _e=0,nt=ce.length;_e<nt;_e++){const at=ce[_e];de(X[at],at)}},ye=(X,de)=>{const ce={};var _e;return((nt,at,zt,mn)=>{Ae(nt,(sn,un)=>{(at(sn,un)?zt:mn)(sn,un)})})(X,de,(_e=ce,(nt,at)=>{_e[at]=nt}),re),ce},Pt=X=>De(X).length,Ft=(X,de)=>qn(X,de)?ae.from(X[de]):ae.none(),qn=(X,de)=>G.call(X,de),wn=(X,de)=>qn(X,de)&&X[de]!==void 0&&X[de]!==null,Ke=Array.prototype.indexOf,nn=Array.prototype.push,H=(X,de)=>((ce,_e)=>Ke.call(ce,_e))(X,de)>-1,it=(X,de)=>{for(let ce=0,_e=X.length;ce<_e;ce++)if(de(X[ce],ce))return!0;return!1},kn=(X,de)=>{const ce=[];for(let _e=0;_e<X;_e++)ce.push(de(_e));return ce},wt=(X,de)=>{const ce=X.length,_e=new Array(ce);for(let nt=0;nt<ce;nt++){const at=X[nt];_e[nt]=de(at,nt)}return _e},cn=(X,de)=>{for(let ce=0,_e=X.length;ce<_e;ce++)de(X[ce],ce)},In=(X,de)=>{const ce=[];for(let _e=0,nt=X.length;_e<nt;_e++){const at=X[_e];de(at,_e)&&ce.push(at)}return ce},pn=(X,de,ce)=>(cn(X,(_e,nt)=>{ce=de(ce,_e,nt)}),ce),Sn=(X,de)=>((ce,_e,nt)=>{for(let at=0,zt=ce.length;at<zt;at++){const mn=ce[at];if(_e(mn,at))return ae.some(mn);if(nt(mn,at))break}return ae.none()})(X,de,me),Q=(X,de)=>(ce=>{const _e=[];for(let nt=0,at=ce.length;nt<at;++nt){if(!C(ce[nt]))throw new Error("Arr.flatten item "+nt+" was not an array, input: "+ce);nn.apply(_e,ce[nt])}return _e})(wt(X,de)),xn=(X,de)=>{for(let ce=0,_e=X.length;ce<_e;++ce)if(de(X[ce],ce)!==!0)return!1;return!0},et=(X,de)=>de>=0&&de<X.length?ae.some(X[de]):ae.none(),_t=(X,de)=>{for(let ce=0;ce<X.length;ce++){const _e=de(X[ce],ce);if(_e.isSome())return _e}return ae.none()},Sr=X=>{if(X==null)throw new Error("Node cannot be null or undefined");return{dom:X}},Ht={fromHtml:(X,de)=>{const ce=(de||document).createElement("div");if(ce.innerHTML=X,!ce.hasChildNodes()||ce.childNodes.length>1){const _e="HTML does not have a single root node";throw console.error(_e,X),new Error(_e)}return Sr(ce.childNodes[0])},fromTag:(X,de)=>{const ce=(de||document).createElement(X);return Sr(ce)},fromText:(X,de)=>{const ce=(de||document).createTextNode(X);return Sr(ce)},fromDom:Sr,fromPoint:(X,de,ce)=>ae.from(X.dom.elementFromPoint(de,ce)).map(Sr)},dt=(X,de)=>{const ce=X.dom;if(ce.nodeType!==1)return!1;{const _e=ce;if(_e.matches!==void 0)return _e.matches(de);if(_e.msMatchesSelector!==void 0)return _e.msMatchesSelector(de);if(_e.webkitMatchesSelector!==void 0)return _e.webkitMatchesSelector(de);if(_e.mozMatchesSelector!==void 0)return _e.mozMatchesSelector(de);throw new Error("Browser lacks native selectors")}},Et=X=>X.nodeType!==1&&X.nodeType!==9&&X.nodeType!==11||X.childElementCount===0,ze=(X,de)=>X.dom===de.dom,oo=dt;typeof window!="undefined"||Function("return this;")();const Be=X=>X.dom.nodeName.toLowerCase(),ne=X=>X.dom.nodeType,Oe=X=>de=>ne(de)===X,Ve=Oe(1),yt=Oe(3),Ct=Oe(9),rn=Oe(11),Un=X=>de=>Ve(de)&&Be(de)===X,En=X=>Ct(X)?X:Ht.fromDom(X.dom.ownerDocument),hn=X=>ae.from(X.dom.parentNode).map(Ht.fromDom),Je=X=>ae.from(X.dom.nextSibling).map(Ht.fromDom),qt=X=>wt(X.dom.childNodes,Ht.fromDom),Hn=I(Element.prototype.attachShadow)&&I(Node.prototype.getRootNode)?X=>Ht.fromDom(X.dom.getRootNode()):En,Dn=X=>Ht.fromDom(X.dom.host),Uo=X=>{const de=yt(X)?X.dom.parentNode:X.dom;if(de==null||de.ownerDocument===null)return!1;const ce=de.ownerDocument;return(at=>{const zt=Hn(at);return rn(mn=zt)&&D(mn.dom.host)?ae.some(zt):ae.none();var mn})(Ht.fromDom(de)).fold(()=>ce.body.contains(de),(_e=Uo,nt=Dn,at=>_e(nt(at))));var _e,nt};var Xn=(X,de,ce,_e,nt)=>X(ce,_e)?ae.some(ce):I(nt)&&nt(ce)?ae.none():de(ce,_e,nt);const so=(X,de,ce)=>{let _e=X.dom;const nt=I(ce)?ce:me;for(;_e.parentNode;){_e=_e.parentNode;const at=Ht.fromDom(_e);if(de(at))return ae.some(at);if(nt(at))break}return ae.none()},So=(X,de,ce)=>so(X,_e=>dt(_e,de),ce),Rr=(X,de)=>((ce,_e)=>Sn(ce.dom.childNodes,nt=>{return at=Ht.fromDom(nt),dt(at,de);var at}).map(Ht.fromDom))(X),ur=(X,de)=>((ce,_e)=>{const nt=_e===void 0?document:_e.dom;return Et(nt)?ae.none():ae.from(nt.querySelector(ce)).map(Ht.fromDom)})(de,X),vs=(X,de,ce)=>Xn((_e,nt)=>dt(_e,nt),So,X,de,ce),ut=(X,de=!1)=>{return Uo(X)?X.dom.isContentEditable:(ce=X,vs(ce,"[contenteditable]")).fold(fe(de),_e=>rt(_e)==="true");var ce},rt=X=>X.dom.contentEditable,Ot=X=>de=>ze(de,(ce=>Ht.fromDom(ce.getBody()))(X)),Ze=X=>/^\d+(\.\d+)?$/.test(X)?X+"px":X,Lt=X=>Ht.fromDom(X.selection.getStart()),ho=(X,de)=>{let ce=[];return cn(qt(X),_e=>{de(_e)&&(ce=ce.concat([_e])),ce=ce.concat(ho(_e,de))}),ce},io=(X,de)=>((ce,_e)=>In(qt(ce),nt=>dt(nt,de)))(X),Dt=(X,de)=>((ce,_e)=>{const nt=_e===void 0?document:_e.dom;return Et(nt)?[]:wt(nt.querySelectorAll(ce),Ht.fromDom)})(de,X),Zt=(X,de,ce)=>{if(!(b(ce)||S(ce)||q(ce)))throw console.error("Invalid call to Attribute.set. Key ",de,":: Value ",ce,":: Element ",X),new Error("Attribute value was not simple");X.setAttribute(de,ce+"")},fn=(X,de)=>{const ce=X.dom.getAttribute(de);return ce===null?void 0:ce},dr=(X,de)=>ae.from(fn(X,de)),$n=(X,de)=>{X.dom.removeAttribute(de)},Ar=(X,de,ce=ue)=>X.exists(_e=>ce(_e,de)),xr=(X,de,ce)=>X.isSome()&&de.isSome()?ae.some(ce(X.getOrDie(),de.getOrDie())):ae.none(),Dr=(X,de)=>((ce,_e,nt)=>_e===""||ce.length>=_e.length&&ce.substr(0,0+_e.length)===_e)(X,de),Xr=(zr=/^\s+|\s+$/g,X=>X.replace(zr,""));var zr;const bs=X=>X.length>0,Ys=(X,de=10)=>{const ce=parseInt(X,de);return isNaN(ce)?ae.none():ae.some(ce)},Bs=X=>X.style!==void 0&&I(X.style.getPropertyValue),Bi=(X,de)=>{const ce=X.dom,_e=window.getComputedStyle(ce).getPropertyValue(de);return _e!==""||Uo(X)?_e:Ra(ce,de)},Ra=(X,de)=>Bs(X)?X.style.getPropertyValue(de):"",wi=(X,de)=>{const ce=X.dom,_e=Ra(ce,de);return ae.from(_e).filter(nt=>nt.length>0)},Pe=(X,de,ce=0)=>dr(X,de).map(_e=>parseInt(_e,10)).getOr(ce),ot=(X,de)=>It(X,de,J),It=(X,de,ce)=>Q(qt(X),_e=>dt(_e,de)?ce(_e)?[_e]:[]:It(_e,de,ce)),Tt=["tfoot","thead","tbody","colgroup"],Cn=(X,de,ce)=>({element:X,rowspan:de,colspan:ce}),Rn=(X,de,ce)=>({element:X,cells:de,section:ce}),On=(X,de)=>vs(X,"table",de),To=X=>ot(X,"tr"),Qn=X=>On(X).fold(fe([]),de=>io(de,"colgroup")),fr=X=>hn(X).map(de=>{const ce=Be(de);return(_e=>H(Tt,_e))(ce)?ce:"tbody"}).getOr("tbody"),Ir=X=>dr(X,"data-snooker-locked-cols").bind(de=>ae.from(de.match(/\d+/g))).map(de=>((ce,_e)=>{const nt={};for(let at=0,zt=ce.length;at<zt;at++){const mn=ce[at];nt[String(mn)]=_e(mn,at)}return nt})(de,J)),mr=(X,de)=>X+","+de,Jo=X=>{const de={},ce=[];var _e;const nt=(_e=X,et(_e,0)).map(Jt=>Jt.element).bind(On).bind(Ir).getOr({});let at=0,zt=0,mn=0;const{pass:sn,fail:un}=((Jt,Bo)=>{const Or=[],no=[];for(let Jn=0,Cr=Jt.length;Jn<Cr;Jn++){const qo=Jt[Jn];(Go=qo,Go.section==="colgroup"?Or:no).push(qo)}var Go;return{pass:Or,fail:no}})(X);cn(un,Jt=>{const Bo=[];cn(Jt.cells,Or=>{let no=0;for(;de[mr(mn,no)]!==void 0;)no++;const Go=wn(nt,no.toString()),Jn=((Cr,qo,gr,Xa,vn,Js)=>({element:Cr,rowspan:qo,colspan:gr,row:Xa,column:vn,isLocked:Js}))(Or.element,Or.rowspan,Or.colspan,mn,no,Go);for(let Cr=0;Cr<Or.colspan;Cr++)for(let qo=0;qo<Or.rowspan;qo++){const gr=no+Cr,Xa=mr(mn+qo,gr);de[Xa]=Jn,zt=Math.max(zt,gr+1)}Bo.push(Jn)}),at++,ce.push(Rn(Jt.element,Bo,Jt.section)),mn++});const{columns:Bn,colgroups:Kn}=(Jt=>et(Jt,Jt.length-1))(sn).map(Jt=>{const Bo=(no=>{const Go={};let Jn=0;return cn(no.cells,Cr=>{const qo=Cr.colspan;kn(qo,gr=>{const Xa=Jn+gr;Go[Xa]=((vn,Js,Na)=>({element:vn,colspan:Js,column:Na}))(Cr.element,qo,Xa)}),Jn+=qo}),Go})(Jt);return{colgroups:[((no,Go)=>({element:no,columns:Go}))(Jt.element,((no,Go)=>{const Jn=[];return Ae(no,(Cr,qo)=>{Jn.push(Go(Cr,qo))}),Jn})(Bo,le))],columns:Bo}}).getOrThunk(()=>({colgroups:[],columns:{}}));return{grid:((Jt,Bo)=>({rows:Jt,columns:Bo}))(at,zt),access:de,all:ce,columns:Bn,colgroups:Kn}},ma=X=>{const de=(ce=>{const _e=To(ce);return((nt,at)=>wt(nt,zt=>{if(Be(zt)==="colgroup"){const mn=wt((sn=>dt(sn,"colgroup")?io(sn,"col"):Q(Qn(sn),un=>io(un,"col")))(zt),sn=>{const un=Pe(sn,"span",1);return Cn(sn,1,un)});return Rn(zt,mn,"colgroup")}{const mn=wt((sn=>ot(sn,"th,td"))(zt),sn=>{const un=Pe(sn,"rowspan",1),Bn=Pe(sn,"colspan",1);return Cn(sn,un,Bn)});return Rn(zt,mn,at(zt))}}))([...Qn(ce),..._e],fr)})(X);return Jo(de)},cs=(X,de,ce)=>ae.from(X.access[mr(de,ce)]),Mo=(X,de,ce)=>{const _e=((nt,at)=>{const zt=Q(nt.all,mn=>mn.cells);return In(zt,at)})(X,nt=>ce(de,nt.element));return _e.length>0?ae.some(_e[0]):ae.none()},Ne=(X,de)=>ae.from(X.columns[de]);var $e=tinymce.util.Tools.resolve("tinymce.util.Tools");const vt=(X,de,ce)=>{const _e=X.select("td,th",de);let nt;for(let at=0;at<_e.length;at++){const zt=X.getStyle(_e[at],ce);if(M(nt)&&(nt=zt),nt!==zt)return""}return nt},en=(X,de,ce)=>{$e.each("left center right".split(" "),_e=>{_e!==ce&&X.formatter.remove("align"+_e,{},de)}),ce&&X.formatter.apply("align"+ce,{},de)},Yt=(X,de,ce)=>{X.dispatch("TableModified",{...ce,table:de})},dn=(X,de,ce)=>((_e,nt)=>(at=>{const zt=parseFloat(at);return isNaN(zt)?ae.none():ae.some(zt)})(_e).getOr(nt))(Bi(X,de),ce),Eo=X=>((de,ce)=>{const _e=de.dom,nt=_e.getBoundingClientRect().width||_e.offsetWidth;return ce==="border-box"?nt:((at,zt,mn,sn)=>zt-dn(at,`padding-${mn}`,0)-dn(at,`padding-${sn}`,0)-dn(at,`border-${mn}-width`,0)-dn(at,`border-${sn}-width`,0))(de,nt,"left","right")})(X,"content-box");var go=tinymce.util.Tools.resolve("tinymce.Env");const Lo=kn(5,X=>{const de=`${X+1}px`;return{title:de,value:de}}),ir=wt(["Solid","Dotted","Dashed","Double","Groove","Ridge","Inset","Outset","None","Hidden"],X=>({title:X,value:X.toLowerCase()})),Er="100%",Qo=X=>{var de;const ce=X.dom,_e=(de=ce.getParent(X.selection.getStart(),ce.isBlock))!==null&&de!==void 0?de:X.getBody();return Eo(Ht.fromDom(_e))+"px"},qr=X=>de=>de.options.get(X),Ms=qr("table_sizing_mode"),Xs=qr("table_border_widths"),Hl=qr("table_border_styles"),ka=qr("table_cell_advtab"),Sa=qr("table_row_advtab"),ys=qr("table_advtab"),ya=qr("table_appearance_options"),Fs=qr("table_grid"),Hs=qr("table_style_by_css"),kf=qr("table_cell_class_list"),zl=qr("table_row_class_list"),yo=qr("table_class_list"),Sf=qr("table_toolbar"),wa=qr("table_background_color_map"),qa=qr("table_border_color_map"),lu=X=>Ms(X)==="fixed",xa=X=>Ms(X)==="responsive",_r=X=>{const de=X.options,ce=de.get("table_default_styles");return de.isSet("table_default_styles")?ce:((_e,nt)=>xa(_e)||!Hs(_e)?nt:lu(_e)?{...nt,width:Qo(_e)}:{...nt,width:Er})(X,ce)},Rs=X=>{const de=X.options,ce=de.get("table_default_attributes");return de.isSet("table_default_attributes")?ce:((_e,nt)=>xa(_e)||Hs(_e)?nt:lu(_e)?{...nt,width:Qo(_e)}:{...nt,width:Er})(X,ce)},Do=(X,de)=>de.column>=X.startCol&&de.column+de.colspan-1<=X.finishCol&&de.row>=X.startRow&&de.row+de.rowspan-1<=X.finishRow,Sl=(X,de,ce)=>((_e,nt,at)=>{const zt=Mo(_e,nt,ze),mn=Mo(_e,at,ze);return zt.bind(sn=>mn.map(un=>{return Bn=sn,Kn=un,{startRow:Math.min(Bn.row,Kn.row),startCol:Math.min(Bn.column,Kn.column),finishRow:Math.max(Bn.row+Bn.rowspan-1,Kn.row+Kn.rowspan-1),finishCol:Math.max(Bn.column+Bn.colspan-1,Kn.column+Kn.colspan-1)};var Bn,Kn}))})(X,de,ce).bind(_e=>((nt,at)=>{let zt=!0;const mn=ke(Do,at);for(let sn=at.startRow;sn<=at.finishRow;sn++)for(let un=at.startCol;un<=at.finishCol;un++)zt=zt&&cs(nt,sn,un).exists(mn);return zt?ae.some(at):ae.none()})(X,_e)),an=ma,Fa=(X,de)=>{hn(X).each(ce=>{ce.dom.insertBefore(de.dom,X.dom)})},Ka=(X,de)=>{Je(X).fold(()=>{hn(X).each(ce=>{Kr(ce,de)})},ce=>{Fa(ce,de)})},Kr=(X,de)=>{X.dom.appendChild(de.dom)},Ef=(X,de)=>{cn(de,(ce,_e)=>{const nt=_e===0?X:de[_e-1];Ka(nt,ce)})},wm=X=>{const de=X.dom;de.parentNode!==null&&de.parentNode.removeChild(de)},Zr=((X,de)=>{const ce=_e=>X(_e)?ae.from(_e.dom.nodeValue):ae.none();return{get:_e=>{if(!X(_e))throw new Error("Can only get text value of a text node");return ce(_e).getOr("")},getOption:ce,set:(_e,nt)=>{if(!X(_e))throw new Error("Can only set raw text value of a text node");_e.dom.nodeValue=nt}}})(yt);var Lu=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"];const Jr=(X,de,ce,_e)=>{const nt=de(X,ce);return at=(mn,sn)=>{const un=de(X,sn);return xm(X,mn,un)},zt=nt,((mn,sn)=>{for(let un=mn.length-1;un>=0;un--)sn(mn[un],un)})(_e,(mn,sn)=>{zt=at(zt,mn)}),zt;var at,zt},xm=(X,de,ce)=>de.bind(_e=>ce.filter(ke(X.eq,_e))),Ha={up:fe({selector:So,closest:vs,predicate:so,all:(X,de)=>{const ce=I(de)?de:me;let _e=X.dom;const nt=[];for(;_e.parentNode!==null&&_e.parentNode!==void 0;){const at=_e.parentNode,zt=Ht.fromDom(at);if(nt.push(zt),ce(zt)===!0)break;_e=at}return nt}}),down:fe({selector:Dt,predicate:ho}),styles:fe({get:Bi,getRaw:wi,set:(X,de,ce)=>{((_e,nt,at)=>{if(!b(at))throw console.error("Invalid call to CSS.set. Property ",nt,":: Value ",at,":: Element ",_e),new Error("CSS value must be a string: "+at);Bs(_e)&&_e.style.setProperty(nt,at)})(X.dom,de,ce)},remove:(X,de)=>{((ce,_e)=>{Bs(ce)&&ce.style.removeProperty(_e)})(X.dom,de),Ar(dr(X,"style").map(Xr),"")&&$n(X,"style")}}),attrs:fe({get:fn,set:(X,de,ce)=>{Zt(X.dom,de,ce)},remove:$n,copyTo:(X,de)=>{((ce,_e)=>{const nt=ce.dom;Ae(_e,(at,zt)=>{Zt(nt,zt,at)})})(de,pn(X.dom.attributes,(ce,_e)=>(ce[_e.name]=_e.value,ce),{}))}}),insert:fe({before:Fa,after:Ka,afterAll:Ef,append:Kr,appendAll:(X,de)=>{cn(de,ce=>{Kr(X,ce)})},prepend:(X,de)=>{(ce=>((_e,nt)=>{const at=_e.dom.childNodes;return ae.from(at[0]).map(Ht.fromDom)})(ce))(X).fold(()=>{Kr(X,de)},ce=>{X.dom.insertBefore(de.dom,ce.dom)})},wrap:(X,de)=>{Fa(X,de),Kr(de,X)}}),remove:fe({unwrap:X=>{const de=qt(X);de.length>0&&Ef(X,de),wm(X)},remove:wm}),create:fe({nu:Ht.fromTag,clone:X=>Ht.fromDom(X.dom.cloneNode(!1)),text:Ht.fromText}),query:fe({comparePosition:(X,de)=>X.dom.compareDocumentPosition(de.dom),prevSibling:X=>ae.from(X.dom.previousSibling).map(Ht.fromDom),nextSibling:Je}),property:fe({children:qt,name:Be,parent:hn,document:X=>En(X).dom,isText:yt,isComment:X=>ne(X)===8||Be(X)==="#comment",isElement:Ve,isSpecial:X=>{const de=Be(X);return H(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],de)},getLanguage:X=>Ve(X)?dr(X,"lang"):ae.none(),getText:X=>Zr.get(X),setText:(X,de)=>Zr.set(X,de),isBoundary:X=>!!Ve(X)&&(Be(X)==="body"||H(Lu,Be(X))),isEmptyTag:X=>!!Ve(X)&&H(["br","img","hr","input"],Be(X)),isNonEditable:X=>Ve(X)&&fn(X,"contenteditable")==="false"}),eq:ze,is:oo},dc=X=>So(X,"table"),xi=(X,de,ce)=>ur(X,de).bind(_e=>ur(X,ce).bind(nt=>{return(at=dc,zt=[_e,nt],((mn,sn,un)=>un.length>0?((Bn,Kn,cr,Jt)=>Jt(Bn,Kn,cr[0],cr.slice(1)))(mn,sn,un,Jr):ae.none())(Ha,(mn,sn)=>at(sn),zt)).map(mn=>({first:_e,last:nt,table:mn}));var at,zt})),vr=X=>wt(X,Ht.fromDom),Bu="data-mce-selected",za="data-mce-first-selected",Fu="data-mce-last-selected",Hu={selected:Bu,selectedSelector:"td["+Bu+"],th["+Bu+"]",firstSelected:za,firstSelectedSelector:"td["+za+"],th["+za+"]",lastSelected:Fu,lastSelectedSelector:"td["+Fu+"],th["+Fu+"]"},Yr=X=>(de,ce)=>{const _e=Be(de),nt=_e==="col"||_e==="colgroup"?On(at=de).bind(zt=>((mn,sn)=>((un,Bn)=>{const Kn=Dt(un,Bn);return Kn.length>0?ae.some(Kn):ae.none()})(mn,sn))(zt,Hu.firstSelectedSelector)).fold(fe(at),zt=>zt[0]):de;var at;return vs(nt,X,ce)},el=Yr("th,td,caption"),ws=Yr("th,td"),Fi=X=>vr(X.model.table.getSelectedCells()),kd=(X,de)=>{const ce=ws(X),_e=ce.bind(nt=>On(nt)).map(nt=>To(nt));return xr(ce,_e,(nt,at)=>In(at,zt=>it(vr(zt.dom.cells),mn=>fn(mn,de)==="1"||ze(mn,nt)))).getOr([])},Da=[{text:"None",value:""},{text:"Top",value:"top"},{text:"Middle",value:"middle"},{text:"Bottom",value:"bottom"}],Sd=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,_m=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,Hi=X=>{return(de=X,Dr(de,"#")?((ce,_e)=>ce.substring(1))(de):de).toUpperCase();var de},Vl=X=>{const de=X.toString(16);return(de.length===1?"0"+de:de).toUpperCase()},Lg=X=>{return de=Vl(X.red)+Vl(X.green)+Vl(X.blue),{value:Hi(de)};var de},oh=/^\s*rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)\s*$/i,Ed=/^\s*rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?(?:\.\d+)?)\s*\)\s*$/i,Bg=(X,de,ce,_e)=>({red:X,green:de,blue:ce,alpha:_e}),Od=(X,de,ce,_e)=>{const nt=parseInt(X,10),at=parseInt(de,10),zt=parseInt(ce,10),mn=parseFloat(_e);return Bg(nt,at,zt,mn)},Fg=X=>{if(X==="transparent")return ae.some(Bg(0,0,0,0));const de=oh.exec(X);if(de!==null)return ae.some(Od(de[1],de[2],de[3],"1"));const ce=Ed.exec(X);return ce!==null?ae.some(Od(ce[1],ce[2],ce[3],ce[4])):ae.none()},Td=X=>{let de=X;return{get:()=>de,set:ce=>{de=ce}}},Cm=(X,de,ce)=>_e=>{const nt=(mn=>{const sn=Td(ae.none()),un=()=>sn.get().each(mn);return{clear:()=>{un(),sn.set(ae.none())},isSet:()=>sn.get().isSome(),get:()=>sn.get(),set:Bn=>{un(),sn.set(ae.some(Bn))}}})(mn=>mn.unbind()),at=!bs(ce),zt=()=>{const mn=Fi(X),sn=un=>X.formatter.match(de,{value:ce},un.dom,at);at?(_e.setActive(!it(mn,sn)),nt.set(X.formatter.formatChanged(de,un=>_e.setActive(!un),!0))):(_e.setActive(xn(mn,sn)),nt.set(X.formatter.formatChanged(de,_e.setActive,!1,{value:ce})))};return X.initialized?zt():X.on("init",zt),nt.clear},us=X=>wn(X,"menu"),Fc=X=>wt(X,de=>{const ce=de.text||de.title||"";return us(de)?{text:ce,items:Fc(de.menu)}:{text:ce,value:de.value}}),Ue=(X,de,ce,_e)=>wt(de,nt=>{const at=nt.text||nt.title;return us(nt)?{type:"nestedmenuitem",text:at,getSubmenuItems:()=>Ue(X,nt.menu,ce,_e)}:{text:at,type:"togglemenuitem",onAction:()=>_e(nt.value),onSetup:Cm(X,ce,nt.value)}}),km=(X,de)=>ce=>{X.execCommand("mceTableApplyCellStyle",!1,{[de]:ce})},Sm=X=>Q(X,de=>us(de)?[{...de,menu:Sm(de.menu)}]:bs(de.value)?[de]:[]),tl=(X,de,ce,_e)=>nt=>nt(Ue(X,de,ce,_e)),Of=(X,de,ce)=>{const _e=wt(de,nt=>{return{text:nt.title,value:"#"+(zt=nt.value,(at=zt,(mn=>Sd.test(mn)||_m.test(mn))(at)?ae.some({value:Hi(at)}):ae.none()).orThunk(()=>Fg(zt).map(Lg)).getOrThunk(()=>{const mn=document.createElement("canvas");mn.height=1,mn.width=1;const sn=mn.getContext("2d");sn.clearRect(0,0,mn.width,mn.height),sn.fillStyle="#FFFFFF",sn.fillStyle=zt,sn.fillRect(0,0,1,1);const un=sn.getImageData(0,0,1,1).data,Bn=un[0],Kn=un[1],cr=un[2],Jt=un[3];return Lg(Bg(Bn,Kn,cr,Jt))})).value,type:"choiceitem"};var at,zt});return[{type:"fancymenuitem",fancytype:"colorswatch",initData:{colors:_e.length>0?_e:void 0,allowCustomColors:!1},onAction:nt=>{const at=nt.value==="remove"?"":nt.value;X.execCommand("mceTableApplyCellStyle",!1,{[ce]:at})}}]},Ur=X=>()=>{const de=X.queryCommandValue("mceTableRowType")==="header"?"body":"header";X.execCommand("mceTableRowType",!1,{type:de})},Hc=X=>()=>{const de=X.queryCommandValue("mceTableColType")==="th"?"td":"th";X.execCommand("mceTableColType",!1,{type:de})},rh=[{name:"width",type:"input",label:"Width"},{name:"height",type:"input",label:"Height"},{name:"celltype",type:"listbox",label:"Cell type",items:[{text:"Cell",value:"td"},{text:"Header cell",value:"th"}]},{name:"scope",type:"listbox",label:"Scope",items:[{text:"None",value:""},{text:"Row",value:"row"},{text:"Column",value:"col"},{text:"Row group",value:"rowgroup"},{text:"Column group",value:"colgroup"}]},{name:"halign",type:"listbox",label:"Horizontal align",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{name:"valign",type:"listbox",label:"Vertical align",items:Da}],mc=X=>rh.concat((de=>{const ce=Fc(kf(de));return ce.length>0?ae.some({name:"class",type:"listbox",label:"Class",items:ce}):ae.none()})(X).toArray()),Ad=(X,de)=>{const ce=[{name:"borderstyle",type:"listbox",label:"Border style",items:[{text:"Select...",value:""}].concat(Fc(Hl(X)))},{name:"bordercolor",type:"colorinput",label:"Border color"},{name:"backgroundcolor",type:"colorinput",label:"Background color"}];return{title:"Advanced",name:"advanced",items:de==="cell"?[{name:"borderwidth",type:"input",label:"Border width"}].concat(ce):ce}},pl=(X,de)=>{const ce=X.dom;return{setAttrib:(_e,nt)=>{ce.setAttrib(de,_e,nt)},setStyle:(_e,nt)=>{ce.setStyle(de,_e,nt)},setFormat:(_e,nt)=>{nt===""?X.formatter.remove(_e,{value:null},de,!0):X.formatter.apply(_e,{value:nt},de)}}},Hg=Un("th"),W1=(X,de)=>X&&de?"sectionCells":X?"section":"cells",nl=X=>{const de=wt(X,nt=>(at=>{const zt=at.section==="thead",mn=Ar((sn=>{const un=In(sn,Bn=>Hg(Bn.element));return un.length===0?ae.some("td"):un.length===sn.length?ae.some("th"):ae.none()})(at.cells),"th");return at.section==="tfoot"?{type:"footer"}:zt||mn?{type:"header",subType:W1(zt,mn)}:{type:"body"}})(nt).type),ce=H(de,"header"),_e=H(de,"footer");if(ce||_e){const nt=H(de,"body");return!ce||nt||_e?ce||nt||!_e?ae.none():ae.some("footer"):ae.some("header")}return ae.some("body")},zu=(X,de)=>_t(X.all,ce=>Sn(ce.cells,_e=>ze(de,_e.element))),Vu=(X,de,ce)=>{const _e=(at=>{const zt=[],mn=sn=>{zt.push(sn)};for(let sn=0;sn<at.length;sn++)at[sn].each(mn);return zt})(wt(de.selection,at=>{return(zt=at,((sn,un,Bn=me)=>Bn(un)?ae.none():H(sn,Be(un))?ae.some(un):So(un,sn.join(","),Kn=>dt(Kn,"table")||Bn(Kn)))(["td","th"],zt,mn)).bind(sn=>zu(X,sn)).filter(ce);var zt,mn}));return nt=_e,_e.length>0?ae.some(nt):ae.none();var nt},zg=(X,de)=>Vu(X,de,J),fa=(X,de)=>xn(de,ce=>((_e,nt)=>zu(_e,nt).exists(at=>!at.isLocked))(X,ce)),$u=(X,de)=>((ce,_e)=>_e.mergable)(0,de).filter(ce=>fa(X,ce.cells)),Tf=(X,de)=>((ce,_e)=>_e.unmergable)(0,de).filter(ce=>fa(X,ce)),zi=((X=>{if(!C(X))throw new Error("cases must be an array");if(X.length===0)throw new Error("there must be at least one case");const de=[],ce={};cn(X,(_e,nt)=>{const at=De(_e);if(at.length!==1)throw new Error("one and only one name per case");const zt=at[0],mn=_e[zt];if(ce[zt]!==void 0)throw new Error("duplicate key detected:"+zt);if(zt==="cata")throw new Error("cannot have a case named cata (sorry)");if(!C(mn))throw new Error("case arguments must be an array");de.push(zt),ce[zt]=(...sn)=>{const un=sn.length;if(un!==mn.length)throw new Error("Wrong number of arguments to case "+zt+". Expected "+mn.length+" ("+mn+"), got "+un);return{fold:(...Bn)=>{if(Bn.length!==X.length)throw new Error("Wrong number of arguments to fold. Expected "+X.length+", got "+Bn.length);return Bn[nt].apply(null,sn)},match:Bn=>{const Kn=De(Bn);if(de.length!==Kn.length)throw new Error("Wrong number of arguments to match. Expected: "+de.join(",")+`
Actual: `+Kn.join(","));if(!xn(de,cr=>H(Kn,cr)))throw new Error("Not all branches were specified when using match. Specified: "+Kn.join(", ")+`
Required: `+de.join(", "));return Bn[zt].apply(null,sn)},log:Bn=>{console.log(Bn,{constructors:de,constructor:zt,params:sn})}}}})})([{none:[]},{only:["index"]},{left:["index","next"]},{middle:["prev","index","next"]},{right:["prev","index"]}]),(X,de)=>{const ce=ma(X);return zg(ce,de).bind(_e=>{const nt=_e[_e.length-1],at=_e[0].row,zt=nt.row+nt.rowspan,mn=ce.all.slice(at,zt);return nl(mn)}).getOr("")}),Uu=X=>{return Dr(X,"rgb")?Fg(de=X).map(Lg).map(ce=>"#"+ce.value).getOr(de):X;var de},fc=X=>{const de=Ht.fromDom(X);return{borderwidth:wi(de,"border-width").getOr(""),borderstyle:wi(de,"border-style").getOr(""),bordercolor:wi(de,"border-color").map(Uu).getOr(""),backgroundcolor:wi(de,"background-color").map(Uu).getOr("")}},$l=X=>{const de=X[0],ce=X.slice(1);return cn(ce,_e=>{cn(De(de),nt=>{Ae(_e,(at,zt)=>{const mn=de[nt];mn!==""&&nt===zt&&mn!==at&&(de[nt]="")})})}),de},ts=(X,de,ce,_e)=>Sn(X,nt=>!M(ce.formatter.matchNode(_e,de+nt))).getOr(""),ns=ke(ts,["left","center","right"],"align"),ol=ke(ts,["top","middle","bottom"],"valign"),zs=X=>On(Ht.fromDom(X)).map(de=>{const ce={selection:vr(X.cells)};return zi(de,ce)}).getOr(""),Em=(X,de)=>{const ce=ma(X),_e=(at=>Q(at.all,zt=>zt.cells))(ce),nt=In(_e,at=>it(de,zt=>ze(at.element,zt)));return wt(nt,at=>({element:at.element.dom,column:Ne(ce,at.column).map(zt=>zt.element.dom)}))},Af=(X,de,ce,_e)=>{const nt=_e.getData();_e.close(),X.undoManager.transact(()=>{((at,zt,mn,sn)=>{const un=ye(sn,(Bn,Kn)=>mn[Kn]!==Bn);Pt(un)>0&&zt.length>=1&&On(zt[0]).each(Bn=>{const Kn=Em(Bn,zt),cr=Pt(ye(un,(Bo,Or)=>Or!=="scope"&&Or!=="celltype"))>0,Jt=qn(un,"celltype");(cr||qn(un,"scope"))&&((Bo,Or,no,Go)=>{const Jn=Or.length===1;cn(Or,Cr=>{const qo=Cr.element,gr=Jn?J:Go,Xa=pl(Bo,qo);((vn,Js,Na,rl)=>{rl("scope")&&vn.setAttrib("scope",Na.scope),rl("class")&&vn.setAttrib("class",Na.class),rl("height")&&vn.setStyle("height",Ze(Na.height)),rl("width")&&Js.setStyle("width",Ze(Na.width))})(Xa,Cr.column.map(vn=>pl(Bo,vn)).getOr(Xa),no,gr),ka(Bo)&&((vn,Js,Na)=>{Na("backgroundcolor")&&vn.setFormat("tablecellbackgroundcolor",Js.backgroundcolor),Na("bordercolor")&&vn.setFormat("tablecellbordercolor",Js.bordercolor),Na("borderstyle")&&vn.setFormat("tablecellborderstyle",Js.borderstyle),Na("borderwidth")&&vn.setFormat("tablecellborderwidth",Ze(Js.borderwidth))})(Xa,no,gr),Go("halign")&&en(Bo,qo,no.halign),Go("valign")&&((vn,Js,Na)=>{$e.each("top middle bottom".split(" "),rl=>{rl!==Na&&vn.formatter.remove("valign"+rl,{},Js)}),Na&&vn.formatter.apply("valign"+Na,{},Js)})(Bo,qo,no.valign)})})(at,Kn,sn,ke(qn,un)),Jt&&((Bo,Or)=>{Bo.execCommand("mceTableCellType",!1,{type:Or.celltype,no_events:!0})})(at,sn),Yt(at,Bn.dom,{structure:Jt,style:cr})})})(X,de,ce,nt),X.focus()})},Om=X=>{const de=Fi(X);if(de.length===0)return;const ce=((at,zt)=>{const mn=On(zt[0]).map(sn=>wt(Em(sn,zt),un=>((Bn,Kn,cr,Jt)=>{const Bo=Bn.dom,Or=(Go,Jn)=>Bo.getStyle(Go,Jn)||Bo.getAttrib(Go,Jn);return{width:Or(Jt.getOr(Kn),"width"),height:Or(Kn,"height"),scope:Bo.getAttrib(Kn,"scope"),celltype:(no=Kn,no.nodeName.toLowerCase()),class:Bo.getAttrib(Kn,"class",""),halign:ns(Bn,Kn),valign:ol(Bn,Kn),...cr?fc(Kn):{}};var no})(at,un.element,ka(at),un.column)));return $l(mn.getOrDie())})(X,de),_e={type:"tabpanel",tabs:[{title:"General",name:"general",items:mc(X)},Ad(X,"cell")]},nt={type:"panel",items:[{type:"grid",columns:2,items:mc(X)}]};X.windowManager.open({title:"Cell Properties",size:"normal",body:ka(X)?_e:nt,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:ce,onSubmit:ke(Af,X,de,ce)})},zc=[{type:"listbox",name:"type",label:"Row type",items:[{text:"Header",value:"header"},{text:"Body",value:"body"},{text:"Footer",value:"footer"}]},{type:"listbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{label:"Height",name:"height",type:"input"}],ga=X=>zc.concat((de=>{const ce=Fc(zl(de));return ce.length>0?ae.some({name:"class",type:"listbox",label:"Class",items:ce}):ae.none()})(X).toArray()),os=(X,de,ce,_e)=>{const nt=_e.getData();_e.close(),X.undoManager.transact(()=>{((at,zt,mn,sn)=>{const un=ye(sn,(Bn,Kn)=>mn[Kn]!==Bn);if(Pt(un)>0){const Bn=qn(un,"type"),Kn=!Bn||Pt(un)>1;Kn&&((cr,Jt,Bo,Or)=>{const no=Jt.length===1?J:Or;cn(Jt,Go=>{const Jn=pl(cr,Go);((Cr,qo,gr)=>{gr("class")&&Cr.setAttrib("class",qo.class),gr("height")&&Cr.setStyle("height",Ze(qo.height))})(Jn,Bo,no),Sa(cr)&&((Cr,qo,gr)=>{gr("backgroundcolor")&&Cr.setStyle("background-color",qo.backgroundcolor),gr("bordercolor")&&Cr.setStyle("border-color",qo.bordercolor),gr("borderstyle")&&Cr.setStyle("border-style",qo.borderstyle)})(Jn,Bo,no),Or("align")&&en(cr,Go,Bo.align)})})(at,zt,sn,ke(qn,un)),Bn&&((cr,Jt)=>{cr.execCommand("mceTableRowType",!1,{type:Jt.type,no_events:!0})})(at,sn),On(Ht.fromDom(zt[0])).each(cr=>Yt(at,cr.dom,{structure:Bn,style:Kn}))}})(X,de,ce,nt),X.focus()})},Ul=X=>{const de=kd(Lt(X),Hu.selected);if(de.length===0)return;const ce=wt(de,zt=>((mn,sn,un)=>{const Bn=mn.dom;return{height:Bn.getStyle(sn,"height")||Bn.getAttrib(sn,"height"),class:Bn.getAttrib(sn,"class",""),type:zs(sn),align:ns(mn,sn),...un?fc(sn):{}}})(X,zt.dom,Sa(X))),_e=$l(ce),nt={type:"tabpanel",tabs:[{title:"General",name:"general",items:ga(X)},Ad(X,"row")]},at={type:"panel",items:[{type:"grid",columns:2,items:ga(X)}]};X.windowManager.open({title:"Row Properties",size:"normal",body:Sa(X)?nt:at,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:_e,onSubmit:ke(os,X,wt(de,zt=>zt.dom),_e)})},xs=(X,de,ce)=>{const _e=ce?[{type:"input",name:"cols",label:"Cols",inputMode:"numeric"},{type:"input",name:"rows",label:"Rows",inputMode:"numeric"}]:[],nt=ya(X)?[{type:"input",name:"cellspacing",label:"Cell spacing",inputMode:"numeric"},{type:"input",name:"cellpadding",label:"Cell padding",inputMode:"numeric"},{type:"input",name:"border",label:"Border width"},{type:"label",label:"Caption",items:[{type:"checkbox",name:"caption",label:"Show caption"}]}]:[],at=de.length>0?[{type:"listbox",name:"class",label:"Class",items:de}]:[];return _e.concat([{type:"input",name:"width",label:"Width"},{type:"input",name:"height",label:"Height"}]).concat(nt).concat([{type:"listbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]}]).concat(at)},Ya=(X,de,ce,_e)=>{if(de.tagName==="TD"||de.tagName==="TH")b(ce)&&D(_e)?X.setStyle(de,ce,_e):X.setStyles(de,ce);else if(de.children)for(let nt=0;nt<de.children.length;nt++)Ya(X,de.children[nt],ce,_e)},El=(X,de,ce,_e)=>{const nt=X.dom,at=_e.getData(),zt=ye(at,(mn,sn)=>ce[sn]!==mn);_e.close(),at.class===""&&delete at.class,X.undoManager.transact(()=>{if(!de){const mn=Ys(at.cols).getOr(1),sn=Ys(at.rows).getOr(1);X.execCommand("mceInsertTable",!1,{rows:sn,columns:mn}),de=ws(Lt(X),Ot(X)).bind(un=>On(un,Ot(X))).map(un=>un.dom).getOrDie()}if(Pt(zt)>0){const mn={border:qn(zt,"border"),bordercolor:qn(zt,"bordercolor"),cellpadding:qn(zt,"cellpadding")};((un,Bn,Kn,cr)=>{const Jt=un.dom,Bo={},Or={},no=Hs(un),Go=ys(un);if(M(Kn.class)||(Bo.class=Kn.class),Or.height=Ze(Kn.height),no?Or.width=Ze(Kn.width):Jt.getAttrib(Bn,"width")&&(Bo.width=(Jn=>Jn?Jn.replace(/px$/,""):"")(Kn.width)),no?(Or["border-width"]=Ze(Kn.border),Or["border-spacing"]=Ze(Kn.cellspacing)):(Bo.border=Kn.border,Bo.cellpadding=Kn.cellpadding,Bo.cellspacing=Kn.cellspacing),no&&Bn.children){const Jn={};if(cr.border&&(Jn["border-width"]=Ze(Kn.border)),cr.cellpadding&&(Jn.padding=Ze(Kn.cellpadding)),Go&&cr.bordercolor&&(Jn["border-color"]=Kn.bordercolor),!(Cr=>{for(const qo in Cr)if(G.call(Cr,qo))return!1;return!0})(Jn))for(let Cr=0;Cr<Bn.children.length;Cr++)Ya(Jt,Bn.children[Cr],Jn)}if(Go){const Jn=Kn;Or["background-color"]=Jn.backgroundcolor,Or["border-color"]=Jn.bordercolor,Or["border-style"]=Jn.borderstyle}Bo.style=Jt.serializeStyle({..._r(un),...Or}),Jt.setAttribs(Bn,{...Rs(un),...Bo})})(X,de,at,mn);const sn=nt.select("caption",de)[0];(sn&&!at.caption||!sn&&at.caption)&&X.execCommand("mceTableToggleCaption"),en(X,de,at.align)}if(X.focus(),X.addVisual(),Pt(zt)>0){const mn=qn(zt,"caption"),sn=!mn||Pt(zt)>1;Yt(X,de,{structure:mn,style:sn})}})},Tm=(X,de)=>{const ce=X.dom;let _e,nt=((sn,un)=>{const Bn=_r(sn),Kn=Rs(sn),cr=un?{borderstyle:Ft(Bn,"border-style").getOr(""),bordercolor:Uu(Ft(Bn,"border-color").getOr("")),backgroundcolor:Uu(Ft(Bn,"background-color").getOr(""))}:{};return{height:"",width:"100%",cellspacing:"",cellpadding:"",caption:!1,class:"",align:"",border:"",...Bn,...Kn,...cr,...(()=>{const Jt=Bn["border-width"];return Hs(sn)&&Jt?{border:Jt}:Ft(Kn,"border").fold(()=>({}),Bo=>({border:Bo}))})(),...Ft(Bn,"border-spacing").or(Ft(Kn,"cellspacing")).fold(()=>({}),Jt=>({cellspacing:Jt})),...Ft(Bn,"border-padding").or(Ft(Kn,"cellpadding")).fold(()=>({}),Jt=>({cellpadding:Jt}))}})(X,ys(X));de?(nt.cols="1",nt.rows="1",ys(X)&&(nt.borderstyle="",nt.bordercolor="",nt.backgroundcolor="")):(_e=ce.getParent(X.selection.getStart(),"table",X.getBody()),_e?nt=((sn,un,Bn)=>{const Kn=sn.dom,cr=Hs(sn)?Kn.getStyle(un,"border-spacing")||Kn.getAttrib(un,"cellspacing"):Kn.getAttrib(un,"cellspacing")||Kn.getStyle(un,"border-spacing"),Jt=Hs(sn)?vt(Kn,un,"padding")||Kn.getAttrib(un,"cellpadding"):Kn.getAttrib(un,"cellpadding")||vt(Kn,un,"padding");return{width:Kn.getStyle(un,"width")||Kn.getAttrib(un,"width"),height:Kn.getStyle(un,"height")||Kn.getAttrib(un,"height"),cellspacing:cr!=null?cr:"",cellpadding:Jt!=null?Jt:"",border:((Bo,Or)=>{const no=wi(Ht.fromDom(Or),"border-width");return Hs(sn)&&no.isSome()?no.getOr(""):Bo.getAttrib(Or,"border")||vt(sn.dom,Or,"border-width")||vt(sn.dom,Or,"border")||""})(Kn,un),caption:!!Kn.select("caption",un)[0],class:Kn.getAttrib(un,"class",""),align:ns(sn,un),...Bn?fc(un):{}}})(X,_e,ys(X)):ys(X)&&(nt.borderstyle="",nt.bordercolor="",nt.backgroundcolor=""));const at=Fc(yo(X));at.length>0&&nt.class&&(nt.class=nt.class.replace(/\s*mce\-item\-table\s*/g,""));const zt={type:"grid",columns:2,items:xs(X,at,de)},mn=ys(X)?{type:"tabpanel",tabs:[{title:"General",name:"general",items:[zt]},Ad(X,"table")]}:{type:"panel",items:[zt]};X.windowManager.open({title:"Table Properties",size:"normal",body:mn,onSubmit:ke(El,X,_e,nt),buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:nt})},Nd=X=>{Ae({mceTableProps:ke(Tm,X,!1),mceTableRowProps:ke(Ul,X),mceTableCellProps:ke(Om,X),mceInsertTableDialog:ke(Tm,X,!0)},(de,ce)=>X.addCommand(ce,()=>{return _e=de,void((nt=>{return(at=nt,zt=Un("table"),Xn((mn,sn)=>sn(mn),so,at,zt,void 0)).forall(ut);var at,zt})(Lt(X))&&_e());var _e}))},sr=le,_i=X=>{const de=(ce,_e)=>dr(ce,_e).exists(nt=>parseInt(nt,10)>1);return X.length>0&&xn(X,ce=>de(ce,"rowspan")||de(ce,"colspan"))?ae.some(X):ae.none()},Vc=(X,de,ce)=>{return de.length<=1?ae.none():(_e=X,nt=ce.firstSelectedSelector,at=ce.lastSelectedSelector,xi(_e,nt,at).bind(zt=>{const mn=Kn=>ze(_e,Kn),sn="thead,tfoot,tbody,table",un=So(zt.first,sn,mn),Bn=So(zt.last,sn,mn);return un.bind(Kn=>Bn.bind(cr=>ze(Kn,cr)?((Jt,Bo,Or)=>{const no=an(Jt);return Sl(no,Bo,Or)})(zt.table,zt.first,zt.last):ae.none()))})).map(zt=>({bounds:zt,cells:de}));var _e,nt,at},jl=X=>{const de=Td(ae.none()),ce=Td([]);let _e=ae.none();const nt=Un("caption"),at=no=>_e.forall(Go=>!Go[no]),zt=()=>el(Lt(X),Ot(X)).bind(no=>{return Go=xr(On(no),el((Jn=>Ht.fromDom(Jn.selection.getEnd()))(X),Ot(X)).bind(On),(Jn,Cr)=>ze(Jn,Cr)?nt(no)?ae.some((qo=>({element:qo,mergable:ae.none(),unmergable:ae.none(),selection:[qo]}))(no)):ae.some(((qo,gr,Xa)=>({element:Xa,mergable:Vc(gr,qo,Hu),unmergable:_i(qo),selection:sr(qo)}))(Fi(X),Jn,no)):ae.none()),Go.bind(le);var Go}),mn=no=>On(no.element).map(Go=>{const Jn=ma(Go),Cr=zg(Jn,no).getOr([]),qo=pn(Cr,(gr,Xa)=>(Xa.isLocked&&(gr.onAny=!0,Xa.column===0?gr.onFirst=!0:Xa.column+Xa.colspan>=Jn.grid.columns&&(gr.onLast=!0)),gr),{onAny:!1,onFirst:!1,onLast:!1});return{mergeable:$u(Jn,no).isSome(),unmergeable:Tf(Jn,no).isSome(),locked:qo}}),sn=()=>{de.set((no=>{let Go,Jn=!1;return(...Cr)=>(Jn||(Jn=!0,Go=no.apply(null,Cr)),Go)})(zt)()),_e=de.get().bind(mn),cn(ce.get(),xe)},un=no=>(no(),ce.set(ce.get().concat([no])),()=>{ce.set(In(ce.get(),Go=>Go!==no))}),Bn=(no,Go)=>un(()=>de.get().fold(()=>{no.setEnabled(!1)},Jn=>{no.setEnabled(!Go(Jn)&&X.selection.isEditable())})),Kn=(no,Go,Jn)=>un(()=>de.get().fold(()=>{no.setEnabled(!1),no.setActive(!1)},Cr=>{no.setEnabled(!Go(Cr)&&X.selection.isEditable()),no.setActive(Jn(Cr))})),cr=no=>_e.exists(Go=>Go.locked[no]),Jt=(no,Go)=>Jn=>Kn(Jn,Cr=>nt(Cr.element),()=>X.queryCommandValue(no)===Go),Bo=Jt("mceTableRowType","header"),Or=Jt("mceTableColType","th");return X.on("NodeChange ExecCommand TableSelectorChange",sn),{onSetupTable:no=>Bn(no,Go=>!1),onSetupCellOrRow:no=>Bn(no,Go=>nt(Go.element)),onSetupColumn:no=>Go=>Bn(Go,Jn=>nt(Jn.element)||cr(no)),onSetupPasteable:no=>Go=>Bn(Go,Jn=>nt(Jn.element)||no().isNone()),onSetupPasteableColumn:(no,Go)=>Jn=>Bn(Jn,Cr=>nt(Cr.element)||no().isNone()||cr(Go)),onSetupMergeable:no=>Bn(no,Go=>at("mergeable")),onSetupUnmergeable:no=>Bn(no,Go=>at("unmergeable")),resetTargets:sn,onSetupTableWithCaption:no=>Kn(no,me,Go=>On(Go.element,Ot(X)).exists(Jn=>Rr(Jn,"caption").isSome())),onSetupTableRowHeaders:Bo,onSetupTableColumnHeaders:Or,targets:de.get}};var Nf=tinymce.util.Tools.resolve("tinymce.FakeClipboard");const Zl="x-tinymce/dom-table-",cu=Zl+"rows",ah=Zl+"columns",Vi=X=>{var de;const ce=(de=Nf.read())!==null&&de!==void 0?de:[];return _t(ce,_e=>ae.from(_e.getType(X)))},hl=()=>Vi(cu),ju=()=>Vi(ah),lr=X=>de=>{const ce=()=>{de.setEnabled(X.selection.isEditable())};return X.on("NodeChange",ce),ce(),()=>{X.off("NodeChange",ce)}},Mf=X=>de=>{const ce=()=>{de.setEnabled(X.selection.isEditable())};return X.on("NodeChange",ce),ce(),()=>{X.off("NodeChange",ce)}};a.add("table",X=>{const de=jl(X);(ce=>{const _e=ce.options.register;_e("table_border_widths",{processor:"object[]",default:Lo}),_e("table_border_styles",{processor:"object[]",default:ir}),_e("table_cell_advtab",{processor:"boolean",default:!0}),_e("table_row_advtab",{processor:"boolean",default:!0}),_e("table_advtab",{processor:"boolean",default:!0}),_e("table_appearance_options",{processor:"boolean",default:!0}),_e("table_grid",{processor:"boolean",default:!go.deviceType.isTouch()}),_e("table_cell_class_list",{processor:"object[]",default:[]}),_e("table_row_class_list",{processor:"object[]",default:[]}),_e("table_class_list",{processor:"object[]",default:[]}),_e("table_toolbar",{processor:"string",default:"tableprops tabledelete | tableinsertrowbefore tableinsertrowafter tabledeleterow | tableinsertcolbefore tableinsertcolafter tabledeletecol"}),_e("table_background_color_map",{processor:"object[]",default:[]}),_e("table_border_color_map",{processor:"object[]",default:[]})})(X),Nd(X),((ce,_e)=>{const nt=Jt=>()=>ce.execCommand(Jt),at=(Jt,Bo)=>!!ce.queryCommandSupported(Bo.command)&&(ce.ui.registry.addMenuItem(Jt,{...Bo,onAction:I(Bo.onAction)?Bo.onAction:nt(Bo.command)}),!0),zt=(Jt,Bo)=>{ce.queryCommandSupported(Bo.command)&&ce.ui.registry.addToggleMenuItem(Jt,{...Bo,onAction:I(Bo.onAction)?Bo.onAction:nt(Bo.command)})},mn=Jt=>{ce.execCommand("mceInsertTable",!1,{rows:Jt.numRows,columns:Jt.numColumns})},sn=[at("tableinsertrowbefore",{text:"Insert row before",icon:"table-insert-row-above",command:"mceTableInsertRowBefore",onSetup:_e.onSetupCellOrRow}),at("tableinsertrowafter",{text:"Insert row after",icon:"table-insert-row-after",command:"mceTableInsertRowAfter",onSetup:_e.onSetupCellOrRow}),at("tabledeleterow",{text:"Delete row",icon:"table-delete-row",command:"mceTableDeleteRow",onSetup:_e.onSetupCellOrRow}),at("tablerowprops",{text:"Row properties",icon:"table-row-properties",command:"mceTableRowProps",onSetup:_e.onSetupCellOrRow}),at("tablecutrow",{text:"Cut row",icon:"cut-row",command:"mceTableCutRow",onSetup:_e.onSetupCellOrRow}),at("tablecopyrow",{text:"Copy row",icon:"duplicate-row",command:"mceTableCopyRow",onSetup:_e.onSetupCellOrRow}),at("tablepasterowbefore",{text:"Paste row before",icon:"paste-row-before",command:"mceTablePasteRowBefore",onSetup:_e.onSetupPasteable(hl)}),at("tablepasterowafter",{text:"Paste row after",icon:"paste-row-after",command:"mceTablePasteRowAfter",onSetup:_e.onSetupPasteable(hl)})],un=[at("tableinsertcolumnbefore",{text:"Insert column before",icon:"table-insert-column-before",command:"mceTableInsertColBefore",onSetup:_e.onSetupColumn("onFirst")}),at("tableinsertcolumnafter",{text:"Insert column after",icon:"table-insert-column-after",command:"mceTableInsertColAfter",onSetup:_e.onSetupColumn("onLast")}),at("tabledeletecolumn",{text:"Delete column",icon:"table-delete-column",command:"mceTableDeleteCol",onSetup:_e.onSetupColumn("onAny")}),at("tablecutcolumn",{text:"Cut column",icon:"cut-column",command:"mceTableCutCol",onSetup:_e.onSetupColumn("onAny")}),at("tablecopycolumn",{text:"Copy column",icon:"duplicate-column",command:"mceTableCopyCol",onSetup:_e.onSetupColumn("onAny")}),at("tablepastecolumnbefore",{text:"Paste column before",icon:"paste-column-before",command:"mceTablePasteColBefore",onSetup:_e.onSetupPasteableColumn(ju,"onFirst")}),at("tablepastecolumnafter",{text:"Paste column after",icon:"paste-column-after",command:"mceTablePasteColAfter",onSetup:_e.onSetupPasteableColumn(ju,"onLast")})],Bn=[at("tablecellprops",{text:"Cell properties",icon:"table-cell-properties",command:"mceTableCellProps",onSetup:_e.onSetupCellOrRow}),at("tablemergecells",{text:"Merge cells",icon:"table-merge-cells",command:"mceTableMergeCells",onSetup:_e.onSetupMergeable}),at("tablesplitcells",{text:"Split cell",icon:"table-split-cells",command:"mceTableSplitCells",onSetup:_e.onSetupUnmergeable})];Fs(ce)?ce.ui.registry.addNestedMenuItem("inserttable",{text:"Table",icon:"table",getSubmenuItems:()=>[{type:"fancymenuitem",fancytype:"inserttable",onAction:mn}],onSetup:Mf(ce)}):ce.ui.registry.addMenuItem("inserttable",{text:"Table",icon:"table",onAction:nt("mceInsertTableDialog"),onSetup:Mf(ce)}),ce.ui.registry.addMenuItem("inserttabledialog",{text:"Insert table",icon:"table",onAction:nt("mceInsertTableDialog"),onSetup:Mf(ce)}),at("tableprops",{text:"Table properties",onSetup:_e.onSetupTable,command:"mceTableProps"}),at("deletetable",{text:"Delete table",icon:"table-delete-table",onSetup:_e.onSetupTable,command:"mceTableDelete"}),H(sn,!0)&&ce.ui.registry.addNestedMenuItem("row",{type:"nestedmenuitem",text:"Row",getSubmenuItems:fe("tableinsertrowbefore tableinsertrowafter tabledeleterow tablerowprops | tablecutrow tablecopyrow tablepasterowbefore tablepasterowafter")}),H(un,!0)&&ce.ui.registry.addNestedMenuItem("column",{type:"nestedmenuitem",text:"Column",getSubmenuItems:fe("tableinsertcolumnbefore tableinsertcolumnafter tabledeletecolumn | tablecutcolumn tablecopycolumn tablepastecolumnbefore tablepastecolumnafter")}),H(Bn,!0)&&ce.ui.registry.addNestedMenuItem("cell",{type:"nestedmenuitem",text:"Cell",getSubmenuItems:fe("tablecellprops tablemergecells tablesplitcells")}),ce.ui.registry.addContextMenu("table",{update:()=>(_e.resetTargets(),_e.targets().fold(fe(""),Jt=>Be(Jt.element)==="caption"?"tableprops deletetable":"cell row column | advtablesort | tableprops deletetable"))});const Kn=Sm(yo(ce));Kn.length!==0&&ce.queryCommandSupported("mceTableToggleClass")&&ce.ui.registry.addNestedMenuItem("tableclass",{icon:"table-classes",text:"Table styles",getSubmenuItems:()=>Ue(ce,Kn,"tableclass",Jt=>ce.execCommand("mceTableToggleClass",!1,Jt)),onSetup:_e.onSetupTable});const cr=Sm(kf(ce));cr.length!==0&&ce.queryCommandSupported("mceTableCellToggleClass")&&ce.ui.registry.addNestedMenuItem("tablecellclass",{icon:"table-cell-classes",text:"Cell styles",getSubmenuItems:()=>Ue(ce,cr,"tablecellclass",Jt=>ce.execCommand("mceTableCellToggleClass",!1,Jt)),onSetup:_e.onSetupCellOrRow}),ce.queryCommandSupported("mceTableApplyCellStyle")&&(ce.ui.registry.addNestedMenuItem("tablecellvalign",{icon:"vertical-align",text:"Vertical align",getSubmenuItems:()=>Ue(ce,Da,"tablecellverticalalign",km(ce,"vertical-align")),onSetup:_e.onSetupCellOrRow}),ce.ui.registry.addNestedMenuItem("tablecellborderwidth",{icon:"border-width",text:"Border width",getSubmenuItems:()=>Ue(ce,Xs(ce),"tablecellborderwidth",km(ce,"border-width")),onSetup:_e.onSetupCellOrRow}),ce.ui.registry.addNestedMenuItem("tablecellborderstyle",{icon:"border-style",text:"Border style",getSubmenuItems:()=>Ue(ce,Hl(ce),"tablecellborderstyle",km(ce,"border-style")),onSetup:_e.onSetupCellOrRow}),ce.ui.registry.addNestedMenuItem("tablecellbackgroundcolor",{icon:"cell-background-color",text:"Background color",getSubmenuItems:()=>Of(ce,wa(ce),"background-color"),onSetup:_e.onSetupCellOrRow}),ce.ui.registry.addNestedMenuItem("tablecellbordercolor",{icon:"cell-border-color",text:"Border color",getSubmenuItems:()=>Of(ce,qa(ce),"border-color"),onSetup:_e.onSetupCellOrRow})),zt("tablecaption",{icon:"table-caption",text:"Table caption",command:"mceTableToggleCaption",onSetup:_e.onSetupTableWithCaption}),zt("tablerowheader",{text:"Row header",icon:"table-top-header",command:"mceTableRowType",onAction:Ur(ce),onSetup:_e.onSetupTableRowHeaders}),zt("tablecolheader",{text:"Column header",icon:"table-left-header",command:"mceTableColType",onAction:Hc(ce),onSetup:_e.onSetupTableRowHeaders})})(X,de),((ce,_e)=>{ce.ui.registry.addMenuButton("table",{tooltip:"Table",icon:"table",onSetup:lr(ce),fetch:un=>un("inserttable | cell row column | advtablesort | tableprops deletetable")});const nt=un=>()=>ce.execCommand(un),at=(un,Bn)=>{ce.queryCommandSupported(Bn.command)&&ce.ui.registry.addButton(un,{...Bn,onAction:I(Bn.onAction)?Bn.onAction:nt(Bn.command)})},zt=(un,Bn)=>{ce.queryCommandSupported(Bn.command)&&ce.ui.registry.addToggleButton(un,{...Bn,onAction:I(Bn.onAction)?Bn.onAction:nt(Bn.command)})};at("tableprops",{tooltip:"Table properties",command:"mceTableProps",icon:"table",onSetup:_e.onSetupTable}),at("tabledelete",{tooltip:"Delete table",command:"mceTableDelete",icon:"table-delete-table",onSetup:_e.onSetupTable}),at("tablecellprops",{tooltip:"Cell properties",command:"mceTableCellProps",icon:"table-cell-properties",onSetup:_e.onSetupCellOrRow}),at("tablemergecells",{tooltip:"Merge cells",command:"mceTableMergeCells",icon:"table-merge-cells",onSetup:_e.onSetupMergeable}),at("tablesplitcells",{tooltip:"Split cell",command:"mceTableSplitCells",icon:"table-split-cells",onSetup:_e.onSetupUnmergeable}),at("tableinsertrowbefore",{tooltip:"Insert row before",command:"mceTableInsertRowBefore",icon:"table-insert-row-above",onSetup:_e.onSetupCellOrRow}),at("tableinsertrowafter",{tooltip:"Insert row after",command:"mceTableInsertRowAfter",icon:"table-insert-row-after",onSetup:_e.onSetupCellOrRow}),at("tabledeleterow",{tooltip:"Delete row",command:"mceTableDeleteRow",icon:"table-delete-row",onSetup:_e.onSetupCellOrRow}),at("tablerowprops",{tooltip:"Row properties",command:"mceTableRowProps",icon:"table-row-properties",onSetup:_e.onSetupCellOrRow}),at("tableinsertcolbefore",{tooltip:"Insert column before",command:"mceTableInsertColBefore",icon:"table-insert-column-before",onSetup:_e.onSetupColumn("onFirst")}),at("tableinsertcolafter",{tooltip:"Insert column after",command:"mceTableInsertColAfter",icon:"table-insert-column-after",onSetup:_e.onSetupColumn("onLast")}),at("tabledeletecol",{tooltip:"Delete column",command:"mceTableDeleteCol",icon:"table-delete-column",onSetup:_e.onSetupColumn("onAny")}),at("tablecutrow",{tooltip:"Cut row",command:"mceTableCutRow",icon:"cut-row",onSetup:_e.onSetupCellOrRow}),at("tablecopyrow",{tooltip:"Copy row",command:"mceTableCopyRow",icon:"duplicate-row",onSetup:_e.onSetupCellOrRow}),at("tablepasterowbefore",{tooltip:"Paste row before",command:"mceTablePasteRowBefore",icon:"paste-row-before",onSetup:_e.onSetupPasteable(hl)}),at("tablepasterowafter",{tooltip:"Paste row after",command:"mceTablePasteRowAfter",icon:"paste-row-after",onSetup:_e.onSetupPasteable(hl)}),at("tablecutcol",{tooltip:"Cut column",command:"mceTableCutCol",icon:"cut-column",onSetup:_e.onSetupColumn("onAny")}),at("tablecopycol",{tooltip:"Copy column",command:"mceTableCopyCol",icon:"duplicate-column",onSetup:_e.onSetupColumn("onAny")}),at("tablepastecolbefore",{tooltip:"Paste column before",command:"mceTablePasteColBefore",icon:"paste-column-before",onSetup:_e.onSetupPasteableColumn(ju,"onFirst")}),at("tablepastecolafter",{tooltip:"Paste column after",command:"mceTablePasteColAfter",icon:"paste-column-after",onSetup:_e.onSetupPasteableColumn(ju,"onLast")}),at("tableinsertdialog",{tooltip:"Insert table",command:"mceInsertTableDialog",icon:"table",onSetup:lr(ce)});const mn=Sm(yo(ce));mn.length!==0&&ce.queryCommandSupported("mceTableToggleClass")&&ce.ui.registry.addMenuButton("tableclass",{icon:"table-classes",tooltip:"Table styles",fetch:tl(ce,mn,"tableclass",un=>ce.execCommand("mceTableToggleClass",!1,un)),onSetup:_e.onSetupTable});const sn=Sm(kf(ce));sn.length!==0&&ce.queryCommandSupported("mceTableCellToggleClass")&&ce.ui.registry.addMenuButton("tablecellclass",{icon:"table-cell-classes",tooltip:"Cell styles",fetch:tl(ce,sn,"tablecellclass",un=>ce.execCommand("mceTableCellToggleClass",!1,un)),onSetup:_e.onSetupCellOrRow}),ce.queryCommandSupported("mceTableApplyCellStyle")&&(ce.ui.registry.addMenuButton("tablecellvalign",{icon:"vertical-align",tooltip:"Vertical align",fetch:tl(ce,Da,"tablecellverticalalign",km(ce,"vertical-align")),onSetup:_e.onSetupCellOrRow}),ce.ui.registry.addMenuButton("tablecellborderwidth",{icon:"border-width",tooltip:"Border width",fetch:tl(ce,Xs(ce),"tablecellborderwidth",km(ce,"border-width")),onSetup:_e.onSetupCellOrRow}),ce.ui.registry.addMenuButton("tablecellborderstyle",{icon:"border-style",tooltip:"Border style",fetch:tl(ce,Hl(ce),"tablecellborderstyle",km(ce,"border-style")),onSetup:_e.onSetupCellOrRow}),ce.ui.registry.addMenuButton("tablecellbackgroundcolor",{icon:"cell-background-color",tooltip:"Background color",fetch:un=>un(Of(ce,wa(ce),"background-color")),onSetup:_e.onSetupCellOrRow}),ce.ui.registry.addMenuButton("tablecellbordercolor",{icon:"cell-border-color",tooltip:"Border color",fetch:un=>un(Of(ce,qa(ce),"border-color")),onSetup:_e.onSetupCellOrRow})),zt("tablecaption",{tooltip:"Table caption",icon:"table-caption",command:"mceTableToggleCaption",onSetup:_e.onSetupTableWithCaption}),zt("tablerowheader",{tooltip:"Row header",icon:"table-top-header",command:"mceTableRowType",onAction:Ur(ce),onSetup:_e.onSetupTableRowHeaders}),zt("tablecolheader",{tooltip:"Column header",icon:"table-left-header",command:"mceTableColType",onAction:Hc(ce),onSetup:_e.onSetupTableColumnHeaders})})(X,de),(ce=>{const _e=Sf(ce);_e.length>0&&ce.ui.registry.addContextToolbar("table",{predicate:nt=>ce.dom.is(nt,"table")&&ce.getBody().contains(nt)&&ce.dom.isEditable(nt.parentNode),items:_e,scope:"node",position:"node"})})(X)})})();tinymce.Resource.add("tinymce.html-i18n.help-keynav.zh_TW",`<h1>\u958B\u59CB\u9375\u76E4\u700F\u89BD</h1>

<dl>
  <dt>\u8DF3\u81F3\u529F\u80FD\u8868\u5217</dt>
  <dd>Windows \u6216 Linux\uFF1AAlt+F9</dd>
  <dd>macOS\uFF1A&#x2325;F9</dd>
  <dt>\u8DF3\u81F3\u5DE5\u5177\u5217</dt>
  <dd>Windows \u6216 Linux\uFF1AAlt+F10</dd>
  <dd>macOS\uFF1A&#x2325;F10</dd>
  <dt>\u8DF3\u81F3\u9801\u5C3E</dt>
  <dd>Windows \u6216 Linux\uFF1AAlt+F11</dd>
  <dd>macOS\uFF1A&#x2325;F11</dd>
  <dt>\u8DF3\u81F3\u95DC\u806F\u5F0F\u5DE5\u5177\u5217</dt>
  <dd>Windows\u3001Linux \u6216 macOS\uFF1ACtrl+F9
</dl>

<p>\u700F\u89BD\u6703\u5F9E\u7B2C\u4E00\u500B UI \u9805\u76EE\u958B\u59CB\uFF0C\u8A72\u9805\u76EE\u6703\u53CD\u767D\u986F\u793A\uFF0C\u4F46\u5982\u679C\u662F\u300C\u9801\u5C3E\u300D\u5143\u7D20\u8DEF\u5F91\u7684\u7B2C\u4E00\u9805\uFF0C
  \u5247\u52A0\u5E95\u7DDA\u3002</p>

<h1>\u5728 UI \u5340\u6BB5\u4E4B\u9593\u700F\u89BD</h1>

<p>\u5F9E UI \u5340\u6BB5\u79FB\u81F3\u4E0B\u4E00\u500B\uFF0C\u8ACB\u6309 <strong>Tab</strong>\u3002</p>

<p>\u5F9E UI \u5340\u6BB5\u79FB\u56DE\u4E0A\u4E00\u500B\uFF0C\u8ACB\u6309 <strong>Shift+Tab</strong>\u3002</p>

<p>\u9019\u4E9B UI \u5340\u6BB5\u7684 <strong>Tab</strong> \u9806\u5E8F\u5982\u4E0B\uFF1A

<ol>
  <li>\u529F\u80FD\u8868\u5217</li>
  <li>\u5404\u500B\u5DE5\u5177\u5217\u7FA4\u7D44</li>
  <li>\u5074\u908A\u6B04</li>
  <li>\u9801\u5C3E\u4E2D\u7684\u5143\u7D20\u8DEF\u5F91</li>
  <li>\u9801\u5C3E\u4E2D\u5B57\u6578\u5207\u63DB\u6309\u9215</li>
  <li>\u9801\u5C3E\u4E2D\u7684\u54C1\u724C\u9023\u7D50</li>
  <li>\u9801\u5C3E\u4E2D\u7DE8\u8F2F\u5668\u8ABF\u6574\u5927\u5C0F\u63A7\u9EDE</li>
</ol>

<p>\u5982\u679C UI \u5340\u6BB5\u672A\u986F\u793A\uFF0C\u8868\u793A\u5DF2\u7565\u904E\u8A72\u5340\u6BB5\u3002</p>

<p>\u5982\u679C\u9375\u76E4\u700F\u89BD\u8DF3\u81F3\u9801\u5C3E\uFF0C\u4F46\u6C92\u6709\u986F\u793A\u5074\u908A\u6B04\uFF0C\u5247\u6309\u4E0B <strong>Shift+Tab</strong>
  \u6703\u8DF3\u81F3\u7B2C\u4E00\u500B\u5DE5\u5177\u5217\u7FA4\u7D44\uFF0C\u800C\u4E0D\u662F\u6700\u5F8C\u4E00\u500B\u3002

<h1>\u5728 UI \u5340\u6BB5\u4E4B\u5167\u700F\u89BD</h1>

<p>\u5728\u5169\u500B UI \u5143\u7D20\u4E4B\u9593\u79FB\u52D5\uFF0C\u8ACB\u6309\u9069\u7576\u7684<strong>\u65B9\u5411</strong>\u9375\u3002</p>

<p><strong>\u5411\u5DE6</strong>\u548C<strong>\u5411\u53F3</strong>\u65B9\u5411\u9375</p>

<ul>
  <li>\u5728\u529F\u80FD\u8868\u5217\u4E2D\u7684\u529F\u80FD\u8868\u4E4B\u9593\u79FB\u52D5\u3002</li>
  <li>\u958B\u555F\u529F\u80FD\u8868\u4E2D\u7684\u5B50\u529F\u80FD\u8868\u3002</li>
  <li>\u5728\u5DE5\u5177\u5217\u7FA4\u7D44\u4E2D\u7684\u6309\u9215\u4E4B\u9593\u79FB\u52D5\u3002</li>
  <li>\u5728\u9801\u5C3E\u7684\u5143\u7D20\u8DEF\u5F91\u4E2D\u9805\u76EE\u4E4B\u9593\u79FB\u52D5\u3002</li>
</ul>

<p><strong>\u5411\u4E0B</strong>\u548C<strong>\u5411\u4E0A</strong>\u65B9\u5411\u9375

<ul>
  <li>\u5728\u529F\u80FD\u8868\u4E2D\u7684\u529F\u80FD\u8868\u9805\u76EE\u4E4B\u9593\u79FB\u52D5\u3002</li>
  <li>\u5728\u5DE5\u5177\u5217\u5FEB\u986F\u529F\u80FD\u8868\u4E2D\u7684\u9805\u76EE\u4E4B\u9593\u79FB\u52D5\u3002</li>
</ul>

<p><strong>\u65B9\u5411</strong>\u9375\u6703\u5728\u6240\u8DF3\u81F3 UI \u5340\u6BB5\u4E4B\u5167\u5FAA\u74B0\u3002</p>

<p>\u82E5\u8981\u95DC\u9589\u5DF2\u958B\u555F\u7684\u529F\u80FD\u8868\u3001\u5DF2\u958B\u555F\u7684\u5B50\u529F\u80FD\u8868\uFF0C\u6216\u5DF2\u958B\u555F\u7684\u5FEB\u986F\u529F\u80FD\u8868\uFF0C\u8ACB\u6309 <strong>Esc</strong> \u9375\u3002

<p>\u5982\u679C\u76EE\u524D\u5DF2\u8DF3\u81F3\u7279\u5B9A UI \u5340\u6BB5\u7684\u300C\u9802\u7AEF\u300D\uFF0C\u5247\u6309 <strong>Esc</strong> \u9375\u4E5F\u6703\u7D50\u675F
  \u6574\u500B\u9375\u76E4\u700F\u89BD\u3002</p>

<h1>\u57F7\u884C\u529F\u80FD\u8868\u5217\u9805\u76EE\u6216\u5DE5\u5177\u5217\u6309\u9215</h1>

<p>\u7576\u60F3\u8981\u7684\u529F\u80FD\u8868\u9805\u76EE\u6216\u5DE5\u5177\u5217\u6309\u9215\u5DF2\u53CD\u767D\u986F\u793A\u6642\uFF0C\u6309 <strong>Return</strong>\u3001<strong>Enter</strong>\u3001
  \u6216<strong>\u7A7A\u767D\u9375</strong>\u5373\u53EF\u57F7\u884C\u8A72\u9805\u76EE\u3002

<h1>\u700F\u89BD\u975E\u7D22\u5F15\u6A19\u7C64\u5F0F\u5C0D\u8A71\u65B9\u584A</h1>

<p>\u5728\u975E\u7D22\u5F15\u6A19\u7C64\u5F0F\u5C0D\u8A71\u65B9\u584A\u4E2D\uFF0C\u958B\u555F\u5C0D\u8A71\u65B9\u584A\u6642\u6703\u8DF3\u81F3\u7B2C\u4E00\u500B\u4E92\u52D5\u5143\u4EF6\u3002</p>

<p>\u6309 <strong>Tab</strong> \u6216 <strong>Shift+Tab</strong> \u5373\u53EF\u5728\u4E92\u52D5\u5F0F\u5C0D\u8A71\u65B9\u584A\u5143\u4EF6\u4E4B\u9593\u700F\u89BD\u3002</p>

<h1>\u700F\u89BD\u7D22\u5F15\u6A19\u7C64\u5F0F\u5C0D\u8A71\u65B9\u584A</h1>

<p>\u5728\u7D22\u5F15\u6A19\u7C64\u5F0F\u5C0D\u8A71\u65B9\u584A\u4E2D\uFF0C\u958B\u555F\u5C0D\u8A71\u65B9\u584A\u6642\u6703\u8DF3\u81F3\u7D22\u5F15\u6A19\u7C64\u5F0F\u529F\u80FD\u8868\u4E2D\u7684\u7B2C\u4E00\u500B\u6309\u9215\u3002</p>

<p>\u82E5\u8981\u5728\u6B64\u5C0D\u8A71\u65B9\u584A\u7684\u4E92\u52D5\u5F0F\u5143\u4EF6\u4E4B\u9593\u700F\u89BD\uFF0C\u8ACB\u6309 <strong>Tab</strong> \u6216
  <strong>Shift+Tab</strong>\u3002</p>

<p>\u5148\u8DF3\u81F3\u7D22\u5F15\u6A19\u7C64\u5F0F\u529F\u80FD\u8868\uFF0C\u7136\u5F8C\u6309\u9069\u7576\u7684<strong>\u65B9\u5411</strong>\u9375\uFF0C\u5373\u53EF\u5207\u63DB\u81F3\u53E6\u4E00\u500B\u5C0D\u8A71\u65B9\u584A\u7D22\u5F15\u6A19\u7C64\uFF0C
  \u4EE5\u5FAA\u74B0\u700F\u89BD\u53EF\u7528\u7684\u7D22\u5F15\u6A19\u7C64\u3002</p>
`);tinymce.Resource.add("tinymce.html-i18n.help-keynav.en",`<h1>Begin keyboard navigation</h1>

<dl>
  <dt>Focus the Menu bar</dt>
  <dd>Windows or Linux: Alt+F9</dd>
  <dd>macOS: &#x2325;F9</dd>
  <dt>Focus the Toolbar</dt>
  <dd>Windows or Linux: Alt+F10</dd>
  <dd>macOS: &#x2325;F10</dd>
  <dt>Focus the footer</dt>
  <dd>Windows or Linux: Alt+F11</dd>
  <dd>macOS: &#x2325;F11</dd>
  <dt>Focus a contextual toolbar</dt>
  <dd>Windows, Linux or macOS: Ctrl+F9
</dl>

<p>Navigation will start at the first UI item, which will be highlighted, or underlined in the case of the first item in
  the Footer element path.</p>

<h1>Navigate between UI sections</h1>

<p>To move from one UI section to the next, press <strong>Tab</strong>.</p>

<p>To move from one UI section to the previous, press <strong>Shift+Tab</strong>.</p>

<p>The <strong>Tab</strong> order of these UI sections is:

<ol>
  <li>Menu bar</li>
  <li>Each toolbar group</li>
  <li>Sidebar</li>
  <li>Element path in the footer</li>
  <li>Word count toggle button in the footer</li>
  <li>Branding link in the footer</li>
  <li>Editor resize handle in the footer</li>
</ol>

<p>If a UI section is not present, it is skipped.</p>

<p>If the footer has keyboard navigation focus, and there is no visible sidebar, pressing <strong>Shift+Tab</strong>
  moves focus to the first toolbar group, not the last.

<h1>Navigate within UI sections</h1>

<p>To move from one UI element to the next, press the appropriate <strong>Arrow</strong> key.</p>

<p>The <strong>Left</strong> and <strong>Right</strong> arrow keys</p>

<ul>
  <li>move between menus in the menu bar.</li>
  <li>open a sub-menu in a menu.</li>
  <li>move between buttons in a toolbar group.</li>
  <li>move between items in the footer\u2019s element path.</li>
</ul>

<p>The <strong>Down</strong> and <strong>Up</strong> arrow keys

<ul>
  <li>move between menu items in a menu.</li>
  <li>move between items in a toolbar pop-up menu.</li>
</ul>

<p><strong>Arrow</strong> keys cycle within the focused UI section.</p>

<p>To close an open menu, an open sub-menu, or an open pop-up menu, press the <strong>Esc</strong> key.

<p>If the current focus is at the \u2018top\u2019 of a particular UI section, pressing the <strong>Esc</strong> key also exits
  keyboard navigation entirely.</p>

<h1>Execute a menu item or toolbar button</h1>

<p>When the desired menu item or toolbar button is highlighted, press <strong>Return</strong>, <strong>Enter</strong>,
  or the <strong>Space bar</strong> to execute the item.

<h1>Navigate non-tabbed dialogs</h1>

<p>In non-tabbed dialogs, the first interactive component takes focus when the dialog opens.</p>

<p>Navigate between interactive dialog components by pressing <strong>Tab</strong> or <strong>Shift+Tab</strong>.</p>

<h1>Navigate tabbed dialogs</h1>

<p>In tabbed dialogs, the first button in the tab menu takes focus when the dialog opens.</p>

<p>Navigate between interactive components of this dialog tab by pressing <strong>Tab</strong> or
  <strong>Shift+Tab</strong>.</p>

<p>Switch to another dialog tab by giving the tab menu focus and then pressing the appropriate <strong>Arrow</strong>
  key to cycle through the available tabs.</p>
`);(function(){const a=Object.getPrototypeOf,u=(e,r,i)=>{var c;return!!i(e,r.prototype)||((c=e.constructor)===null||c===void 0?void 0:c.name)===r.name},p=e=>r=>(i=>{const c=typeof i;return i===null?"null":c==="object"&&Array.isArray(i)?"array":c==="object"&&u(i,String,(g,v)=>v.isPrototypeOf(g))?"string":c})(r)===e,b=e=>r=>typeof r===e,C=e=>r=>e===r,S=p("string"),M=p("object"),D=e=>((r,i)=>M(r)&&u(r,i,(c,g)=>a(c)===g))(e,Object),I=p("array"),q=C(null),re=b("boolean"),fe=C(void 0),le=e=>e==null,ue=e=>!le(e),ke=b("function"),xe=b("number"),me=(e,r)=>{if(I(e)){for(let i=0,c=e.length;i<c;++i)if(!r(e[i]))return!1;return!0}return!1},J=()=>{},ae=e=>()=>e(),De=(e,r)=>(...i)=>e(r.apply(null,i)),G=e=>()=>e,Ae=e=>e,ye=(e,r)=>e===r;function Pt(e,...r){return(...i)=>{const c=r.concat(i);return e.apply(null,c)}}const Ft=e=>r=>!e(r),qn=e=>()=>{throw new Error(e)},wn=e=>e(),Ke=G(!1),nn=G(!0);class H{constructor(r,i){this.tag=r,this.value=i}static some(r){return new H(!0,r)}static none(){return H.singletonNone}fold(r,i){return this.tag?i(this.value):r()}isSome(){return this.tag}isNone(){return!this.tag}map(r){return this.tag?H.some(r(this.value)):H.none()}bind(r){return this.tag?r(this.value):H.none()}exists(r){return this.tag&&r(this.value)}forall(r){return!this.tag||r(this.value)}filter(r){return!this.tag||r(this.value)?this:H.none()}getOr(r){return this.tag?this.value:r}or(r){return this.tag?this:r}getOrThunk(r){return this.tag?this.value:r()}orThunk(r){return this.tag?this:r()}getOrDie(r){if(this.tag)return this.value;throw new Error(r!=null?r:"Called getOrDie on None")}static from(r){return ue(r)?H.some(r):H.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(r){this.tag&&r(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}H.singletonNone=new H(!1);const it=Array.prototype.slice,kn=Array.prototype.indexOf,wt=Array.prototype.push,cn=(e,r)=>kn.call(e,r),In=(e,r)=>{const i=cn(e,r);return i===-1?H.none():H.some(i)},pn=(e,r)=>cn(e,r)>-1,Sn=(e,r)=>{for(let i=0,c=e.length;i<c;i++)if(r(e[i],i))return!0;return!1},Q=(e,r)=>{const i=[];for(let c=0;c<e;c++)i.push(r(c));return i},xn=(e,r)=>{const i=[];for(let c=0;c<e.length;c+=r){const g=it.call(e,c,c+r);i.push(g)}return i},et=(e,r)=>{const i=e.length,c=new Array(i);for(let g=0;g<i;g++){const v=e[g];c[g]=r(v,g)}return c},_t=(e,r)=>{for(let i=0,c=e.length;i<c;i++)r(e[i],i)},Sr=(e,r)=>{const i=[],c=[];for(let g=0,v=e.length;g<v;g++){const x=e[g];(r(x,g)?i:c).push(x)}return{pass:i,fail:c}},Ht=(e,r)=>{const i=[];for(let c=0,g=e.length;c<g;c++){const v=e[c];r(v,c)&&i.push(v)}return i},dt=(e,r,i)=>(((c,g)=>{for(let v=c.length-1;v>=0;v--)g(c[v],v)})(e,(c,g)=>{i=r(i,c,g)}),i),Et=(e,r,i)=>(_t(e,(c,g)=>{i=r(i,c,g)}),i),ze=(e,r)=>((i,c,g)=>{for(let v=0,x=i.length;v<x;v++){const k=i[v];if(c(k,v))return H.some(k);if(g(k,v))break}return H.none()})(e,r,Ke),oo=(e,r)=>{for(let i=0,c=e.length;i<c;i++)if(r(e[i],i))return H.some(i);return H.none()},Be=e=>{const r=[];for(let i=0,c=e.length;i<c;++i){if(!I(e[i]))throw new Error("Arr.flatten item "+i+" was not an array, input: "+e);wt.apply(r,e[i])}return r},ne=(e,r)=>Be(et(e,r)),Oe=(e,r)=>{for(let i=0,c=e.length;i<c;++i)if(r(e[i],i)!==!0)return!1;return!0},Ve=e=>{const r=it.call(e,0);return r.reverse(),r},yt=(e,r)=>Ht(e,i=>!pn(r,i)),Ct=(e,r)=>{const i={};for(let c=0,g=e.length;c<g;c++){const v=e[c];i[String(v)]=r(v,c)}return i},rn=e=>[e],Un=(e,r)=>{const i=it.call(e,0);return i.sort(r),i},En=(e,r)=>r>=0&&r<e.length?H.some(e[r]):H.none(),hn=e=>En(e,0),Je=e=>En(e,e.length-1),qt=ke(Array.from)?Array.from:e=>it.call(e),Hn=(e,r)=>{for(let i=0;i<e.length;i++){const c=r(e[i],i);if(c.isSome())return c}return H.none()},Dn=Object.keys,Uo=Object.hasOwnProperty,Xn=(e,r)=>{const i=Dn(e);for(let c=0,g=i.length;c<g;c++){const v=i[c];r(e[v],v)}},so=(e,r)=>So(e,(i,c)=>({k:c,v:r(i,c)})),So=(e,r)=>{const i={};return Xn(e,(c,g)=>{const v=r(c,g);i[v.k]=v.v}),i},Rr=e=>(r,i)=>{e[i]=r},ur=(e,r,i,c)=>{Xn(e,(g,v)=>{(r(g,v)?i:c)(g,v)})},vs=(e,r)=>{const i={};return ur(e,r,Rr(i),J),i},ut=(e,r)=>{const i=[];return Xn(e,(c,g)=>{i.push(r(c,g))}),i},rt=(e,r)=>{const i=Dn(e);for(let c=0,g=i.length;c<g;c++){const v=i[c],x=e[v];if(r(x,v,e))return H.some(x)}return H.none()},Ot=e=>ut(e,Ae),Ze=(e,r)=>Lt(e,r)?H.from(e[r]):H.none(),Lt=(e,r)=>Uo.call(e,r),ho=(e,r)=>Lt(e,r)&&e[r]!==void 0&&e[r]!==null,io=(e,r,i=ye)=>e.exists(c=>i(c,r)),Dt=e=>{const r=[],i=c=>{r.push(c)};for(let c=0;c<e.length;c++)e[c].each(i);return r},Zt=(e,r,i)=>e.isSome()&&r.isSome()?H.some(i(e.getOrDie(),r.getOrDie())):H.none(),fn=(e,r)=>e!=null?H.some(r(e)):H.none(),dr=(e,r)=>e?H.some(r):H.none(),$n=(e,r,i)=>r===""||e.length>=r.length&&e.substr(i,i+r.length)===r,Ar=(e,r)=>Dr(e,r)?((i,c)=>i.substring(c))(e,r.length):e,xr=(e,r,i=0,c)=>{const g=e.indexOf(r,i);return g!==-1&&(!!fe(c)||g+r.length<=c)},Dr=(e,r)=>$n(e,r,0),Xr=(e,r)=>$n(e,r,e.length-r.length),zr=(Hg=/^\s+|\s+$/g,e=>e.replace(Hg,"")),bs=e=>e.length>0,Ys=e=>e.style!==void 0&&ke(e.style.getPropertyValue),Bs=e=>{if(e==null)throw new Error("Node cannot be null or undefined");return{dom:e}},Bi=(e,r)=>{const i=(r||document).createElement("div");if(i.innerHTML=e,!i.hasChildNodes()||i.childNodes.length>1){const c="HTML does not have a single root node";throw console.error(c,e),new Error(c)}return Bs(i.childNodes[0])},Ra=(e,r)=>{const i=(r||document).createElement(e);return Bs(i)},wi=(e,r)=>{const i=(r||document).createTextNode(e);return Bs(i)},Pe=Bs,ot=typeof window!="undefined"?window:Function("return this;")(),It=(e,r)=>((i,c)=>{let g=c!=null?c:ot;for(let v=0;v<i.length&&g!=null;++v)g=g[i[v]];return g})(e.split("."),r),Tt=Object.getPrototypeOf,Cn=e=>{const r=It("ownerDocument.defaultView",e);return M(e)&&((i=>((c,g)=>{const v=((x,k)=>It(x,k))(c,g);if(v==null)throw new Error(c+" not available on this browser");return v})("HTMLElement",i))(r).prototype.isPrototypeOf(e)||/^HTML\w*Element$/.test(Tt(e).constructor.name))},Rn=e=>e.dom.nodeName.toLowerCase(),On=e=>r=>(i=>i.dom.nodeType)(r)===e,To=e=>Qn(e)&&Cn(e.dom),Qn=On(1),fr=On(3),Ir=On(9),mr=On(11),Jo=e=>r=>Qn(r)&&Rn(r)===e,ma=(e,r)=>{const i=e.dom;if(i.nodeType!==1)return!1;{const c=i;if(c.matches!==void 0)return c.matches(r);if(c.msMatchesSelector!==void 0)return c.msMatchesSelector(r);if(c.webkitMatchesSelector!==void 0)return c.webkitMatchesSelector(r);if(c.mozMatchesSelector!==void 0)return c.mozMatchesSelector(r);throw new Error("Browser lacks native selectors")}},cs=e=>e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11||e.childElementCount===0,Mo=(e,r)=>e.dom===r.dom,Ne=(e,r)=>{const i=e.dom,c=r.dom;return i!==c&&i.contains(c)},$e=e=>Pe(e.dom.ownerDocument),vt=e=>Ir(e)?e:$e(e),en=e=>Pe(vt(e).dom.documentElement),Yt=e=>Pe(vt(e).dom.defaultView),dn=e=>H.from(e.dom.parentNode).map(Pe),Eo=e=>H.from(e.dom.parentElement).map(Pe),go=e=>H.from(e.dom.offsetParent).map(Pe),Lo=e=>et(e.dom.childNodes,Pe),ir=(e,r)=>{const i=e.dom.childNodes;return H.from(i[r]).map(Pe)},Er=e=>ir(e,0),Qo=(e,r)=>({element:e,offset:r}),qr=(e,r)=>{const i=Lo(e);return i.length>0&&r<i.length?Qo(i[r],0):Qo(e,r)},Ms=e=>mr(e)&&ue(e.dom.host),Xs=ke(Element.prototype.attachShadow)&&ke(Node.prototype.getRootNode),Hl=G(Xs),ka=Xs?e=>Pe(e.dom.getRootNode()):vt,Sa=e=>Ms(e)?e:Pe(vt(e).dom.body),ys=e=>{const r=ka(e);return Ms(r)?H.some(r):H.none()},ya=e=>Pe(e.dom.host),Fs=e=>{const r=fr(e)?e.dom.parentNode:e.dom;if(r==null||r.ownerDocument===null)return!1;const i=r.ownerDocument;return ys(Pe(r)).fold(()=>i.body.contains(r),(c=Fs,g=ya,v=>c(g(v))));var c,g},Hs=()=>kf(Pe(document)),kf=e=>{const r=e.dom.body;if(r==null)throw new Error("Body is not available yet");return Pe(r)},zl=(e,r,i)=>{if(!(S(i)||re(i)||xe(i)))throw console.error("Invalid call to Attribute.set. Key ",r,":: Value ",i,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(r,i+"")},yo=(e,r,i)=>{zl(e.dom,r,i)},Sf=(e,r)=>{const i=e.dom;Xn(r,(c,g)=>{zl(i,g,c)})},wa=(e,r)=>{const i=e.dom.getAttribute(r);return i===null?void 0:i},qa=(e,r)=>H.from(wa(e,r)),lu=(e,r)=>{const i=e.dom;return!(!i||!i.hasAttribute)&&i.hasAttribute(r)},xa=(e,r)=>{e.dom.removeAttribute(r)},_r=(e,r,i)=>{if(!S(i))throw console.error("Invalid call to CSS.set. Property ",r,":: Value ",i,":: Element ",e),new Error("CSS value must be a string: "+i);Ys(e)&&e.style.setProperty(r,i)},Rs=(e,r)=>{Ys(e)&&e.style.removeProperty(r)},Do=(e,r,i)=>{const c=e.dom;_r(c,r,i)},Sl=(e,r)=>{const i=e.dom;Xn(r,(c,g)=>{_r(i,g,c)})},an=(e,r)=>{const i=e.dom;Xn(r,(c,g)=>{c.fold(()=>{Rs(i,g)},v=>{_r(i,g,v)})})},Fa=(e,r)=>{const i=e.dom,c=window.getComputedStyle(i).getPropertyValue(r);return c!==""||Fs(e)?c:Ka(i,r)},Ka=(e,r)=>Ys(e)?e.style.getPropertyValue(r):"",Kr=(e,r)=>{const i=e.dom,c=Ka(i,r);return H.from(c).filter(g=>g.length>0)},Ef=e=>{const r={},i=e.dom;if(Ys(i))for(let c=0;c<i.style.length;c++){const g=i.style.item(c);r[g]=i.style[g]}return r},wm=(e,r,i)=>{const c=Ra(e);return Do(c,r,i),Kr(c,r).isSome()},Zr=(e,r)=>{const i=e.dom;Rs(i,r),io(qa(e,"style").map(zr),"")&&xa(e,"style")},Lu=e=>e.dom.offsetWidth,Jr=(e,r)=>{const i=g=>{const v=r(g);if(v<=0||v===null){const x=Fa(g,e);return parseFloat(x)||0}return v},c=(g,v)=>Et(v,(x,k)=>{const O=Fa(g,k),N=O===void 0?0:parseInt(O,10);return isNaN(N)?x:x+N},0);return{set:(g,v)=>{if(!xe(v)&&!v.match(/^[0-9]+$/))throw new Error(e+".set accepts only positive integer values. Value was "+v);const x=g.dom;Ys(x)&&(x.style[e]=v+"px")},get:i,getOuter:i,aggregate:c,max:(g,v,x)=>{const k=c(g,x);return v>k?v-k:0}}},xm=Jr("height",e=>{const r=e.dom;return Fs(e)?r.getBoundingClientRect().height:r.offsetHeight}),Ha=e=>xm.get(e),dc=e=>xm.getOuter(e),xi=(e,r)=>({left:e,top:r,translate:(i,c)=>xi(e+i,r+c)}),vr=xi,Bu=(e,r)=>e!==void 0?e:r!==void 0?r:0,za=e=>{const r=e.dom.ownerDocument,i=r.body,c=r.defaultView,g=r.documentElement;if(i===e.dom)return vr(i.offsetLeft,i.offsetTop);const v=Bu(c==null?void 0:c.pageYOffset,g.scrollTop),x=Bu(c==null?void 0:c.pageXOffset,g.scrollLeft),k=Bu(g.clientTop,i.clientTop),O=Bu(g.clientLeft,i.clientLeft);return Fu(e).translate(x-O,v-k)},Fu=e=>{const r=e.dom,i=r.ownerDocument.body;return i===r?vr(i.offsetLeft,i.offsetTop):Fs(e)?(c=>{const g=c.getBoundingClientRect();return vr(g.left,g.top)})(r):vr(0,0)},Hu=Jr("width",e=>e.dom.offsetWidth),Yr=e=>Hu.get(e),el=e=>Hu.getOuter(e),ws=e=>{let r,i=!1;return(...c)=>(i||(i=!0,r=e.apply(null,c)),r)},Fi=()=>kd(0,0),kd=(e,r)=>({major:e,minor:r}),Da={nu:kd,detect:(e,r)=>{const i=String(r).toLowerCase();return e.length===0?Fi():((c,g)=>{const v=((k,O)=>{for(let N=0;N<k.length;N++){const L=k[N];if(L.test(O))return L}})(c,g);if(!v)return{major:0,minor:0};const x=k=>Number(g.replace(v,"$"+k));return kd(x(1),x(2))})(e,i)},unknown:Fi},Sd=(e,r)=>{const i=String(r).toLowerCase();return ze(e,c=>c.search(i))},_m=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Hi=e=>r=>xr(r,e),Vl=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:e=>xr(e,"edge/")&&xr(e,"chrome")&&xr(e,"safari")&&xr(e,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,_m],search:e=>xr(e,"chrome")&&!xr(e,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:e=>xr(e,"msie")||xr(e,"trident")},{name:"Opera",versionRegexes:[_m,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Hi("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Hi("firefox")},{name:"Safari",versionRegexes:[_m,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:e=>(xr(e,"safari")||xr(e,"mobile/"))&&xr(e,"applewebkit")}],Lg=[{name:"Windows",search:Hi("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:e=>xr(e,"iphone")||xr(e,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Hi("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:Hi("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Hi("linux"),versionRegexes:[]},{name:"Solaris",search:Hi("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Hi("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:Hi("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],oh={browsers:G(Vl),oses:G(Lg)},Ed="Edge",Bg="Chromium",Od="Opera",Fg="Firefox",Td="Safari",Cm=e=>{const r=e.current,i=e.version,c=g=>()=>r===g;return{current:r,version:i,isEdge:c(Ed),isChromium:c(Bg),isIE:c("IE"),isOpera:c(Od),isFirefox:c(Fg),isSafari:c(Td)}},us=()=>Cm({current:void 0,version:Da.unknown()}),Fc=Cm,Ue="Windows",km="Android",Sm="Linux",tl="macOS",Of="Solaris",Ur="FreeBSD",Hc="ChromeOS",rh=e=>{const r=e.current,i=e.version,c=g=>()=>r===g;return{current:r,version:i,isWindows:c(Ue),isiOS:c("iOS"),isAndroid:c(km),isMacOS:c(tl),isLinux:c(Sm),isSolaris:c(Of),isFreeBSD:c(Ur),isChromeOS:c(Hc)}},mc=()=>rh({current:void 0,version:Da.unknown()}),Ad=rh,pl=e=>window.matchMedia(e).matches;var Hg;let W1=ws(()=>((e,r,i)=>{const c=oh.browsers(),g=oh.oses(),v=r.bind(O=>((N,L)=>Hn(L.brands,F=>{const U=F.brand.toLowerCase();return ze(N,K=>{var oe;return U===((oe=K.brand)===null||oe===void 0?void 0:oe.toLowerCase())}).map(K=>({current:K.name,version:Da.nu(parseInt(F.version,10),0)}))}))(c,O)).orThunk(()=>((O,N)=>Sd(O,N).map(L=>{const F=Da.detect(L.versionRegexes,N);return{current:L.name,version:F}}))(c,e)).fold(us,Fc),x=((O,N)=>Sd(O,N).map(L=>{const F=Da.detect(L.versionRegexes,N);return{current:L.name,version:F}}))(g,e).fold(mc,Ad),k=((O,N,L,F)=>{const U=O.isiOS()&&/ipad/i.test(L)===!0,K=O.isiOS()&&!U,oe=O.isiOS()||O.isAndroid(),ge=oe||F("(pointer:coarse)"),pe=U||!K&&oe&&F("(min-device-width:768px)"),we=K||oe&&!pe,Se=N.isSafari()&&O.isiOS()&&/safari/i.test(L)===!1,he=!we&&!pe&&!Se;return{isiPad:G(U),isiPhone:G(K),isTablet:G(pe),isPhone:G(we),isTouch:G(ge),isAndroid:O.isAndroid,isiOS:O.isiOS,isWebView:G(Se),isDesktop:G(he)}})(x,v,e,i);return{browser:v,os:x,deviceType:k}})(navigator.userAgent,H.from(navigator.userAgentData),pl));const nl=()=>W1(),zu=e=>{const r=Pe((v=>{if(Hl()&&ue(v.target)){const x=Pe(v.target);if(Qn(x)&&(k=>ue(k.dom.shadowRoot))(x)&&v.composed&&v.composedPath){const k=v.composedPath();if(k)return hn(k)}}return H.from(v.target)})(e).getOr(e.target)),i=()=>e.stopPropagation(),c=()=>e.preventDefault(),g=De(c,i);return((v,x,k,O,N,L,F)=>({target:v,x,y:k,stop:O,prevent:N,kill:L,raw:F}))(r,e.clientX,e.clientY,i,c,g,e)},Vu=(e,r,i,c,g)=>{const v=((x,k)=>O=>{x(O)&&k(zu(O))})(i,c);return e.dom.addEventListener(r,v,g),{unbind:Pt(zg,e,r,v,g)}},zg=(e,r,i,c)=>{e.dom.removeEventListener(r,i,c)},fa=(e,r)=>{dn(e).each(i=>{i.dom.insertBefore(r.dom,e.dom)})},$u=(e,r)=>{(c=>H.from(c.dom.nextSibling).map(Pe))(e).fold(()=>{dn(e).each(c=>{zi(c,r)})},c=>{fa(c,r)})},Tf=(e,r)=>{Er(e).fold(()=>{zi(e,r)},i=>{e.dom.insertBefore(r.dom,i.dom)})},zi=(e,r)=>{e.dom.appendChild(r.dom)},Uu=(e,r)=>{_t(r,i=>{zi(e,i)})},fc=e=>{e.dom.textContent="",_t(Lo(e),r=>{$l(r)})},$l=e=>{const r=e.dom;r.parentNode!==null&&r.parentNode.removeChild(r)},ts=e=>{const r=e!==void 0?e.dom:document,i=r.body.scrollLeft||r.documentElement.scrollLeft,c=r.body.scrollTop||r.documentElement.scrollTop;return vr(i,c)},ns=(e,r,i)=>{const c=(i!==void 0?i.dom:document).defaultView;c&&c.scrollTo(e,r)},ol=(e,r,i,c)=>({x:e,y:r,width:i,height:c,right:e+i,bottom:r+c}),zs=e=>{const r=e===void 0?window:e,i=r.document,c=ts(Pe(i));return(g=>{const v=g===void 0?window:g;return nl().browser.isFirefox()?H.none():H.from(v.visualViewport)})(r).fold(()=>{const g=r.document.documentElement,v=g.clientWidth,x=g.clientHeight;return ol(c.left,c.top,v,x)},g=>ol(Math.max(g.pageLeft,c.left),Math.max(g.pageTop,c.top),g.width,g.height))},Em=()=>Pe(document),Af=(e,r)=>e.view(r).fold(G([]),i=>{const c=e.owner(i),g=Af(e,c);return[i].concat(g)});var Om=Object.freeze({__proto__:null,view:e=>{var r;return(e.dom===document?H.none():H.from((r=e.dom.defaultView)===null||r===void 0?void 0:r.frameElement)).map(Pe)},owner:e=>$e(e)});const zc=e=>{const r=Em(),i=ts(r);return((g,v)=>{const x=v.owner(g),k=Af(v,x);return H.some(k)})(e,Om).fold(Pt(za,e),g=>{const v=Fu(e),x=dt(g,(k,O)=>{const N=Fu(O);return{left:k.left+N.left,top:k.top+N.top}},{left:0,top:0});return vr(x.left+v.left+i.left,x.top+v.top+i.top)})},ga=(e,r,i,c)=>({x:e,y:r,width:i,height:c,right:e+i,bottom:r+c}),os=e=>{const r=za(e),i=el(e),c=dc(e);return ga(r.left,r.top,i,c)},Ul=e=>{const r=zc(e),i=el(e),c=dc(e);return ga(r.left,r.top,i,c)},xs=(e,r)=>{const i=Math.max(e.x,r.x),c=Math.max(e.y,r.y),g=Math.min(e.right,r.right),v=Math.min(e.bottom,r.bottom);return ga(i,c,g-i,v-c)},Ya=()=>zs(window);var El=tinymce.util.Tools.resolve("tinymce.ThemeManager");const Tm=e=>{const r=v=>v(e),i=G(e),c=()=>g,g={tag:!0,inner:e,fold:(v,x)=>x(e),isValue:nn,isError:Ke,map:v=>sr.value(v(e)),mapError:c,bind:r,exists:r,forall:r,getOr:i,or:c,getOrThunk:i,orThunk:c,getOrDie:i,each:v=>{v(e)},toOptional:()=>H.some(e)};return g},Nd=e=>{const r=()=>i,i={tag:!1,inner:e,fold:(c,g)=>c(e),isValue:Ke,isError:nn,map:r,mapError:c=>sr.error(c(e)),bind:r,exists:Ke,forall:nn,getOr:Ae,or:Ae,getOrThunk:wn,orThunk:wn,getOrDie:qn(String(e)),each:J,toOptional:H.none};return i},sr={value:Tm,error:Nd,fromOption:(e,r)=>e.fold(()=>Nd(r),Tm)};var _i;(function(e){e[e.Error=0]="Error",e[e.Value=1]="Value"})(_i||(_i={}));const Vc=(e,r,i)=>e.stype===_i.Error?r(e.serror):i(e.svalue),jl=e=>({stype:_i.Value,svalue:e}),Nf=e=>({stype:_i.Error,serror:e}),Zl=jl,cu=Nf,ah=Vc,Vi=(e,r,i,c)=>({tag:"field",key:e,newKey:r,presence:i,prop:c}),hl=(e,r,i)=>{switch(e.tag){case"field":return r(e.key,e.newKey,e.presence,e.prop);case"custom":return i(e.newKey,e.instantiator)}},ju=e=>(...r)=>{if(r.length===0)throw new Error("Can't merge zero objects");const i={};for(let c=0;c<r.length;c++){const g=r[c];for(const v in g)Lt(g,v)&&(i[v]=e(i[v],g[v]))}return i},lr=ju((e,r)=>D(e)&&D(r)?lr(e,r):r),Mf=ju((e,r)=>r),X=e=>({tag:"defaultedThunk",process:e}),de=e=>X(G(e)),ce=e=>({tag:"mergeWithThunk",process:e}),_e=e=>{const r=(c=>{const g=[],v=[];return _t(c,x=>{Vc(x,k=>v.push(k),k=>g.push(k))}),{values:g,errors:v}})(e);return r.errors.length>0?(i=r.errors,De(cu,Be)(i)):Zl(r.values);var i},nt=e=>M(e)&&Dn(e).length>100?" removed due to size":JSON.stringify(e,null,2),at=(e,r)=>cu([{path:e,getErrorInfo:r}]),zt=e=>({extract:(r,i)=>((c,g)=>c.stype===_i.Error?g(c.serror):c)(e(i),c=>((g,v)=>at(g,G(v)))(r,c)),toString:G("val")}),mn=zt(Zl),sn=(e,r,i,c)=>c(Ze(e,r).getOrThunk(()=>i(e))),un=(e,r,i,c,g)=>{const v=k=>g.extract(r.concat([c]),k),x=k=>k.fold(()=>Zl(H.none()),O=>((N,L)=>N.stype===_i.Value?{stype:_i.Value,svalue:L(N.svalue)}:N)(g.extract(r.concat([c]),O),H.some));switch(e.tag){case"required":return((k,O,N,L)=>Ze(O,N).fold(()=>((F,U,K)=>at(F,()=>'Could not find valid *required* value for "'+U+'" in '+nt(K)))(k,N,O),L))(r,i,c,v);case"defaultedThunk":return sn(i,c,e.process,v);case"option":return((k,O,N)=>N(Ze(k,O)))(i,c,x);case"defaultedOptionThunk":return((k,O,N,L)=>L(Ze(k,O).map(F=>F===!0?N(k):F)))(i,c,e.process,x);case"mergeWithThunk":return sn(i,c,G({}),k=>{const O=lr(e.process(i),k);return v(O)})}},Bn=e=>({extract:(r,i)=>e().extract(r,i),toString:()=>e().toString()}),Kn=e=>Dn(vs(e,ue)),cr=e=>{const r=Jt(e),i=dt(e,(c,g)=>hl(g,v=>lr(c,{[v]:!0}),G(c)),{});return{extract:(c,g)=>{const v=re(g)?[]:Kn(g),x=Ht(v,k=>!ho(i,k));return x.length===0?r.extract(c,g):((k,O)=>at(k,()=>"There are unsupported fields: ["+O.join(", ")+"] specified"))(c,x)},toString:r.toString}},Jt=e=>({extract:(r,i)=>((c,g,v)=>{const x={},k=[];for(const O of v)hl(O,(N,L,F,U)=>{const K=un(F,c,g,N,U);ah(K,oe=>{k.push(...oe)},oe=>{x[L]=oe})},(N,L)=>{x[N]=L(g)});return k.length>0?cu(k):Zl(x)})(r,i,e),toString:()=>{const r=et(e,i=>hl(i,(c,g,v,x)=>c+" -> "+x.toString(),(c,g)=>"state("+c+")"));return`obj{
`+r.join(`
`)+"}"}}),Bo=e=>({extract:(r,i)=>{const c=et(i,(g,v)=>e.extract(r.concat(["["+v+"]"]),g));return _e(c)},toString:()=>"array("+e.toString()+")"}),Or=(e,r)=>{const i=r!==void 0?r:Ae;return{extract:(c,g)=>{const v=[];for(const x of e){const k=x.extract(c,g);if(k.stype===_i.Value)return{stype:_i.Value,svalue:i(k.svalue)};v.push(k)}return _e(v)},toString:()=>"oneOf("+et(e,c=>c.toString()).join(", ")+")"}},no=(e,r)=>({extract:(i,c)=>{const g=Dn(c),v=((x,k)=>Bo(zt(e)).extract(x,k))(i,g);return((x,k)=>x.stype===_i.Value?k(x.svalue):x)(v,x=>{const k=et(x,O=>Vi(O,O,{tag:"required",process:{}},r));return Jt(k).extract(i,c)})},toString:()=>"setOf("+r.toString()+")"}),Go=De(Bo,Jt),Jn=G(mn),Cr=(e,r)=>zt(i=>{const c=typeof i;return e(i)?Zl(i):cu(`Expected type: ${r} but got: ${c}`)}),qo=Cr(xe,"number"),gr=Cr(S,"string"),Xa=Cr(re,"boolean"),vn=Cr(ke,"function"),Js=e=>{if(Object(e)!==e)return!0;switch({}.toString.call(e).slice(8,-1)){case"Boolean":case"Number":case"String":case"Date":case"RegExp":case"Blob":case"FileList":case"ImageData":case"ImageBitmap":case"ArrayBuffer":return!0;case"Array":case"Object":return Object.keys(e).every(r=>Js(e[r]));default:return!1}},Na=zt(e=>Js(e)?Zl(e):cu("Expected value to be acceptable for sending via postMessage")),rl=(e,r)=>({extract:(i,c)=>Ze(c,e).fold(()=>((g,v)=>at(g,()=>'Choice schema did not contain choice key: "'+v+'"'))(i,e),g=>((v,x,k,O)=>Ze(k,O).fold(()=>((N,L,F)=>at(N,()=>'The chosen schema: "'+F+'" did not exist in branches: '+nt(L)))(v,k,O),N=>N.extract(v.concat(["branch: "+O]),x)))(i,c,r,g)),toString:()=>"chooseOn("+e+"). Possible values: "+Dn(r)}),Rf=e=>zt(r=>e(r).fold(cu,Zl)),gc=(e,r)=>no(i=>e(i).fold(Nf,jl),r),na=(e,r,i)=>{return c=((g,v,x)=>((k,O)=>k.stype===_i.Error?{stype:_i.Error,serror:O(k.serror)}:k)(v.extract([g],x),k=>({input:x,errors:k})))(e,r,i),Vc(c,sr.error,sr.value);var c},pc=e=>e.fold(r=>{throw new Error(tn(r))},Ae),Ci=(e,r,i)=>pc(na(e,r,i)),tn=e=>`Errors: 
`+(r=>{const i=r.length>10?r.slice(0,10).concat([{path:[],getErrorInfo:G("... (only showing first ten failures)")}]):r;return et(i,c=>"Failed path: ("+c.path.join(" > ")+`)
`+c.getErrorInfo())})(e.errors).join(`
`)+`

Input object: `+nt(e.input),vl=(e,r)=>rl(e,so(r,Jt)),gw=(e,r)=>((i,c)=>{const g=ws(c);return{extract:(v,x)=>g().extract(v,x),toString:()=>g().toString()}})(0,r),Ja=Vi,Qs=(e,r)=>({tag:"custom",newKey:e,instantiator:r}),sh=e=>Rf(r=>pn(e,r)?sr.value(r):sr.error(`Unsupported value: "${r}", choose one of "${e.join(", ")}".`)),kt=e=>Ja(e,e,{tag:"required",process:{}},Jn()),al=(e,r)=>Ja(e,e,{tag:"required",process:{}},r),$c=e=>al(e,qo),rr=e=>al(e,gr),hc=(e,r)=>Ja(e,e,{tag:"required",process:{}},sh(r)),Ol=e=>al(e,vn),$i=(e,r)=>Ja(e,e,{tag:"required",process:{}},Jt(r)),mb=(e,r)=>Ja(e,e,{tag:"required",process:{}},Go(r)),ki=(e,r)=>Ja(e,e,{tag:"required",process:{}},Bo(r)),Vr=e=>Ja(e,e,{tag:"option",process:{}},Jn()),Tl=(e,r)=>Ja(e,e,{tag:"option",process:{}},r),ds=e=>Tl(e,qo),ei=e=>Tl(e,gr),Vg=(e,r)=>Tl(e,sh(r)),uu=e=>Tl(e,vn),fb=(e,r)=>Tl(e,Bo(r)),ti=(e,r)=>Tl(e,Jt(r)),ct=(e,r)=>Ja(e,e,de(r),Jn()),rs=(e,r,i)=>Ja(e,e,de(r),i),Df=(e,r)=>rs(e,r,qo),bl=(e,r)=>rs(e,r,gr),Zu=(e,r,i)=>rs(e,r,sh(i)),Si=(e,r)=>rs(e,r,Xa),Va=(e,r)=>rs(e,r,vn),Am=(e,r,i)=>rs(e,r,Bo(i)),Nm=(e,r,i)=>rs(e,r,Jt(i)),uo=e=>{let r=e;return{get:()=>r,set:i=>{r=i}}},Uc=e=>{if(!I(e))throw new Error("cases must be an array");if(e.length===0)throw new Error("there must be at least one case");const r=[],i={};return _t(e,(c,g)=>{const v=Dn(c);if(v.length!==1)throw new Error("one and only one name per case");const x=v[0],k=c[x];if(i[x]!==void 0)throw new Error("duplicate key detected:"+x);if(x==="cata")throw new Error("cannot have a case named cata (sorry)");if(!I(k))throw new Error("case arguments must be an array");r.push(x),i[x]=(...O)=>{const N=O.length;if(N!==k.length)throw new Error("Wrong number of arguments to case "+x+". Expected "+k.length+" ("+k+"), got "+N);return{fold:(...L)=>{if(L.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+L.length);return L[g].apply(null,O)},match:L=>{const F=Dn(L);if(r.length!==F.length)throw new Error("Wrong number of arguments to match. Expected: "+r.join(",")+`
Actual: `+F.join(","));if(!Oe(r,U=>pn(F,U)))throw new Error("Not all branches were specified when using match. Specified: "+F.join(", ")+`
Required: `+r.join(", "));return L[x].apply(null,O)},log:L=>{console.log(L,{constructors:r,constructor:x,params:O})}}}}),i};Uc([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);const If=(e,r)=>((i,c)=>({[i]:c}))(e,r),du=e=>(r=>{const i={};return _t(r,c=>{i[c.key]=c.value}),i})(e),Wu=e=>ke(e)?e:Ke,Mm=(e,r,i)=>{let c=e.dom;const g=Wu(i);for(;c.parentNode;){c=c.parentNode;const v=Pe(c),x=r(v);if(x.isSome())return x;if(g(v))break}return H.none()},Vs=(e,r,i)=>{const c=r(e),g=Wu(i);return c.orThunk(()=>g(e)?H.none():Mm(e,r,g))},$g=(e,r)=>Mo(e.element,r.event.target),Gu={can:nn,abort:Ke,run:J},Pf=e=>{if(!ho(e,"can")&&!ho(e,"abort")&&!ho(e,"run"))throw new Error("EventHandler defined by: "+JSON.stringify(e,null,2)+" does not have can, abort, or run!");return{...Gu,...e}},Qa=G,Al=Qa("touchstart"),vc=Qa("touchmove"),ni=Qa("touchend"),Ug=Qa("touchcancel"),gi=Qa("mousedown"),qu=Qa("mousemove"),jg=Qa("mouseout"),Lf=Qa("mouseup"),mu=Qa("mouseover"),Md=Qa("focusin"),gb=Qa("focusout"),jc=Qa("keydown"),ih=Qa("keyup"),Rm=Qa("input"),Rd=Qa("change"),bc=Qa("click"),Bf=Qa("transitioncancel"),Dm=Qa("transitionend"),yc=Qa("transitionstart"),G1=Qa("selectstart"),Ia=e=>G("alloy."+e),fk={tap:Ia("tap")},Wl=Ia("focus"),q1=Ia("blur.post"),lh=Ia("paste.post"),Dd=Ia("receive"),sl=Ia("execute"),Ff=Ia("focus.item"),Im=fk.tap,gk=Ia("longpress"),Ma=Ia("sandbox.close"),Hf=Ia("typeahead.cancel"),Zg=Ia("system.init"),pb=Ia("system.touchmove"),K1=Ia("system.touchend"),Wg=Ia("system.scroll"),zf=Ia("system.resize"),Gl=Ia("system.attached"),Vf=Ia("system.detached"),Pm=Ia("system.dismissRequested"),Gg=Ia("system.repositionRequested"),Y1=Ia("focusmanager.shifted"),Ku=Ia("slotcontainer.visibility"),pw=Ia("system.external.element.scroll"),hb=Ia("change.tab"),ch=Ia("dismiss.tab"),uh=Ia("highlight"),qg=Ia("dehighlight"),Pr=(e,r)=>{mh(e,e.element,r,{})},eo=(e,r,i)=>{mh(e,e.element,r,i)},fu=e=>{Pr(e,sl())},dh=(e,r,i)=>{mh(e,r,i,{})},mh=(e,r,i,c)=>{const g={target:r,...c};e.getSystem().triggerEvent(i,r,g)},X1=(e,r,i,c)=>{e.getSystem().triggerEvent(i,r,c.event)},Nr=e=>du(e),fh=(e,r)=>({key:e,value:Pf({abort:r})}),Kg=e=>({key:e,value:Pf({run:(r,i)=>{i.event.prevent()}})}),jt=(e,r)=>({key:e,value:Pf({run:r})}),J1=(e,r,i)=>({key:e,value:Pf({run:(c,g)=>{r.apply(void 0,[c,g].concat(i))}})}),gu=e=>r=>({key:e,value:Pf({run:(i,c)=>{$g(i,c)&&r(i,c)}})}),Yg=(e,r,i)=>((c,g)=>jt(c,(v,x)=>{v.getSystem().getByUid(g).each(k=>{X1(k,k.element,c,x)})}))(e,r.partUids[i]),Q1=(e,r)=>jt(e,(i,c)=>{const g=c.event,v=i.getSystem().getByDom(g.target).getOrThunk(()=>Vs(g.target,x=>i.getSystem().getByDom(x).toOptional(),Ke).getOr(i));r(i,v,c)}),Id=e=>jt(e,(r,i)=>{i.cut()}),gh=e=>jt(e,(r,i)=>{i.stop()}),Lm=(e,r)=>gu(e)(r),ia=gu(Gl()),pi=gu(Vf()),ev=gu(Zg()),wc=(vb=sl(),e=>jt(vb,e)),ph=e=>e.dom.innerHTML,xc=(e,r)=>{const i=$e(e).dom,c=Pe(i.createDocumentFragment()),g=((v,x)=>{const k=(x||document).createElement("div");return k.innerHTML=v,Lo(Pe(k))})(r,i);Uu(c,g),fc(e),zi(e,c)},oi=e=>Ms(e)?"#shadow-root":(r=>{const i=Ra("div"),c=Pe(r.dom.cloneNode(!0));return zi(i,c),ph(i)})((r=>((i,c)=>Pe(i.dom.cloneNode(!1)))(r))(e)),_c=e=>oi(e),hw=Nr([((e,r)=>({key:e,value:Pf({can:(i,c)=>{const g=c.event,v=g.originator,x=g.target;return!((k,O,N)=>Mo(O,k.element)&&!Mo(O,N))(i,v,x)||(console.warn(Wl()+` did not get interpreted by the desired target. 
Originator: `+_c(v)+`
Target: `+_c(x)+`
Check the `+Wl()+" event handlers"),!1)}})}))(Wl())]);var vb,ri=Object.freeze({__proto__:null,events:hw});let hh=0;const Gn=e=>{const r=new Date().getTime(),i=Math.floor(1e9*Math.random());return hh++,e+"_"+i+hh+String(r)},tv=G("alloy-id-"),Pd=G("data-alloy-id"),nv=tv(),vw=Pd(),ov=(e,r)=>{Object.defineProperty(e.dom,vw,{value:r,writable:!0})},$f=e=>{const r=Qn(e)?e.dom[vw]:null;return H.from(r)},Xg=e=>Gn(e),Uf=Ae,Bm=e=>{const r=g=>`The component must be in a context to execute: ${g}`+(e?`
`+_c(e().element)+" is not in context.":""),i=g=>()=>{throw new Error(r(g))},c=g=>()=>{console.warn(r(g))};return{debugInfo:G("fake"),triggerEvent:c("triggerEvent"),triggerFocus:c("triggerFocus"),triggerEscape:c("triggerEscape"),broadcast:c("broadcast"),broadcastOn:c("broadcastOn"),broadcastEvent:c("broadcastEvent"),build:i("build"),buildOrPatch:i("buildOrPatch"),addToWorld:i("addToWorld"),removeFromWorld:i("removeFromWorld"),addToGui:i("addToGui"),removeFromGui:i("removeFromGui"),getByUid:i("getByUid"),getByDom:i("getByDom"),isConnected:Ke}},vh=Bm(),rv=e=>et(e,r=>Xr(r,"/*")?r.substring(0,r.length-2):r),Ld=(e,r)=>{const i=e.toString(),c=i.indexOf(")")+1,g=i.indexOf("("),v=i.substring(g+1,c-1).split(/,\s*/);return e.toFunctionAnnotation=()=>({name:r,parameters:rv(v)}),e},Yu=Gn("alloy-premade"),bh=e=>(Object.defineProperty(e.element.dom,Yu,{value:e.uid,writable:!0}),If(Yu,e)),Jg=e=>Ze(e,Yu),Qg=e=>((r,i)=>{const c=i.toString(),g=c.indexOf(")")+1,v=c.indexOf("("),x=c.substring(v+1,g-1).split(/,\s*/);return r.toFunctionAnnotation=()=>({name:"OVERRIDE",parameters:rv(x.slice(1))}),r})((r,...i)=>e(r.getApis(),r,...i),e),pa={init:()=>il({readState:G("No State required")})},il=e=>e,Nl=(e,r)=>{const i={};return Xn(e,(c,g)=>{Xn(c,(v,x)=>{const k=Ze(i,x).getOr([]);i[x]=k.concat([r(g,v)])})}),i},hi=e=>({classes:fe(e.classes)?[]:e.classes,attributes:fe(e.attributes)?{}:e.attributes,styles:fe(e.styles)?{}:e.styles}),yh=e=>e.cHandler,la=(e,r)=>({name:e,handler:r}),bw=(e,r)=>{const i={};return _t(e,c=>{i[c.name()]=c.handlers(r)}),i},Xu=(e,r,i)=>{const c=r[i];return c?((g,v,x,k)=>{try{const O=Un(x,(N,L)=>{const F=N[v],U=L[v],K=k.indexOf(F),oe=k.indexOf(U);if(K===-1)throw new Error("The ordering for "+g+" does not have an entry for "+F+`.
Order specified: `+JSON.stringify(k,null,2));if(oe===-1)throw new Error("The ordering for "+g+" does not have an entry for "+U+`.
Order specified: `+JSON.stringify(k,null,2));return K<oe?-1:oe<K?1:0});return sr.value(O)}catch(O){return sr.error([O])}})("Event: "+i,"name",e,c).map(g=>(v=>{const x=((O,N)=>(...L)=>Et(O,(F,U)=>F&&(K=>K.can)(U).apply(void 0,L),!0))(v),k=((O,N)=>(...L)=>Et(O,(F,U)=>F||(K=>K.abort)(U).apply(void 0,L),!1))(v);return{can:x,abort:k,run:(...O)=>{_t(v,N=>{N.run.apply(void 0,O)})}}})(et(g,v=>v.handler))):((g,v)=>sr.error(["The event ("+g+`) has more than one behaviour that listens to it.
When this occurs, you must specify an event ordering for the behaviours in your spec (e.g. [ "listing", "toggling" ]).
The behaviours that can trigger it are: `+JSON.stringify(et(v,x=>x.name),null,2)]))(i,e)},_s=(e,r)=>((i,c)=>{const g=(x=>{const k=[],O=[];return _t(x,N=>{N.fold(L=>{k.push(L)},L=>{O.push(L)})}),{errors:k,values:O}})(i);return g.errors.length>0?(v=g.errors,sr.error(Be(v))):((x,k)=>x.length===0?sr.value(k):sr.value(lr(k,Mf.apply(void 0,x))))(g.values,c);var v})(ut(e,(i,c)=>(i.length===1?sr.value(i[0].handler):Xu(i,r,c)).map(g=>{const v=(k=>{const O=(N=>ke(N)?{can:nn,abort:Ke,run:N}:N)(k);return(N,L,...F)=>{const U=[N,L].concat(F);O.abort.apply(void 0,U)?L.stop():O.can.apply(void 0,U)&&O.run.apply(void 0,U)}})(g),x=i.length>1?Ht(r[c],k=>Sn(i,O=>O.name===k)).join(" > "):i[0].name;return If(c,((k,O)=>({handler:k,purpose:O}))(v,x))})),{}),Zc="alloy.base.behaviour",av=Jt([Ja("dom","dom",{tag:"required",process:{}},Jt([kt("tag"),ct("styles",{}),ct("classes",[]),ct("attributes",{}),Vr("value"),Vr("innerHtml")])),kt("components"),kt("uid"),ct("events",{}),ct("apis",{}),Ja("eventOrder","eventOrder",(Fd={[sl()]:["disabling",Zc,"toggling","typeaheadevents"],[Wl()]:[Zc,"focusing","keying"],[Zg()]:[Zc,"disabling","toggling","representing"],[Rm()]:[Zc,"representing","streaming","invalidating"],[Vf()]:[Zc,"representing","item-events","tooltipping"],[gi()]:["focusing",Zc,"item-type-events"],[Al()]:["focusing",Zc,"item-type-events"],[mu()]:["item-type-events","tooltipping"],[Dd()]:["receiving","reflecting","tooltipping"]},ce(G(Fd))),Jn()),Vr("domModification")]),sv=e=>e.events,Cc=(e,r)=>{const i=wa(e,r);return i===void 0||i===""?[]:i.split(" ")},ai=e=>e.dom.classList!==void 0,ep=e=>Cc(e,"class"),_a=(e,r)=>{ai(e)?e.dom.classList.add(r):((i,c)=>{((g,v,x)=>{const k=Cc(g,v).concat([x]);yo(g,v,k.join(" "))})(i,"class",c)})(e,r)},Ca=(e,r)=>{ai(e)?e.dom.classList.remove(r):((i,c)=>{((g,v,x)=>{const k=Ht(Cc(g,v),O=>O!==x);k.length>0?yo(g,v,k.join(" ")):xa(g,v)})(i,"class",c)})(e,r),(i=>{(ai(i)?i.dom.classList:ep(i)).length===0&&xa(i,"class")})(e)},Ei=(e,r)=>ai(e)&&e.dom.classList.contains(r),Ml=(e,r)=>{_t(r,i=>{_a(e,i)})},si=(e,r)=>{_t(r,i=>{Ca(e,i)})},Fm=(e,r)=>Oe(r,i=>Ei(e,i)),ql=e=>e.dom.value,Wc=(e,r)=>{if(r===void 0)throw new Error("Value.set was undefined");e.dom.value=r},jf=(e,r,i)=>{i.fold(()=>zi(e,r),c=>{Mo(c,r)||(fa(c,r),$l(c))})},wh=(e,r,i)=>{const c=et(r,i),g=Lo(e);return _t(g.slice(c.length),$l),c},iv=(e,r,i,c)=>{const g=ir(e,r),v=c(i,g),x=((k,O,N)=>ir(k,O).map(L=>{if(N.exists(F=>!Mo(F,L))){const F=N.map(Rn).getOr("span"),U=Ra(F);return fa(L,U),U}return L}))(e,r,g);return jf(e,v.element,x),v},lv=(e,r)=>{const i=Dn(e),c=Dn(r),g=yt(c,i),v=((x,k)=>{const O={},N={};return ur(x,(L,F)=>!Lt(r,F)||L!==r[F],Rr(O),Rr(N)),{t:O,f:N}})(e).t;return{toRemove:g,toSet:v}},bb=(e,r)=>{const{class:i,style:c,...g}=(K=>Et(K.dom.attributes,(oe,ge)=>(oe[ge.name]=ge.value,oe),{}))(r),{toSet:v,toRemove:x}=lv(e.attributes,g),k=Ef(r),{toSet:O,toRemove:N}=lv(e.styles,k),L=(K=>ai(K)?(oe=>{const ge=oe.dom.classList,pe=new Array(ge.length);for(let we=0;we<ge.length;we++){const Se=ge.item(we);Se!==null&&(pe[we]=Se)}return pe})(K):ep(K))(r),F=yt(L,e.classes),U=yt(e.classes,L);return _t(x,K=>xa(r,K)),Sf(r,v),Ml(r,U),si(r,F),_t(N,K=>Zr(r,K)),Sl(r,O),e.innerHtml.fold(()=>{const K=e.domChildren;((oe,ge)=>{wh(oe,ge,(pe,we)=>{const Se=ir(oe,we);return jf(oe,pe,Se),pe})})(r,K)},K=>{xc(r,K)}),(()=>{const K=r,oe=e.value.getOrUndefined();oe!==ql(K)&&Wc(K,oe!=null?oe:"")})(),r},Hm=e=>{const r=(i=>{const c=Ze(i,"behaviours").getOr({});return ne(Dn(c),g=>{const v=c[g];return ue(v)?[v.me]:[]})})(e);return((i,c)=>((g,v)=>{const x=et(v,O=>ti(O.name(),[kt("config"),ct("state",pa)])),k=na("component.behaviours",Jt(x),g.behaviours).fold(O=>{throw new Error(tn(O)+`
Complete spec:
`+JSON.stringify(g,null,2))},Ae);return{list:v,data:so(k,O=>{const N=O.map(L=>({config:L.config,state:L.state.init(L.config)}));return G(N)})}})(i,c))(e,r)},Zf=(e,r)=>{const i=()=>U,c=uo(vh),g=pc((K=>na("custom.definition",av,K))(e)),v=Hm(e),x=(K=>K.list)(v),k=(K=>K.data)(v),O=((K,oe,ge)=>{const pe={...(we=K).dom,uid:we.uid,domChildren:et(we.components,Ye=>Ye.element)};var we;const Se=(Ye=>Ye.domModification.fold(()=>hi({}),hi))(K),he={"alloy.base.modification":Se},Ee=oe.length>0?((Ye,gt,Xt,Wt)=>{const Qt={...gt};_t(Xt,Co=>{Qt[Co.name()]=Co.exhibit(Ye,Wt)});const Ln=Nl(Qt,(Co,Lr)=>({name:Co,modification:Lr})),to=Co=>dt(Co,(Lr,aa)=>({...aa.modification,...Lr}),{}),Vn=dt(Ln.classes,(Co,Lr)=>Lr.modification.concat(Co),[]),fo=to(Ln.attributes),_o=to(Ln.styles);return hi({classes:Vn,attributes:fo,styles:_o})})(ge,he,oe,pe):Se;return Te=pe,He=Ee,{...Te,attributes:{...Te.attributes,...He.attributes},styles:{...Te.styles,...He.styles},classes:Te.classes.concat(He.classes)};var Te,He})(g,x,k),N=((K,oe)=>{const ge=oe.filter(pe=>Rn(pe)===K.tag&&!(we=>we.innerHtml.isSome()&&we.domChildren.length>0)(K)&&!(we=>Lt(we.dom,Yu))(pe)).bind(pe=>((we,Se)=>{try{const he=bb(we,Se);return H.some(he)}catch{return H.none()}})(K,pe)).getOrThunk(()=>(pe=>{const we=Ra(pe.tag);Sf(we,pe.attributes),Ml(we,pe.classes),Sl(we,pe.styles),pe.innerHtml.each(he=>xc(we,he));const Se=pe.domChildren;return Uu(we,Se),pe.value.each(he=>{Wc(we,he)}),we})(K));return ov(ge,K.uid),ge})(O,r),L=((K,oe,ge)=>{const pe={"alloy.base.behaviour":sv(K)};return((we,Se,he,Ee)=>{const Te=((He,Ye,gt)=>{const Xt={...gt,...bw(Ye,He)};return Nl(Xt,la)})(we,he,Ee);return _s(Te,Se)})(ge,K.eventOrder,oe,pe).getOrDie()})(g,x,k),F=uo(g.components),U={uid:e.uid,getSystem:c.get,config:K=>{const oe=k;return(ke(oe[K.name()])?oe[K.name()]:()=>{throw new Error("Could not find "+K.name()+" in "+JSON.stringify(e,null,2))})()},hasConfigured:K=>ke(k[K.name()]),spec:e,readState:K=>k[K]().map(oe=>oe.state.readState()).getOr("not enabled"),getApis:()=>g.apis,connect:K=>{c.set(K)},disconnect:()=>{c.set(Bm(i))},element:N,syncComponents:()=>{const K=Lo(N),oe=ne(K,ge=>c.get().getByDom(ge).fold(()=>[],rn));F.set(oe)},components:F.get,events:L};return U},Ea=e=>{const r=wi(e);return yb({element:r})},yb=e=>{const r=Ci("external.component",cr([kt("element"),Vr("uid")]),e),i=uo(Bm()),c=r.uid.getOrThunk(()=>Xg("external"));ov(r.element,c);const g={uid:c,getSystem:i.get,config:H.none,hasConfigured:Ke,connect:v=>{i.set(v)},disconnect:()=>{i.set(Bm(()=>g))},getApis:()=>({}),element:r.element,spec:e,readState:G("No state"),syncComponents:J,components:G([]),events:{}};return bh(g)},Bd=Xg,xh=(e,r)=>Jg(e).getOrThunk(()=>((i,c)=>{const{events:g,...v}=Uf(i),x=((O,N)=>{const L=Ze(O,"components").getOr([]);return N.fold(()=>et(L,Cs),F=>et(L,(U,K)=>xh(U,ir(F,K))))})(v,c),k={...v,events:{...ri,...g},components:x};return sr.value(Zf(k,c))})((i=>Lt(i,"uid"))(e)?e:{uid:Bd(""),...e},r).getOrDie()),Cs=e=>xh(e,H.none()),Kl=bh;var Fd,zm=(e,r,i,c,g)=>e(i,c)?H.some(i):ke(g)&&g(i)?H.none():r(i,c,g);const Vm=(e,r,i)=>{let c=e.dom;const g=ke(i)?i:Ke;for(;c.parentNode;){c=c.parentNode;const v=Pe(c);if(r(v))return H.some(v);if(g(v))break}return H.none()},cv=(e,r,i)=>zm((c,g)=>g(c),Vm,e,r,i),kc=(e,r,i)=>cv(e,r,i).isSome(),Sc=(e,r,i)=>Vm(e,c=>ma(c,r),i),$m=(e,r)=>((i,c)=>ze(i.dom.childNodes,g=>{return v=Pe(g),ma(v,r);var v}).map(Pe))(e),as=(e,r)=>((i,c)=>{const g=c===void 0?document:c.dom;return cs(g)?H.none():H.from(g.querySelector(i)).map(Pe)})(r,e),yl=(e,r,i)=>zm((c,g)=>ma(c,g),Sc,e,r,i),Yl="aria-controls",yw=()=>{const e=Gn(Yl);return{id:e,link:r=>{yo(r,Yl,e)},unlink:r=>{xa(r,Yl)}}},Um=(e,r)=>kc(r,i=>Mo(i,e.element),Ke)||((i,c)=>(g=>cv(g,v=>{if(!Qn(v))return!1;const x=wa(v,"id");return x!==void 0&&x.indexOf(Yl)>-1}).bind(v=>{const x=wa(v,"id"),k=ka(v);return as(k,`[${Yl}="${x}"]`)}))(c).exists(g=>Um(i,g)))(e,r);var jm;(function(e){e[e.STOP=0]="STOP",e[e.NORMAL=1]="NORMAL",e[e.LOGGING=2]="LOGGING"})(jm||(jm={}));const uv=uo({}),_h=["alloy/data/Fields","alloy/debugging/Debugging"],Ui=(e,r,i)=>((c,g,v)=>{switch(Ze(uv.get(),c).orThunk(()=>{const x=Dn(uv.get());return Hn(x,k=>c.indexOf(k)>-1?H.some(uv.get()[k]):H.none())}).getOr(jm.NORMAL)){case jm.NORMAL:return v(Zm());case jm.LOGGING:{const x=((O,N)=>{const L=[],F=new Date().getTime();return{logEventCut:(U,K,oe)=>{L.push({outcome:"cut",target:K,purpose:oe})},logEventStopped:(U,K,oe)=>{L.push({outcome:"stopped",target:K,purpose:oe})},logNoParent:(U,K,oe)=>{L.push({outcome:"no-parent",target:K,purpose:oe})},logEventNoHandlers:(U,K)=>{L.push({outcome:"no-handlers-left",target:K})},logEventResponse:(U,K,oe)=>{L.push({outcome:"response",purpose:oe,target:K})},write:()=>{const U=new Date().getTime();pn(["mousemove","mouseover","mouseout",Zg()],O)||console.log(O,{event:O,time:U-F,target:N.dom,sequence:et(L,K=>pn(["cut","stopped","response"],K.outcome)?"{"+K.purpose+"} "+K.outcome+" at ("+_c(K.target)+")":K.outcome)})}}})(c,g),k=v(x);return x.write(),k}case jm.STOP:return!0}})(e,r,i),Zm=G({logEventCut:J,logEventStopped:J,logNoParent:J,logEventNoHandlers:J,logEventResponse:J,write:J}),dv=G([kt("menu"),kt("selectedMenu")]),Wf=G([kt("item"),kt("selectedItem")]);G(Jt(Wf().concat(dv())));const wb=G(Jt(Wf())),ww=$i("initSize",[kt("numColumns"),kt("numRows")]),Ju=()=>$i("markers",[kt("backgroundMenu")].concat(dv()).concat(Wf())),pu=e=>$i("markers",et(e,kt)),Wm=(e,r,i)=>((()=>{const c=new Error;if(c.stack!==void 0){const g=c.stack.split(`
`);ze(g,v=>v.indexOf("alloy")>0&&!Sn(_h,x=>v.indexOf(x)>-1)).getOr("unknown")}})(),Ja(r,r,i,Rf(c=>sr.value((...g)=>c.apply(void 0,g))))),pr=e=>Wm(0,e,de(J)),ji=e=>Wm(0,e,de(H.none)),Hd=e=>Wm(0,e,{tag:"required",process:{}}),hu=e=>Wm(0,e,{tag:"required",process:{}}),Wr=(e,r)=>Qs(e,G(r)),St=e=>Qs(e,Ae),Gm=G(ww),$s=(e,r,i,c,g,v,x,k=!1)=>({x:e,y:r,bubble:i,direction:c,placement:g,restriction:v,label:`${x}-${g}`,alwaysFit:k}),Zi=Uc([{southeast:[]},{southwest:[]},{northeast:[]},{northwest:[]},{south:[]},{north:[]},{east:[]},{west:[]}]),Ch=Zi.southeast,mv=Zi.southwest,fv=Zi.northeast,kh=Zi.northwest,xb=Zi.south,_b=Zi.north,Cb=Zi.east,kb=Zi.west,zd=(e,r,i,c)=>{const g=e+r;return g>c?i:g<i?c:g},Rl=(e,r,i)=>Math.min(Math.max(e,r),i),Us=(e,r)=>Ct(["left","right","top","bottom"],i=>Ze(r,i).map(c=>((g,v)=>{switch(v){case 1:return g.x;case 0:return g.x+g.width;case 2:return g.y;case 3:return g.y+g.height}})(e,c))),Vd="layout",Sb=e=>e.x,Eb=(e,r)=>e.x+e.width/2-r.width/2,Ob=(e,r)=>e.x+e.width-r.width,gv=(e,r)=>e.y-r.height,pv=e=>e.y+e.height,hv=(e,r)=>e.y+e.height/2-r.height/2,ii=(e,r,i)=>$s(Sb(e),pv(e),i.southeast(),Ch(),"southeast",Us(e,{left:1,top:3}),Vd),li=(e,r,i)=>$s(Ob(e,r),pv(e),i.southwest(),mv(),"southwest",Us(e,{right:0,top:3}),Vd),Oa=(e,r,i)=>$s(Sb(e),gv(e,r),i.northeast(),fv(),"northeast",Us(e,{left:1,bottom:2}),Vd),ss=(e,r,i)=>$s(Ob(e,r),gv(e,r),i.northwest(),kh(),"northwest",Us(e,{right:0,bottom:2}),Vd),Dl=(e,r,i)=>$s(Eb(e,r),gv(e,r),i.north(),_b(),"north",Us(e,{bottom:2}),Vd),$a=(e,r,i)=>$s(Eb(e,r),pv(e),i.south(),xb(),"south",Us(e,{top:3}),Vd),tp=(e,r,i)=>$s((c=>c.x+c.width)(e),hv(e,r),i.east(),Cb(),"east",Us(e,{left:0}),Vd),ks=(e,r,i)=>$s(((c,g)=>c.x-g.width)(e,r),hv(e,r),i.west(),kb(),"west",Us(e,{right:1}),Vd),Tb=()=>[ii,li,Oa,ss,$a,Dl,tp,ks],vv=()=>[li,ii,ss,Oa,$a,Dl,tp,ks],bv=()=>[Oa,ss,ii,li,Dl,$a],Ab=()=>[ss,Oa,li,ii,Dl,$a],yv=()=>[ii,li,Oa,ss,$a,Dl],qm=()=>[li,ii,ss,Oa,$a,Dl];var Zn=Object.freeze({__proto__:null,events:e=>Nr([jt(Dd(),(r,i)=>{const c=e.channels,g=Dn(c),v=i,x=((k,O)=>O.universal?k:Ht(k,N=>pn(O.channels,N)))(g,v);_t(x,k=>{const O=c[k],N=O.schema,L=Ci("channel["+k+`] data
Receiver: `+_c(r.element),N,v.data);O.onReceive(r,L)})})])}),$d=[al("channels",gc(sr.value,cr([Hd("onReceive"),ct("schema",Jn())])))];const Sh=(e,r,i)=>ev((c,g)=>{i(c,e,r)}),Nb=e=>({key:e,value:void 0}),xw=(e,r,i,c,g,v,x)=>{const k=L=>ho(L,i)?L[i]():H.none(),O=so(g,(L,F)=>((U,K,oe)=>((ge,pe,we)=>{const Se=we.toString(),he=Se.indexOf(")")+1,Ee=Se.indexOf("("),Te=Se.substring(Ee+1,he-1).split(/,\s*/);return ge.toFunctionAnnotation=()=>({name:pe,parameters:rv(Te.slice(0,1).concat(Te.slice(3)))}),ge})((ge,...pe)=>{const we=[ge].concat(pe);return ge.config({name:G(U)}).fold(()=>{throw new Error("We could not find any behaviour configuration for: "+U+". Using API: "+oe)},Se=>{const he=Array.prototype.slice.call(we,1);return K.apply(void 0,[ge,Se.config,Se.state].concat(he))})},oe,K))(i,L,F)),N={...so(v,(L,F)=>Ld(L,F)),...O,revoke:Pt(Nb,i),config:L=>{const F=Ci(i+"-config",e,L);return{key:i,value:{config:F,me:N,configAsRaw:ws(()=>Ci(i+"-config",e,L)),initialConfig:L,state:x}}},schema:G(r),exhibit:(L,F)=>Zt(k(L),Ze(c,"exhibit"),(U,K)=>K(F,U.config,U.state)).getOrThunk(()=>hi({})),name:G(i),handlers:L=>k(L).map(F=>Ze(c,"events").getOr(()=>({}))(F.config,F.state)).getOr({})};return N},ln=e=>du(e),pk=cr([kt("fields"),kt("name"),ct("active",{}),ct("apis",{}),ct("state",pa),ct("extra",{})]),js=e=>{const r=Ci("Creating behaviour: "+e.name,pk,e);return((i,c,g,v,x,k)=>{const O=cr(i),N=ti(c,[(L=i,Tl("config",cr(L)))]);var L;return xw(O,N,c,g,v,x,k)})(r.fields,r.name,r.active,r.apis,r.extra,r.state)},Mb=cr([kt("branchKey"),kt("branches"),kt("name"),ct("active",{}),ct("apis",{}),ct("state",pa),ct("extra",{})]),Rb=e=>{const r=Ci("Creating behaviour: "+e.name,Mb,e);return((i,c,g,v,x,k)=>{const O=i,N=ti(c,[Tl("config",i)]);return xw(O,N,c,g,v,x,k)})(vl(r.branchKey,r.branches),r.name,r.active,r.apis,r.extra,r.state)},ll=G(void 0),Oi=js({fields:$d,name:"receiving",active:Zn});var wv=Object.freeze({__proto__:null,exhibit:(e,r)=>hi({classes:[],styles:r.useFixed()?{}:{position:"relative"}})});const wl=e=>e.dom.focus(),Eh=e=>e.dom.blur(),np=e=>{const r=ka(e).dom;return e.dom===r.activeElement},Qu=(e=Em())=>H.from(e.dom.activeElement).map(Pe),Ec=e=>Qu(ka(e)).filter(r=>e.dom.contains(r.dom)),xv=(e,r)=>{const i=ka(r),c=Qu(i).bind(v=>{const x=k=>Mo(v,k);return x(r)?H.some(r):((k,O)=>{const N=L=>{for(let F=0;F<L.childNodes.length;F++){const U=Pe(L.childNodes[F]);if(O(U))return H.some(U);const K=N(L.childNodes[F]);if(K.isSome())return K}return H.none()};return N(k.dom)})(r,x)}),g=e(r);return c.each(v=>{Qu(i).filter(x=>Mo(x,v)).fold(()=>{wl(v)},J)}),g},Gc=(e,r,i,c,g)=>{const v=x=>x+"px";return{position:e,left:r.map(v),top:i.map(v),right:c.map(v),bottom:g.map(v)}},op=(e,r)=>{an(e,(i=>({...i,position:H.some(i.position)}))(r))},_v=Uc([{none:[]},{relative:["x","y","width","height"]},{fixed:["x","y","width","height"]}]),Cv=(e,r,i,c,g,v)=>{const x=r.rect,k=x.x-i,O=x.y-c,N=g-(k+x.width),L=v-(O+x.height),F=H.some(k),U=H.some(O),K=H.some(N),oe=H.some(L),ge=H.none();return r.direction.fold(()=>Gc(e,F,U,ge,ge),()=>Gc(e,ge,U,K,ge),()=>Gc(e,F,ge,ge,oe),()=>Gc(e,ge,ge,K,oe),()=>Gc(e,F,U,ge,ge),()=>Gc(e,F,ge,ge,oe),()=>Gc(e,F,U,ge,ge),()=>Gc(e,ge,U,K,ge))},kv=(e,r)=>e.fold(()=>{const i=r.rect;return Gc("absolute",H.some(i.x),H.some(i.y),H.none(),H.none())},(i,c,g,v)=>Cv("absolute",r,i,c,g,v),(i,c,g,v)=>Cv("fixed",r,i,c,g,v)),Sv=(e,r)=>{const i=Pt(zc,r),c=e.fold(i,i,()=>{const x=ts();return zc(r).translate(-x.left,-x.top)}),g=el(r),v=dc(r);return ga(c.left,c.top,g,v)},Db=(e,r)=>r.fold(()=>e.fold(Ya,Ya,ga),i=>e.fold(G(i),G(i),()=>{const c=Ib(e,i.x,i.y);return ga(c.left,c.top,i.width,i.height)})),Ib=(e,r,i)=>{const c=vr(r,i);return e.fold(G(c),G(c),()=>{const g=ts();return c.translate(-g.left,-g.top)})};_v.none;const Ev=_v.relative,Pb=_v.fixed,Lb="data-alloy-placement",Ov=e=>qa(e,Lb),Oh=Uc([{fit:["reposition"]},{nofit:["reposition","visibleW","visibleH","isVisible"]}]),hk=(e,r,i,c)=>{const g=e.bubble,v=g.offset,x=((Ee,Te,He)=>{const Ye=(Ln,to)=>Te[Ln].map(Vn=>{const fo=Ln==="top"||Ln==="bottom",_o=fo?He.top:He.left,Co=(Ln==="left"||Ln==="top"?Math.max:Math.min)(Vn,to)+_o;return fo?Rl(Co,Ee.y,Ee.bottom):Rl(Co,Ee.x,Ee.right)}).getOr(to),gt=Ye("left",Ee.x),Xt=Ye("top",Ee.y),Wt=Ye("right",Ee.right),Qt=Ye("bottom",Ee.bottom);return ga(gt,Xt,Wt-gt,Qt-Xt)})(c,e.restriction,v),k=e.x+v.left,O=e.y+v.top,N=ga(k,O,r,i),{originInBounds:L,sizeInBounds:F,visibleW:U,visibleH:K}=((Ee,Te)=>{const{x:He,y:Ye,right:gt,bottom:Xt}=Te,{x:Wt,y:Qt,right:Ln,bottom:to,width:Vn,height:fo}=Ee;return{originInBounds:Wt>=He&&Wt<=gt&&Qt>=Ye&&Qt<=Xt,sizeInBounds:Ln<=gt&&Ln>=He&&to<=Xt&&to>=Ye,visibleW:Math.min(Vn,Wt>=He?gt-Wt:Ln-He),visibleH:Math.min(fo,Qt>=Ye?Xt-Qt:to-Ye)}})(N,x),oe=L&&F,ge=oe?N:((Ee,Te)=>{const{x:He,y:Ye,right:gt,bottom:Xt}=Te,{x:Wt,y:Qt,width:Ln,height:to}=Ee,Vn=Math.max(He,gt-Ln),fo=Math.max(Ye,Xt-to),_o=Rl(Wt,He,Vn),Co=Rl(Qt,Ye,fo),Lr=Math.min(_o+Ln,gt)-_o,aa=Math.min(Co+to,Xt)-Co;return ga(_o,Co,Lr,aa)})(N,x),pe=ge.width>0&&ge.height>0,{maxWidth:we,maxHeight:Se}=((Ee,Te,He)=>{const Ye=G(Te.bottom-He.y),gt=G(He.bottom-Te.y),Xt=((to,Vn,fo,_o)=>to.fold(Vn,Vn,_o,_o,Vn,_o,fo,fo))(Ee,gt,gt,Ye),Wt=G(Te.right-He.x),Qt=G(He.right-Te.x);return{maxWidth:((to,Vn,fo,_o)=>to.fold(Vn,_o,Vn,_o,fo,fo,Vn,_o))(Ee,Qt,Qt,Wt),maxHeight:Xt}})(e.direction,ge,c),he={rect:ge,maxHeight:Se,maxWidth:we,direction:e.direction,placement:e.placement,classes:{on:g.classesOn,off:g.classesOff},layout:e.label,testY:O};return oe||e.alwaysFit?Oh.fit(he):Oh.nofit(he,U,K,pe)},Th=e=>{const r=uo(H.none()),i=()=>r.get().each(e);return{clear:()=>{i(),r.set(H.none())},isSet:()=>r.get().isSome(),get:()=>r.get(),set:c=>{i(),r.set(H.some(c))}}},Gf=()=>Th(e=>e.unbind()),ha=()=>{const e=Th(J);return{...e,on:r=>e.get().each(r)}},Wi=nn,Ds=(e,r,i)=>((c,g,v,x)=>Vu(c,g,v,x,!1))(e,r,Wi,i),Bb=(e,r,i)=>((c,g,v,x)=>Vu(c,g,v,x,!0))(e,r,Wi,i),_w=zu,Fb=["top","bottom","right","left"],Ah="data-alloy-transition-timer",Km=(e,r,i,c,g,v)=>{const x=((k,O,N)=>N.exists(L=>{const F=k.mode;return F==="all"||L[F]!==O[F]}))(c,g,v);if(x||((k,O)=>Fm(k,O.classes))(e,c)){Do(e,"position",i.position);const k=Sv(r,e),O=kv(r,{...g,rect:k}),N=Ct(Fb,L=>O[L]);((L,F)=>{const U=K=>parseFloat(K).toFixed(3);return rt(F,(K,oe)=>!((ge,pe,we=ye)=>Zt(ge,pe,we).getOr(ge.isNone()&&pe.isNone()))(L[oe].map(U),K.map(U))).isSome()})(i,N)&&(an(e,N),x&&((L,F)=>{Ml(L,F.classes),qa(L,Ah).each(U=>{clearTimeout(parseInt(U,10)),xa(L,Ah)}),((U,K)=>{const oe=Gf(),ge=Gf();let pe;const we=Te=>{var He;const Ye=(He=Te.raw.pseudoElement)!==null&&He!==void 0?He:"";return Mo(Te.target,U)&&!bs(Ye)&&pn(Fb,Te.raw.propertyName)},Se=Te=>{if(le(Te)||we(Te)){oe.clear(),ge.clear();const He=Te==null?void 0:Te.raw.type;(le(He)||He===Dm())&&(clearTimeout(pe),xa(U,Ah),si(U,K.classes))}},he=Ds(U,yc(),Te=>{we(Te)&&(he.unbind(),oe.set(Ds(U,Dm(),Se)),ge.set(Ds(U,Bf(),Se)))}),Ee=(Te=>{const He=Wt=>{const Qt=Fa(Te,Wt).split(/\s*,\s*/);return Ht(Qt,bs)},Ye=Wt=>{if(S(Wt)&&/^[\d.]+/.test(Wt)){const Qt=parseFloat(Wt);return Xr(Wt,"ms")?Qt:1e3*Qt}return 0},gt=He("transition-delay"),Xt=He("transition-duration");return Et(Xt,(Wt,Qt,Ln)=>{const to=Ye(gt[Ln])+Ye(Qt);return Math.max(Wt,to)},0)})(U);requestAnimationFrame(()=>{pe=setTimeout(Se,Ee+17),yo(U,Ah,pe)})})(L,F)})(e,c),Lu(e))}else si(e,c.classes)},Cw=(e,r)=>{((i,c)=>{const g=xm.max(i,c,["margin-top","border-top-width","padding-top","padding-bottom","border-bottom-width","margin-bottom"]);Do(i,"max-height",g+"px")})(e,Math.floor(r))},qf=G((e,r)=>{Cw(e,r),Sl(e,{"overflow-x":"hidden","overflow-y":"auto"})}),rp=G((e,r)=>{Cw(e,r)}),Kf=(e,r,i)=>e[r]===void 0?i:e[r],Hb=(e,r,i,c)=>{const g=((v,x,k,O)=>{Zr(x,"max-height"),Zr(x,"max-width");const N={width:el(L=x),height:dc(L)};var L;return((F,U,K,oe,ge,pe)=>{const we=oe.width,Se=oe.height,he=(Ee,Te,He,Ye,gt)=>{const Xt=Ee(K,oe,ge,F,pe),Wt=hk(Xt,we,Se,pe);return Wt.fold(G(Wt),(Qt,Ln,to,Vn)=>(gt===Vn?to>Ye||Ln>He:!gt&&Vn)?Wt:Oh.nofit(Te,He,Ye,gt))};return Et(U,(Ee,Te)=>{const He=Pt(he,Te);return Ee.fold(G(Ee),He)},Oh.nofit({rect:K,maxHeight:oe.height,maxWidth:oe.width,direction:Ch(),placement:"southeast",classes:{on:[],off:[]},layout:"none",testY:K.y},-1,-1,!1)).fold(Ae,Ae)})(x,O.preference,v,N,k,O.bounds)})(e,r,i,c);return((v,x,k)=>{const O=kv(k.origin,x);k.transition.each(N=>{Km(v,k.origin,O,N,x,k.lastPlacement)}),op(v,O)})(r,g,c),((v,x)=>{((k,O)=>{yo(k,Lb,O)})(v,x.placement)})(r,g),((v,x)=>{const k=x.classes;si(v,k.off),Ml(v,k.on)})(r,g),((v,x,k)=>{(0,k.maxHeightFunction)(v,x.maxHeight)})(r,g,c),((v,x,k)=>{(0,k.maxWidthFunction)(v,x.maxWidth)})(r,g,c),{layout:g.layout,placement:g.placement}},Nh=["valignCentre","alignLeft","alignRight","alignCentre","top","bottom","left","right","inset"],Yf=(e,r,i,c=1)=>{const g=e*c,v=r*c,x=O=>Ze(i,O).getOr([]),k=(O,N,L)=>{const F=yt(Nh,L);return{offset:vr(O,N),classesOn:ne(L,x),classesOff:ne(F,x)}};return{southeast:()=>k(-e,r,["top","alignLeft"]),southwest:()=>k(e,r,["top","alignRight"]),south:()=>k(-e/2,r,["top","alignCentre"]),northeast:()=>k(-e,-r,["bottom","alignLeft"]),northwest:()=>k(e,-r,["bottom","alignRight"]),north:()=>k(-e/2,-r,["bottom","alignCentre"]),east:()=>k(e,-r/2,["valignCentre","left"]),west:()=>k(-e,-r/2,["valignCentre","right"]),insetNortheast:()=>k(g,v,["top","alignLeft","inset"]),insetNorthwest:()=>k(-g,v,["top","alignRight","inset"]),insetNorth:()=>k(-g/2,v,["top","alignCentre","inset"]),insetSoutheast:()=>k(g,-v,["bottom","alignLeft","inset"]),insetSouthwest:()=>k(-g,-v,["bottom","alignRight","inset"]),insetSouth:()=>k(-g/2,-v,["bottom","alignCentre","inset"]),insetEast:()=>k(-g,-v/2,["valignCentre","right","inset"]),insetWest:()=>k(g,-v/2,["valignCentre","left","inset"])}},Mh=()=>Yf(0,0,{}),Xf=Ae,ap=(e,r)=>i=>zb(i)==="rtl"?r:e,zb=e=>Fa(e,"direction")==="rtl"?"rtl":"ltr";var ed;(function(e){e.TopToBottom="toptobottom",e.BottomToTop="bottomtotop"})(ed||(ed={}));const Ym="data-alloy-vertical-dir",Rh=e=>kc(e,r=>Qn(r)&&wa(r,"data-alloy-vertical-dir")===ed.BottomToTop),Xm=()=>ti("layouts",[kt("onLtr"),kt("onRtl"),Vr("onBottomLtr"),Vr("onBottomRtl")]),Dh=(e,r,i,c,g,v,x)=>{const k=x.map(Rh).getOr(!1),O=r.layouts.map(U=>U.onLtr(e)),N=r.layouts.map(U=>U.onRtl(e)),L=k?r.layouts.bind(U=>U.onBottomLtr.map(K=>K(e))).or(O).getOr(g):O.getOr(i),F=k?r.layouts.bind(U=>U.onBottomRtl.map(K=>K(e))).or(N).getOr(v):N.getOr(c);return ap(L,F)(e)};var Tv=[kt("hotspot"),Vr("bubble"),ct("overrides",{}),Xm(),Wr("placement",(e,r,i)=>{const c=r.hotspot,g=Sv(i,c.element),v=Dh(e.element,r,yv(),qm(),bv(),Ab(),H.some(r.hotspot.element));return H.some(Xf({anchorBox:g,bubble:r.bubble.getOr(Mh()),overrides:r.overrides,layouts:v}))})],kw=[kt("x"),kt("y"),ct("height",0),ct("width",0),ct("bubble",Mh()),ct("overrides",{}),Xm(),Wr("placement",(e,r,i)=>{const c=Ib(i,r.x,r.y),g=ga(c.left,c.top,r.width,r.height),v=Dh(e.element,r,Tb(),vv(),Tb(),vv(),H.none());return H.some(Xf({anchorBox:g,bubble:r.bubble,overrides:r.overrides,layouts:v}))})];const Av=Uc([{screen:["point"]},{absolute:["point","scrollLeft","scrollTop"]}]),Ih=e=>e.fold(Ae,(r,i,c)=>r.translate(-i,-c)),Nv=e=>e.fold(Ae,Ae),Vb=e=>Et(e,(r,i)=>r.translate(i.left,i.top),vr(0,0)),$b=e=>{const r=et(e,Nv);return Vb(r)},Mv=Av.screen,Sw=Av.absolute,Jf=(e,r,i)=>{const c=$e(e.element),g=ts(c),v=((x,k,O)=>{const N=Yt(O.root).dom;return H.from(N.frameElement).map(Pe).filter(L=>{const F=$e(L),U=$e(x.element);return Mo(F,U)}).map(za)})(e,0,i).getOr(g);return Sw(v,g.left,g.top)},Ph=(e,r,i,c)=>{const g=Mv(vr(e,r));return H.some(((v,x,k)=>({point:v,width:x,height:k}))(g,i,c))},Rv=(e,r,i,c,g)=>e.map(v=>{const x=[r,v.point],k=(O=()=>$b(x),N=()=>$b(x),L=()=>(he=>{const Ee=et(he,Ih);return Vb(Ee)})(x),c.fold(O,N,L));var O,N,L;const F=(ge=k.left,pe=k.top,we=v.width,Se=v.height,{x:ge,y:pe,width:we,height:Se}),U=i.showAbove?bv():yv(),K=i.showAbove?Ab():qm(),oe=Dh(g,i,U,K,U,K,H.none());var ge,pe,we,Se;return Xf({anchorBox:F,bubble:i.bubble.getOr(Mh()),overrides:i.overrides,layouts:oe})});var vk=[kt("node"),kt("root"),Vr("bubble"),Xm(),ct("overrides",{}),ct("showAbove",!1),Wr("placement",(e,r,i)=>{const c=Jf(e,0,r);return r.node.filter(Fs).bind(g=>{const v=g.dom.getBoundingClientRect(),x=Ph(v.left,v.top,v.width,v.height),k=r.node.getOr(e.element);return Rv(x,c,r,i,k)})})];const sp=(e,r,i,c)=>({start:e,soffset:r,finish:i,foffset:c}),ip=Uc([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),Ew=(ip.before,ip.on,ip.after,e=>e.fold(Ae,Ae,Ae)),Qf=Uc([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),Ud={domRange:Qf.domRange,relative:Qf.relative,exact:Qf.exact,exactFromRange:e=>Qf.exact(e.start,e.soffset,e.finish,e.foffset),getWin:e=>{const r=(i=>i.match({domRange:c=>Pe(c.startContainer),relative:(c,g)=>Ew(c),exact:(c,g,v,x)=>c}))(e);return Yt(r)},range:sp},Ub=(e,r,i)=>{const c=e.document.createRange();var g;return g=c,r.fold(v=>{g.setStartBefore(v.dom)},(v,x)=>{g.setStart(v.dom,x)},v=>{g.setStartAfter(v.dom)}),((v,x)=>{x.fold(k=>{v.setEndBefore(k.dom)},(k,O)=>{v.setEnd(k.dom,O)},k=>{v.setEndAfter(k.dom)})})(c,i),c},jb=(e,r,i,c,g)=>{const v=e.document.createRange();return v.setStart(r.dom,i),v.setEnd(c.dom,g),v},jd=e=>({left:e.left,top:e.top,right:e.right,bottom:e.bottom,width:e.width,height:e.height}),lp=Uc([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),Ow=(e,r,i)=>r(Pe(i.startContainer),i.startOffset,Pe(i.endContainer),i.endOffset),Dv=(e,r)=>((i,c)=>{const g=((v,x)=>x.match({domRange:k=>({ltr:G(k),rtl:H.none}),relative:(k,O)=>({ltr:ws(()=>Ub(v,k,O)),rtl:ws(()=>H.some(Ub(v,O,k)))}),exact:(k,O,N,L)=>({ltr:ws(()=>jb(v,k,O,N,L)),rtl:ws(()=>H.some(jb(v,N,L,k,O)))})}))(i,c);return((v,x)=>{const k=x.ltr();return k.collapsed?x.rtl().filter(O=>O.collapsed===!1).map(O=>lp.rtl(Pe(O.endContainer),O.endOffset,Pe(O.startContainer),O.startOffset)).getOrThunk(()=>Ow(0,lp.ltr,k)):Ow(0,lp.ltr,k)})(0,g)})(e,r).match({ltr:(i,c,g,v)=>{const x=e.document.createRange();return x.setStart(i.dom,c),x.setEnd(g.dom,v),x},rtl:(i,c,g,v)=>{const x=e.document.createRange();return x.setStart(g.dom,v),x.setEnd(i.dom,c),x}});lp.ltr,lp.rtl;const Zb=(e,r,i)=>Ht(((c,g)=>{const v=ke(g)?g:Ke;let x=c.dom;const k=[];for(;x.parentNode!==null&&x.parentNode!==void 0;){const O=x.parentNode,N=Pe(O);if(k.push(N),v(N)===!0)break;x=O}return k})(e,i),r),Ti=(e,r)=>((i,c)=>{const g=c===void 0?document:c.dom;return cs(g)?[]:et(g.querySelectorAll(i),Pe)})(r,e),Tw=e=>{if(e.rangeCount>0){const r=e.getRangeAt(0),i=e.getRangeAt(e.rangeCount-1);return H.some(sp(Pe(r.startContainer),r.startOffset,Pe(i.endContainer),i.endOffset))}return H.none()},Wb=e=>{if(e.anchorNode===null||e.focusNode===null)return Tw(e);{const r=Pe(e.anchorNode),i=Pe(e.focusNode);return((c,g,v,x)=>{const k=((N,L,F,U)=>{const K=$e(N).dom.createRange();return K.setStart(N.dom,L),K.setEnd(F.dom,U),K})(c,g,v,x),O=Mo(c,v)&&g===x;return k.collapsed&&!O})(r,e.anchorOffset,i,e.focusOffset)?H.some(sp(r,e.anchorOffset,i,e.focusOffset)):Tw(e)}},Gb=(e,r)=>(i=>{const c=i.getClientRects(),g=c.length>0?c[0]:i.getBoundingClientRect();return g.width>0||g.height>0?H.some(g).map(jd):H.none()})(Dv(e,r)),Aw=((e,r)=>{const i=c=>e(c)?H.from(c.dom.nodeValue):H.none();return{get:c=>{if(!e(c))throw new Error("Can only get text value of a text node");return i(c).getOr("")},getOption:i,set:(c,g)=>{if(!e(c))throw new Error("Can only set raw text value of a text node");c.dom.nodeValue=g}}})(fr),Lh=(e,r)=>({element:e,offset:r}),qb=(e,r)=>fr(e)?Lh(e,r):((i,c)=>{const g=Lo(i);if(g.length===0)return Lh(i,c);if(c<g.length)return Lh(g[c],0);{const v=g[g.length-1],x=fr(v)?(k=>Aw.get(k))(v).length:Lo(v).length;return Lh(v,x)}})(e,r),Iv=e=>e.foffset!==void 0,Nw=(e,r)=>r.getSelection.getOrThunk(()=>()=>(i=>(c=>H.from(c.getSelection()))(i).filter(c=>c.rangeCount>0).bind(Wb))(e))().map(i=>{if(Iv(i)){const c=qb(i.start,i.soffset),g=qb(i.finish,i.foffset);return Ud.range(c.element,c.offset,g.element,g.offset)}return i});var bk=[Vr("getSelection"),kt("root"),Vr("bubble"),Xm(),ct("overrides",{}),ct("showAbove",!1),Wr("placement",(e,r,i)=>{const c=Yt(r.root).dom,g=Jf(e,0,r),v=Nw(c,r).bind(k=>{if(Iv(k))return((N,L)=>(F=>{const U=F.getBoundingClientRect();return U.width>0||U.height>0?H.some(U).map(jd):H.none()})(Dv(N,L)))(c,Ud.exactFromRange(k)).orThunk(()=>{const N=wi("\uFEFF");fa(k.start,N);const L=Gb(c,Ud.exact(N,0,N,1));return $l(N),L}).bind(N=>Ph(N.left,N.top,N.width,N.height));{const O=so(k,L=>L.dom.getBoundingClientRect()),N={left:Math.min(O.firstCell.left,O.lastCell.left),right:Math.max(O.firstCell.right,O.lastCell.right),top:Math.min(O.firstCell.top,O.lastCell.top),bottom:Math.max(O.firstCell.bottom,O.lastCell.bottom)};return Ph(N.left,N.top,N.right-N.left,N.bottom-N.top)}}),x=Nw(c,r).bind(k=>Iv(k)?Qn(k.start)?H.some(k.start):Eo(k.start):H.some(k.firstCell)).getOr(e.element);return Rv(v,g,r,i,x)})];const eg="link-layout",Pv=e=>e.x+e.width,cp=(e,r)=>e.x-r.width,Kb=(e,r)=>e.y-r.height+e.height,Mw=e=>e.y,Yb=(e,r,i)=>$s(Pv(e),Mw(e),i.southeast(),Ch(),"southeast",Us(e,{left:0,top:2}),eg),Xb=(e,r,i)=>$s(cp(e,r),Mw(e),i.southwest(),mv(),"southwest",Us(e,{right:1,top:2}),eg),Jm=(e,r,i)=>$s(Pv(e),Kb(e,r),i.northeast(),fv(),"northeast",Us(e,{left:0,bottom:3}),eg),Bh=(e,r,i)=>$s(cp(e,r),Kb(e,r),i.northwest(),kh(),"northwest",Us(e,{right:1,bottom:3}),eg),up=()=>[Yb,Xb,Jm,Bh],Qm=()=>[Xb,Yb,Bh,Jm];var Rw=[kt("item"),Xm(),ct("overrides",{}),Wr("placement",(e,r,i)=>{const c=Sv(i,r.item.element),g=Dh(e.element,r,up(),Qm(),up(),Qm(),H.none());return H.some(Xf({anchorBox:c,bubble:Mh(),overrides:r.overrides,layouts:g}))})],yk=vl("type",{selection:bk,node:vk,hotspot:Tv,submenu:Rw,makeshift:kw});const td=[ki("classes",gr),Zu("mode","all",["all","layout","placement"])],dp=[ct("useFixed",Ke),Vr("getBounds")],wk=[al("anchor",yk),ti("transition",td)],Fh=(e,r,i,c,g,v)=>{const x=Ci("placement.info",Jt(wk),g),k=x.anchor,O=c.element,N=i.get(c.uid);xv(()=>{Do(O,"position","fixed");const L=Kr(O,"visibility");Do(O,"visibility","hidden");const F=r.useFixed()?(()=>{const U=document.documentElement;return Pb(0,0,U.clientWidth,U.clientHeight)})():(U=>{const K=za(U.element),oe=U.element.dom.getBoundingClientRect();return Ev(K.left,K.top,oe.width,oe.height)})(e);k.placement(e,k,F).each(U=>{const K=v.orThunk(()=>r.getBounds.map(wn)),oe=((ge,pe,we,Se,he,Ee)=>((Te,He,Ye,gt,Xt,Wt,Qt,Ln)=>{const to=Kf(Qt,"maxHeightFunction",qf()),Vn=Kf(Qt,"maxWidthFunction",J),fo=Te.anchorBox,_o=Te.origin,Co={bounds:Db(_o,Wt),origin:_o,preference:gt,maxHeightFunction:to,maxWidthFunction:Vn,lastPlacement:Xt,transition:Ln};return Hb(fo,He,Ye,Co)})(((Te,He)=>((Ye,gt)=>({anchorBox:Ye,origin:gt}))(Te,He))(pe.anchorBox,ge),Se.element,pe.bubble,pe.layouts,he,we,pe.overrides,Ee))(F,U,K,c,N,x.transition);i.set(c.uid,oe)}),L.fold(()=>{Zr(O,"visibility")},U=>{Do(O,"visibility",U)}),Kr(O,"left").isNone()&&Kr(O,"top").isNone()&&Kr(O,"right").isNone()&&Kr(O,"bottom").isNone()&&io(Kr(O,"position"),"fixed")&&Zr(O,"position")},O)};var Hh=Object.freeze({__proto__:null,position:(e,r,i,c,g)=>{const v=H.none();Fh(e,r,i,c,g,v)},positionWithinBounds:Fh,getMode:(e,r,i)=>r.useFixed()?"fixed":"absolute",reset:(e,r,i,c)=>{const g=c.element;_t(["position","left","right","top","bottom"],v=>Zr(g,v)),(v=>{xa(v,Lb)})(g),i.clear(c.uid)}});const Ai=js({fields:dp,name:"positioning",active:wv,apis:Hh,state:Object.freeze({__proto__:null,init:()=>{let e={};return il({readState:()=>e,clear:r=>{ue(r)?delete e[r]:e={}},set:(r,i)=>{e[r]=i},get:r=>Ze(e,r)})}})}),mp=e=>e.getSystem().isConnected(),nd=e=>{Pr(e,Vf());const r=e.components();_t(r,nd)},od=e=>{const r=e.components();_t(r,od),Pr(e,Gl())},Jb=(e,r)=>{e.getSystem().addToWorld(r),Fs(e.element)&&od(r)},fp=e=>{nd(e),e.getSystem().removeFromWorld(e)},Dw=(e,r)=>{zi(e.element,r.element)},Zd=(e,r)=>{Lv(e,r,zi)},Lv=(e,r,i)=>{e.getSystem().addToWorld(r),i(e.element,r.element),Fs(e.element)&&od(r),e.syncComponents()},zh=e=>{nd(e),$l(e.element),e.getSystem().removeFromWorld(e)},Xl=e=>{const r=dn(e.element).bind(i=>e.getSystem().getByDom(i).toOptional());zh(e),r.each(i=>{i.syncComponents()})},Qb=e=>{const r=e.components();_t(r,zh),fc(e.element),e.syncComponents()},Vh=(e,r)=>{ef(e,r,zi)},rd=(e,r)=>{ef(e,r,$u)},ef=(e,r,i)=>{i(e,r.element);const c=Lo(r.element);_t(c,g=>{r.getByDom(g).each(od)})},Wd=e=>{const r=Lo(e.element);_t(r,i=>{e.getByDom(i).each(nd)}),$l(e.element)},tf=(e,r,i,c)=>{i.get().each(x=>{Qb(e)});const g=r.getAttachPoint(e);Zd(g,e);const v=e.getSystem().build(c);return Zd(e,v),i.set(v),v},Gd=(e,r,i,c)=>{const g=tf(e,r,i,c);return r.onOpen(e,g),g},vu=(e,r,i)=>{i.get().each(c=>{Qb(e),Xl(e),r.onClose(e,c),i.clear()})},Bv=(e,r,i)=>i.isOpen(),Fv=(e,r,i)=>{const c=r.getAttachPoint(e);Do(e.element,"position",Ai.getMode(c)),((g,v,x,k)=>{Kr(g.element,v).fold(()=>{xa(g.element,x)},O=>{yo(g.element,x,O)}),Do(g.element,v,"hidden")})(e,"visibility",r.cloakVisibilityAttr)},Iw=(e,r,i)=>{(c=>Sn(["top","left","right","bottom"],g=>Kr(c,g).isSome()))(e.element)||Zr(e.element,"position"),((c,g,v)=>{qa(c.element,v).fold(()=>Zr(c.element,g),x=>Do(c.element,g,x))})(e,"visibility",r.cloakVisibilityAttr)};var Pw=Object.freeze({__proto__:null,cloak:Fv,decloak:Iw,open:Gd,openWhileCloaked:(e,r,i,c,g)=>{Fv(e,r),Gd(e,r,i,c),g(),Iw(e,r)},close:vu,isOpen:Bv,isPartOf:(e,r,i,c)=>Bv(0,0,i)&&i.get().exists(g=>r.isPartOf(e,g,c)),getState:(e,r,i)=>i.get(),setContent:(e,r,i,c)=>i.get().map(()=>tf(e,r,i,c))}),ad=Object.freeze({__proto__:null,events:(e,r)=>Nr([jt(Ma(),(i,c)=>{vu(i,e,r)})])}),qd=[pr("onOpen"),pr("onClose"),kt("isPartOf"),kt("getAttachPoint"),ct("cloakVisibilityAttr","data-precloak-visibility")],$h=Object.freeze({__proto__:null,init:()=>{const e=ha(),r=G("not-implemented");return il({readState:r,isOpen:e.isSet,clear:e.clear,set:e.set,get:e.get})}});const br=js({fields:qd,name:"sandboxing",active:ad,apis:Pw,state:$h}),Is=G("dismiss.popups"),Il=G("reposition.popups"),Kd=G("mouse.released"),Hv=cr([ct("isExtraPart",Ke),ti("fireEventInstead",[ct("event",Pm())])]),ms=e=>{const r=Ci("Dismissal",Hv,e);return{[Is()]:{schema:cr([kt("target")]),onReceive:(i,c)=>{br.isOpen(i)&&(br.isPartOf(i,c.target)||r.isExtraPart(i,c.target)||r.fireEventInstead.fold(()=>br.close(i),g=>Pr(i,g.event)))}}}},xk=cr([ti("fireEventInstead",[ct("event",Gg())]),Ol("doReposition")]),qc=e=>{const r=Ci("Reposition",xk,e);return{[Il()]:{onReceive:i=>{br.isOpen(i)&&r.fireEventInstead.fold(()=>r.doReposition(i),c=>Pr(i,c.event))}}}},zv=(e,r,i)=>{r.store.manager.onLoad(e,r,i)},Vv=(e,r,i)=>{r.store.manager.onUnload(e,r,i)};var tg=Object.freeze({__proto__:null,onLoad:zv,onUnload:Vv,setValue:(e,r,i,c)=>{r.store.manager.setValue(e,r,i,c)},getValue:(e,r,i)=>r.store.manager.getValue(e,r,i),getState:(e,r,i)=>i}),ey=Object.freeze({__proto__:null,events:(e,r)=>{const i=e.resetOnDom?[ia((c,g)=>{zv(c,e,r)}),pi((c,g)=>{Vv(c,e,r)})]:[Sh(e,r,zv)];return Nr(i)}});const Uh=()=>{const e=uo(null);return il({set:e.set,get:e.get,isNotSet:()=>e.get()===null,clear:()=>{e.set(null)},readState:()=>({mode:"memory",value:e.get()})})},gp=()=>{const e=uo({}),r=uo({});return il({readState:()=>({mode:"dataset",dataByValue:e.get(),dataByText:r.get()}),lookup:i=>Ze(e.get(),i).orThunk(()=>Ze(r.get(),i)),update:i=>{const c=e.get(),g=r.get(),v={},x={};_t(i,k=>{v[k.value]=k,Ze(k,"meta").each(O=>{Ze(O,"text").each(N=>{x[N]=k})})}),e.set({...c,...v}),r.set({...g,...x})},clear:()=>{e.set({}),r.set({})}})};var $v=Object.freeze({__proto__:null,memory:Uh,dataset:gp,manual:()=>il({readState:J}),init:e=>e.store.manager.state(e)});const jh=(e,r,i,c)=>{const g=r.store;i.update([c]),g.setValue(e,c),r.onSetValue(e,c)};var bu=[Vr("initialValue"),kt("getFallbackEntry"),kt("getDataKey"),kt("setValue"),Wr("manager",{setValue:jh,getValue:(e,r,i)=>{const c=r.store,g=c.getDataKey(e);return i.lookup(g).getOrThunk(()=>c.getFallbackEntry(g))},onLoad:(e,r,i)=>{r.store.initialValue.each(c=>{jh(e,r,i,c)})},onUnload:(e,r,i)=>{i.clear()},state:gp})],Uv=[kt("getValue"),ct("setValue",J),Vr("initialValue"),Wr("manager",{setValue:(e,r,i,c)=>{r.store.setValue(e,c),r.onSetValue(e,c)},getValue:(e,r,i)=>r.store.getValue(e),onLoad:(e,r,i)=>{r.store.initialValue.each(c=>{r.store.setValue(e,c)})},onUnload:J,state:pa.init})],ty=[Vr("initialValue"),Wr("manager",{setValue:(e,r,i,c)=>{i.set(c),r.onSetValue(e,c)},getValue:(e,r,i)=>i.get(),onLoad:(e,r,i)=>{r.store.initialValue.each(c=>{i.isNotSet()&&i.set(c)})},onUnload:(e,r,i)=>{i.clear()},state:Uh})],Lw=[rs("store",{mode:"memory"},vl("mode",{memory:ty,manual:Uv,dataset:bu})),pr("onSetValue"),ct("resetOnDom",!1)];const gn=js({fields:Lw,name:"representing",active:ey,apis:tg,extra:{setValueFrom:(e,r)=>{const i=gn.getValue(r);gn.setValue(e,i)}},state:$v}),es=(e,r)=>Nm(e,{},et(r,i=>{return c=i.name(),g="Cannot configure "+i.name()+" for "+e,Ja(c,c,{tag:"option",process:{}},zt(v=>cu("The field: "+c+" is forbidden. "+g)));var c,g}).concat([Qs("dump",Ae)])),jv=e=>e.dump,is=(e,r)=>({...ln(r),...e.dump}),Zs=es,ci=is,Gi="placeholder",xl=Uc([{single:["required","valueThunk"]},{multiple:["required","valueThunks"]}]),ng=e=>Lt(e,"uiType"),Oc=(e,r,i,c)=>((g,v,x,k)=>ng(x)&&x.uiType===Gi?((O,N,L,F)=>O.exists(U=>U!==L.owner)?xl.single(!0,G(L)):Ze(F,L.name).fold(()=>{throw new Error("Unknown placeholder component: "+L.name+`
Known: [`+Dn(F)+`]
Namespace: `+O.getOr("none")+`
Spec: `+JSON.stringify(L,null,2))},U=>U.replace()))(g,0,x,k):xl.single(!1,G(x)))(e,0,i,c).fold((g,v)=>{const x=ng(i)?v(r,i.config,i.validated):v(r),k=Ze(x,"components").getOr([]),O=ne(k,N=>Oc(e,r,N,c));return[{...x,components:O}]},(g,v)=>{if(ng(i)){const x=v(r,i.config,i.validated);return i.validated.preprocess.getOr(Ae)(x)}return v(r)}),nf=xl.single,Bw=xl.multiple,h=G(Gi),w=Uc([{required:["data"]},{external:["data"]},{optional:["data"]},{group:["data"]}]),A=ct("factory",{sketch:Ae}),R=ct("schema",[]),$=kt("name"),j=Ja("pname","pname",X(e=>"<alloy."+Gn(e.name)+">"),Jn()),ee=Qs("schema",()=>[Vr("preprocess")]),ie=ct("defaults",G({})),ve=ct("overrides",G({})),Me=Jt([A,R,$,j,ie,ve]),Le=Jt([A,R,$,ie,ve]),Re=Jt([A,R,$,j,ie,ve]),Fe=Jt([A,ee,$,kt("unit"),j,ie,ve]),We=e=>e.fold(H.some,H.none,H.some,H.some),mt=e=>{const r=i=>i.name;return e.fold(r,r,r,r)},lt=(e,r)=>i=>{const c=Ci("Converting part type",r,i);return e(c)},xt=lt(w.required,Me),Rt=lt(w.external,Le),Gt=lt(w.optional,Re),Ut=lt(w.group,Fe),bn=G("entirety");var _n=Object.freeze({__proto__:null,required:xt,external:Rt,optional:Gt,group:Ut,asNamedPart:We,name:mt,asCommon:e=>e.fold(Ae,Ae,Ae,Ae),original:bn});const Pn=(e,r,i,c)=>lr(r.defaults(e,i,c),i,{uid:e.partUids[r.name]},r.overrides(e,i,c)),po=(e,r)=>{const i={};return _t(r,c=>{We(c).each(g=>{const v=mo(e,g.pname);i[g.name]=x=>{const k=Ci("Part: "+g.name+" in "+e,Jt(g.schema),x);return{...v,config:x,validated:k}}})}),i},mo=(e,r)=>({uiType:h(),owner:e,name:r}),yr=(e,r,i)=>({uiType:h(),owner:e,name:r,config:i,validated:{}}),Ro=e=>ne(e,r=>r.fold(H.none,H.some,H.none,H.none).map(i=>$i(i.name,i.schema.concat([St(bn())]))).toArray()),er=e=>et(e,mt),Fo=(e,r,i)=>((c,g,v)=>{const x={},k={};return _t(v,O=>{O.fold(N=>{x[N.pname]=nf(!0,(L,F,U)=>N.factory.sketch(Pn(L,N,F,U)))},N=>{const L=g.parts[N.name];k[N.name]=G(N.factory.sketch(Pn(g,N,L[bn()]),L))},N=>{x[N.pname]=nf(!1,(L,F,U)=>N.factory.sketch(Pn(L,N,F,U)))},N=>{x[N.pname]=Bw(!0,(L,F,U)=>{const K=L[N.name];return et(K,oe=>N.factory.sketch(lr(N.defaults(L,oe,U),oe,N.overrides(L,oe))))})})}),{internals:G(x),externals:G(k)}})(0,r,i),Br=(e,r,i)=>((c,g,v,x)=>{const k=so(x,(N,L)=>((F,U)=>{let K=!1;return{name:G(F),required:()=>U.fold((oe,ge)=>oe,(oe,ge)=>oe),used:()=>K,replace:()=>{if(K)throw new Error("Trying to use the same placeholder more than once: "+F);return K=!0,U}}})(L,N)),O=((N,L,F,U)=>ne(F,K=>Oc(N,L,K,U)))(c,g,v,k);return Xn(k,N=>{if(N.used()===!1&&N.required())throw new Error("Placeholder: "+N.name()+` was not found in components list
Namespace: `+c.getOr("none")+`
Components: `+JSON.stringify(g.components,null,2))}),O})(H.some(e),r,r.components,i),jo=(e,r,i)=>{const c=r.partUids[i];return e.getSystem().getByUid(c).toOptional()},Pa=(e,r,i)=>jo(e,r,i).getOrDie("Could not find part: "+i),Ss=(e,r,i)=>{const c={},g=r.partUids,v=e.getSystem();return _t(i,x=>{c[x]=G(v.getByUid(g[x]))}),c},Ni=(e,r)=>{const i=e.getSystem();return so(r.partUids,(c,g)=>G(i.getByUid(c)))},sd=e=>Dn(e.partUids),Es=(e,r,i)=>{const c={},g=r.partUids,v=e.getSystem();return _t(i,x=>{c[x]=G(v.getByUid(g[x]).getOrDie())}),c},Yd=(e,r)=>{const i=er(r);return du(et(i,c=>({key:c,value:e+"-"+c})))},pp=e=>Ja("partUids","partUids",ce(r=>Yd(r.uid,e)),Jn());var Zh=Object.freeze({__proto__:null,generate:po,generateOne:yr,schemas:Ro,names:er,substitutes:Fo,components:Br,defaultUids:Yd,defaultUidsSchema:pp,getAllParts:Ni,getAllPartNames:sd,getPart:jo,getPartOrDie:Pa,getParts:Ss,getPartsOrDie:Es});const hp=(e,r,i,c,g)=>{const v=((x,k)=>(x.length>0?[$i("parts",x)]:[]).concat([kt("uid"),ct("dom",{}),ct("components",[]),St("originalSpec"),ct("debug.sketcher",{})]).concat(k))(c,g);return Ci(e+" [SpecSchema]",cr(v.concat(r)),i)},yu=(e,r,i,c,g)=>{const v=og(g),x=Ro(i),k=pp(i),O=hp(e,r,v,x,[k]),N=Fo(0,O,i);return c(O,Br(e,O,N.internals()),v,N.externals())},og=e=>(r=>Lt(r,"uid"))(e)?e:{...e,uid:Xg("uid")},P5=cr([kt("name"),kt("factory"),kt("configFields"),ct("apis",{}),ct("extraApis",{})]),vp=cr([kt("name"),kt("factory"),kt("configFields"),kt("partFields"),ct("apis",{}),ct("extraApis",{})]),Jl=e=>{const r=Ci("Sketcher for "+e.name,P5,e),i=so(r.apis,Qg),c=so(r.extraApis,(g,v)=>Ld(g,v));return{name:r.name,configFields:r.configFields,sketch:g=>((v,x,k,O)=>{const N=og(O);return k(hp(v,x,N,[],[]),N)})(r.name,r.configFields,r.factory,g),...i,...c}},qi=e=>{const r=Ci("Sketcher for "+e.name,vp,e),i=po(r.name,r.partFields),c=so(r.apis,Qg),g=so(r.extraApis,(v,x)=>Ld(v,x));return{name:r.name,partFields:r.partFields,configFields:r.configFields,sketch:v=>yu(r.name,r.configFields,r.partFields,r.factory,v),parts:i,...c,...g}},rg=e=>Jo("input")(e)&&wa(e,"type")!=="radio"||Jo("textarea")(e);var L5=Object.freeze({__proto__:null,getCurrent:(e,r,i)=>r.find(e)});const Fw=[kt("find")],hr=js({fields:Fw,name:"composing",apis:L5}),of=["input","button","textarea","select"],Kc=(e,r,i)=>{(r.disabled()?Ck:Hw)(e,r)},Ws=(e,r)=>r.useNative===!0&&pn(of,Rn(e.element)),_k=e=>{yo(e.element,"disabled","disabled")},Zv=e=>{xa(e.element,"disabled")},B5=e=>{yo(e.element,"aria-disabled","true")},F5=e=>{yo(e.element,"aria-disabled","false")},Ck=(e,r,i)=>{r.disableClass.each(c=>{_a(e.element,c)}),(Ws(e,r)?_k:B5)(e),r.onDisabled(e)},Hw=(e,r,i)=>{r.disableClass.each(c=>{Ca(e.element,c)}),(Ws(e,r)?Zv:F5)(e),r.onEnabled(e)},kk=(e,r)=>Ws(e,r)?(i=>lu(i.element,"disabled"))(e):(i=>wa(i.element,"aria-disabled")==="true")(e);var xN=Object.freeze({__proto__:null,enable:Hw,disable:Ck,isDisabled:kk,onLoad:Kc,set:(e,r,i,c)=>{(c?Ck:Hw)(e,r)}}),_N=Object.freeze({__proto__:null,exhibit:(e,r)=>hi({classes:r.disabled()?r.disableClass.toArray():[]}),events:(e,r)=>Nr([fh(sl(),(i,c)=>kk(i,e)),Sh(e,r,Kc)])}),H5=[Va("disabled",Ke),ct("useNative",!0),Vr("disableClass"),pr("onDisabled"),pr("onEnabled")];const wo=js({fields:H5,name:"disabling",active:_N,apis:xN}),Sk=(e,r,i,c)=>{const g=Ti(e.element,"."+r.highlightClass);_t(g,v=>{Sn(c,x=>Mo(x.element,v))||(Ca(v,r.highlightClass),e.getSystem().getByDom(v).each(x=>{r.onDehighlight(e,x),Pr(x,qg())}))})},Wv=(e,r,i,c)=>{Sk(e,r,0,[c]),Gv(e,r,i,c)||(_a(c.element,r.highlightClass),r.onHighlight(e,c),Pr(c,uh()))},Gv=(e,r,i,c)=>Ei(c.element,r.highlightClass),Ek=(e,r,i)=>as(e.element,"."+r.itemClass).bind(c=>e.getSystem().getByDom(c).toOptional()),bp=(e,r,i)=>{const c=Ti(e.element,"."+r.itemClass);return(c.length>0?H.some(c[c.length-1]):H.none()).bind(g=>e.getSystem().getByDom(g).toOptional())},qv=(e,r,i,c)=>{const g=Ti(e.element,"."+r.itemClass);return oo(g,v=>Ei(v,r.highlightClass)).bind(v=>{const x=zd(v,c,0,g.length-1);return e.getSystem().getByDom(g[x]).toOptional()})},z5=(e,r,i)=>{const c=Ti(e.element,"."+r.itemClass);return Dt(et(c,g=>e.getSystem().getByDom(g).toOptional()))};var V5=Object.freeze({__proto__:null,dehighlightAll:(e,r,i)=>Sk(e,r,0,[]),dehighlight:(e,r,i,c)=>{Gv(e,r,i,c)&&(Ca(c.element,r.highlightClass),r.onDehighlight(e,c),Pr(c,qg()))},highlight:Wv,highlightFirst:(e,r,i)=>{Ek(e,r).each(c=>{Wv(e,r,i,c)})},highlightLast:(e,r,i)=>{bp(e,r).each(c=>{Wv(e,r,i,c)})},highlightAt:(e,r,i,c)=>{((g,v,x,k)=>{const O=Ti(g.element,"."+v.itemClass);return H.from(O[k]).fold(()=>sr.error(new Error("No element found with index "+k)),g.getSystem().getByDom)})(e,r,0,c).fold(g=>{throw g},g=>{Wv(e,r,i,g)})},highlightBy:(e,r,i,c)=>{const g=z5(e,r);ze(g,c).each(v=>{Wv(e,r,i,v)})},isHighlighted:Gv,getHighlighted:(e,r,i)=>as(e.element,"."+r.highlightClass).bind(c=>e.getSystem().getByDom(c).toOptional()),getFirst:Ek,getLast:bp,getPrevious:(e,r,i)=>qv(e,r,0,-1),getNext:(e,r,i)=>qv(e,r,0,1),getCandidates:z5}),$5=[kt("highlightClass"),kt("itemClass"),pr("onHighlight"),pr("onDehighlight")];const Fr=js({fields:$5,name:"highlighting",apis:V5}),U5=[8],id=[9],Xd=[13],ny=[27],Ql=[32],oy=[37],Kv=[38],ry=[39],Wh=[40],Yn=(e,r,i)=>{const c=Ve(e.slice(0,r)),g=Ve(e.slice(r+1));return ze(c.concat(g),i)},Gh=(e,r,i)=>{const c=Ve(e.slice(0,r));return ze(c,i)},j5=(e,r,i)=>{const c=e.slice(0,r),g=e.slice(r+1);return ze(g.concat(c),i)},zw=(e,r,i)=>{const c=e.slice(r+1);return ze(c,i)},kr=e=>r=>{const i=r.raw;return pn(e,i.which)},ld=e=>r=>Oe(e,i=>i(r)),qh=e=>e.raw.shiftKey===!0,Ok=e=>e.raw.ctrlKey===!0,ag=Ft(qh),Mr=(e,r)=>({matches:e,classification:r}),Tk=(e,r,i)=>{r.exists(c=>i.exists(g=>Mo(g,c)))||eo(e,Y1(),{prevFocus:r,newFocus:i})},Ak=()=>{const e=r=>Ec(r.element);return{get:e,set:(r,i)=>{const c=e(r);r.getSystem().triggerFocus(i,r.element);const g=e(r);Tk(r,c,g)}}},Nk=()=>{const e=r=>Fr.getHighlighted(r).map(i=>i.element);return{get:e,set:(r,i)=>{const c=e(r);r.getSystem().getByDom(i).fold(J,v=>{Fr.highlight(r,v)});const g=e(r);Tk(r,c,g)}}};var Yc;(function(e){e.OnFocusMode="onFocus",e.OnEnterOrSpaceMode="onEnterOrSpace",e.OnApiMode="onApi"})(Yc||(Yc={}));const rf=(e,r,i,c,g)=>{const v=(k,O,N,L,F)=>{return(U=N(k,O,L,F),K=O.event,ze(U,oe=>oe.matches(K)).map(oe=>oe.classification)).bind(oe=>oe(k,O,L,F));var U,K},x={schema:()=>e.concat([ct("focusManager",Ak()),rs("focusInside","onFocus",Rf(k=>pn(["onFocus","onEnterOrSpace","onApi"],k)?sr.value(k):sr.error("Invalid value for focusInside"))),Wr("handler",x),Wr("state",r),Wr("sendFocusIn",g)]),processKey:v,toEvents:(k,O)=>{const N=k.focusInside!==Yc.OnFocusMode?H.none():g(k).map(F=>jt(Wl(),(U,K)=>{F(U,k,O),K.stop()})),L=[jt(jc(),(F,U)=>{v(F,U,i,k,O).fold(()=>{((K,oe)=>{const ge=kr(Ql.concat(Xd))(oe.event);k.focusInside===Yc.OnEnterOrSpaceMode&&ge&&$g(K,oe)&&g(k).each(pe=>{pe(K,k,O),oe.stop()})})(F,U)},K=>{U.stop()})}),jt(ih(),(F,U)=>{v(F,U,c,k,O).each(K=>{U.stop()})})];return Nr(N.toArray().concat(L))}};return x},Kh=e=>{const r=[Vr("onEscape"),Vr("onEnter"),ct("selector",'[data-alloy-tabstop="true"]:not(:disabled)'),ct("firstTabstop",0),ct("useTabstopAt",nn),Vr("visibilitySelector")].concat([e]),i=(k,O)=>{const N=k.visibilitySelector.bind(L=>yl(O,L)).getOr(O);return Ha(N)>0},c=(k,O,N)=>{((L,F)=>{const U=Ti(L.element,F.selector),K=Ht(U,oe=>i(F,oe));return H.from(K[F.firstTabstop])})(k,O).each(L=>{O.focusManager.set(k,L)})},g=(k,O,N,L)=>{const F=Ti(k.element,N.selector);return((U,K)=>K.focusManager.get(U).bind(oe=>yl(oe,K.selector)))(k,N).bind(U=>oo(F,Pt(Mo,U)).bind(K=>((oe,ge,pe,we,Se)=>Se(ge,pe,he=>((Ee,Te)=>i(Ee,Te)&&Ee.useTabstopAt(Te))(we,he)).fold(()=>we.cyclic?H.some(!0):H.none(),he=>(we.focusManager.set(oe,he),H.some(!0))))(k,F,K,N,L)))},v=G([Mr(ld([qh,kr(id)]),(k,O,N)=>{const L=N.cyclic?Yn:Gh;return g(k,0,N,L)}),Mr(kr(id),(k,O,N)=>{const L=N.cyclic?j5:zw;return g(k,0,N,L)}),Mr(ld([ag,kr(Xd)]),(k,O,N)=>N.onEnter.bind(L=>L(k,O)))]),x=G([Mr(kr(ny),(k,O,N)=>N.onEscape.bind(L=>L(k,O)))]);return rf(r,pa.init,v,x,()=>H.some(c))};var Vw=Kh(Qs("cyclic",Ke)),CN=Kh(Qs("cyclic",nn));const Yv=(e,r,i)=>rg(i)&&kr(Ql)(r.event)?H.none():((c,g,v)=>(dh(c,v,sl()),H.some(!0)))(e,0,i),yp=(e,r)=>H.some(!0),kN=[ct("execute",Yv),ct("useSpace",!1),ct("useEnter",!0),ct("useControlEnter",!1),ct("useDown",!1)],Mk=(e,r,i)=>i.execute(e,r,e.element);var Rk=rf(kN,pa.init,(e,r,i,c)=>{const g=i.useSpace&&!rg(e.element)?Ql:[],v=i.useEnter?Xd:[],x=i.useDown?Wh:[],k=g.concat(v).concat(x);return[Mr(kr(k),Mk)].concat(i.useControlEnter?[Mr(ld([Ok,kr(Xd)]),Mk)]:[])},(e,r,i,c)=>i.useSpace&&!rg(e.element)?[Mr(kr(Ql),yp)]:[],()=>H.none());const Dk=()=>{const e=ha();return il({readState:()=>e.get().map(r=>({numRows:String(r.numRows),numColumns:String(r.numColumns)})).getOr({numRows:"?",numColumns:"?"}),setGridSize:(r,i)=>{e.set({numRows:r,numColumns:i})},getNumRows:()=>e.get().map(r=>r.numRows),getNumColumns:()=>e.get().map(r=>r.numColumns)})};var SN=Object.freeze({__proto__:null,flatgrid:Dk,init:e=>e.state(e)});const Z5=e=>(r,i,c,g)=>{const v=e(r.element);return sy(v,r,i,c,g)},$w=(e,r)=>{const i=ap(e,r);return Z5(i)},ay=(e,r)=>{const i=ap(r,e);return Z5(i)},Uw=e=>(r,i,c,g)=>sy(e,r,i,c,g),sy=(e,r,i,c,g)=>c.focusManager.get(r).bind(v=>e(r.element,v,c,g)).map(v=>(c.focusManager.set(r,v),!0)),iy=Uw,ly=Uw,af=Uw,W5=e=>!(r=>r.offsetWidth<=0&&r.offsetHeight<=0)(e.dom),Ik=(e,r,i)=>{const c=Ti(e,i);return((g,v)=>oo(g,x=>Mo(x,r)).map(x=>({index:x,candidates:g})))(Ht(c,W5))},Pk=(e,r)=>oo(e,i=>Mo(r,i)),G5=(e,r,i,c)=>c(Math.floor(r/i),r%i).bind(g=>{const v=g.row*i+g.column;return v>=0&&v<e.length?H.some(e[v]):H.none()}),jw=(e,r,i,c,g)=>G5(e,r,c,(v,x)=>{const k=v===i-1?e.length-v*c:c,O=zd(x,g,0,k-1);return H.some({row:v,column:O})}),Lk=(e,r,i,c,g)=>G5(e,r,c,(v,x)=>{const k=zd(v,g,0,i-1),O=k===i-1?e.length-k*c:c,N=Rl(x,0,O-1);return H.some({row:k,column:N})}),q5=[kt("selector"),ct("execute",Yv),ji("onEscape"),ct("captureTab",!1),Gm()],K5=(e,r,i)=>{as(e.element,r.selector).each(c=>{r.focusManager.set(e,c)})},Zw=e=>(r,i,c,g)=>Ik(r,i,c.selector).bind(v=>e(v.candidates,v.index,g.getNumRows().getOr(c.initSize.numRows),g.getNumColumns().getOr(c.initSize.numColumns))),Bk=(e,r,i)=>i.captureTab?H.some(!0):H.none(),Y5=Zw((e,r,i,c)=>jw(e,r,i,c,-1)),Ww=Zw((e,r,i,c)=>jw(e,r,i,c,1)),X5=Zw((e,r,i,c)=>Lk(e,r,i,c,-1)),J5=Zw((e,r,i,c)=>Lk(e,r,i,c,1)),Q5=G([Mr(kr(oy),$w(Y5,Ww)),Mr(kr(ry),ay(Y5,Ww)),Mr(kr(Kv),iy(X5)),Mr(kr(Wh),ly(J5)),Mr(ld([qh,kr(id)]),Bk),Mr(ld([ag,kr(id)]),Bk),Mr(kr(Ql.concat(Xd)),(e,r,i,c)=>((g,v)=>v.focusManager.get(g).bind(x=>yl(x,v.selector)))(e,i).bind(g=>i.execute(e,r,g)))]),EN=G([Mr(kr(ny),(e,r,i)=>i.onEscape(e,r)),Mr(kr(Ql),yp)]);var ON=rf(q5,Dk,Q5,EN,()=>H.some(K5));const eO=(e,r,i,c,g)=>{const v=(x,k,O)=>g(x,k,c,0,O.length-1,O[k],N=>{return L=O[N],Rn(L)==="button"&&wa(L,"disabled")==="disabled"?v(x,N,O):H.from(O[N]);var L});return Ik(e,i,r).bind(x=>{const k=x.index,O=x.candidates;return v(k,k,O)})},tO=(e,r,i,c)=>eO(e,r,i,c,(g,v,x,k,O,N,L)=>{const F=Rl(v+x,k,O);return F===g?H.from(N):L(F)}),wp=(e,r,i,c)=>eO(e,r,i,c,(g,v,x,k,O,N,L)=>{const F=zd(v,x,k,O);return F===g?H.none():L(F)}),nO=[kt("selector"),ct("getInitial",H.none),ct("execute",Yv),ji("onEscape"),ct("executeOnMove",!1),ct("allowVertical",!0),ct("allowHorizontal",!0),ct("cycles",!0)],Gw=(e,r,i)=>((c,g)=>g.focusManager.get(c).bind(v=>yl(v,g.selector)))(e,i).bind(c=>i.execute(e,r,c)),Fk=(e,r,i)=>{r.getInitial(e).orThunk(()=>as(e.element,r.selector)).each(c=>{r.focusManager.set(e,c)})},Hk=(e,r,i)=>(i.cycles?wp:tO)(e,i.selector,r,-1),oO=(e,r,i)=>(i.cycles?wp:tO)(e,i.selector,r,1),zk=e=>(r,i,c,g)=>e(r,i,c,g).bind(()=>c.executeOnMove?Gw(r,i,c):H.some(!0)),rO=G([Mr(kr(Ql),yp),Mr(kr(ny),(e,r,i)=>i.onEscape(e,r))]);var TN=rf(nO,pa.init,(e,r,i,c)=>{const g=[...i.allowHorizontal?oy:[]].concat(i.allowVertical?Kv:[]),v=[...i.allowHorizontal?ry:[]].concat(i.allowVertical?Wh:[]);return[Mr(kr(g),zk($w(Hk,oO))),Mr(kr(v),zk(ay(Hk,oO))),Mr(kr(Xd),Gw),Mr(kr(Ql),Gw)]},rO,()=>H.some(Fk));const qw=(e,r,i)=>H.from(e[r]).bind(c=>H.from(c[i]).map(g=>({rowIndex:r,columnIndex:i,cell:g}))),Kw=(e,r,i,c)=>{const g=e[r].length,v=zd(i,c,0,g-1);return qw(e,r,v)},Yw=(e,r,i,c)=>{const g=zd(i,c,0,e.length-1),v=e[g].length,x=Rl(r,0,v-1);return qw(e,g,x)},Vk=(e,r,i,c)=>{const g=e[r].length,v=Rl(i+c,0,g-1);return qw(e,r,v)},Xc=(e,r,i,c)=>{const g=Rl(i+c,0,e.length-1),v=e[g].length,x=Rl(r,0,v-1);return qw(e,g,x)},Xv=[$i("selectors",[kt("row"),kt("cell")]),ct("cycles",!0),ct("previousSelector",H.none),ct("execute",Yv)],$k=(e,r,i)=>{r.previousSelector(e).orThunk(()=>{const c=r.selectors;return as(e.element,c.cell)}).each(c=>{r.focusManager.set(e,c)})},Jv=(e,r)=>(i,c,g)=>{const v=g.cycles?e:r;return yl(c,g.selectors.row).bind(x=>{const k=Ti(x,g.selectors.cell);return Pk(k,c).bind(O=>{const N=Ti(i,g.selectors.row);return Pk(N,x).bind(L=>{const F=((U,K)=>et(U,oe=>Ti(oe,K.selectors.cell)))(N,g);return v(F,L,O).map(U=>U.cell)})})})},cy=Jv((e,r,i)=>Kw(e,r,i,-1),(e,r,i)=>Vk(e,r,i,-1)),Xw=Jv((e,r,i)=>Kw(e,r,i,1),(e,r,i)=>Vk(e,r,i,1)),AN=Jv((e,r,i)=>Yw(e,i,r,-1),(e,r,i)=>Xc(e,i,r,-1)),NN=Jv((e,r,i)=>Yw(e,i,r,1),(e,r,i)=>Xc(e,i,r,1)),aO=G([Mr(kr(oy),$w(cy,Xw)),Mr(kr(ry),ay(cy,Xw)),Mr(kr(Kv),iy(AN)),Mr(kr(Wh),ly(NN)),Mr(kr(Ql.concat(Xd)),(e,r,i)=>Ec(e.element).bind(c=>i.execute(e,r,c)))]),Uk=G([Mr(kr(Ql),yp)]);var Yh=rf(Xv,pa.init,aO,Uk,()=>H.some($k));const jk=[kt("selector"),ct("execute",Yv),ct("moveOnTab",!1)],Zk=(e,r,i)=>i.focusManager.get(e).bind(c=>i.execute(e,r,c)),sO=(e,r,i)=>{as(e.element,r.selector).each(c=>{r.focusManager.set(e,c)})},Wk=(e,r,i)=>wp(e,i.selector,r,-1),Gk=(e,r,i)=>wp(e,i.selector,r,1),qk=G([Mr(kr(Kv),af(Wk)),Mr(kr(Wh),af(Gk)),Mr(ld([qh,kr(id)]),(e,r,i,c)=>i.moveOnTab?af(Wk)(e,r,i,c):H.none()),Mr(ld([ag,kr(id)]),(e,r,i,c)=>i.moveOnTab?af(Gk)(e,r,i,c):H.none()),Mr(kr(Xd),Zk),Mr(kr(Ql),Zk)]),MN=G([Mr(kr(Ql),yp)]);var iO=rf(jk,pa.init,qk,MN,()=>H.some(sO));const lO=[ji("onSpace"),ji("onEnter"),ji("onShiftEnter"),ji("onLeft"),ji("onRight"),ji("onTab"),ji("onShiftTab"),ji("onUp"),ji("onDown"),ji("onEscape"),ct("stopSpaceKeyup",!1),Vr("focusIn")];var RN=rf(lO,pa.init,(e,r,i)=>[Mr(kr(Ql),i.onSpace),Mr(ld([ag,kr(Xd)]),i.onEnter),Mr(ld([qh,kr(Xd)]),i.onShiftEnter),Mr(ld([qh,kr(id)]),i.onShiftTab),Mr(ld([ag,kr(id)]),i.onTab),Mr(kr(Kv),i.onUp),Mr(kr(Wh),i.onDown),Mr(kr(oy),i.onLeft),Mr(kr(ry),i.onRight),Mr(kr(Ql),i.onSpace)],(e,r,i)=>[...i.stopSpaceKeyup?[Mr(kr(Ql),yp)]:[],Mr(kr(ny),i.onEscape)],e=>e.focusIn);const cO=Vw.schema(),DN=CN.schema(),Jw=TN.schema(),IN=ON.schema(),uO=Yh.schema(),ec=Rk.schema(),dO=iO.schema(),PN=RN.schema(),co=Rb({branchKey:"mode",branches:Object.freeze({__proto__:null,acyclic:cO,cyclic:DN,flow:Jw,flatgrid:IN,matrix:uO,execution:ec,menu:dO,special:PN}),name:"keying",active:{events:(e,r)=>e.handler.toEvents(e,r)},apis:{focusIn:(e,r,i)=>{r.sendFocusIn(r).fold(()=>{e.getSystem().triggerFocus(e.element,e.element)},c=>{c(e,r,i)})},setGridSize:(e,r,i,c,g)=>{(v=>ho(v,"setGridSize"))(i)?i.setGridSize(c,g):console.error("Layout does not support setGridSize")}},state:SN}),mO=(e,r)=>{xv(()=>{((i,c,g)=>{const v=i.components();(O=>{_t(O.components(),N=>$l(N.element)),fc(O.element),O.syncComponents()})(i);const x=g(c),k=yt(v,x);_t(k,O=>{nd(O),i.getSystem().removeFromWorld(O)}),_t(x,O=>{mp(O)?Dw(i,O):(i.getSystem().addToWorld(O),Dw(i,O),Fs(i.element)&&od(O))}),i.syncComponents()})(e,r,()=>et(r,e.getSystem().build))},e.element)},Kk=(e,r)=>{xv(()=>{((i,c,g)=>{const v=i.components(),x=ne(c,N=>Jg(N).toArray());_t(v,N=>{pn(x,N)||fp(N)});const k=((N,L,F)=>wh(N,L,(U,K)=>iv(N,K,U,F)))(e.element,r,e.getSystem().buildOrPatch),O=yt(v,k);_t(O,N=>{mp(N)&&fp(N)}),_t(k,N=>{mp(N)||Jb(i,N)}),i.syncComponents()})(e,r)},e.element)},fO=(e,r,i,c)=>{fp(r);const g=iv(e.element,i,c,e.getSystem().buildOrPatch);Jb(e,g),e.syncComponents()},Yk=(e,r,i)=>{const c=e.getSystem().build(i);Lv(e,c,r)},gO=(e,r,i,c)=>{Xl(r),Yk(e,(g,v)=>((x,k,O)=>{ir(x,O).fold(()=>{zi(x,k)},N=>{fa(N,k)})})(g,v,i),c)},uy=(e,r)=>e.components(),sg=(e,r,i,c,g)=>{const v=uy(e);return H.from(v[c]).map(x=>(g.fold(()=>Xl(x),k=>{(r.reuseDom?fO:gO)(e,x,c,k)}),x))};var pO=Object.freeze({__proto__:null,append:(e,r,i,c)=>{Yk(e,zi,c)},prepend:(e,r,i,c)=>{Yk(e,Tf,c)},remove:(e,r,i,c)=>{const g=uy(e);ze(g,x=>Mo(c.element,x.element)).each(Xl)},replaceAt:sg,replaceBy:(e,r,i,c,g)=>{const v=uy(e);return oo(v,c).bind(x=>sg(e,r,0,x,g))},set:(e,r,i,c)=>(r.reuseDom?Kk:mO)(e,c),contents:uy});const Po=js({fields:[Si("reuseDom",!0)],name:"replacing",apis:pO}),Ko=(e,r)=>{const i=((c,g)=>{const v=Nr(g);return js({fields:[kt("enabled")],name:c,active:{events:G(v)}})})(e,r);return{key:e,value:{config:{},me:i,configAsRaw:G({}),initialConfig:{},state:pa}}},hO=(e,r)=>{r.ignore||(wl(e.element),r.onFocus(e))};var vO=Object.freeze({__proto__:null,focus:hO,blur:(e,r)=>{r.ignore||Eh(e.element)},isFocused:e=>np(e.element)}),Xk=Object.freeze({__proto__:null,exhibit:(e,r)=>{const i=r.ignore?{}:{attributes:{tabindex:"-1"}};return hi(i)},events:e=>Nr([jt(Wl(),(r,i)=>{hO(r,e),i.stop()})].concat(e.stopMousedown?[jt(gi(),(r,i)=>{i.event.prevent()})]:[]))}),Jk=[pr("onFocus"),ct("stopMousedown",!1),ct("ignore",!1)];const Oo=js({fields:Jk,name:"focusing",active:Xk,apis:vO}),cd=(e,r,i,c)=>{const g=i.get();i.set(c),((v,x,k)=>{x.toggleClass.each(O=>{k.get()?_a(v.element,O):Ca(v.element,O)})})(e,r,i),((v,x,k)=>{const O=x.aria;O.update(v,O,k.get())})(e,r,i),g!==c&&r.onToggled(e,c)},Qk=(e,r,i)=>{cd(e,r,i,!i.get())},e4=(e,r,i)=>{cd(e,r,i,r.selected)};var LN=Object.freeze({__proto__:null,onLoad:e4,toggle:Qk,isOn:(e,r,i)=>i.get(),on:(e,r,i)=>{cd(e,r,i,!0)},off:(e,r,i)=>{cd(e,r,i,!1)},set:cd}),BN=Object.freeze({__proto__:null,exhibit:()=>hi({}),events:(e,r)=>{const i=(c=e,g=r,v=Qk,wc(k=>{v(k,c,g)}));var c,g,v;const x=Sh(e,r,e4);return Nr(Be([e.toggleOnExecute?[i]:[],[x]]))}});const Qv=(e,r,i)=>{yo(e.element,"aria-expanded",i)};var dy=[ct("selected",!1),Vr("toggleClass"),ct("toggleOnExecute",!0),pr("onToggled"),rs("aria",{mode:"none"},vl("mode",{pressed:[ct("syncWithExpanded",!1),Wr("update",(e,r,i)=>{yo(e.element,"aria-pressed",i),r.syncWithExpanded&&Qv(e,0,i)})],checked:[Wr("update",(e,r,i)=>{yo(e.element,"aria-checked",i)})],expanded:[Wr("update",Qv)],selected:[Wr("update",(e,r,i)=>{yo(e.element,"aria-selected",i)})],none:[Wr("update",J)]}))];const tr=js({fields:dy,name:"toggling",active:BN,apis:LN,state:{init:()=>{const e=uo(!1);return{get:()=>e.get(),set:r=>e.set(r),clear:()=>e.set(!1),readState:()=>e.get()}}}}),t4=()=>{const e=(r,i)=>{i.stop(),fu(r)};return[jt(bc(),e),jt(Im(),e),Id(Al()),Id(gi())]},Jd=e=>Nr(Be([e.map(r=>wc((i,c)=>{r(i),c.stop()})).toArray(),t4()])),ig="alloy.item-hover",n4="alloy.item-focus",sf="alloy.item-toggled",Qw=e=>{(Ec(e.element).isNone()||Oo.isFocused(e))&&(Oo.isFocused(e)||Oo.focus(e),eo(e,ig,{item:e}))},o4=e=>{eo(e,n4,{item:e})},r4=G(ig),bO=G(n4),a4=G(sf),yO=e=>e.toggling.map(r=>r.exclusive?"menuitemradio":"menuitemcheckbox").getOr("menuitem"),FN=[kt("data"),kt("components"),kt("dom"),ct("hasSubmenu",!1),Vr("toggling"),Zs("itemBehaviours",[tr,Oo,co,gn]),ct("ignoreFocus",!1),ct("domModification",{}),Wr("builder",e=>({dom:e.dom,domModification:{...e.domModification,attributes:{role:yO(e),...e.domModification.attributes,"aria-haspopup":e.hasSubmenu,...e.hasSubmenu?{"aria-expanded":!1}:{}}},behaviours:ci(e.itemBehaviours,[e.toggling.fold(tr.revoke,r=>tr.config((i=>({aria:{mode:"checked"},...vs(i,(c,g)=>g!=="exclusive"),onToggled:(c,g)=>{ke(i.onToggled)&&i.onToggled(c,g),((v,x)=>{eo(v,sf,{item:v,state:x})})(c,g)}}))(r))),Oo.config({ignore:e.ignoreFocus,stopMousedown:e.ignoreFocus,onFocus:r=>{o4(r)}}),co.config({mode:"execution"}),gn.config({store:{mode:"memory",initialValue:e.data}}),Ko("item-type-events",[...t4(),jt(mu(),Qw),jt(Ff(),Oo.focus)])]),components:e.components,eventOrder:e.eventOrder})),ct("eventOrder",{})],HN=[kt("dom"),kt("components"),Wr("builder",e=>({dom:e.dom,components:e.components,events:Nr([gh(Ff())])}))],s4=G("item-widget"),e0=G([xt({name:"widget",overrides:e=>({behaviours:ln([gn.config({store:{mode:"manual",getValue:r=>e.data,setValue:J}})])})})]),i4=[kt("uid"),kt("data"),kt("components"),kt("dom"),ct("autofocus",!1),ct("ignoreFocus",!1),Zs("widgetBehaviours",[gn,Oo,co]),ct("domModification",{}),pp(e0()),Wr("builder",e=>{const r=Fo(s4(),e,e0()),i=Br(s4(),e,r.internals()),c=v=>jo(v,e,"widget").map(x=>(co.focusIn(x),x)),g=(v,x)=>(rg(x.event.target)||e.autofocus&&x.setSource(v.element),H.none());return{dom:e.dom,components:i,domModification:e.domModification,events:Nr([wc((v,x)=>{c(v).each(k=>{x.stop()})}),jt(mu(),Qw),jt(Ff(),(v,x)=>{e.autofocus?c(v):Oo.focus(v)})]),behaviours:ci(e.widgetBehaviours,[gn.config({store:{mode:"memory",initialValue:e.data}}),Oo.config({ignore:e.ignoreFocus,onFocus:v=>{o4(v)}}),co.config({mode:"special",focusIn:e.autofocus?v=>{c(v)}:ll(),onLeft:g,onRight:g,onEscape:(v,x)=>Oo.isFocused(v)||e.autofocus?(e.autofocus&&x.setSource(v.element),H.none()):(Oo.focus(v),H.some(!0))})])}})],l4=vl("type",{widget:i4,item:FN,separator:HN}),zN=G([Ut({factory:{sketch:e=>{const r=Ci("menu.spec item",l4,e);return r.builder(r)}},name:"items",unit:"item",defaults:(e,r)=>Lt(r,"uid")?r:{...r,uid:Xg("item")},overrides:(e,r)=>({type:r.type,ignoreFocus:e.fakeFocus,domModification:{classes:[e.markers.item]}})})]),VN=G([kt("value"),kt("items"),kt("dom"),kt("components"),ct("eventOrder",{}),es("menuBehaviours",[Fr,gn,hr,co]),rs("movement",{mode:"menu",moveOnTab:!0},vl("mode",{grid:[Gm(),Wr("config",(e,r)=>({mode:"flatgrid",selector:"."+e.markers.item,initSize:{numColumns:r.initSize.numColumns,numRows:r.initSize.numRows},focusManager:e.focusManager}))],matrix:[Wr("config",(e,r)=>({mode:"matrix",selectors:{row:r.rowSelector,cell:"."+e.markers.item},previousSelector:r.previousSelector,focusManager:e.focusManager})),kt("rowSelector"),ct("previousSelector",H.none)],menu:[ct("moveOnTab",!0),Wr("config",(e,r)=>({mode:"menu",selector:"."+e.markers.item,moveOnTab:r.moveOnTab,focusManager:e.focusManager}))]})),al("markers",wb()),ct("fakeFocus",!1),ct("focusManager",Ak()),pr("onHighlight"),pr("onDehighlight")]),c4=G("alloy.menu-focus"),xp=qi({name:"Menu",configFields:VN(),partFields:zN(),factory:(e,r,i,c)=>({uid:e.uid,dom:e.dom,markers:e.markers,behaviours:is(e.menuBehaviours,[Fr.config({highlightClass:e.markers.selectedItem,itemClass:e.markers.item,onHighlight:e.onHighlight,onDehighlight:e.onDehighlight}),gn.config({store:{mode:"memory",initialValue:e.value}}),hr.config({find:H.some}),co.config(e.movement.config(e,e.movement))]),events:Nr([jt(bO(),(g,v)=>{const x=v.event;g.getSystem().getByDom(x.target).each(k=>{Fr.highlight(g,k),v.stop(),eo(g,c4(),{menu:g,item:k})})}),jt(r4(),(g,v)=>{const x=v.event.item;Fr.highlight(g,x)}),jt(a4(),(g,v)=>{const{item:x,state:k}=v.event;k&&wa(x.element,"role")==="menuitemradio"&&((O,N)=>{const L=Ti(O.element,'[role="menuitemradio"][aria-checked="true"]');_t(L,F=>{Mo(F,N.element)||O.getSystem().getByDom(F).each(U=>{tr.off(U)})})})(g,x)})]),components:r,eventOrder:e.eventOrder,domModification:{attributes:{role:"menu"}}})}),u4=(e,r,i,c)=>Ze(i,c).bind(g=>Ze(e,g).bind(v=>{const x=u4(e,r,i,v);return H.some([v].concat(x))})).getOr([]),d4=e=>e.type==="prepared"?H.some(e.menu):H.none(),m4=()=>{const e=uo({}),r=uo({}),i=uo({}),c=ha(),g=uo({}),v=O=>x(O).bind(d4),x=O=>Ze(r.get(),O),k=O=>Ze(e.get(),O);return{setMenuBuilt:(O,N)=>{r.set({...r.get(),[O]:{type:"prepared",menu:N}})},setContents:(O,N,L,F)=>{c.set(O),e.set(L),r.set(N),g.set(F);const U=((K,oe)=>{const ge={};Xn(K,(he,Ee)=>{_t(he,Te=>{ge[Te]=Ee})});const pe=oe,we=So(oe,(he,Ee)=>({k:he,v:Ee})),Se=so(we,(he,Ee)=>[Ee].concat(u4(ge,pe,we,Ee)));return so(ge,he=>Ze(Se,he).getOr([he]))})(F,L);i.set(U)},expand:O=>Ze(e.get(),O).map(N=>{const L=Ze(i.get(),O).getOr([]);return[N].concat(L)}),refresh:O=>Ze(i.get(),O),collapse:O=>Ze(i.get(),O).bind(N=>N.length>1?H.some(N.slice(1)):H.none()),lookupMenu:x,lookupItem:k,otherMenus:O=>{const N=g.get();return yt(Dn(N),O)},getPrimary:()=>c.get().bind(v),getMenus:()=>r.get(),clear:()=>{e.set({}),r.set({}),i.set({}),c.clear()},isClear:()=>c.get().isNone(),getTriggeringPath:(O,N)=>{const L=Ht(k(O).toArray(),F=>v(F).isSome());return Ze(i.get(),O).bind(F=>{const U=Ve(L.concat(F));return(K=>{const oe=[];for(let ge=0;ge<K.length;ge++){const pe=K[ge];if(!pe.isSome())return H.none();oe.push(pe.getOrDie())}return H.some(oe)})(ne(U,(K,oe)=>((ge,pe,we)=>v(ge).bind(Se=>(he=>rt(e.get(),(Ee,Te)=>Ee===he))(ge).bind(he=>pe(he).map(Ee=>({triggeredMenu:Se,triggeringItem:Ee,triggeringPath:we})))))(K,N,U.slice(0,oe+1)).fold(()=>io(c.get(),K)?[]:[H.none()],ge=>[H.some(ge)])))})}}},wO=d4,f4=Gn("tiered-menu-item-highlight"),t0=Gn("tiered-menu-item-dehighlight");var Mi;(function(e){e[e.HighlightMenuAndItem=0]="HighlightMenuAndItem",e[e.HighlightJustMenu=1]="HighlightJustMenu",e[e.HighlightNone=2]="HighlightNone"})(Mi||(Mi={}));const g4=G("collapse-item"),_p=Jl({name:"TieredMenu",configFields:[hu("onExecute"),hu("onEscape"),Hd("onOpenMenu"),Hd("onOpenSubmenu"),pr("onRepositionMenu"),pr("onCollapseMenu"),ct("highlightOnOpen",Mi.HighlightMenuAndItem),$i("data",[kt("primary"),kt("menus"),kt("expansions")]),ct("fakeFocus",!1),pr("onHighlightItem"),pr("onDehighlightItem"),pr("onHover"),Ju(),kt("dom"),ct("navigateOnHover",!0),ct("stayInDom",!1),es("tmenuBehaviours",[co,Fr,hr,Po]),ct("eventOrder",{})],apis:{collapseMenu:(e,r)=>{e.collapseMenu(r)},highlightPrimary:(e,r)=>{e.highlightPrimary(r)},repositionMenus:(e,r)=>{e.repositionMenus(r)}},factory:(e,r)=>{const i=ha(),c=m4(),g=he=>gn.getValue(he).value,v=he=>so(e.data.menus,(Ee,Te)=>ne(Ee.items,He=>He.type==="separator"?[]:[He.data.value])),x=Fr.highlight,k=(he,Ee)=>{x(he,Ee),Fr.getHighlighted(Ee).orThunk(()=>Fr.getFirst(Ee)).each(Te=>{e.fakeFocus?Fr.highlight(Ee,Te):dh(he,Te.element,Ff())})},O=(he,Ee)=>Dt(et(Ee,Te=>he.lookupMenu(Te).bind(He=>He.type==="prepared"?H.some(He.menu):H.none()))),N=(he,Ee,Te)=>{const He=O(Ee,Ee.otherMenus(Te));_t(He,Ye=>{si(Ye.element,[e.markers.backgroundMenu]),e.stayInDom||Po.remove(he,Ye)})},L=(he,Ee)=>{const Te=(He=>i.get().getOrThunk(()=>{const Ye={},gt=Ti(He.element,`.${e.markers.item}`),Xt=Ht(gt,Wt=>wa(Wt,"aria-haspopup")==="true");return _t(Xt,Wt=>{He.getSystem().getByDom(Wt).each(Qt=>{const Ln=g(Qt);Ye[Ln]=Qt})}),i.set(Ye),Ye}))(he);Xn(Te,(He,Ye)=>{const gt=pn(Ee,Ye);yo(He.element,"aria-expanded",gt)})},F=(he,Ee,Te)=>H.from(Te[0]).bind(He=>Ee.lookupMenu(He).bind(Ye=>{if(Ye.type==="notbuilt")return H.none();{const gt=Ye.menu,Xt=O(Ee,Te.slice(1));return _t(Xt,Wt=>{_a(Wt.element,e.markers.backgroundMenu)}),Fs(gt.element)||Po.append(he,Kl(gt)),si(gt.element,[e.markers.backgroundMenu]),k(he,gt),N(he,Ee,Te),H.some(gt)}}));let U;(function(he){he[he.HighlightSubmenu=0]="HighlightSubmenu",he[he.HighlightParent=1]="HighlightParent"})(U||(U={}));const K=(he,Ee,Te=U.HighlightSubmenu)=>{if(Ee.hasConfigured(wo)&&wo.isDisabled(Ee))return H.some(Ee);{const He=g(Ee);return c.expand(He).bind(Ye=>(L(he,Ye),H.from(Ye[0]).bind(gt=>c.lookupMenu(gt).bind(Xt=>{const Wt=((Qt,Ln,to)=>{if(to.type==="notbuilt"){const Vn=Qt.getSystem().build(to.nbMenu());return c.setMenuBuilt(Ln,Vn),Vn}return to.menu})(he,gt,Xt);return Fs(Wt.element)||Po.append(he,Kl(Wt)),e.onOpenSubmenu(he,Ee,Wt,Ve(Ye)),Te===U.HighlightSubmenu?(Fr.highlightFirst(Wt),F(he,c,Ye)):(Fr.dehighlightAll(Wt),H.some(Ee))}))))}},oe=(he,Ee)=>{const Te=g(Ee);return c.collapse(Te).bind(He=>(L(he,He),F(he,c,He).map(Ye=>(e.onCollapseMenu(he,Ee,Ye),Ye))))},ge=he=>(Ee,Te)=>yl(Te.getSource(),`.${e.markers.item}`).bind(He=>Ee.getSystem().getByDom(He).toOptional().bind(Ye=>he(Ee,Ye).map(nn))),pe=Nr([jt(c4(),(he,Ee)=>{const Te=Ee.event.item;c.lookupItem(g(Te)).each(()=>{const He=Ee.event.menu;Fr.highlight(he,He);const Ye=g(Ee.event.item);c.refresh(Ye).each(gt=>N(he,c,gt))})}),wc((he,Ee)=>{const Te=Ee.event.target;he.getSystem().getByDom(Te).each(He=>{g(He).indexOf("collapse-item")===0&&oe(he,He),K(he,He,U.HighlightSubmenu).fold(()=>{e.onExecute(he,He)},J)})}),ia((he,Ee)=>{(Te=>{const He=((gt,Xt,Wt)=>so(Wt,(Qt,Ln)=>{const to=()=>xp.sketch({...Qt,value:Ln,markers:e.markers,fakeFocus:e.fakeFocus,onHighlight:(Vn,fo)=>{eo(Vn,f4,{menuComp:Vn,itemComp:fo})},onDehighlight:(Vn,fo)=>{eo(Vn,t0,{menuComp:Vn,itemComp:fo})},focusManager:e.fakeFocus?Nk():Ak()});return Ln===Xt?{type:"prepared",menu:gt.getSystem().build(to())}:{type:"notbuilt",nbMenu:to}}))(Te,e.data.primary,e.data.menus),Ye=v();return c.setContents(e.data.primary,He,e.data.expansions,Ye),c.getPrimary()})(he).each(Te=>{Po.append(he,Kl(Te)),e.onOpenMenu(he,Te),e.highlightOnOpen===Mi.HighlightMenuAndItem?k(he,Te):e.highlightOnOpen===Mi.HighlightJustMenu&&x(he,Te)})}),jt(f4,(he,Ee)=>{e.onHighlightItem(he,Ee.event.menuComp,Ee.event.itemComp)}),jt(t0,(he,Ee)=>{e.onDehighlightItem(he,Ee.event.menuComp,Ee.event.itemComp)}),...e.navigateOnHover?[jt(r4(),(he,Ee)=>{const Te=Ee.event.item;((He,Ye)=>{const gt=g(Ye);c.refresh(gt).bind(Xt=>(L(He,Xt),F(He,c,Xt)))})(he,Te),K(he,Te,U.HighlightParent),e.onHover(he,Te)})]:[]]),we=he=>Fr.getHighlighted(he).bind(Fr.getHighlighted),Se={collapseMenu:he=>{we(he).each(Ee=>{oe(he,Ee)})},highlightPrimary:he=>{c.getPrimary().each(Ee=>{k(he,Ee)})},repositionMenus:he=>{c.getPrimary().bind(Te=>we(he).bind(He=>{const Ye=g(He),gt=Ot(c.getMenus()),Xt=Dt(et(gt,wO));return c.getTriggeringPath(Ye,Wt=>((Qt,Ln,to)=>Hn(Ln,Vn=>{if(!Vn.getSystem().isConnected())return H.none();const fo=Fr.getCandidates(Vn);return ze(fo,_o=>g(_o)===to)}))(0,Xt,Wt))}).map(He=>({primary:Te,triggeringPath:He}))).fold(()=>{(Te=>H.from(Te.components()[0]).filter(He=>wa(He.element,"role")==="menu"))(he).each(Te=>{e.onRepositionMenu(he,Te,[])})},({primary:Te,triggeringPath:He})=>{e.onRepositionMenu(he,Te,He)})}};return{uid:e.uid,dom:e.dom,markers:e.markers,behaviours:is(e.tmenuBehaviours,[co.config({mode:"special",onRight:ge((he,Ee)=>rg(Ee.element)?H.none():K(he,Ee,U.HighlightSubmenu)),onLeft:ge((he,Ee)=>rg(Ee.element)?H.none():oe(he,Ee)),onEscape:ge((he,Ee)=>oe(he,Ee).orThunk(()=>e.onEscape(he,Ee).map(()=>he))),focusIn:(he,Ee)=>{c.getPrimary().each(Te=>{dh(he,Te.element,Ff())})}}),Fr.config({highlightClass:e.markers.selectedMenu,itemClass:e.markers.menu}),hr.config({find:he=>Fr.getHighlighted(he)}),Po.config({})]),eventOrder:e.eventOrder,apis:Se,events:pe}},extraApis:{tieredData:(e,r,i)=>({primary:e,menus:r,expansions:i}),singleData:(e,r)=>({primary:e,menus:If(e,r),expansions:{}}),collapseItem:e=>({value:Gn(g4()),meta:{text:e}})}}),ls=Jl({name:"InlineView",configFields:[kt("lazySink"),pr("onShow"),pr("onHide"),uu("onEscape"),es("inlineBehaviours",[br,gn,Oi]),ti("fireDismissalEventInstead",[ct("event",Pm())]),ti("fireRepositionEventInstead",[ct("event",Gg())]),ct("getRelated",H.none),ct("isExtraPart",Ke),ct("eventOrder",H.none)],factory:(e,r)=>{const i=(x,k,O,N)=>{const L=e.lazySink(x).getOrDie();br.openWhileCloaked(x,k,()=>Ai.positionWithinBounds(L,x,O,N())),gn.setValue(x,H.some({mode:"position",config:O,getBounds:N}))},c=(x,k,O,N)=>{const L=((F,U,K,oe,ge)=>{const pe=()=>F.lazySink(U),we=oe.type==="horizontal"?{layouts:{onLtr:()=>yv(),onRtl:()=>qm()}}:{},Se=he=>(Ee=>Ee.length===2)(he)?we:{};return _p.sketch({dom:{tag:"div"},data:oe.data,markers:oe.menu.markers,highlightOnOpen:oe.menu.highlightOnOpen,fakeFocus:oe.menu.fakeFocus,onEscape:()=>(br.close(U),F.onEscape.map(he=>he(U)),H.some(!0)),onExecute:()=>H.some(!0),onOpenMenu:(he,Ee)=>{Ai.positionWithinBounds(pe().getOrDie(),Ee,K,ge())},onOpenSubmenu:(he,Ee,Te,He)=>{const Ye=pe().getOrDie();Ai.position(Ye,Te,{anchor:{type:"submenu",item:Ee,...Se(He)}})},onRepositionMenu:(he,Ee,Te)=>{const He=pe().getOrDie();Ai.positionWithinBounds(He,Ee,K,ge()),_t(Te,Ye=>{const gt=Se(Ye.triggeringPath);Ai.position(He,Ye.triggeredMenu,{anchor:{type:"submenu",item:Ye.triggeringItem,...gt}})})}})})(e,x,k,O,N);br.open(x,L),gn.setValue(x,H.some({mode:"menu",menu:L}))},g=x=>{br.isOpen(x)&&gn.getValue(x).each(k=>{switch(k.mode){case"menu":br.getState(x).each(_p.repositionMenus);break;case"position":const O=e.lazySink(x).getOrDie();Ai.positionWithinBounds(O,x,k.config,k.getBounds())}})},v={setContent:(x,k)=>{br.setContent(x,k)},showAt:(x,k,O)=>{const N=H.none;i(x,k,O,N)},showWithinBounds:i,showMenuAt:(x,k,O)=>{c(x,k,O,H.none)},showMenuWithinBounds:c,hide:x=>{br.isOpen(x)&&(gn.setValue(x,H.none()),br.close(x))},getContent:x=>br.getState(x),reposition:g,isOpen:br.isOpen};return{uid:e.uid,dom:e.dom,behaviours:is(e.inlineBehaviours,[br.config({isPartOf:(x,k,O)=>Um(k,O)||((N,L)=>e.getRelated(N).exists(F=>Um(F,L)))(x,O),getAttachPoint:x=>e.lazySink(x).getOrDie(),onOpen:x=>{e.onShow(x)},onClose:x=>{e.onHide(x)}}),gn.config({store:{mode:"memory",initialValue:H.none()}}),Oi.config({channels:{...ms({isExtraPart:r.isExtraPart,...e.fireDismissalEventInstead.map(x=>({fireEventInstead:{event:x.event}})).getOr({})}),...qc({...e.fireRepositionEventInstead.map(x=>({fireEventInstead:{event:x.event}})).getOr({}),doReposition:g})}})]),eventOrder:e.eventOrder,apis:v}},apis:{showAt:(e,r,i,c)=>{e.showAt(r,i,c)},showWithinBounds:(e,r,i,c,g)=>{e.showWithinBounds(r,i,c,g)},showMenuAt:(e,r,i,c)=>{e.showMenuAt(r,i,c)},showMenuWithinBounds:(e,r,i,c,g)=>{e.showMenuWithinBounds(r,i,c,g)},hide:(e,r)=>{e.hide(r)},isOpen:(e,r)=>e.isOpen(r),getContent:(e,r)=>e.getContent(r),setContent:(e,r,i)=>{e.setContent(r,i)},reposition:(e,r)=>{e.reposition(r)}}});var my=tinymce.util.Tools.resolve("tinymce.util.Delay");const vi=Jl({name:"Button",factory:e=>{const r=Jd(e.action),i=e.dom.tag,c=g=>Ze(e.dom,"attributes").bind(v=>Ze(v,g));return{uid:e.uid,dom:e.dom,components:e.components,events:r,behaviours:ci(e.buttonBehaviours,[Oo.config({}),co.config({mode:"execution",useSpace:!0,useEnter:!0})]),domModification:{attributes:i==="button"?{type:c("type").getOr("button"),...c("role").map(g=>({role:g})).getOr({})}:{role:e.role.getOr(c("role").getOr("button"))}},eventOrder:e.eventOrder}},configFields:[ct("uid",void 0),kt("dom"),ct("components",[]),Zs("buttonBehaviours",[Oo,co]),Vr("action"),Vr("role"),ct("eventOrder",{})]}),Gr=e=>{const r=(i=>i.uid!==void 0)(e)&&ho(e,"uid")?e.uid:Xg("memento");return{get:i=>i.getSystem().getByUid(r).getOrDie(),getOpt:i=>i.getSystem().getByUid(r).toOptional(),asSpec:()=>({...e,uid:r})}};var Jc=tinymce.util.Tools.resolve("tinymce.util.I18n");const ex={indent:!0,outdent:!0,"table-insert-column-after":!0,"table-insert-column-before":!0,"paste-column-after":!0,"paste-column-before":!0,"unordered-list":!0,"list-bull-circle":!0,"list-bull-default":!0,"list-bull-square":!0},tx="temporary-placeholder",fy=e=>()=>Ze(e,tx).getOr("!not found!"),p4=(e,r)=>{const i=e.toLowerCase();if(Jc.isRtl()){const c=((g,v)=>Xr(g,v)?g:((x,k)=>x+k)(g,v))(i,"-rtl");return Lt(r,c)?c:i}return i},h4=(e,r)=>Ze(r,p4(e,r)),v4=(e,r)=>{const i=r();return h4(e,i).getOrThunk(fy(i))},b4=()=>Ko("add-focusable",[ia(e=>{$m(e.element,"svg").each(r=>yo(r,"focusable","false"))})]),y4=(e,r,i,c)=>{var g,v;const x=(O=>!!Jc.isRtl()&&Lt(ex,O))(r)?["tox-icon--flip"]:[],k=Ze(i,p4(r,i)).or(c).getOrThunk(fy(i));return{dom:{tag:e.tag,attributes:(g=e.attributes)!==null&&g!==void 0?g:{},classes:e.classes.concat(x),innerHtml:k},behaviours:ln([...(v=e.behaviours)!==null&&v!==void 0?v:[],b4()])}},ud=(e,r,i,c=H.none())=>y4(r,e,i(),c),$N={success:"checkmark",error:"warning",err:"error",warning:"warning",warn:"warning",info:"info"},lg=Jl({name:"Notification",factory:e=>{const r=Gr({dom:{tag:"p",innerHtml:e.translationProvider(e.text)},behaviours:ln([Po.config({})])}),i=L=>({dom:{tag:"div",classes:["tox-bar"],styles:{width:`${L}%`}}}),c=L=>({dom:{tag:"div",classes:["tox-text"],innerHtml:`${L}%`}}),g=Gr({dom:{tag:"div",classes:e.progress?["tox-progress-bar","tox-progress-indicator"]:["tox-progress-bar"]},components:[{dom:{tag:"div",classes:["tox-bar-container"]},components:[i(0)]},c(0)],behaviours:ln([Po.config({})])}),v={updateProgress:(L,F)=>{L.getSystem().isConnected()&&g.getOpt(L).each(U=>{Po.set(U,[{dom:{tag:"div",classes:["tox-bar-container"]},components:[i(F)]},c(F)])})},updateText:(L,F)=>{if(L.getSystem().isConnected()){const U=r.get(L);Po.set(U,[Ea(F)])}}},x=Be([e.icon.toArray(),e.level.toArray(),e.level.bind(L=>H.from($N[L])).toArray()]),k=Gr(vi.sketch({dom:{tag:"button",classes:["tox-notification__dismiss","tox-button","tox-button--naked","tox-button--icon"]},components:[ud("close",{tag:"span",classes:["tox-icon"],attributes:{"aria-label":e.translationProvider("Close")}},e.iconProvider)],action:L=>{e.onAction(L)}})),O=((L,F,U)=>{const K=U(),oe=ze(L,ge=>Lt(K,p4(ge,K)));return y4({tag:"div",classes:["tox-notification__icon"]},oe.getOr(tx),K,H.none())})(x,0,e.iconProvider),N=[O,{dom:{tag:"div",classes:["tox-notification__body"]},components:[r.asSpec()],behaviours:ln([Po.config({})])}];return{uid:e.uid,dom:{tag:"div",attributes:{role:"alert"},classes:e.level.map(L=>["tox-notification","tox-notification--in",`tox-notification--${L}`]).getOr(["tox-notification","tox-notification--in"])},behaviours:ln([Oo.config({}),Ko("notification-events",[jt(Md(),L=>{k.getOpt(L).each(Oo.focus)})])]),components:N.concat(e.progress?[g.asSpec()]:[]).concat(e.closeButton?[k.asSpec()]:[]),apis:v}},configFields:[Vr("level"),kt("progress"),Vr("icon"),kt("onAction"),kt("text"),kt("iconProvider"),kt("translationProvider"),Si("closeButton",!0)],apis:{updateProgress:(e,r,i)=>{e.updateProgress(r,i)},updateText:(e,r,i)=>{e.updateText(r,i)}}});var wu,Qd,n0=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),Cp=tinymce.util.Tools.resolve("tinymce.EditorManager"),_l=tinymce.util.Tools.resolve("tinymce.Env");(function(e){e.default="wrap",e.floating="floating",e.sliding="sliding",e.scrolling="scrolling"})(wu||(wu={})),function(e){e.auto="auto",e.top="top",e.bottom="bottom"}(Qd||(Qd={}));const ca=e=>r=>r.options.get(e),o0=e=>r=>H.from(e(r)),w4=e=>{const r=_l.deviceType.isPhone(),i=_l.deviceType.isTablet()||r,c=e.options.register,g=x=>S(x)||x===!1,v=x=>S(x)||xe(x);c("skin",{processor:x=>S(x)||x===!1,default:"oxide"}),c("skin_url",{processor:"string"}),c("height",{processor:v,default:Math.max(e.getElement().offsetHeight,400)}),c("width",{processor:v,default:n0.DOM.getStyle(e.getElement(),"width")}),c("min_height",{processor:"number",default:100}),c("min_width",{processor:"number"}),c("max_height",{processor:"number"}),c("max_width",{processor:"number"}),c("style_formats",{processor:"object[]"}),c("style_formats_merge",{processor:"boolean",default:!1}),c("style_formats_autohide",{processor:"boolean",default:!1}),c("line_height_formats",{processor:"string",default:"1 1.1 1.2 1.3 1.4 1.5 2"}),c("font_family_formats",{processor:"string",default:"Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats"}),c("font_size_formats",{processor:"string",default:"8pt 10pt 12pt 14pt 18pt 24pt 36pt"}),c("font_size_input_default_unit",{processor:"string",default:"pt"}),c("block_formats",{processor:"string",default:"Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre"}),c("content_langs",{processor:"object[]"}),c("removed_menuitems",{processor:"string",default:""}),c("menubar",{processor:x=>S(x)||re(x),default:!r}),c("menu",{processor:"object",default:{}}),c("toolbar",{processor:x=>re(x)||S(x)||I(x)?{value:x,valid:!0}:{valid:!1,message:"Must be a boolean, string or array."},default:!0}),Q(9,x=>{c("toolbar"+(x+1),{processor:"string"})}),c("toolbar_mode",{processor:"string",default:i?"scrolling":"floating"}),c("toolbar_groups",{processor:"object",default:{}}),c("toolbar_location",{processor:"string",default:Qd.auto}),c("toolbar_persist",{processor:"boolean",default:!1}),c("toolbar_sticky",{processor:"boolean",default:e.inline}),c("toolbar_sticky_offset",{processor:"number",default:0}),c("fixed_toolbar_container",{processor:"string",default:""}),c("fixed_toolbar_container_target",{processor:"object"}),c("ui_mode",{processor:"string",default:"combined"}),c("file_picker_callback",{processor:"function"}),c("file_picker_validator_handler",{processor:"function"}),c("file_picker_types",{processor:"string"}),c("typeahead_urls",{processor:"boolean",default:!0}),c("anchor_top",{processor:g,default:"#top"}),c("anchor_bottom",{processor:g,default:"#bottom"}),c("draggable_modal",{processor:"boolean",default:!1}),c("statusbar",{processor:"boolean",default:!0}),c("elementpath",{processor:"boolean",default:!0}),c("branding",{processor:"boolean",default:!0}),c("promotion",{processor:"boolean",default:!0}),c("resize",{processor:x=>x==="both"||re(x),default:!_l.deviceType.isTouch()}),c("sidebar_show",{processor:"string"})},nx=ca("readonly"),x4=ca("height"),r0=ca("width"),gy=o0(ca("min_width")),ox=o0(ca("min_height")),py=o0(ca("max_width")),rx=o0(ca("max_height")),ax=o0(ca("style_formats")),sx=ca("style_formats_merge"),a0=ca("style_formats_autohide"),hy=ca("content_langs"),_4=ca("removed_menuitems"),Xh=ca("toolbar_mode"),ix=ca("toolbar_groups"),lx=ca("toolbar_location"),xO=ca("fixed_toolbar_container"),C4=ca("fixed_toolbar_container_target"),k4=ca("toolbar_persist"),_O=ca("toolbar_sticky_offset"),S4=ca("menubar"),s0=ca("toolbar"),E4=ca("file_picker_callback"),O4=ca("file_picker_validator_handler"),CO=ca("font_size_input_default_unit"),cx=ca("file_picker_types"),kO=ca("typeahead_urls"),T4=ca("anchor_top"),ux=ca("anchor_bottom"),vy=ca("draggable_modal"),A4=ca("statusbar"),SO=ca("elementpath"),dx=ca("branding"),kp=ca("resize"),EO=ca("paste_as_text"),OO=ca("sidebar_show"),mx=ca("promotion"),fx=e=>e.options.get("skin")===!1,by=e=>e.options.get("menubar")!==!1,N4=e=>{const r=e.options.get("skin_url");if(fx(e))return r;if(r)return e.documentBaseURI.toAbsolute(r);{const i=e.options.get("skin");return Cp.baseURL+"/skins/ui/"+i}},gx=e=>e.options.get("line_height_formats").split(" "),yy=e=>{const r=s0(e),i=S(r),c=I(r)&&r.length>0;return!wy(e)&&(c||i||r===!0)},Jh=e=>{const r=Q(9,c=>e.options.get("toolbar"+(c+1))),i=Ht(r,S);return dr(i.length>0,i)},wy=e=>Jh(e).fold(()=>{const r=s0(e);return me(r,S)&&r.length>0},nn),xy=e=>lx(e)===Qd.bottom,px=e=>{var r;if(!e.inline)return H.none();const i=(r=xO(e))!==null&&r!==void 0?r:"";if(i.length>0)return as(Hs(),i);const c=C4(e);return ue(c)?H.some(Pe(c)):H.none()},Qh=e=>e.inline&&px(e).isSome(),_y=e=>px(e).getOrThunk(()=>Sa(ka(Pe(e.getElement())))),M4=e=>e.inline&&!by(e)&&!yy(e)&&!wy(e),Cy=e=>(e.options.get("toolbar_sticky")||e.inline)&&!Qh(e)&&!M4(e),lf=e=>!Qh(e)&&e.options.get("ui_mode")==="split",R4=e=>{const r=e.options.get("menu");return so(r,i=>({...i,items:i.items}))};var UN=Object.freeze({__proto__:null,get ToolbarMode(){return wu},get ToolbarLocation(){return Qd},register:w4,getSkinUrl:N4,isReadOnly:nx,isSkinDisabled:fx,getHeightOption:x4,getWidthOption:r0,getMinWidthOption:gy,getMinHeightOption:ox,getMaxWidthOption:py,getMaxHeightOption:rx,getUserStyleFormats:ax,shouldMergeStyleFormats:sx,shouldAutoHideStyleFormats:a0,getLineHeightFormats:gx,getContentLanguages:hy,getRemovedMenuItems:_4,isMenubarEnabled:by,isMultipleToolbars:wy,isToolbarEnabled:yy,isToolbarPersist:k4,getMultipleToolbarsOption:Jh,getUiContainer:_y,useFixedContainer:Qh,isSplitUiMode:lf,getToolbarMode:Xh,isDraggableModal:vy,isDistractionFree:M4,isStickyToolbar:Cy,getStickyToolbarOffset:_O,getToolbarLocation:lx,isToolbarLocationBottom:xy,getToolbarGroups:ix,getMenus:R4,getMenubar:S4,getToolbar:s0,getFilePickerCallback:E4,getFilePickerTypes:cx,useTypeaheadUrls:kO,getAnchorTop:T4,getAnchorBottom:ux,getFilePickerValidatorHandler:O4,getFontSizeInputDefaultUnit:CO,useStatusBar:A4,useElementPath:SO,promotionEnabled:mx,useBranding:dx,getResize:kp,getPasteAsText:EO,getSidebarShow:OO});const TO="[data-mce-autocompleter]",hx=e=>yl(e,TO);var D4;(function(e){e[e.CLOSE_ON_EXECUTE=0]="CLOSE_ON_EXECUTE",e[e.BUBBLE_TO_SANDBOX=1]="BUBBLE_TO_SANDBOX"})(D4||(D4={}));var Qc=D4;const ky="tox-menu-nav__js",vx="tox-collection__item",I4="tox-swatch",P4={normal:ky,color:I4},bx="tox-collection__item--enabled",L4="tox-collection__item-icon",Sy="tox-collection__item-label",Ey="tox-collection__item-caret",i0="tox-collection__item--active",em="tox-collection__item-container",yx="tox-collection__item-container--row",e1=e=>Ze(P4,e).getOr(ky),AO=e=>e==="color"?"tox-swatches":"tox-menu",wx=e=>({backgroundMenu:"tox-background-menu",selectedMenu:"tox-selected-menu",selectedItem:"tox-collection__item--active",hasIcons:"tox-menu--has-icons",menu:AO(e),tieredMenu:"tox-tiered-menu"}),cg=e=>{const r=wx(e);return{backgroundMenu:r.backgroundMenu,selectedMenu:r.selectedMenu,menu:r.menu,selectedItem:r.selectedItem,item:e1(e)}},B4=(e,r,i)=>{const c=wx(i);return{tag:"div",classes:Be([[c.menu,`tox-menu-${r}-column`],e?[c.hasIcons]:[]])}},F4=[xp.parts.items({})],Oy=(e,r,i)=>{const c=wx(i);return{dom:{tag:"div",classes:Be([[c.tieredMenu]])},markers:cg(i)}},H4=G([Vr("data"),ct("inputAttributes",{}),ct("inputStyles",{}),ct("tag","input"),ct("inputClasses",[]),pr("onSetValue"),ct("styles",{}),ct("eventOrder",{}),es("inputBehaviours",[gn,Oo]),ct("selectOnFocus",!0)]),NO=e=>ln([Oo.config({onFocus:e.selectOnFocus?r=>{const i=r.element,c=ql(i);i.dom.setSelectionRange(0,c.length)}:J})]),MO=e=>({...NO(e),...is(e.inputBehaviours,[gn.config({store:{mode:"manual",...e.data.map(r=>({initialValue:r})).getOr({}),getValue:r=>ql(r.element),setValue:(r,i)=>{ql(r.element)!==i&&Wc(r.element,i)}},onSetValue:e.onSetValue})])}),z4=e=>({tag:e.tag,attributes:{type:"text",...e.inputAttributes},styles:e.inputStyles,classes:e.inputClasses}),Sp=Jl({name:"Input",configFields:H4(),factory:(e,r)=>({uid:e.uid,dom:z4(e),components:[],behaviours:MO(e),eventOrder:e.eventOrder})}),V4=Gn("refetch-trigger-event"),l0=Gn("redirect-menu-item-interaction"),$4="tox-menu__searcher",Ty=e=>as(e.element,`.${$4}`).bind(r=>e.getSystem().getByDom(r).toOptional()),U4=Ty,j4=e=>({fetchPattern:gn.getValue(e),selectionStart:e.element.dom.selectionStart,selectionEnd:e.element.dom.selectionEnd}),RO=e=>{const r=(g,v)=>(v.cut(),H.none()),i=(g,v)=>{const x={interactionEvent:v.event,eventType:v.event.raw.type};return eo(g,l0,x),H.some(!0)},c="searcher-events";return{dom:{tag:"div",classes:[vx]},components:[Sp.sketch({inputClasses:[$4,"tox-textfield"],inputAttributes:{...e.placeholder.map(g=>({placeholder:e.i18n(g)})).getOr({}),type:"search","aria-autocomplete":"list"},inputBehaviours:ln([Ko(c,[jt(Rm(),g=>{Pr(g,V4)}),jt(jc(),(g,v)=>{v.event.raw.key==="Escape"&&v.stop()})]),co.config({mode:"special",onLeft:r,onRight:r,onSpace:r,onEnter:i,onEscape:i,onUp:i,onDown:i})]),eventOrder:{keydown:[c,co.name()]}})]}},Ay="tox-collection--results__js",Z4=e=>{var r;return e.dom?{...e,dom:{...e.dom,attributes:{...(r=e.dom.attributes)!==null&&r!==void 0?r:{},id:Gn("aria-item-search-result-id"),"aria-selected":"false"}}}:e},Ny=(e,r)=>i=>{const c=xn(i,r);return et(c,g=>({dom:e,components:g}))},xx=(e,r)=>{const i=[];let c=[];return _t(e,(g,v)=>{r(g,v)?(c.length>0&&i.push(c),c=[],(Lt(g.dom,"innerHtml")||g.components&&g.components.length>0)&&c.push(g)):c.push(g)}),c.length>0&&i.push(c),et(i,g=>({dom:{tag:"div",classes:["tox-collection__group"]},components:g}))},_x=(e,r,i)=>xp.parts.items({preprocess:c=>{const g=et(c,i);return e!=="auto"&&e>1?Ny({tag:"div",classes:["tox-collection__group"]},e)(g):xx(g,(v,x)=>r[x].type==="separator")}}),W4=(e,r,i=!0)=>({dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(e===1?["tox-collection--list"]:["tox-collection--grid"])},components:[_x(e,r,Ae)]}),My=e=>Sn(e,r=>"icon"in r&&r.icon!==void 0),tm=e=>(console.error(tn(e)),console.log(e),H.none()),DO=(e,r,i,c,g)=>{const v=(x=i,{dom:{tag:"div",classes:["tox-collection","tox-collection--horizontal"]},components:[xp.parts.items({preprocess:k=>xx(k,(O,N)=>x[N].type==="separator")})]});var x;return{value:e,dom:v.dom,components:v.components,items:i}},Cx=(e,r,i,c,g)=>{if(g.menuType==="color"){const v=(x=>({dom:{tag:"div",classes:["tox-menu","tox-swatches-menu"]},components:[{dom:{tag:"div",classes:["tox-swatches"]},components:[xp.parts.items({preprocess:x!=="auto"?Ny({tag:"div",classes:["tox-swatches__row"]},x):Ae})]}]}))(c);return{value:e,dom:v.dom,components:v.components,items:i}}if(g.menuType==="normal"&&c==="auto"){const v=W4(c,i);return{value:e,dom:v.dom,components:v.components,items:i}}if(g.menuType==="normal"||g.menuType==="searchable"){const v=g.menuType!=="searchable"?W4(c,i):g.searchMode.searchMode==="search-with-field"?((x,k,O)=>{const N=Gn("aria-controls-search-results");return{dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(x===1?["tox-collection--list"]:["tox-collection--grid"])},components:[RO({i18n:Jc.translate,placeholder:O.placeholder}),{dom:{tag:"div",classes:[...x===1?["tox-collection--list"]:["tox-collection--grid"],Ay],attributes:{id:N}},components:[_x(x,k,Z4)]}]}})(c,i,g.searchMode):((x,k,O=!0)=>{const N=Gn("aria-controls-search-results");return{dom:{tag:"div",classes:["tox-menu","tox-collection",Ay].concat(x===1?["tox-collection--list"]:["tox-collection--grid"]),attributes:{id:N}},components:[_x(x,k,Z4)]}})(c,i);return{value:e,dom:v.dom,components:v.components,items:i}}if(g.menuType==="listpreview"&&c!=="auto"){const v=(x=>({dom:{tag:"div",classes:["tox-menu","tox-collection","tox-collection--toolbar","tox-collection--toolbar-lg"]},components:[xp.parts.items({preprocess:Ny({tag:"div",classes:["tox-collection__group"]},x)})]}))(c);return{value:e,dom:v.dom,components:v.components,items:i}}return{value:e,dom:B4(r,c,g.menuType),components:F4,items:i}},Ta=rr("type"),G4=rr("name"),Ry=rr("label"),dd=rr("text"),q4=rr("title"),K4=rr("icon"),c0=rr("value"),Y4=Ol("fetch"),IO=Ol("getSubmenuItems"),t1=Ol("onAction"),PO=Ol("onItemAction"),Ep=Va("onSetup",()=>J),LO=ei("name"),ug=ei("text"),xu=ei("icon"),Dy=ei("tooltip"),n1=ei("label"),BO=ei("shortcut"),kx=uu("select"),Iy=Si("active",!1),jN=Si("borderless",!1),_u=Si("enabled",!0),Py=Si("primary",!1),X4=e=>ct("columns",e),Sx=ct("meta",{}),Ex=Va("onAction",J),Op=e=>bl("type",e),Ox=e=>Ja("name","name",X(()=>Gn(`${e}-name`)),gr),J4=Jt([Ta,ug]),ZN=Jt([Op("autocompleteitem"),Iy,_u,Sx,c0,ug,xu]),u0=[_u,Dy,xu,ug,Ep],Q4=Jt([Ta,t1].concat(u0)),eS=e=>na("toolbarbutton",Q4,e),Tx=[Iy].concat(u0),WN=Jt(Tx.concat([Ta,t1])),tS=e=>na("ToggleButton",WN,e),nS=[Va("predicate",Ke),Zu("scope","node",["node","editor"]),Zu("position","selection",["node","selection","line"])],FO=u0.concat([Op("contextformbutton"),Py,t1,Qs("original",Ae)]),GN=Tx.concat([Op("contextformbutton"),Py,t1,Qs("original",Ae)]),o1=u0.concat([Op("contextformbutton")]),oS=Tx.concat([Op("contextformtogglebutton")]),rS=vl("type",{contextformbutton:FO,contextformtogglebutton:GN}),nm=Jt([Op("contextform"),Va("initValue",G("")),n1,ki("commands",rS),Tl("launch",vl("type",{contextformbutton:o1,contextformtogglebutton:oS}))].concat(nS)),aS=Jt([Op("contexttoolbar"),rr("items")].concat(nS)),qN=[Ta,rr("src"),ei("alt"),Am("classes",[],gr)],HO=Jt(qN),KN=[Ta,dd,LO,Am("classes",["tox-collection__item-label"],gr)],YN=Jt(KN),zO=Bn(()=>rl("type",{cardimage:HO,cardtext:YN,cardcontainer:Tc})),Tc=Jt([Ta,bl("direction","horizontal"),bl("align","left"),bl("valign","middle"),ki("items",zO)]),Ac=[_u,ug,BO,Ja("value","value",X(()=>Gn("menuitem-value")),Jn()),Sx],XN=Jt([Ta,n1,ki("items",zO),Ep,Ex].concat(Ac)),VO=Jt([Ta,Iy,xu].concat(Ac)),Ly=[Ta,rr("fancytype"),Ex],sS=[ct("initData",{})].concat(Ly),$O=[uu("select"),Nm("initData",{},[Si("allowCustomColors",!0),bl("storageKey","default"),fb("colors",Jn())])].concat(Ly),JN=vl("fancytype",{inserttable:sS,colorswatch:$O}),QN=Jt([Ta,Ep,Ex,xu].concat(Ac)),By=Jt([Ta,IO,Ep,xu].concat(Ac)),Ax=Jt([Ta,xu,Iy,Ep,t1].concat(Ac)),iS=(e,r,i)=>{const c=Ti(e.element,"."+i);if(c.length>0){const g=oo(c,v=>{const x=v.dom.getBoundingClientRect().top,k=c[0].dom.getBoundingClientRect().top;return Math.abs(x-k)>r}).getOr(c.length);return H.some({numColumns:g,numRows:Math.ceil(c.length/g)})}return H.none()},md=e=>((r,i)=>ln([Ko(r,i)]))(Gn("unnamed-events"),e),UO=Gn("tooltip.exclusive"),Fy=Gn("tooltip.show"),cl=Gn("tooltip.hide"),Nx=(e,r,i)=>{e.getSystem().broadcastOn([UO],{})};var om=Object.freeze({__proto__:null,hideAllExclusive:Nx,setComponents:(e,r,i,c)=>{i.getTooltip().each(g=>{g.getSystem().isConnected()&&Po.set(g,c)})}}),oa=Object.freeze({__proto__:null,events:(e,r)=>{const i=c=>{r.getTooltip().each(g=>{Xl(g),e.onHide(c,g),r.clearTooltip()}),r.clearTimer()};return Nr(Be([[jt(Fy,c=>{r.resetTimer(()=>{(g=>{if(!r.isShowing()){Nx(g);const v=e.lazySink(g).getOrDie(),x=g.getSystem().build({dom:e.tooltipDom,components:e.tooltipComponents,events:Nr(e.mode==="normal"?[jt(mu(),k=>{Pr(g,Fy)}),jt(jg(),k=>{Pr(g,cl)})]:[]),behaviours:ln([Po.config({})])});r.setTooltip(x),Zd(v,x),e.onShow(g,x),Ai.position(v,x,{anchor:e.anchor(g)})}})(c)},e.delay)}),jt(cl,c=>{r.resetTimer(()=>{i(c)},e.delay)}),jt(Dd(),(c,g)=>{const v=g;v.universal||pn(v.channels,UO)&&i(c)}),pi(c=>{i(c)})],e.mode==="normal"?[jt(Md(),c=>{Pr(c,Fy)}),jt(q1(),c=>{Pr(c,cl)}),jt(mu(),c=>{Pr(c,Fy)}),jt(jg(),c=>{Pr(c,cl)})]:[jt(uh(),(c,g)=>{Pr(c,Fy)}),jt(qg(),c=>{Pr(c,cl)})]]))}}),r1=[kt("lazySink"),kt("tooltipDom"),ct("exclusive",!0),ct("tooltipComponents",[]),ct("delay",300),Zu("mode","normal",["normal","follow-highlight"]),ct("anchor",e=>({type:"hotspot",hotspot:e,layouts:{onLtr:G([$a,Dl,ii,Oa,li,ss]),onRtl:G([$a,Dl,ii,Oa,li,ss])}})),pr("onHide"),pr("onShow")],Mx=Object.freeze({__proto__:null,init:()=>{const e=ha(),r=ha(),i=()=>{e.on(clearTimeout)},c=G("not-implemented");return il({getTooltip:r.get,isShowing:r.isSet,setTooltip:r.set,clearTooltip:r.clear,clearTimer:i,resetTimer:(g,v)=>{i(),e.set(setTimeout(g,v))},readState:c})}});const lS=js({fields:r1,name:"tooltipping",active:oa,state:Mx,apis:om}),Rx="silver.readonly",cS=Jt([al("readonly",Xa)]),Dx=(e,r)=>{const i=e.mainUi.outerContainer.element,c=[e.mainUi.mothership,...e.uiMotherships];r&&_t(c,g=>{g.broadcastOn([Is()],{target:i})}),_t(c,g=>{g.broadcastOn([Rx],{readonly:r})})},Ix=(e,r)=>{e.on("init",()=>{e.mode.isReadOnly()&&Dx(r,!0)}),e.on("SwitchMode",()=>Dx(r,e.mode.isReadOnly())),nx(e)&&e.mode.set("readonly")},Gs=()=>Oi.config({channels:{[Rx]:{schema:cS,onReceive:(e,r)=>{wo.set(e,r.readonly)}}}}),a1=e=>wo.config({disabled:e}),uS=e=>wo.config({disabled:e,disableClass:"tox-tbtn--disabled"}),Hy=e=>wo.config({disabled:e,disableClass:"tox-tbtn--disabled",useNative:!1}),zy=(e,r)=>{const i=e.getApi(r);return c=>{c(i)}},rm=(e,r)=>ia(i=>{zy(e,i)(c=>{const g=e.onSetup(c);ke(g)&&r.set(g)})}),Tp=(e,r)=>pi(i=>zy(e,i)(r.get())),eM=(e,r)=>wc((i,c)=>{zy(e,i)(e.onAction),e.triggersSubmenu||r!==Qc.CLOSE_ON_EXECUTE||(i.getSystem().isConnected()&&Pr(i,Ma()),c.stop())}),tM={[sl()]:["disabling","alloy.base.behaviour","toggling","item-events"]},d0=Dt,m0=(e,r,i,c)=>{const g=uo(J);return{type:"item",dom:r.dom,components:d0(r.optComponents),data:e.data,eventOrder:tM,hasSubmenu:e.triggersSubmenu,itemBehaviours:ln([Ko("item-events",[eM(e,i),rm(e,g),Tp(e,g)]),(v=()=>!e.enabled||c.isDisabled(),wo.config({disabled:v,disableClass:"tox-collection__item--state-disabled"})),Gs(),Po.config({})].concat(e.itemBehaviours))};var v},f0=e=>({value:e.value,meta:{text:e.text.getOr(""),...e.meta}}),nM=e=>{const r=_l.os.isMacOS()||_l.os.isiOS(),i=r?{alt:"\u2325",ctrl:"\u2303",shift:"\u21E7",meta:"\u2318",access:"\u2303\u2325"}:{meta:"Ctrl",access:"Shift+Alt"},c=e.split("+"),g=et(c,v=>{const x=v.toLowerCase().trim();return Lt(i,x)?i[x]:v});return r?g.join(""):g.join("+")},dS=(e,r,i=[L4])=>ud(e,{tag:"div",classes:i},r),jO=e=>({dom:{tag:"div",classes:[Sy]},components:[Ea(Jc.translate(e))]}),ZO=(e,r)=>({dom:{tag:"div",classes:r,innerHtml:e}}),WO=(e,r)=>({dom:{tag:"div",classes:[Sy]},components:[{dom:{tag:e.tag,styles:e.styles},components:[Ea(Jc.translate(r))]}]}),oM=e=>({dom:{tag:"div",classes:["tox-collection__item-accessory"]},components:[Ea(nM(e))]}),GO=e=>dS("checkmark",e,["tox-collection__item-checkmark"]),qO=e=>{const r=e.map(i=>({attributes:{title:Jc.translate(i),id:Gn("menu-item")}})).getOr({});return{tag:"div",classes:[ky,vx],...r}},Vy=(e,r,i,c=H.none())=>e.presets==="color"?((g,v,x)=>{const k=g.ariaLabel,O=g.value,N=g.iconContent.map(L=>((F,U,K)=>{const oe=U();return h4(F,oe).or(K).getOrThunk(fy(oe))})(L,v.icons,x));return{dom:(()=>{const L=I4,F=N.getOr(""),U=k.map(oe=>({title:v.translate(oe)})).getOr({}),K={tag:"div",attributes:U,classes:[L]};return O==="custom"?{...K,tag:"button",classes:[...K.classes,"tox-swatches__picker-btn"],innerHtml:F}:O==="remove"?{...K,classes:[...K.classes,"tox-swatch--remove"],innerHtml:F}:ue(O)?{...K,attributes:{...K.attributes,"data-mce-color":O},styles:{"background-color":O},innerHtml:F}:K})(),optComponents:[]}})(e,r,c):((g,v,x,k)=>{const O={tag:"div",classes:[L4]},N=x?g.iconContent.map(K=>ud(K,O,v.icons,k)).orThunk(()=>H.some({dom:O})):H.none(),L=g.checkMark,F=H.from(g.meta).fold(()=>jO,K=>Lt(K,"style")?Pt(WO,K.style):jO),U=g.htmlContent.fold(()=>g.textContent.map(F),K=>H.some(ZO(K,[Sy])));return{dom:qO(g.ariaLabel),optComponents:[N,U,g.shortcutContent.map(oM),L,g.caret]}})(e,r,i,c),mS=(e,r)=>Ze(e,"tooltipWorker").map(i=>[lS.config({lazySink:r.getSink,tooltipDom:{tag:"div",classes:["tox-tooltip-worker-container"]},tooltipComponents:[],anchor:c=>({type:"submenu",item:c,overrides:{maxHeightFunction:rp}}),mode:"follow-highlight",onShow:(c,g)=>{i(v=>{lS.setComponents(c,[yb({element:Pe(v)})])})}})]).getOr([]),fd=(e,r)=>{const i=(c=>n0.DOM.encode(c))(Jc.translate(e));if(r.length>0){const c=new RegExp((g=>g.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"))(r),"gi");return i.replace(c,g=>`<span class="tox-autocompleter-highlight">${g}</span>`)}return i},KO=(e,r)=>et(e,i=>{switch(i.type){case"cardcontainer":return((v,x)=>{const k=v.direction==="vertical"?"tox-collection__item-container--column":yx,O=v.align==="left"?"tox-collection__item-container--align-left":"tox-collection__item-container--align-right";return{dom:{tag:"div",classes:[em,k,O,(()=>{switch(v.valign){case"top":return"tox-collection__item-container--valign-top";case"middle":return"tox-collection__item-container--valign-middle";case"bottom":return"tox-collection__item-container--valign-bottom"}})()]},components:x}})(i,KO(i.items,r));case"cardimage":return((v,x,k)=>({dom:{tag:"img",classes:x,attributes:{src:v,alt:k.getOr("")}}}))(i.src,i.classes,i.alt);case"cardtext":const c=i.name.exists(v=>pn(r.cardText.highlightOn,v)),g=c?H.from(r.cardText.matchText).getOr(""):"";return ZO(fd(i.text,g),i.classes)}}),Px=po(s4(),e0()),fS=e=>({value:vS(e)}),gS=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,pS=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,hS=e=>gS.test(e)||pS.test(e),vS=e=>Ar(e,"#").toUpperCase(),bS=e=>{const r=e.toString(16);return(r.length===1?"0"+r:r).toUpperCase()},$y=e=>{const r=bS(e.red)+bS(e.green)+bS(e.blue);return fS(r)},yS=Math.min,wS=Math.max,Uy=Math.round,g0=/^\s*rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)\s*$/i,YO=/^\s*rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?(?:\.\d+)?)\s*\)\s*$/i,dg=(e,r,i,c)=>({red:e,green:r,blue:i,alpha:c}),Lx=e=>{const r=parseInt(e,10);return r.toString()===e&&r>=0&&r<=255},Bx=e=>{let r,i,c;const g=(e.hue||0)%360;let v=e.saturation/100,x=e.value/100;if(v=wS(0,yS(v,1)),x=wS(0,yS(x,1)),v===0)return r=i=c=Uy(255*x),dg(r,i,c,1);const k=g/60,O=x*v,N=O*(1-Math.abs(k%2-1)),L=x-O;switch(Math.floor(k)){case 0:r=O,i=N,c=0;break;case 1:r=N,i=O,c=0;break;case 2:r=0,i=O,c=N;break;case 3:r=0,i=N,c=O;break;case 4:r=N,i=0,c=O;break;case 5:r=O,i=0,c=N;break;default:r=i=c=0}return r=Uy(255*(r+L)),i=Uy(255*(i+L)),c=Uy(255*(c+L)),dg(r,i,c,1)},s1=e=>{const r=(v=>{const x=(O=>({value:O.value.replace(gS,(L,F,U,K)=>F+F+U+U+K+K)}))(v),k=pS.exec(x.value);return k===null?["FFFFFF","FF","FF","FF"]:k})(e),i=parseInt(r[1],16),c=parseInt(r[2],16),g=parseInt(r[3],16);return dg(i,c,g,1)},Fx=(e,r,i,c)=>{const g=parseInt(e,10),v=parseInt(r,10),x=parseInt(i,10),k=parseFloat(c);return dg(g,v,x,k)},Hx=e=>{if(e==="transparent")return H.some(dg(0,0,0,0));const r=g0.exec(e);if(r!==null)return H.some(Fx(r[1],r[2],r[3],"1"));const i=YO.exec(e);return i!==null?H.some(Fx(i[1],i[2],i[3],i[4])):H.none()},XO=e=>`rgba(${e.red},${e.green},${e.blue},${e.alpha})`,xS=dg(255,0,0,1),_S=(e,r)=>{e.dispatch("ResizeContent",r)},CS=(e,r)=>{e.dispatch("TextColorChange",r)},JO=(e,r)=>e.dispatch("ResolveName",{name:r.nodeName.toLowerCase(),target:r}),zx=(e,r)=>()=>{e(),r()},Cl=e=>Ap(e,"NodeChange",r=>{r.setEnabled(e.selection.isEditable())}),Vx=(e,r)=>i=>{const c=Cl(e)(i),g=((v,x)=>k=>{const O=Gf(),N=()=>{k.setActive(v.formatter.match(x));const L=v.formatter.formatChanged(x,k.setActive);O.set(L)};return v.initialized?N():v.once("init",N),()=>{v.off("init",N),O.clear()}})(e,r)(i);return()=>{c(),g()}},Ap=(e,r,i)=>c=>{const g=()=>i(c),v=()=>{i(c),e.on(r,g)};return e.initialized?v():e.once("init",v),()=>{e.off("init",v),e.off(r,g)}},QO=e=>r=>()=>{e.undoManager.transact(()=>{e.focus(),e.execCommand("mceToggleFormat",!1,r.format)})},Nc=(e,r)=>()=>e.execCommand(r);var cf=tinymce.util.Tools.resolve("tinymce.util.LocalStorage");const kS={},SS=e=>Ze(kS,e).getOrThunk(()=>{const r=`tinymce-custom-colors-${e}`,i=cf.getItem(r);if(le(i)){const g=cf.getItem("tinymce-custom-colors");cf.setItem(r,ue(g)?g:"[]")}const c=((g,v=10)=>{const x=cf.getItem(g),k=S(x)?JSON.parse(x):[],O=v-(N=k).length<0?N.slice(0,v):N;var N;const L=F=>{O.splice(F,1)};return{add:F=>{In(O,F).each(L),O.unshift(F),O.length>v&&O.pop(),cf.setItem(g,JSON.stringify(O))},state:()=>O.slice(0)}})(r,10);return kS[e]=c,c}),eT=(e,r)=>{SS(e).add(r)},jy=(e,r,i)=>({hue:e,saturation:r,value:i}),p0=e=>{let r=0,i=0,c=0;const g=e.red/255,v=e.green/255,x=e.blue/255,k=Math.min(g,Math.min(v,x)),O=Math.max(g,Math.max(v,x));return k===O?(c=k,jy(0,0,100*c)):(r=g===k?3:x===k?1:5,r=60*(r-(g===k?v-x:x===k?g-v:x-g)/(O-k)),i=(O-k)/O,c=O,jy(Math.round(r),Math.round(100*i),Math.round(100*c)))},$x=e=>$y(Bx(e)),ES=e=>{return(r=e,hS(r)?H.some({value:vS(r)}):H.none()).orThunk(()=>Hx(e).map($y)).getOrThunk(()=>{const i=document.createElement("canvas");i.height=1,i.width=1;const c=i.getContext("2d");c.clearRect(0,0,i.width,i.height),c.fillStyle="#FFFFFF",c.fillStyle=e,c.fillRect(0,0,1,1);const g=c.getImageData(0,0,1,1).data,v=g[0],x=g[1],k=g[2],O=g[3];return $y(dg(v,x,k,O))});var r},Ux="forecolor",Zy="hilitecolor",jx=e=>Math.max(5,Math.ceil(Math.sqrt(e))),Wy=(e,r)=>{const i=jx(r),c=am("color_cols")(e);return i===5?c:i},tT=e=>{const r=[];for(let i=0;i<e.length;i+=2)r.push({text:e[i+1],value:"#"+ES(e[i]).value,icon:"checkmark",type:"choiceitem"});return r},am=e=>r=>r.options.get(e),gd="#000000",Zx=(e,r)=>{const i=((c,g)=>g===Ux?am("color_cols_foreground")(c):g===Zy?am("color_cols_background")(c):am("color_cols")(c))(e,r);return i>0?i:5},Os=am("custom_colors"),h0=(e,r)=>r===Ux&&e.options.isSet("color_map_foreground")?am("color_map_foreground")(e):r===Zy&&e.options.isSet("color_map_background")?am("color_map_background")(e):am("color_map")(e),nT=am("color_default_foreground"),oT=am("color_default_background"),OS=(e,r)=>{const i=Pe(e.selection.getStart()),c=r==="hilitecolor"?Vs(i,g=>{if(Qn(g)){const v=Fa(g,"background-color");return dr(Hx(v).exists(x=>x.alpha!==0),v)}return H.none()}).getOr("rgba(0, 0, 0, 0)"):Fa(i,"color");return Hx(c).map(g=>"#"+$y(g).value)},TS=e=>{const r="choiceitem",i={type:r,text:"Remove color",icon:"color-swatch-remove-color",value:"remove"};return e?[i,{type:r,text:"Custom color",icon:"color-picker",value:"custom"}]:[i]},Wx=(e,r,i,c)=>{i==="custom"?lT(e)(g=>{g.each(v=>{eT(r,v),e.execCommand("mceApplyTextcolor",r,v),c(v)})},OS(e,r).getOr(gd)):i==="remove"?(c(""),e.execCommand("mceRemoveTextcolor",r)):(c(i),e.execCommand("mceApplyTextcolor",r,i))},rT=(e,r,i)=>e.concat((c=>et(SS(c).state(),g=>({type:"choiceitem",text:g,icon:"checkmark",value:g})))(r).concat(TS(i))),aT=(e,r,i)=>c=>{c(rT(e,r,i))},Gx=(e,r,i)=>{const c=r==="forecolor"?"tox-icon-text-color__color":"tox-icon-highlight-bg-color__color";e.setIconFill(c,i)},qx=(e,r)=>i=>{const c=OS(e,r);return io(c,i.toUpperCase())},sT=(e,r,i,c,g)=>{e.ui.registry.addSplitButton(r,{tooltip:c,presets:"color",icon:r==="forecolor"?"text-color":"highlight-bg-color",select:qx(e,i),columns:Zx(e,i),fetch:aT(h0(e,i),i,Os(e)),onAction:v=>{Wx(e,i,g.get(),J)},onItemAction:(v,x)=>{Wx(e,i,x,k=>{g.set(k),CS(e,{name:r,color:k})})},onSetup:v=>{Gx(v,r,g.get());const x=k=>{k.name===r&&Gx(v,k.name,k.color)};return e.on("TextColorChange",x),zx(Cl(e)(v),()=>{e.off("TextColorChange",x)})}})},iT=(e,r,i,c,g)=>{e.ui.registry.addNestedMenuItem(r,{text:c,icon:r==="forecolor"?"text-color":"highlight-bg-color",onSetup:v=>(Gx(v,r,g.get()),Cl(e)(v)),getSubmenuItems:()=>[{type:"fancymenuitem",fancytype:"colorswatch",select:qx(e,i),initData:{storageKey:i},onAction:v=>{Wx(e,i,v.value,x=>{g.set(x),CS(e,{name:r,color:x})})}}]})},lT=e=>(r,i)=>{let c=!1;const g={colorpicker:i};e.windowManager.open({title:"Color Picker",size:"normal",body:{type:"panel",items:[{type:"colorpicker",name:"colorpicker",label:"Color"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:g,onAction:(v,x)=>{x.name==="hex-valid"&&(c=x.value)},onSubmit:v=>{const x=v.getData().colorpicker;c?(r(H.from(x)),v.close()):e.windowManager.alert(e.translate(["Invalid hex color code: {0}",x]))},onClose:J,onCancel:()=>{r(H.none())}})},Kx=(e,r,i,c,g,v,x,k)=>{const O=My(r),N=cT(r,i,c,g!=="color"?"normal":"color",v,x,k);return Cx(e,O,N,c,{menuType:g})},cT=(e,r,i,c,g,v,x)=>Dt(et(e,k=>{return k.type==="choiceitem"?(O=k,na("choicemenuitem",VO,O)).fold(tm,N=>H.some(((L,F,U,K,oe,ge,pe,we=!0)=>{const Se=Vy({presets:U,textContent:F?L.text:H.none(),htmlContent:H.none(),ariaLabel:L.text,iconContent:L.icon,shortcutContent:F?L.shortcut:H.none(),checkMark:F?H.some(GO(pe.icons)):H.none(),caret:H.none(),value:L.value},pe,we);return lr(m0({data:f0(L),enabled:L.enabled,getApi:he=>({setActive:Ee=>{tr.set(he,Ee)},isActive:()=>tr.isOn(he),isEnabled:()=>!wo.isDisabled(he),setEnabled:Ee=>wo.set(he,!Ee)}),onAction:he=>K(L.value),onSetup:he=>(he.setActive(oe),J),triggersSubmenu:!1,itemBehaviours:[]},Se,ge,pe),{toggling:{toggleClass:bx,toggleOnExecute:!1,selected:L.active,exclusive:!0}})})(N,i===1,c,r,v(N.value),g,x,My(e)))):H.none();var O})),Yx=(e,r)=>{const i=cg(r);return e===1?{mode:"menu",moveOnTab:!0}:e==="auto"?{mode:"grid",selector:"."+i.item,initSize:{numColumns:1,numRows:1}}:{mode:"matrix",rowSelector:"."+(r==="color"?"tox-swatches__row":"tox-collection__group"),previousSelector:c=>r==="color"?as(c.element,"[aria-checked=true]"):H.none()}},uT=Gn("cell-over"),AS=Gn("cell-execute"),rM=(e,r,i)=>{const c=v=>eo(v,AS,{row:e,col:r}),g=(v,x)=>{x.stop(),c(v)};return Cs({dom:{tag:"div",attributes:{role:"button","aria-labelledby":i}},behaviours:ln([Ko("insert-table-picker-cell",[jt(mu(),Oo.focus),jt(sl(),c),jt(bc(),g),jt(Im(),g)]),tr.config({toggleClass:"tox-insert-table-picker__selected",toggleOnExecute:!1}),Oo.config({onFocus:v=>eo(v,uT,{row:e,col:r})})])})},aM=e=>ne(e,r=>et(r,Kl)),dT=(e,r)=>Ea(`${r}x${e}`),Xx={inserttable:e=>{const r=Gn("size-label"),i=((v,x,k)=>{const O=[];for(let N=0;N<10;N++){const L=[];for(let F=0;F<10;F++)L.push(rM(N,F,v));O.push(L)}return O})(r),c=dT(0,0),g=Gr({dom:{tag:"span",classes:["tox-insert-table-picker__label"],attributes:{id:r}},components:[c],behaviours:ln([Po.config({})])});return{type:"widget",data:{value:Gn("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[Px.widget({dom:{tag:"div",classes:["tox-insert-table-picker"]},components:aM(i).concat(g.asSpec()),behaviours:ln([Ko("insert-table-picker",[ia(v=>{Po.set(g.get(v),[c])}),Q1(uT,(v,x,k)=>{const{row:O,col:N}=k.event;((L,F,U,K,oe)=>{for(let ge=0;ge<10;ge++)for(let pe=0;pe<10;pe++)tr.set(L[ge][pe],ge<=F&&pe<=U)})(i,O,N),Po.set(g.get(v),[dT(O+1,N+1)])}),Q1(AS,(v,x,k)=>{const{row:O,col:N}=k.event;e.onAction({numRows:O+1,numColumns:N+1}),Pr(v,Ma())})]),co.config({initSize:{numRows:10,numColumns:10},mode:"flatgrid",selector:'[role="button"]'})])})]}},colorswatch:(e,r)=>{const i=((x,k)=>{const O=x.initData.allowCustomColors&&k.colorinput.hasCustomColors();return x.initData.colors.fold(()=>rT(k.colorinput.getColors(x.initData.storageKey),x.initData.storageKey,O),N=>N.concat(TS(O)))})(e,r),c=r.colorinput.getColorCols(e.initData.storageKey),g="color",v={...Kx(Gn("menu-value"),i,x=>{e.onAction({value:x})},c,g,Qc.CLOSE_ON_EXECUTE,e.select.getOr(Ke),r.shared.providers),markers:cg(g),movement:Yx(c,g)};return{type:"widget",data:{value:Gn("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[Px.widget(xp.sketch(v))]}}},Gy=e=>({type:"separator",dom:{tag:"div",classes:[vx,"tox-collection__group-heading"]},components:e.text.map(Ea).toArray()});var Jx=Object.freeze({__proto__:null,getCoupled:(e,r,i,c)=>i.getOrCreate(e,r,c),getExistingCoupled:(e,r,i,c)=>i.getExisting(e,r,c)}),v0=[al("others",gc(sr.value,Jn()))],mT=Object.freeze({__proto__:null,init:()=>{const e={},r=(c,g)=>{if(Dn(c.others).length===0)throw new Error("Cannot find any known coupled components");return Ze(e,g)},i=G({});return il({readState:i,getExisting:(c,g,v)=>r(g,v).orThunk(()=>(Ze(g.others,v).getOrDie("No information found for coupled component: "+v),H.none())),getOrCreate:(c,g,v)=>r(g,v).getOrThunk(()=>{const x=Ze(g.others,v).getOrDie("No information found for coupled component: "+v)(c),k=c.getSystem().build(x);return e[v]=k,k})})}});const Ua=js({fields:v0,name:"coupling",apis:Jx,state:mT}),NS=e=>{let r=H.none(),i=[];const c=x=>{g()?v(x):i.push(x)},g=()=>r.isSome(),v=x=>{r.each(k=>{setTimeout(()=>{x(k)},0)})};return e(x=>{g()||(r=H.some(x),_t(i,v),i=[])}),{get:c,map:x=>NS(k=>{c(O=>{k(x(O))})}),isReady:g}},sM={nu:NS,pure:e=>NS(r=>{r(e)})},iM=e=>{setTimeout(()=>{throw e},0)},b0=e=>{const r=i=>{e().then(i,iM)};return{map:i=>b0(()=>e().then(i)),bind:i=>b0(()=>e().then(c=>i(c).toPromise())),anonBind:i=>b0(()=>e().then(()=>i.toPromise())),toLazy:()=>sM.nu(r),toCached:()=>{let i=null;return b0(()=>(i===null&&(i=e()),i))},toPromise:e,get:r}},mg=e=>b0(()=>new Promise(e)),eu=e=>b0(()=>Promise.resolve(e)),Np=G("sink"),MS=G(Gt({name:Np(),overrides:G({dom:{tag:"div"},behaviours:ln([Ai.config({useFixed:nn})]),events:Nr([Id(jc()),Id(gi()),Id(bc())])})})),RS=(e,r)=>{const i=e.getHotspot(r).getOr(r),c="hotspot",g=e.getAnchorOverrides();return e.layouts.fold(()=>({type:c,hotspot:i,overrides:g}),v=>({type:c,hotspot:i,overrides:g,layouts:v}))},i1=(e,r,i,c,g,v,x)=>((O,N,L,F,U,K,oe)=>{const ge=((we,Se,he)=>(0,we.fetch)(he).map(Se))(O,N,F),pe=Ky(F,O);return ge.map(we=>we.bind(Se=>H.from(_p.sketch({...K.menu(),uid:Xg(""),data:Se,highlightOnOpen:oe,onOpenMenu:(he,Ee)=>{const Te=pe().getOrDie();Ai.position(Te,Ee,{anchor:L}),br.decloak(U)},onOpenSubmenu:(he,Ee,Te)=>{const He=pe().getOrDie();Ai.position(He,Te,{anchor:{type:"submenu",item:Ee}}),br.decloak(U)},onRepositionMenu:(he,Ee,Te)=>{const He=pe().getOrDie();Ai.position(He,Ee,{anchor:L}),_t(Te,Ye=>{Ai.position(He,Ye.triggeredMenu,{anchor:{type:"submenu",item:Ye.triggeringItem}})})},onEscape:()=>(Oo.focus(F),br.close(U),H.some(!0))}))))})(e,r,RS(e,i),i,c,g,x).map(O=>(O.fold(()=>{br.isOpen(c)&&br.close(c)},N=>{br.cloak(c),br.open(c,N),v(c)}),c)),qy=(e,r,i,c,g,v,x)=>(br.close(c),eu(c)),l1=(e,r,i,c,g,v)=>{const x=Ua.getCoupled(i,"sandbox");return(br.isOpen(x)?qy:i1)(e,r,i,x,c,g,v)},Ky=(e,r)=>e.getSystem().getByUid(r.uid+"-"+Np()).map(i=>()=>sr.value(i)).getOrThunk(()=>r.lazySink.fold(()=>()=>sr.error(new Error("No internal sink is specified, nor could an external sink be found")),i=>()=>i(e))),DS=e=>{br.getState(e).each(r=>{_p.repositionMenus(r)})},IS=(e,r,i)=>{const c=yw(),g=Ky(r,e);return{dom:{tag:"div",classes:e.sandboxClasses,attributes:{id:c.id,role:"listbox"}},behaviours:ci(e.sandboxBehaviours,[gn.config({store:{mode:"memory",initialValue:r}}),br.config({onOpen:(v,x)=>{const k=RS(e,r);c.link(r.element),e.matchWidth&&((O,N,L)=>{const F=hr.getCurrent(N).getOr(N),U=Yr(O.element);L?Do(F.element,"min-width",U+"px"):((K,oe)=>{Hu.set(K,oe)})(F.element,U)})(k.hotspot,x,e.useMinWidth),e.onOpen(k,v,x),i!==void 0&&i.onOpen!==void 0&&i.onOpen(v,x)},onClose:(v,x)=>{c.unlink(r.element),i!==void 0&&i.onClose!==void 0&&i.onClose(v,x)},isPartOf:(v,x,k)=>Um(x,k)||Um(r,k),getAttachPoint:()=>g().getOrDie()}),hr.config({find:v=>br.getState(v).bind(x=>hr.getCurrent(x))}),Oi.config({channels:{...ms({isExtraPart:Ke}),...qc({doReposition:DS})}})])}},PS=e=>{const r=Ua.getCoupled(e,"sandbox");DS(r)},LS=()=>[ct("sandboxClasses",[]),Zs("sandboxBehaviours",[hr,Oi,br,gn])],lM=G([kt("dom"),kt("fetch"),pr("onOpen"),ji("onExecute"),ct("getHotspot",H.some),ct("getAnchorOverrides",G({})),Xm(),es("dropdownBehaviours",[tr,Ua,co,Oo]),kt("toggleClass"),ct("eventOrder",{}),Vr("lazySink"),ct("matchWidth",!1),ct("useMinWidth",!1),Vr("role")].concat(LS())),fT=G([Rt({schema:[Ju(),ct("fakeFocus",!1)],name:"menu",defaults:e=>({onExecute:e.onExecute})}),MS()]),tu=qi({name:"Dropdown",configFields:lM(),partFields:fT(),factory:(e,r,i,c)=>{const g=O=>{br.getState(O).each(N=>{_p.highlightPrimary(N)})},v=(O,N,L)=>l1(e,Ae,O,c,N,L),x={expand:O=>{tr.isOn(O)||v(O,J,Mi.HighlightNone).get(J)},open:O=>{tr.isOn(O)||v(O,J,Mi.HighlightMenuAndItem).get(J)},refetch:O=>Ua.getExistingCoupled(O,"sandbox").fold(()=>v(O,J,Mi.HighlightMenuAndItem).map(J),N=>i1(e,Ae,O,N,c,J,Mi.HighlightMenuAndItem).map(J)),isOpen:tr.isOn,close:O=>{tr.isOn(O)&&v(O,J,Mi.HighlightMenuAndItem).get(J)},repositionMenus:O=>{tr.isOn(O)&&PS(O)}},k=(O,N)=>(fu(O),H.some(!0));return{uid:e.uid,dom:e.dom,components:r,behaviours:is(e.dropdownBehaviours,[tr.config({toggleClass:e.toggleClass,aria:{mode:"expanded"}}),Ua.config({others:{sandbox:O=>IS(e,O,{onOpen:()=>tr.on(O),onClose:()=>tr.off(O)})}}),co.config({mode:"special",onSpace:k,onEnter:k,onDown:(O,N)=>{if(tu.isOpen(O)){const L=Ua.getCoupled(O,"sandbox");g(L)}else tu.open(O);return H.some(!0)},onEscape:(O,N)=>tu.isOpen(O)?(tu.close(O),H.some(!0)):H.none()}),Oo.config({})]),events:Jd(H.some(O=>{v(O,g,Mi.HighlightMenuAndItem).get(J)})),eventOrder:{...e.eventOrder,[sl()]:["disabling","toggling","alloy.base.behaviour"]},apis:x,domModification:{attributes:{"aria-haspopup":"true",...e.role.fold(()=>({}),O=>({role:O})),...e.dom.tag==="button"?{type:Ze(e.dom,"attributes").bind(O=>Ze(O,"type")).getOr("button")}:{}}}}},apis:{open:(e,r)=>e.open(r),refetch:(e,r)=>e.refetch(r),expand:(e,r)=>e.expand(r),close:(e,r)=>e.close(r),isOpen:(e,r)=>e.isOpen(r),repositionMenus:(e,r)=>e.repositionMenus(r)}}),gT=(e,r,i)=>{U4(e).each(c=>{var g;((v,x)=>{qa(x.element,"id").each(k=>yo(v.element,"aria-activedescendant",k))})(c,i),(Ei((g=r).element,Ay)?H.some(g.element):as(g.element,"."+Ay)).each(v=>{qa(v,"id").each(x=>yo(c.element,"aria-controls",x))})}),yo(i.element,"aria-selected","true")},pT=(e,r,i)=>{yo(i.element,"aria-selected","false")},y0=e=>Ua.getExistingCoupled(e,"sandbox").bind(Ty).map(j4).map(r=>r.fetchPattern).getOr("");var Qx;(function(e){e[e.ContentFocus=0]="ContentFocus",e[e.UiFocus=1]="UiFocus"})(Qx||(Qx={}));const cM=(e,r,i,c,g)=>{const v=i.shared.providers,x=O=>g?{...O,shortcut:H.none(),icon:O.text.isSome()?H.none():O.icon}:O;switch(e.type){case"menuitem":return(k=e,na("menuitem",QN,k)).fold(tm,O=>H.some(((N,L,F,U=!0)=>{const K=Vy({presets:"normal",iconContent:N.icon,textContent:N.text,htmlContent:H.none(),ariaLabel:N.text,caret:H.none(),checkMark:H.none(),shortcutContent:N.shortcut},F,U);return m0({data:f0(N),getApi:oe=>({isEnabled:()=>!wo.isDisabled(oe),setEnabled:ge=>wo.set(oe,!ge)}),enabled:N.enabled,onAction:N.onAction,onSetup:N.onSetup,triggersSubmenu:!1,itemBehaviours:[]},K,L,F)})(x(O),r,v,c)));case"nestedmenuitem":return(O=>na("nestedmenuitem",By,O))(e).fold(tm,O=>H.some(((N,L,F,U=!0,K=!1)=>{const oe=K?(ge=F.icons,dS("chevron-down",ge,[Ey])):(we=>dS("chevron-right",we,[Ey]))(F.icons);var ge;const pe=Vy({presets:"normal",iconContent:N.icon,textContent:N.text,htmlContent:H.none(),ariaLabel:N.text,caret:H.some(oe),checkMark:H.none(),shortcutContent:N.shortcut},F,U);return m0({data:f0(N),getApi:we=>({isEnabled:()=>!wo.isDisabled(we),setEnabled:Se=>wo.set(we,!Se),setIconFill:(Se,he)=>{as(we.element,`svg path[class="${Se}"], rect[class="${Se}"]`).each(Ee=>{yo(Ee,"fill",he)})}}),enabled:N.enabled,onAction:J,onSetup:N.onSetup,triggersSubmenu:!0,itemBehaviours:[]},pe,L,F)})(x(O),r,v,c,g)));case"togglemenuitem":return(O=>na("togglemenuitem",Ax,O))(e).fold(tm,O=>H.some(((N,L,F,U=!0)=>{const K=Vy({iconContent:N.icon,textContent:N.text,htmlContent:H.none(),ariaLabel:N.text,checkMark:H.some(GO(F.icons)),caret:H.none(),shortcutContent:N.shortcut,presets:"normal",meta:N.meta},F,U);return lr(m0({data:f0(N),enabled:N.enabled,getApi:oe=>({setActive:ge=>{tr.set(oe,ge)},isActive:()=>tr.isOn(oe),isEnabled:()=>!wo.isDisabled(oe),setEnabled:ge=>wo.set(oe,!ge)}),onAction:N.onAction,onSetup:N.onSetup,triggersSubmenu:!1,itemBehaviours:[]},K,L,F),{toggling:{toggleClass:bx,toggleOnExecute:!1,selected:N.active}})})(x(O),r,v,c)));case"separator":return(O=>na("separatormenuitem",J4,O))(e).fold(tm,O=>H.some(Gy(O)));case"fancymenuitem":return(O=>na("fancymenuitem",JN,O))(e).fold(tm,O=>((N,L)=>Ze(Xx,N.fancytype).map(F=>F(N,L)))(O,i));default:return console.error("Unknown item in general menu",e),H.none()}var k},e_=(e,r,i,c,g,v,x)=>{const k=c===1,O=!k||My(e);return Dt(et(e,N=>{switch(N.type){case"separator":return(L=N,na("Autocompleter.Separator",J4,L)).fold(tm,F=>H.some(Gy(F)));case"cardmenuitem":return(F=>na("cardmenuitem",XN,F))(N).fold(tm,F=>H.some(((U,K,oe,ge)=>{const pe={dom:qO(U.label),optComponents:[H.some({dom:{tag:"div",classes:[em,yx]},components:KO(U.items,ge)})]};return m0({data:f0({text:H.none(),...U}),enabled:U.enabled,getApi:we=>({isEnabled:()=>!wo.isDisabled(we),setEnabled:Se=>{wo.set(we,!Se),_t(Ti(we.element,"*"),he=>{we.getSystem().getByDom(he).each(Ee=>{Ee.hasConfigured(wo)&&wo.set(Ee,!Se)})})}}),onAction:U.onAction,onSetup:U.onSetup,triggersSubmenu:!1,itemBehaviours:H.from(ge.itemBehaviours).getOr([])},pe,K,oe.providers)})({...F,onAction:U=>{F.onAction(U),i(F.value,F.meta)}},g,v,{itemBehaviours:mS(F.meta,v),cardText:{matchText:r,highlightOn:x}})));default:return(F=>na("Autocompleter.Item",ZN,F))(N).fold(tm,F=>H.some(((U,K,oe,ge,pe,we,Se,he=!0)=>{const Ee=Vy({presets:ge,textContent:H.none(),htmlContent:oe?U.text.map(Te=>fd(Te,K)):H.none(),ariaLabel:U.text,iconContent:U.icon,shortcutContent:H.none(),checkMark:H.none(),caret:H.none(),value:U.value},Se.providers,he,U.icon);return m0({data:f0(U),enabled:U.enabled,getApi:G({}),onAction:Te=>pe(U.value,U.meta),onSetup:G(J),triggersSubmenu:!1,itemBehaviours:mS(U.meta,Se)},Ee,we,Se.providers)})(F,r,k,"normal",i,g,v,O)))}var L}))},nu=(e,r,i,c,g,v)=>{const x=My(r),k=Dt(et(r,N=>{const L=F=>cM(F,i,c,(U=>g?!Lt(U,"text"):x)(F),g);return N.type==="nestedmenuitem"&&N.getSubmenuItems().length<=0?L({...N,enabled:!1}):L(N)})),O=(N=>N.searchMode==="no-search"?{menuType:"normal"}:{menuType:"searchable",searchMode:N})(v);return(g?DO:Cx)(e,x,k,1,O)},Yy=e=>_p.singleData(e.value,e),hT=(e,r)=>{const i=uo(!1),c=uo(!1),g=Cs(ls.sketch({dom:{tag:"div",classes:["tox-autocompleter"]},components:[],fireDismissalEventInstead:{},inlineBehaviours:ln([Ko("dismissAutocompleter",[jt(Pm(),()=>N())])]),lazySink:r.getSink})),v=()=>ls.isOpen(g),x=c.get,k=()=>{v()&&ls.hide(g)},O=()=>ls.getContent(g).bind(F=>En(F.components(),0)),N=()=>e.execCommand("mceAutocompleterClose"),L=F=>{const U=(K=>{const oe=Hn(K,ge=>H.from(ge.columns)).getOr(1);return ne(K,ge=>{const pe=ge.items;return e_(pe,ge.matchText,(we,Se)=>{const he=e.selection.getRng();((Ee,Te)=>hx(Pe(Te.startContainer)).map(He=>{const Ye=Ee.createRng();return Ye.selectNode(He.dom),Ye}))(e.dom,he).each(Ee=>{const Te={hide:()=>N(),reload:He=>{k(),e.execCommand("mceAutocompleterReload",!1,{fetchOptions:He})}};i.set(!0),ge.onAction(Te,Ee,we,Se),i.set(!1)})},oe,Qc.BUBBLE_TO_SANDBOX,r,ge.highlightOn)})})(F);U.length>0?((K,oe)=>{var ge;(ge=Pe(e.getBody()),as(ge,TO)).each(pe=>{const we=Hn(K,Se=>H.from(Se.columns)).getOr(1);ls.showMenuAt(g,{anchor:{type:"node",root:Pe(e.getBody()),node:H.from(pe)}},((Se,he,Ee,Te)=>{const He=Yx(he,Te),Ye=cg(Te);return{data:Yy({...Se,movement:He,menuBehaviours:md(he!=="auto"?[]:[ia((gt,Xt)=>{iS(gt,4,Ye.item).each(({numColumns:Wt,numRows:Qt})=>{co.setGridSize(gt,Qt,Wt)})})])}),menu:{markers:cg(Te),fakeFocus:Ee===Qx.ContentFocus}}})(Cx("autocompleter-value",!0,oe,we,{menuType:"normal"}),we,Qx.ContentFocus,"normal"))}),O().each(Fr.highlightFirst)})(F,U):k()};e.on("AutocompleterStart",({lookupData:F})=>{c.set(!0),i.set(!1),L(F)}),e.on("AutocompleterUpdate",({lookupData:F})=>L(F)),e.on("AutocompleterEnd",()=>{k(),c.set(!1),i.set(!1)}),((F,U)=>{const K=(ge,pe)=>{eo(ge,jc(),{raw:pe})},oe=()=>F.getMenu().bind(Fr.getHighlighted);U.on("keydown",ge=>{const pe=ge.which;F.isActive()&&(F.isMenuOpen()?pe===13?(oe().each(fu),ge.preventDefault()):pe===40?(oe().fold(()=>{F.getMenu().each(Fr.highlightFirst)},we=>{K(we,ge)}),ge.preventDefault(),ge.stopImmediatePropagation()):pe!==37&&pe!==38&&pe!==39||oe().each(we=>{K(we,ge),ge.preventDefault(),ge.stopImmediatePropagation()}):pe!==13&&pe!==38&&pe!==40||F.cancelIfNecessary())}),U.on("NodeChange",ge=>{F.isActive()&&!F.isProcessingAction()&&hx(Pe(ge.element)).isNone()&&F.cancelIfNecessary()})})({cancelIfNecessary:N,isMenuOpen:v,isActive:x,isProcessingAction:i.get,getMenu:O},e)},uM=["visible","hidden"],vT=e=>{if(To(e)){const r=Fa(e,"overflow");return zr(r).length>0&&!pn(uM,r)}return!1},w0=(e,r)=>lf(e)?(i=>{const c=Zb(i,vT),g=c.length===0?ys(i).map(ya).map(v=>Zb(v,vT)).getOr([]):c;return hn(g).map(v=>({element:v,others:g.slice(1)}))})(r):H.none(),Xy=e=>{const r=[...et(e.others,os),Ya()];return((i,c)=>Et(c,(g,v)=>xs(g,v),i))(os(e.element),r)},x0=(e,r,i)=>yl(e,r,i).isSome(),bT=(e,r)=>{let i=null;return{cancel:()=>{i!==null&&(clearTimeout(i),i=null)},schedule:(...c)=>{i=setTimeout(()=>{e.apply(null,c),i=null},r)}}},BS=e=>{const r=e.raw;return r.touches===void 0||r.touches.length!==1?H.none():H.some(r.touches[0])},yT=(e,r)=>{const i={stopBackspace:!0,...r},c=(F=>{const U=ha(),K=uo(!1),oe=bT(pe=>{F.triggerEvent(gk(),pe),K.set(!0)},400),ge=du([{key:Al(),value:pe=>(BS(pe).each(we=>{oe.cancel();const Se={x:we.clientX,y:we.clientY,target:pe.target};oe.schedule(pe),K.set(!1),U.set(Se)}),H.none())},{key:vc(),value:pe=>(oe.cancel(),BS(pe).each(we=>{U.on(Se=>{((he,Ee)=>{const Te=Math.abs(he.clientX-Ee.x),He=Math.abs(he.clientY-Ee.y);return Te>5||He>5})(we,Se)&&U.clear()})}),H.none())},{key:ni(),value:pe=>(oe.cancel(),U.get().filter(we=>Mo(we.target,pe.target)).map(we=>K.get()?(pe.prevent(),!1):F.triggerEvent(Im(),pe)))}]);return{fireIfReady:(pe,we)=>Ze(ge,we).bind(Se=>Se(pe))}})(i),g=et(["touchstart","touchmove","touchend","touchcancel","gesturestart","mousedown","mouseup","mouseover","mousemove","mouseout","click"].concat(["selectstart","input","contextmenu","change","transitionend","transitioncancel","drag","dragstart","dragend","dragenter","dragleave","dragover","drop","keyup"]),F=>Ds(e,F,U=>{c.fireIfReady(U,F).each(K=>{K&&U.kill()}),i.triggerEvent(F,U)&&U.kill()})),v=ha(),x=Ds(e,"paste",F=>{c.fireIfReady(F,"paste").each(U=>{U&&F.kill()}),i.triggerEvent("paste",F)&&F.kill(),v.set(setTimeout(()=>{i.triggerEvent(lh(),F)},0))}),k=Ds(e,"keydown",F=>{i.triggerEvent("keydown",F)?F.kill():i.stopBackspace&&(U=>U.raw.which===U5[0]&&!pn(["input","textarea"],Rn(U.target))&&!x0(U.target,'[contenteditable="true"]'))(F)&&F.prevent()}),O=Ds(e,"focusin",F=>{i.triggerEvent("focusin",F)&&F.kill()}),N=ha(),L=Ds(e,"focusout",F=>{i.triggerEvent("focusout",F)&&F.kill(),N.set(setTimeout(()=>{i.triggerEvent(q1(),F)},0))});return{unbind:()=>{_t(g,F=>{F.unbind()}),k.unbind(),O.unbind(),L.unbind(),x.unbind(),v.on(clearTimeout),N.on(clearTimeout)}}},FS=(e,r)=>{const i=Ze(e,"target").getOr(r);return uo(i)},Jy=Uc([{stopped:[]},{resume:["element"]},{complete:[]}]),t_=(e,r,i,c,g,v)=>{const x=e(r,c),k=((O,N)=>{const L=uo(!1),F=uo(!1);return{stop:()=>{L.set(!0)},cut:()=>{F.set(!0)},isStopped:L.get,isCut:F.get,event:O,setSource:N.set,getSource:N.get}})(i,g);return x.fold(()=>(v.logEventNoHandlers(r,c),Jy.complete()),O=>{const N=O.descHandler;return yh(N)(k),k.isStopped()?(v.logEventStopped(r,O.element,N.purpose),Jy.stopped()):k.isCut()?(v.logEventCut(r,O.element,N.purpose),Jy.complete()):dn(O.element).fold(()=>(v.logNoParent(r,O.element,N.purpose),Jy.complete()),L=>(v.logEventResponse(r,O.element,N.purpose),Jy.resume(L)))})},HS=(e,r,i,c,g,v)=>t_(e,r,i,c,g,v).fold(nn,x=>HS(e,r,i,x,g,v),Ke),zS=(e,r,i,c,g)=>{const v=FS(i,c);return HS(e,r,i,c,v,g)},wT=()=>{const e=(()=>{const c={};return{registerId:(g,v,x)=>{Xn(x,(k,O)=>{const N=c[O]!==void 0?c[O]:{};N[v]=((L,F)=>({cHandler:Pt.apply(void 0,[L.handler].concat(F)),purpose:L.purpose}))(k,g),c[O]=N})},unregisterId:g=>{Xn(c,(v,x)=>{Lt(v,g)&&delete v[g]})},filterByType:g=>Ze(c,g).map(v=>ut(v,(x,k)=>((O,N)=>({id:O,descHandler:N}))(k,x))).getOr([]),find:(g,v,x)=>Ze(c,v).bind(k=>Vs(x,O=>((N,L)=>$f(L).bind(F=>Ze(N,F)).map(F=>((U,K)=>({element:U,descHandler:K}))(L,F)))(k,O),g))}})(),r={},i=c=>{$f(c.element).each(g=>{delete r[g],e.unregisterId(g)})};return{find:(c,g,v)=>e.find(c,g,v),filter:c=>e.filterByType(c),register:c=>{const g=(x=>{const k=x.element;return $f(k).getOrThunk(()=>((O,N)=>{const L=Gn(nv+"uid-");return ov(N,L),L})(0,x.element))})(c);ho(r,g)&&((x,k)=>{const O=r[k];if(O!==x)throw new Error('The tagId "'+k+'" is already used by: '+_c(O.element)+`
Cannot use it for: `+_c(x.element)+`
The conflicting element is`+(Fs(O.element)?" ":" not ")+"already in the DOM");i(x)})(c,g);const v=[c];e.registerId(v,g,c.events),r[g]=c},unregister:i,getById:c=>Ze(r,c)}},sm=Jl({name:"Container",factory:e=>{const{attributes:r,...i}=e.dom;return{uid:e.uid,dom:{tag:"div",attributes:{role:"presentation",...r},...i},components:e.components,behaviours:jv(e.containerBehaviours),events:e.events,domModification:e.domModification,eventOrder:e.eventOrder}},configFields:[ct("components",[]),es("containerBehaviours",[]),ct("events",{}),ct("domModification",{}),ct("eventOrder",{})]}),VS=e=>{const r=pe=>dn(e.element).fold(nn,we=>Mo(pe,we)),i=wT(),c=(pe,we)=>i.find(r,pe,we),g=yT(e.element,{triggerEvent:(pe,we)=>Ui(pe,we.target,Se=>((he,Ee,Te,He)=>zS(he,Ee,Te,Te.target,He))(c,pe,we,Se))}),v={debugInfo:G("real"),triggerEvent:(pe,we,Se)=>{Ui(pe,we,he=>zS(c,pe,Se,we,he))},triggerFocus:(pe,we)=>{$f(pe).fold(()=>{wl(pe)},Se=>{Ui(Wl(),pe,he=>(((Ee,Te,He,Ye,gt)=>{const Xt=FS(He,Ye);t_(Ee,Te,He,Ye,Xt,gt)})(c,Wl(),{originator:we,kill:J,prevent:J,target:pe},pe,he),!1))})},triggerEscape:(pe,we)=>{v.triggerEvent("keydown",pe.element,we.event)},getByUid:pe=>oe(pe),getByDom:pe=>ge(pe),build:Cs,buildOrPatch:xh,addToGui:pe=>{O(pe)},removeFromGui:pe=>{N(pe)},addToWorld:pe=>{x(pe)},removeFromWorld:pe=>{k(pe)},broadcast:pe=>{F(pe)},broadcastOn:(pe,we)=>{U(pe,we)},broadcastEvent:(pe,we)=>{K(pe,we)},isConnected:nn},x=pe=>{pe.connect(v),fr(pe.element)||(i.register(pe),_t(pe.components(),x),v.triggerEvent(Zg(),pe.element,{target:pe.element}))},k=pe=>{fr(pe.element)||(_t(pe.components(),k),i.unregister(pe)),pe.disconnect()},O=pe=>{Zd(e,pe)},N=pe=>{Xl(pe)},L=pe=>{const we=i.filter(Dd());_t(we,Se=>{const he=Se.descHandler;yh(he)(pe)})},F=pe=>{L({universal:!0,data:pe})},U=(pe,we)=>{L({universal:!1,channels:pe,data:we})},K=(pe,we)=>((Se,he,Ee)=>{const Te=(He=>{const Ye=uo(!1);return{stop:()=>{Ye.set(!0)},cut:J,isStopped:Ye.get,isCut:Ke,event:He,setSource:qn("Cannot set source of a broadcasted event"),getSource:qn("Cannot get source of a broadcasted event")}})(he);return _t(Se,He=>{const Ye=He.descHandler;yh(Ye)(Te)}),Te.isStopped()})(i.filter(pe),we),oe=pe=>i.getById(pe).fold(()=>sr.error(new Error('Could not find component with uid: "'+pe+'" in system.')),sr.value),ge=pe=>{const we=$f(pe).getOr("not found");return oe(we)};return x(e),{root:e,element:e.element,destroy:()=>{g.unbind(),$l(e.element)},add:O,remove:N,getByUid:oe,getByDom:ge,addToWorld:x,removeFromWorld:k,broadcast:F,broadcastOn:U,broadcastEvent:K}},xT=G([ct("prefix","form-field"),es("fieldBehaviours",[hr,gn])]),_T=G([Gt({schema:[kt("dom")],name:"label"}),Gt({factory:{sketch:e=>({uid:e.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:e.text}})},schema:[kt("text")],name:"aria-descriptor"}),xt({factory:{sketch:e=>{const r=((i,c)=>{const g={};return Xn(i,(v,x)=>{pn(c,x)||(g[x]=v)}),g})(e,["factory"]);return e.factory.sketch(r)}},schema:[kt("factory")],name:"field"})]),$r=qi({name:"FormField",configFields:xT(),partFields:_T(),factory:(e,r,i,c)=>{const g=is(e.fieldBehaviours,[hr.config({find:k=>jo(k,e,"field")}),gn.config({store:{mode:"manual",getValue:k=>hr.getCurrent(k).bind(gn.getValue),setValue:(k,O)=>{hr.getCurrent(k).each(N=>{gn.setValue(N,O)})}}})]),v=Nr([ia((k,O)=>{const N=Ss(k,e,["label","field","aria-descriptor"]);N.field().each(L=>{const F=Gn(e.prefix);N.label().each(U=>{yo(U.element,"for",F),yo(L.element,"id",F)}),N["aria-descriptor"]().each(U=>{const K=Gn(e.prefix);yo(U.element,"id",K),yo(L.element,"aria-describedby",K)})})})]),x={getField:k=>jo(k,e,"field"),getLabel:k=>jo(k,e,"label")};return{uid:e.uid,dom:e.dom,components:r,behaviours:g,events:v,apis:x}},apis:{getField:(e,r)=>e.getField(r),getLabel:(e,r)=>e.getLabel(r)}});var $S=Object.freeze({__proto__:null,exhibit:(e,r)=>hi({attributes:du([{key:r.tabAttr,value:"true"}])})}),CT=[ct("tabAttr","data-alloy-tabstop")];const ja=js({fields:CT,name:"tabstopping",active:$S});var US=tinymce.util.Tools.resolve("tinymce.html.Entities");const Cu=(e,r,i,c)=>{const g=Qy(e,r,i,c);return $r.sketch(g)},Qy=(e,r,i,c)=>({dom:n_(i),components:e.toArray().concat([r]),fieldBehaviours:ln(c)}),n_=e=>({tag:"div",classes:["tox-form__group"].concat(e)}),Mp=(e,r)=>$r.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[Ea(r.translate(e))]}),Mc=Gn("form-component-change"),_0=Gn("form-close"),fg=Gn("form-cancel"),pd=Gn("form-action"),c1=Gn("form-submit"),Rc=Gn("form-block"),o_=Gn("form-unblock"),jS=Gn("form-tabchange"),kT=Gn("form-resize"),ST=["input","textarea"],r_=e=>{const r=Rn(e);return pn(ST,r)},a_=(e,r)=>{const i=r.getRoot(e).getOr(e.element);Ca(i,r.invalidClass),r.notify.each(c=>{r_(e.element)&&yo(e.element,"aria-invalid",!1),c.getContainer(e).each(g=>{xc(g,c.validHtml)}),c.onValid(e)})},u1=(e,r,i,c)=>{const g=r.getRoot(e).getOr(e.element);_a(g,r.invalidClass),r.notify.each(v=>{r_(e.element)&&yo(e.element,"aria-invalid",!0),v.getContainer(e).each(x=>{xc(x,c)}),v.onInvalid(e,c)})},ZS=(e,r,i)=>r.validator.fold(()=>eu(sr.value(!0)),c=>c.validate(e)),s_=(e,r,i)=>(r.notify.each(c=>{c.onValidate(e)}),ZS(e,r).map(c=>e.getSystem().isConnected()?c.fold(g=>(u1(e,r,0,g),sr.error(g)),g=>(a_(e,r),sr.value(g))):sr.error("No longer in system")));var ET=Object.freeze({__proto__:null,markValid:a_,markInvalid:u1,query:ZS,run:s_,isInvalid:(e,r)=>{const i=r.getRoot(e).getOr(e.element);return Ei(i,r.invalidClass)}}),i_=Object.freeze({__proto__:null,events:(e,r)=>e.validator.map(i=>Nr([jt(i.onEvent,c=>{s_(c,e).get(Ae)})].concat(i.validateOnLoad?[ia(c=>{s_(c,e).get(J)})]:[]))).getOr({})}),dM=[kt("invalidClass"),ct("getRoot",H.none),ti("notify",[ct("aria","alert"),ct("getContainer",H.none),ct("validHtml",""),pr("onValid"),pr("onInvalid"),pr("onValidate")]),ti("validator",[kt("validate"),ct("onEvent","input"),ct("validateOnLoad",!0)])];const uf=js({fields:dM,name:"invalidating",active:i_,apis:ET,extra:{validation:e=>r=>{const i=gn.getValue(r);return eu(e(i))}}}),C0=js({fields:[],name:"unselecting",active:Object.freeze({__proto__:null,events:()=>Nr([fh(G1(),nn)]),exhibit:()=>hi({styles:{"-webkit-user-select":"none","user-select":"none","-ms-user-select":"none","-moz-user-select":"-moz-none"},attributes:{unselectable:"on"}})})}),WS=Gn("color-input-change"),l_=Gn("color-swatch-change"),GS=Gn("color-picker-cancel"),Pl=Gt({schema:[kt("dom")],name:"label"}),gg=e=>Gt({name:e+"-edge",overrides:r=>r.model.manager.edgeActions[e].fold(()=>({}),i=>({events:Nr([J1(Al(),(c,g,v)=>i(c,v),[r]),J1(gi(),(c,g,v)=>i(c,v),[r]),J1(qu(),(c,g,v)=>{v.mouseIsDown.get()&&i(c,v)},[r])])}))}),mM=gg("top-left"),fM=gg("top"),OT=gg("top-right"),gM=gg("right"),pM=gg("bottom-right"),hM=gg("bottom"),TT=gg("bottom-left");var df=[Pl,gg("left"),gM,fM,hM,mM,OT,TT,pM,xt({name:"thumb",defaults:G({dom:{styles:{position:"absolute"}}}),overrides:e=>({events:Nr([Yg(Al(),e,"spectrum"),Yg(vc(),e,"spectrum"),Yg(ni(),e,"spectrum"),Yg(gi(),e,"spectrum"),Yg(qu(),e,"spectrum"),Yg(Lf(),e,"spectrum")])})}),xt({schema:[Qs("mouseIsDown",()=>uo(!1))],name:"spectrum",overrides:e=>{const r=e.model.manager,i=(c,g)=>r.getValueFromEvent(g).map(v=>r.setValueFrom(c,e,v));return{behaviours:ln([co.config({mode:"special",onLeft:c=>r.onLeft(c,e),onRight:c=>r.onRight(c,e),onUp:c=>r.onUp(c,e),onDown:c=>r.onDown(c,e)}),Oo.config({})]),events:Nr([jt(Al(),i),jt(vc(),i),jt(gi(),i),jt(qu(),(c,g)=>{e.mouseIsDown.get()&&i(c,g)})])}}})];const d1=G("slider.change.value"),c_=e=>{const r=e.event.raw;if((i=>i.type.indexOf("touch")!==-1)(r)){const i=r;return i.touches!==void 0&&i.touches.length===1?H.some(i.touches[0]).map(c=>vr(c.clientX,c.clientY)):H.none()}{const i=r;return i.clientX!==void 0?H.some(i).map(c=>vr(c.clientX,c.clientY)):H.none()}},mf=e=>e.model.minX,pg=e=>e.model.minY,u_=e=>e.model.minX-1,d_=e=>e.model.minY-1,m1=e=>e.model.maxX,Rp=e=>e.model.maxY,ku=e=>e.model.maxX+1,f1=e=>e.model.maxY+1,AT=(e,r,i)=>r(e)-i(e),qS=e=>AT(e,m1,mf),m_=e=>AT(e,Rp,pg),KS=e=>qS(e)/2,f_=e=>m_(e)/2,hg=e=>e.stepSize,k0=e=>e.snapToGrid,S0=e=>e.snapStart,YS=e=>e.rounded,e2=(e,r)=>e[r+"-edge"]!==void 0,NT=e=>e2(e,"left"),MT=e=>e2(e,"right"),RT=e=>e2(e,"top"),XS=e=>e2(e,"bottom"),ff=e=>e.model.value.get(),vg=(e,r)=>({x:e,y:r}),hd=(e,r)=>{eo(e,d1(),{value:r})},g_=(e,r,i,c)=>e<r?e:e>i?i:e===r?r-1:Math.max(r,e-c),g1=(e,r,i,c)=>e>i?e:e<r?r:e===i?i+1:Math.min(i,e+c),JS=(e,r,i)=>Math.max(r,Math.min(i,e)),DT=e=>{const{min:r,max:i,range:c,value:g,step:v,snap:x,snapStart:k,rounded:O,hasMinEdge:N,hasMaxEdge:L,minBound:F,maxBound:U,screenRange:K}=e,oe=N?r-1:r,ge=L?i+1:i;if(g<F)return oe;if(g>U)return ge;{const pe=((Se,he,Ee)=>Math.min(Ee,Math.max(Se,he))-he)(g,F,U),we=JS(pe/K*c+r,oe,ge);return x&&we>=r&&we<=i?((Se,he,Ee,Te,He)=>He.fold(()=>{const Ye=Se-he,gt=Math.round(Ye/Te)*Te;return JS(he+gt,he-1,Ee+1)},Ye=>{const gt=(Se-Ye)%Te,Xt=Math.round(gt/Te),Wt=Math.floor((Se-Ye)/Te),Qt=Math.floor((Ee-Ye)/Te),Ln=Ye+Math.min(Qt,Wt+Xt)*Te;return Math.max(Ye,Ln)}))(we,r,i,v,k):O?Math.round(we):we}},IT=e=>{const{min:r,max:i,range:c,value:g,hasMinEdge:v,hasMaxEdge:x,maxBound:k,maxOffset:O,centerMinEdge:N,centerMaxEdge:L}=e;return g<r?v?0:N:g>i?x?k:L:(g-r)/c*O},p_="top",QS="right",h_="bottom",im="left",vd=e=>e.element.dom.getBoundingClientRect(),Su=(e,r)=>e[r],t2=e=>{const r=vd(e);return Su(r,im)},v_=e=>{const r=vd(e);return Su(r,QS)},n2=e=>{const r=vd(e);return Su(r,p_)},o2=e=>{const r=vd(e);return Su(r,h_)},e3=e=>{const r=vd(e);return Su(r,"width")},t3=e=>{const r=vd(e);return Su(r,"height")},PT=(e,r,i)=>(e+r)/2-i,n3=(e,r)=>{const i=vd(e),c=vd(r),g=Su(i,im),v=Su(i,QS),x=Su(c,im);return PT(g,v,x)},o3=(e,r)=>{const i=vd(e),c=vd(r),g=Su(i,p_),v=Su(i,h_),x=Su(c,p_);return PT(g,v,x)},b_=(e,r)=>{eo(e,d1(),{value:r})},r3=(e,r,i)=>{const c={min:mf(r),max:m1(r),range:qS(r),value:i,step:hg(r),snap:k0(r),snapStart:S0(r),rounded:YS(r),hasMinEdge:NT(r),hasMaxEdge:MT(r),minBound:t2(e),maxBound:v_(e),screenRange:e3(e)};return DT(c)},LT=e=>(r,i)=>((c,g,v)=>{const x=(c>0?g1:g_)(ff(v),mf(v),m1(v),hg(v));return b_(g,x),H.some(x)})(e,r,i).map(nn),E0=(e,r,i,c,g,v)=>{const x=((k,O,N,L,F)=>{const U=e3(k),K=L.bind(pe=>H.some(n3(pe,k))).getOr(0),oe=F.bind(pe=>H.some(n3(pe,k))).getOr(U),ge={min:mf(O),max:m1(O),range:qS(O),value:N,hasMinEdge:NT(O),hasMaxEdge:MT(O),minBound:t2(k),minOffset:0,maxBound:v_(k),maxOffset:U,centerMinEdge:K,centerMaxEdge:oe};return IT(ge)})(r,v,i,c,g);return t2(r)-t2(e)+x},BT=LT(-1),FT=LT(1),a3=H.none,HT=H.none,vM={"top-left":H.none(),top:H.none(),"top-right":H.none(),right:H.some((e,r)=>{hd(e,ku(r))}),"bottom-right":H.none(),bottom:H.none(),"bottom-left":H.none(),left:H.some((e,r)=>{hd(e,u_(r))})};var zT=Object.freeze({__proto__:null,setValueFrom:(e,r,i)=>{const c=r3(e,r,i);return b_(e,c),c},setToMin:(e,r)=>{const i=mf(r);b_(e,i)},setToMax:(e,r)=>{const i=m1(r);b_(e,i)},findValueOfOffset:r3,getValueFromEvent:e=>c_(e).map(r=>r.left),findPositionOfValue:E0,setPositionFromValue:(e,r,i,c)=>{const g=ff(i),v=E0(e,c.getSpectrum(e),g,c.getLeftEdge(e),c.getRightEdge(e),i),x=Yr(r.element)/2;Do(r.element,"left",v-x+"px")},onLeft:BT,onRight:FT,onUp:a3,onDown:HT,edgeActions:vM});const r2=(e,r)=>{eo(e,d1(),{value:r})},s3=(e,r,i)=>{const c={min:pg(r),max:Rp(r),range:m_(r),value:i,step:hg(r),snap:k0(r),snapStart:S0(r),rounded:YS(r),hasMinEdge:RT(r),hasMaxEdge:XS(r),minBound:n2(e),maxBound:o2(e),screenRange:t3(e)};return DT(c)},i3=e=>(r,i)=>((c,g,v)=>{const x=(c>0?g1:g_)(ff(v),pg(v),Rp(v),hg(v));return r2(g,x),H.some(x)})(e,r,i).map(nn),y_=(e,r,i,c,g,v)=>{const x=((k,O,N,L,F)=>{const U=t3(k),K=L.bind(pe=>H.some(o3(pe,k))).getOr(0),oe=F.bind(pe=>H.some(o3(pe,k))).getOr(U),ge={min:pg(O),max:Rp(O),range:m_(O),value:N,hasMinEdge:RT(O),hasMaxEdge:XS(O),minBound:n2(k),minOffset:0,maxBound:o2(k),maxOffset:U,centerMinEdge:K,centerMaxEdge:oe};return IT(ge)})(r,v,i,c,g);return n2(r)-n2(e)+x},bM=H.none,l3=H.none,yM=i3(-1),a2=i3(1),c3={"top-left":H.none(),top:H.some((e,r)=>{hd(e,d_(r))}),"top-right":H.none(),right:H.none(),"bottom-right":H.none(),bottom:H.some((e,r)=>{hd(e,f1(r))}),"bottom-left":H.none(),left:H.none()};var u3=Object.freeze({__proto__:null,setValueFrom:(e,r,i)=>{const c=s3(e,r,i);return r2(e,c),c},setToMin:(e,r)=>{const i=pg(r);r2(e,i)},setToMax:(e,r)=>{const i=Rp(r);r2(e,i)},findValueOfOffset:s3,getValueFromEvent:e=>c_(e).map(r=>r.top),findPositionOfValue:y_,setPositionFromValue:(e,r,i,c)=>{const g=ff(i),v=y_(e,c.getSpectrum(e),g,c.getTopEdge(e),c.getBottomEdge(e),i),x=Ha(r.element)/2;Do(r.element,"top",v-x+"px")},onLeft:bM,onRight:l3,onUp:yM,onDown:a2,edgeActions:c3});const O0=(e,r)=>{eo(e,d1(),{value:r})},s2=(e,r)=>({x:e,y:r}),i2=(e,r)=>(i,c)=>((g,v,x,k)=>{const O=g>0?g1:g_,N=v?ff(k).x:O(ff(k).x,mf(k),m1(k),hg(k)),L=v?O(ff(k).y,pg(k),Rp(k),hg(k)):ff(k).y;return O0(x,s2(N,L)),H.some(N)})(e,r,i,c).map(nn),VT=i2(-1,!1),$T=i2(1,!1),UT=i2(-1,!0),jT=i2(1,!0),ZT={"top-left":H.some((e,r)=>{hd(e,vg(u_(r),d_(r)))}),top:H.some((e,r)=>{hd(e,vg(KS(r),d_(r)))}),"top-right":H.some((e,r)=>{hd(e,vg(ku(r),d_(r)))}),right:H.some((e,r)=>{hd(e,vg(ku(r),f_(r)))}),"bottom-right":H.some((e,r)=>{hd(e,vg(ku(r),f1(r)))}),bottom:H.some((e,r)=>{hd(e,vg(KS(r),f1(r)))}),"bottom-left":H.some((e,r)=>{hd(e,vg(u_(r),f1(r)))}),left:H.some((e,r)=>{hd(e,vg(u_(r),f_(r)))})};var WT=Object.freeze({__proto__:null,setValueFrom:(e,r,i)=>{const c=r3(e,r,i.left),g=s3(e,r,i.top),v=s2(c,g);return O0(e,v),v},setToMin:(e,r)=>{const i=mf(r),c=pg(r);O0(e,s2(i,c))},setToMax:(e,r)=>{const i=m1(r),c=Rp(r);O0(e,s2(i,c))},getValueFromEvent:e=>c_(e),setPositionFromValue:(e,r,i,c)=>{const g=ff(i),v=E0(e,c.getSpectrum(e),g.x,c.getLeftEdge(e),c.getRightEdge(e),i),x=y_(e,c.getSpectrum(e),g.y,c.getTopEdge(e),c.getBottomEdge(e),i),k=Yr(r.element)/2,O=Ha(r.element)/2;Do(r.element,"left",v-k+"px"),Do(r.element,"top",x-O+"px")},onLeft:VT,onRight:$T,onUp:UT,onDown:jT,edgeActions:ZT});const bd=qi({name:"Slider",configFields:[ct("stepSize",1),ct("onChange",J),ct("onChoose",J),ct("onInit",J),ct("onDragStart",J),ct("onDragEnd",J),ct("snapToGrid",!1),ct("rounded",!0),Vr("snapStart"),al("model",vl("mode",{x:[ct("minX",0),ct("maxX",100),Qs("value",e=>uo(e.mode.minX)),kt("getInitialValue"),Wr("manager",zT)],y:[ct("minY",0),ct("maxY",100),Qs("value",e=>uo(e.mode.minY)),kt("getInitialValue"),Wr("manager",u3)],xy:[ct("minX",0),ct("maxX",100),ct("minY",0),ct("maxY",100),Qs("value",e=>uo({x:e.mode.minX,y:e.mode.minY})),kt("getInitialValue"),Wr("manager",WT)]})),es("sliderBehaviours",[co,gn]),Qs("mouseIsDown",()=>uo(!1))],partFields:df,factory:(e,r,i,c)=>{const g=we=>Pa(we,e,"thumb"),v=we=>Pa(we,e,"spectrum"),x=we=>jo(we,e,"left-edge"),k=we=>jo(we,e,"right-edge"),O=we=>jo(we,e,"top-edge"),N=we=>jo(we,e,"bottom-edge"),L=e.model,F=L.manager,U=(we,Se)=>{F.setPositionFromValue(we,Se,e,{getLeftEdge:x,getRightEdge:k,getTopEdge:O,getBottomEdge:N,getSpectrum:v})},K=(we,Se)=>{L.value.set(Se);const he=g(we);U(we,he)},oe=we=>{const Se=e.mouseIsDown.get();e.mouseIsDown.set(!1),Se&&jo(we,e,"thumb").each(he=>{const Ee=L.value.get();e.onChoose(we,he,Ee)})},ge=(we,Se)=>{Se.stop(),e.mouseIsDown.set(!0),e.onDragStart(we,g(we))},pe=(we,Se)=>{Se.stop(),e.onDragEnd(we,g(we)),oe(we)};return{uid:e.uid,dom:e.dom,components:r,behaviours:is(e.sliderBehaviours,[co.config({mode:"special",focusIn:we=>jo(we,e,"spectrum").map(co.focusIn).map(nn)}),gn.config({store:{mode:"manual",getValue:we=>L.value.get(),setValue:K}}),Oi.config({channels:{[Kd()]:{onReceive:oe}}})]),events:Nr([jt(d1(),(we,Se)=>{((he,Ee)=>{K(he,Ee);const Te=g(he);e.onChange(he,Te,Ee),H.some(!0)})(we,Se.event.value)}),ia((we,Se)=>{const he=L.getInitialValue();L.value.set(he);const Ee=g(we);U(we,Ee);const Te=v(we);e.onInit(we,Ee,Te,L.value.get())}),jt(Al(),ge),jt(ni(),pe),jt(gi(),ge),jt(Lf(),pe)]),apis:{resetToMin:we=>{F.setToMin(we,e)},resetToMax:we=>{F.setToMax(we,e)},setValue:K,refresh:U},domModification:{styles:{position:"relative"}}}},apis:{setValue:(e,r,i)=>{e.setValue(r,i)},resetToMin:(e,r)=>{e.resetToMin(r)},resetToMax:(e,r)=>{e.resetToMax(r)},refresh:(e,r)=>{e.refresh(r)}}}),w_=Gn("rgb-hex-update"),x_=Gn("slider-update"),GT=Gn("palette-update"),qT="form",KT=[es("formBehaviours",[gn])],YT=e=>"<alloy.field."+e+">",XT=(e,r)=>({uid:e.uid,dom:e.dom,components:r,behaviours:is(e.formBehaviours,[gn.config({store:{mode:"manual",getValue:i=>{const c=Ni(i,e);return so(c,(g,v)=>g().bind(x=>{return k=hr.getCurrent(x),O=new Error(`Cannot find a current component to extract the value from for form part '${v}': `+_c(x.element)),k.fold(()=>sr.error(O),sr.value);var k,O}).map(gn.getValue))},setValue:(i,c)=>{Xn(c,(g,v)=>{jo(i,e,v).each(x=>{hr.getCurrent(x).each(k=>{gn.setValue(k,g)})})})}}})]),apis:{getField:(i,c)=>jo(i,e,c).bind(hr.getCurrent)}}),p1={getField:Qg((e,r,i)=>e.getField(r,i)),sketch:e=>{const r=(()=>{const v=[];return{field:(x,k)=>(v.push(x),yr(qT,YT(x),k)),record:G(v)}})(),i=e(r),c=r.record(),g=et(c,v=>xt({name:v,pname:YT(v)}));return yu(qT,KT,g,XT,i)}},JT=Gn("valid-input"),d3=Gn("invalid-input"),QT=Gn("validating-input"),__="colorcustom.rgb.",e8=(e,r,i,c)=>{const g=(L,F)=>uf.config({invalidClass:r("invalid"),notify:{onValidate:U=>{eo(U,QT,{type:L})},onValid:U=>{eo(U,JT,{type:L,value:gn.getValue(U)})},onInvalid:U=>{eo(U,d3,{type:L,value:gn.getValue(U)})}},validator:{validate:U=>{const K=gn.getValue(U),oe=F(K)?sr.value(!0):sr.error(e("aria.input.invalid"));return eu(oe)},validateOnLoad:!1}}),v=(L,F,U,K,oe)=>{const ge=e(__+"range"),pe=$r.parts.label({dom:{tag:"label",attributes:{"aria-label":K}},components:[Ea(U)]}),we=$r.parts.field({data:oe,factory:Sp,inputAttributes:{type:"text",...F==="hex"?{"aria-live":"polite"}:{}},inputClasses:[r("textfield")],inputBehaviours:ln([g(F,L),ja.config({})]),onSetValue:Ee=>{uf.isInvalid(Ee)&&uf.run(Ee).get(J)}}),Se=[pe,we],he=F!=="hex"?[$r.parts["aria-descriptor"]({text:ge})]:[];return{dom:{tag:"div",attributes:{role:"presentation"}},components:Se.concat(he)}},x=(L,F)=>{const U=F.red,K=F.green,oe=F.blue;gn.setValue(L,{red:U,green:K,blue:oe})},k=Gr({dom:{tag:"div",classes:[r("rgba-preview")],styles:{"background-color":"white"},attributes:{role:"presentation"}}}),O=(L,F)=>{k.getOpt(L).each(U=>{Do(U.element,"background-color","#"+F.value)})};return Jl({factory:()=>{const L={red:uo(H.some(255)),green:uo(H.some(255)),blue:uo(H.some(255)),hex:uo(H.some("ffffff"))},F=Te=>L[Te].get(),U=(Te,He)=>{L[Te].set(He)},K=Te=>{const He=Te.red,Ye=Te.green,gt=Te.blue;U("red",H.some(He)),U("green",H.some(Ye)),U("blue",H.some(gt))},oe=(Te,He)=>{const Ye=He.event;Ye.type!=="hex"?U(Ye.type,H.none()):c(Te)},ge=(Te,He)=>{const Ye=He.event;(gt=>gt.type==="hex")(Ye)?((gt,Xt)=>{i(gt);const Wt=fS(Xt);U("hex",H.some(Wt.value));const Qt=s1(Wt);x(gt,Qt),K(Qt),eo(gt,w_,{hex:Wt}),O(gt,Wt)})(Te,Ye.value):((gt,Xt,Wt)=>{const Qt=parseInt(Wt,10);U(Xt,H.some(Qt)),F("red").bind(Ln=>F("green").bind(to=>F("blue").map(Vn=>dg(Ln,to,Vn,1)))).each(Ln=>{const to=((Vn,fo)=>{const _o=$y(fo);return p1.getField(Vn,"hex").each(Co=>{Oo.isFocused(Co)||gn.setValue(Vn,{hex:_o.value})}),_o})(gt,Ln);eo(gt,w_,{hex:to}),O(gt,to)})})(Te,Ye.type,Ye.value)},pe=Te=>({label:e(__+Te+".label"),description:e(__+Te+".description")}),we=pe("red"),Se=pe("green"),he=pe("blue"),Ee=pe("hex");return lr(p1.sketch(Te=>({dom:{tag:"form",classes:[r("rgb-form")],attributes:{"aria-label":e("aria.color.picker")}},components:[Te.field("red",$r.sketch(v(Lx,"red",we.label,we.description,255))),Te.field("green",$r.sketch(v(Lx,"green",Se.label,Se.description,255))),Te.field("blue",$r.sketch(v(Lx,"blue",he.label,he.description,255))),Te.field("hex",$r.sketch(v(hS,"hex",Ee.label,Ee.description,"ffffff"))),k.asSpec()],formBehaviours:ln([uf.config({invalidClass:r("form-invalid")}),Ko("rgb-form-events",[jt(JT,ge),jt(d3,oe),jt(QT,oe)])])})),{apis:{updateHex:(Te,He)=>{gn.setValue(Te,{hex:He.value}),((Ye,gt)=>{const Xt=s1(gt);x(Ye,Xt),K(Xt)})(Te,He),O(Te,He)}}})},name:"RgbForm",configFields:[],apis:{updateHex:(L,F,U)=>{L.updateHex(F,U)}},extraApis:{}})},t8=(e,r)=>Jl({name:"ColourPicker",configFields:[kt("dom"),ct("onValidHex",J),ct("onInvalidHex",J)],factory:c=>{const g=e8(e,r,c.onValidHex,c.onInvalidHex),v=((ge,pe)=>{const we=bd.parts.spectrum({dom:{tag:"canvas",attributes:{role:"presentation"},classes:[pe("sv-palette-spectrum")]}}),Se=bd.parts.thumb({dom:{tag:"div",attributes:{role:"presentation"},classes:[pe("sv-palette-thumb")],innerHtml:`<div class=${pe("sv-palette-inner-thumb")} role="presentation"></div>`}}),he=(Ee,Te)=>{const{width:He,height:Ye}=Ee,gt=Ee.getContext("2d");if(gt===null)return;gt.fillStyle=Te,gt.fillRect(0,0,He,Ye);const Xt=gt.createLinearGradient(0,0,He,0);Xt.addColorStop(0,"rgba(255,255,255,1)"),Xt.addColorStop(1,"rgba(255,255,255,0)"),gt.fillStyle=Xt,gt.fillRect(0,0,He,Ye);const Wt=gt.createLinearGradient(0,0,0,Ye);Wt.addColorStop(0,"rgba(0,0,0,0)"),Wt.addColorStop(1,"rgba(0,0,0,1)"),gt.fillStyle=Wt,gt.fillRect(0,0,He,Ye)};return Jl({factory:Ee=>{const Te=G({x:0,y:0}),He=ln([hr.config({find:H.some}),Oo.config({})]);return bd.sketch({dom:{tag:"div",attributes:{role:"presentation"},classes:[pe("sv-palette")]},model:{mode:"xy",getInitialValue:Te},rounded:!1,components:[we,Se],onChange:(Ye,gt,Xt)=>{eo(Ye,GT,{value:Xt})},onInit:(Ye,gt,Xt,Wt)=>{he(Xt.element.dom,XO(xS))},sliderBehaviours:He})},name:"SaturationBrightnessPalette",configFields:[],apis:{setHue:(Ee,Te,He)=>{((Ye,gt)=>{const Xt=Ye.components()[0].element.dom,Wt=jy(gt,100,100),Qt=Bx(Wt);he(Xt,XO(Qt))})(Te,He)},setThumb:(Ee,Te,He)=>{((Ye,gt)=>{const Xt=p0(s1(gt));bd.setValue(Ye,{x:Xt.saturation,y:100-Xt.value})})(Te,He)}},extraApis:{}})})(0,r),x={paletteRgba:uo(xS),paletteHue:uo(0)},k=Gr(((ge,pe)=>{const we=bd.parts.spectrum({dom:{tag:"div",classes:[pe("hue-slider-spectrum")],attributes:{role:"presentation"}}}),Se=bd.parts.thumb({dom:{tag:"div",classes:[pe("hue-slider-thumb")],attributes:{role:"presentation"}}});return bd.sketch({dom:{tag:"div",classes:[pe("hue-slider")],attributes:{role:"presentation"}},rounded:!1,model:{mode:"y",getInitialValue:G(0)},components:[we,Se],sliderBehaviours:ln([Oo.config({})]),onChange:(he,Ee,Te)=>{eo(he,x_,{value:Te})}})})(0,r)),O=Gr(v.sketch({})),N=Gr(g.sketch({})),L=(ge,pe,we)=>{O.getOpt(ge).each(Se=>{v.setHue(Se,we)})},F=(ge,pe)=>{N.getOpt(ge).each(we=>{g.updateHex(we,pe)})},U=(ge,pe,we)=>{k.getOpt(ge).each(Se=>{bd.setValue(Se,(he=>100-he/360*100)(we))})},K=(ge,pe)=>{O.getOpt(ge).each(we=>{v.setThumb(we,pe)})},oe=(ge,pe,we,Se)=>{((he,Ee)=>{const Te=s1(he);x.paletteRgba.set(Te),x.paletteHue.set(Ee)})(pe,we),_t(Se,he=>{he(ge,pe,we)})};return{uid:c.uid,dom:c.dom,components:[O.asSpec(),k.asSpec(),N.asSpec()],behaviours:ln([Ko("colour-picker-events",[jt(w_,(()=>{const ge=[L,U,K];return(pe,we)=>{const Se=we.event.hex,he=(Ee=>p0(s1(Ee)))(Se);oe(pe,Se,he.hue,ge)}})()),jt(GT,(()=>{const ge=[F];return(pe,we)=>{const Se=we.event.value,he=x.paletteHue.get(),Ee=jy(he,Se.x,100-Se.y),Te=$x(Ee);oe(pe,Te,he,ge)}})()),jt(x_,(()=>{const ge=[L,F];return(pe,we)=>{const Se=(Ye=>(100-Ye)/100*360)(we.event.value),he=x.paletteRgba.get(),Ee=p0(he),Te=jy(Se,Ee.saturation,Ee.value),He=$x(Te);oe(pe,He,Se,ge)}})())]),hr.config({find:ge=>N.getOpt(ge)}),co.config({mode:"acyclic"})])}}}),bg=()=>hr.config({find:H.some}),C_=e=>hr.config({find:r=>ir(r.element,e).bind(i=>r.getSystem().getByDom(i).toOptional())}),k_=Jt([ct("preprocess",Ae),ct("postprocess",Ae)]),n8=(e,r,i)=>gn.config({store:{mode:"manual",...e.map(c=>({initialValue:c})).getOr({}),getValue:r,setValue:i}}),o8=(e,r,i)=>n8(e,c=>r(c.element),(c,g)=>i(c.element,g)),r8=(e,r)=>{const i=Ci("RepresentingConfigs.memento processors",k_,r);return gn.config({store:{mode:"manual",getValue:c=>{const g=e.get(c),v=gn.getValue(g);return i.postprocess(v)},setValue:(c,g)=>{const v=i.preprocess(g),x=e.get(c);gn.setValue(x,v)}}})},a8=o8,h1=n8,Yo=e=>gn.config({store:{mode:"memory",initialValue:e}}),l2={"colorcustom.rgb.red.label":"R","colorcustom.rgb.red.description":"Red component","colorcustom.rgb.green.label":"G","colorcustom.rgb.green.description":"Green component","colorcustom.rgb.blue.label":"B","colorcustom.rgb.blue.description":"Blue component","colorcustom.rgb.hex.label":"#","colorcustom.rgb.hex.description":"Hex color code","colorcustom.rgb.range":"Range 0 to 255","aria.color.picker":"Color Picker","aria.input.invalid":"Invalid input"};var s8=tinymce.util.Tools.resolve("tinymce.Resource"),gf=tinymce.util.Tools.resolve("tinymce.util.Tools");const S_=Gn("alloy-fake-before-tabstop"),E_=Gn("alloy-fake-after-tabstop"),m3=e=>({dom:{tag:"div",styles:{width:"1px",height:"1px",outline:"none"},attributes:{tabindex:"0"},classes:e},behaviours:ln([Oo.config({ignore:!0}),ja.config({})])}),T0=e=>({dom:{tag:"div",classes:["tox-navobj"]},components:[m3([S_]),e,m3([E_])],behaviours:ln([C_(1)])}),f3=(e,r)=>{eo(e,jc(),{raw:{which:9,shiftKey:r}})},i8=(e,r)=>{const i=r.element;Ei(i,S_)?f3(e,!0):Ei(i,E_)&&f3(e,!1)},v1=e=>x0(e,["."+S_,"."+E_].join(","),Ke),g3=Gn("toolbar.button.execute"),Dp=Gn("common-button-display-events"),l8={[sl()]:["disabling","alloy.base.behaviour","toggling","toolbar-button-events"],[Gl()]:["toolbar-button-events",Dp],[gi()]:["focusing","alloy.base.behaviour",Dp]},p3=e=>Do(e.element,"width",Fa(e.element,"width")),h3=(e,r,i)=>ud(e,{tag:"span",classes:["tox-icon","tox-tbtn__icon-wrap"],behaviours:i},r),v3=(e,r)=>h3(e,r,[]),Ip=(e,r)=>h3(e,r,[Po.config({})]),c8=(e,r,i)=>({dom:{tag:"span",classes:[`${r}__select-label`]},components:[Ea(i.translate(e))],behaviours:ln([Po.config({})])}),ou=Gn("update-menu-text"),b1=Gn("update-menu-icon"),O_=(e,r,i)=>{const c=uo(J),g=e.text.map(U=>Gr(c8(U,r,i.providers))),v=e.icon.map(U=>Gr(Ip(U,i.providers.icons))),x=(U,K)=>{const oe=gn.getValue(U);return Oo.focus(oe),eo(oe,"keydown",{raw:K.event.raw}),tu.close(oe),H.some(!0)},k=e.role.fold(()=>({}),U=>({role:U})),O=e.tooltip.fold(()=>({}),U=>{const K=i.providers.translate(U);return{title:K,"aria-label":K}}),N=ud("chevron-down",{tag:"div",classes:[`${r}__select-chevron`]},i.providers.icons),L=Gn("common-button-display-events");return Gr(tu.sketch({...e.uid?{uid:e.uid}:{},...k,dom:{tag:"button",classes:[r,`${r}--select`].concat(et(e.classes,U=>`${r}--${U}`)),attributes:{...O}},components:d0([v.map(U=>U.asSpec()),g.map(U=>U.asSpec()),H.some(N)]),matchWidth:!0,useMinWidth:!0,onOpen:(U,K,oe)=>{e.searchable&&(ge=>{U4(ge).each(pe=>Oo.focus(pe))})(oe)},dropdownBehaviours:ln([...e.dropdownBehaviours,a1(()=>e.disabled||i.providers.isDisabled()),Gs(),C0.config({}),Po.config({}),Ko("dropdown-events",[rm(e,c),Tp(e,c)]),Ko(L,[ia((U,K)=>p3(U))]),Ko("menubutton-update-display-text",[jt(ou,(U,K)=>{g.bind(oe=>oe.getOpt(U)).each(oe=>{Po.set(oe,[Ea(i.providers.translate(K.event.text))])})}),jt(b1,(U,K)=>{v.bind(oe=>oe.getOpt(U)).each(oe=>{Po.set(oe,[Ip(K.event.icon,i.providers.icons)])})})])]),eventOrder:lr(l8,{mousedown:["focusing","alloy.base.behaviour","item-type-events","normal-dropdown-events"],[Gl()]:["toolbar-button-events","dropdown-events",L]}),sandboxBehaviours:ln([co.config({mode:"special",onLeft:x,onRight:x}),Ko("dropdown-sandbox-events",[jt(V4,(U,K)=>{(oe=>{const ge=gn.getValue(oe),pe=Ty(oe).map(j4);tu.refetch(ge).get(()=>{const we=Ua.getCoupled(ge,"sandbox");pe.each(Se=>Ty(we).each(he=>((Ee,Te)=>{gn.setValue(Ee,Te.fetchPattern),Ee.element.dom.selectionStart=Te.selectionStart,Ee.element.dom.selectionEnd=Te.selectionEnd})(he,Se)))})})(U),K.stop()}),jt(l0,(U,K)=>{((oe,ge)=>{(pe=>br.getState(pe).bind(Fr.getHighlighted).bind(Fr.getHighlighted))(oe).each(pe=>{((we,Se,he,Ee)=>{const Te={...Ee,target:Se};we.getSystem().triggerEvent(he,Se,Te)})(oe,pe.element,ge.event.eventType,ge.event.interactionEvent)})})(U,K),K.stop()})])]),lazySink:i.getSink,toggleClass:`${r}--active`,parts:{menu:{...Oy(0,e.columns,e.presets),fakeFocus:e.searchable,onHighlightItem:gT,onCollapseMenu:(U,K,oe)=>{Fr.getHighlighted(oe).each(ge=>{gT(U,oe,ge)})},onDehighlightItem:pT}},fetch:U=>mg(Pt(e.fetch,U))})).asSpec()},b3=e=>e.type==="separator",u8={type:"separator"},y3=(e,r)=>{const i=((c,g)=>{const v=Et(c,(x,k)=>(O=>S(O))(k)?k===""?x:k==="|"?x.length>0&&!b3(x[x.length-1])?x.concat([u8]):x:Lt(g,k.toLowerCase())?x.concat([g[k.toLowerCase()]]):x:x.concat([k]),[]);return v.length>0&&b3(v[v.length-1])&&v.pop(),v})(S(e)?e.split(" "):e,r);return dt(i,(c,g)=>{if((v=>Lt(v,"getSubmenuItems"))(g)){const v=(k=>{const O=Ze(k,"value").getOrThunk(()=>Gn("generated-menu-item"));return lr({value:O},k)})(g),x=((k,O)=>{const N=k.getSubmenuItems(),L=y3(N,O);return{item:k,menus:lr(L.menus,{[k.value]:L.items}),expansions:lr(L.expansions,{[k.value]:k.value})}})(v,r);return{menus:lr(c.menus,x.menus),items:[x.item,...c.items],expansions:lr(c.expansions,x.expansions)}}return{...c,items:[g,...c.items]}},{menus:{},expansions:{},items:[]})},y1=(e,r,i,c)=>{const g=Gn("primary-menu"),v=y3(e,i.shared.providers.menuItems());if(v.items.length===0)return H.none();const x=(F=>F.search.fold(()=>({searchMode:"no-search"}),U=>({searchMode:"search-with-field",placeholder:U.placeholder})))(c),k=nu(g,v.items,r,i,c.isHorizontalMenu,x),O=(F=>F.search.fold(()=>({searchMode:"no-search"}),U=>({searchMode:"search-with-results"})))(c),N=so(v.menus,(F,U)=>nu(U,F,r,i,!1,O)),L=lr(N,If(g,k));return H.from(_p.tieredData(g,L,v.expansions))},w3=e=>!Lt(e,"items"),x3="data-value",yd=(e,r,i,c)=>et(i,g=>w3(g)?{type:"togglemenuitem",text:g.text,value:g.value,active:g.value===c,onAction:()=>{gn.setValue(e,g.value),eo(e,Mc,{name:r}),Oo.focus(e)}}:{type:"nestedmenuitem",text:g.text,getSubmenuItems:()=>yd(e,r,g.items,c)}),A0=(e,r)=>Hn(e,i=>w3(i)?dr(i.value===r,i):A0(i.items,r)),T_=Jl({name:"HtmlSelect",configFields:[kt("options"),es("selectBehaviours",[Oo,gn]),ct("selectClasses",[]),ct("selectAttributes",{}),Vr("data")],factory:(e,r)=>{const i=et(e.options,g=>({dom:{tag:"option",value:g.value,innerHtml:g.text}})),c=e.data.map(g=>If("initialValue",g)).getOr({});return{uid:e.uid,dom:{tag:"select",classes:e.selectClasses,attributes:e.selectAttributes},components:i,behaviours:is(e.selectBehaviours,[Oo.config({}),gn.config({store:{mode:"manual",getValue:g=>ql(g.element),setValue:(g,v)=>{const x=hn(e.options);ze(e.options,k=>k.value===v).isSome()?Wc(g.element,v):g.element.dom.selectedIndex===-1&&v===""&&x.each(k=>Wc(g.element,k.value))},...c}})])}}}),_3=G([ct("field1Name","field1"),ct("field2Name","field2"),Hd("onLockedChange"),pu(["lockClass"]),ct("locked",!1),Zs("coupledFieldBehaviours",[hr,gn])]),A_=(e,r)=>xt({factory:$r,name:e,overrides:i=>({fieldBehaviours:ln([Ko("coupled-input-behaviour",[jt(Rm(),c=>{((g,v,x)=>jo(g,v,x).bind(hr.getCurrent))(c,i,r).each(g=>{jo(c,i,"lock").each(v=>{tr.isOn(v)&&i.onLockedChange(c,g,v)})})})])])})}),d8=G([A_("field1","field2"),A_("field2","field1"),xt({factory:vi,schema:[kt("dom")],name:"lock",overrides:e=>({buttonBehaviours:ln([tr.config({selected:e.locked,toggleClass:e.markers.lockClass,aria:{mode:"pressed"}})])})})]),tc=qi({name:"FormCoupledInputs",configFields:_3(),partFields:d8(),factory:(e,r,i,c)=>({uid:e.uid,dom:e.dom,components:r,behaviours:ci(e.coupledFieldBehaviours,[hr.config({find:H.some}),gn.config({store:{mode:"manual",getValue:g=>{const v=Es(g,e,["field1","field2"]);return{[e.field1Name]:gn.getValue(v.field1()),[e.field2Name]:gn.getValue(v.field2())}},setValue:(g,v)=>{const x=Es(g,e,["field1","field2"]);ho(v,e.field1Name)&&gn.setValue(x.field1(),v[e.field1Name]),ho(v,e.field2Name)&&gn.setValue(x.field2(),v[e.field2Name])}}})]),apis:{getField1:g=>jo(g,e,"field1"),getField2:g=>jo(g,e,"field2"),getLock:g=>jo(g,e,"lock")}}),apis:{getField1:(e,r)=>e.getField1(r),getField2:(e,r)=>e.getField2(r),getLock:(e,r)=>e.getLock(r)}}),N_=e=>{const r=/^\s*(\d+(?:\.\d+)?)\s*(|cm|mm|in|px|pt|pc|em|ex|ch|rem|vw|vh|vmin|vmax|%)\s*$/.exec(e);if(r!==null){const i=parseFloat(r[1]),c=r[2];return sr.value({value:i,unit:c})}return sr.error(e)},C3=(e,r)=>{const i={"":96,px:96,pt:72,cm:2.54,pc:12,mm:25.4,in:1},c=g=>Lt(i,g);return e.unit===r?H.some(e.value):c(e.unit)&&c(r)?i[e.unit]===i[r]?H.some(e.value):H.some(e.value/i[e.unit]*i[r]):H.none()},c2=e=>H.none(),k3=(e,r)=>{const i=e.label.map(L=>Mp(L,r)),c=[wo.config({disabled:()=>e.disabled||r.isDisabled()}),Gs(),co.config({mode:"execution",useEnter:e.multiline!==!0,useControlEnter:e.multiline===!0,execute:L=>(Pr(L,c1),H.some(!0))}),Ko("textfield-change",[jt(Rm(),(L,F)=>{eo(L,Mc,{name:e.name})}),jt(lh(),(L,F)=>{eo(L,Mc,{name:e.name})})]),ja.config({})],g=e.validation.map(L=>uf.config({getRoot:F=>Eo(F.element),invalidClass:"tox-invalid",validator:{validate:F=>{const U=gn.getValue(F),K=L.validator(U);return eu(K===!0?sr.value(U):sr.error(K))},validateOnLoad:L.validateOnLoad}})).toArray(),v={...e.placeholder.fold(G({}),L=>({placeholder:r.translate(L)})),...e.inputMode.fold(G({}),L=>({inputmode:L}))},x=$r.parts.field({tag:e.multiline===!0?"textarea":"input",...e.data.map(L=>({data:L})).getOr({}),inputAttributes:v,inputClasses:[e.classname],inputBehaviours:ln(Be([c,g])),selectOnFocus:!1,factory:Sp}),k=e.multiline?{dom:{tag:"div",classes:["tox-textarea-wrap"]},components:[x]}:x,O=(e.flex?["tox-form__group--stretched"]:[]).concat(e.maximized?["tox-form-group--maximize"]:[]),N=[wo.config({disabled:()=>e.disabled||r.isDisabled(),onDisabled:L=>{$r.getField(L).each(wo.disable)},onEnabled:L=>{$r.getField(L).each(wo.enable)}}),Gs()];return Cu(i,k,O,N)},N0=(e,r)=>r.getAnimationRoot.fold(()=>e.element,i=>i(e)),pf=e=>e.dimension.property,Pp=(e,r)=>e.dimension.getDimension(r),Eu=(e,r)=>{const i=N0(e,r);si(i,[r.shrinkingClass,r.growingClass])},u2=(e,r)=>{Ca(e.element,r.openClass),_a(e.element,r.closedClass),Do(e.element,pf(r),"0px"),Lu(e.element)},Lp=(e,r)=>{Ca(e.element,r.closedClass),_a(e.element,r.openClass),Zr(e.element,pf(r))},M0=(e,r,i,c)=>{i.setCollapsed(),Do(e.element,pf(r),Pp(r,e.element)),Eu(e,r),u2(e,r),r.onStartShrink(e),r.onShrunk(e)},wM=(e,r,i,c)=>{const g=c.getOrThunk(()=>Pp(r,e.element));i.setCollapsed(),Do(e.element,pf(r),g),Lu(e.element);const v=N0(e,r);Ca(v,r.growingClass),_a(v,r.shrinkingClass),u2(e,r),r.onStartShrink(e)},M_=(e,r,i)=>{const c=Pp(r,e.element);(c==="0px"?M0:wM)(e,r,i,H.some(c))},d2=(e,r,i)=>{const c=N0(e,r),g=Ei(c,r.shrinkingClass),v=Pp(r,e.element);Lp(e,r);const x=Pp(r,e.element);(g?()=>{Do(e.element,pf(r),v),Lu(e.element)}:()=>{u2(e,r)})(),Ca(c,r.shrinkingClass),_a(c,r.growingClass),Lp(e,r),Do(e.element,pf(r),x),i.setExpanded(),r.onStartGrow(e)},m8=(e,r,i)=>{const c=N0(e,r);return Ei(c,r.growingClass)===!0},f8=(e,r,i)=>{const c=N0(e,r);return Ei(c,r.shrinkingClass)===!0};var S3=Object.freeze({__proto__:null,refresh:(e,r,i)=>{if(i.isExpanded()){Zr(e.element,pf(r));const c=Pp(r,e.element);Do(e.element,pf(r),c)}},grow:(e,r,i)=>{i.isExpanded()||d2(e,r,i)},shrink:(e,r,i)=>{i.isExpanded()&&M_(e,r,i)},immediateShrink:(e,r,i)=>{i.isExpanded()&&M0(e,r,i)},hasGrown:(e,r,i)=>i.isExpanded(),hasShrunk:(e,r,i)=>i.isCollapsed(),isGrowing:m8,isShrinking:f8,isTransitioning:(e,r,i)=>m8(e,r)||f8(e,r),toggleGrow:(e,r,i)=>{(i.isExpanded()?M_:d2)(e,r,i)},disableTransitions:Eu,immediateGrow:(e,r,i)=>{i.isExpanded()||(Lp(e,r),Do(e.element,pf(r),Pp(r,e.element)),Eu(e,r),i.setExpanded(),r.onStartGrow(e),r.onGrown(e))}}),g8=Object.freeze({__proto__:null,exhibit:(e,r,i)=>{const c=r.expanded;return hi(c?{classes:[r.openClass],styles:{}}:{classes:[r.closedClass],styles:If(r.dimension.property,"0px")})},events:(e,r)=>Nr([Lm(Dm(),(i,c)=>{c.event.raw.propertyName===e.dimension.property&&(Eu(i,e),r.isExpanded()&&Zr(i.element,e.dimension.property),(r.isExpanded()?e.onGrown:e.onShrunk)(i))})])}),xM=[kt("closedClass"),kt("openClass"),kt("shrinkingClass"),kt("growingClass"),Vr("getAnimationRoot"),pr("onShrunk"),pr("onStartShrink"),pr("onGrown"),pr("onStartGrow"),ct("expanded",!1),al("dimension",vl("property",{width:[Wr("property","width"),Wr("getDimension",e=>Yr(e)+"px")],height:[Wr("property","height"),Wr("getDimension",e=>Ha(e)+"px")]}))];const nc=js({fields:xM,name:"sliding",active:g8,apis:S3,state:Object.freeze({__proto__:null,init:e=>{const r=uo(e.expanded);return il({isExpanded:()=>r.get()===!0,isCollapsed:()=>r.get()===!1,setCollapsed:Pt(r.set,!1),setExpanded:Pt(r.set,!0),readState:()=>"expanded: "+r.get()})}})}),R_=e=>({isEnabled:()=>!wo.isDisabled(e),setEnabled:r=>wo.set(e,!r),setActive:r=>{const i=e.element;r?(_a(i,"tox-tbtn--enabled"),yo(i,"aria-pressed",!0)):(Ca(i,"tox-tbtn--enabled"),xa(i,"aria-pressed"))},isActive:()=>Ei(e.element,"tox-tbtn--enabled"),setText:r=>{eo(e,ou,{text:r})},setIcon:r=>eo(e,b1,{icon:r})}),m2=(e,r,i,c,g=!0)=>O_({text:e.text,icon:e.icon,tooltip:e.tooltip,searchable:e.search.isSome(),role:c,fetch:(v,x)=>{const k={pattern:e.search.isSome()?y0(v):""};e.fetch(O=>{x(y1(O,Qc.CLOSE_ON_EXECUTE,i,{isHorizontalMenu:!1,search:e.search}))},k,R_(v))},onSetup:e.onSetup,getApi:R_,columns:1,presets:"normal",classes:[],dropdownBehaviours:[...g?[ja.config({})]:[]]},r,i.shared),p8=(e,r,i)=>{const c=v=>x=>{const k=!x.isActive();x.setActive(k),v.storage.set(k),i.shared.getSink().each(O=>{r().getOpt(O).each(N=>{wl(N.element),eo(N,pd,{name:v.name,value:v.storage.get()})})})},g=v=>x=>{x.setActive(v.storage.get())};return v=>{v(et(e,x=>{const k=x.text.fold(()=>({}),O=>({text:O}));return{type:x.type,active:!1,...k,onAction:c(x),onSetup:g(x)}}))}},h8=e=>({dom:{tag:"span",classes:["tox-tree__label"],attributes:{title:e,"aria-label":e}},components:[Ea(e)]}),D_=Gn("leaf-label-event-id"),I_=({leaf:e,onLeafAction:r,visible:i,treeId:c,selectedId:g,backstage:v})=>{const x=e.menu.map(O=>m2(O,"tox-mbtn",v,H.none(),i)),k=[h8(e.title)];return x.each(O=>k.push(O)),vi.sketch({dom:{tag:"div",classes:["tox-tree--leaf__label","tox-trbtn"].concat(i?["tox-tree--leaf__label--visible"]:[])},components:k,role:"treeitem",action:O=>{r(e.id),O.getSystem().broadcastOn([`update-active-item-${c}`],{value:e.id})},eventOrder:{[jc()]:[D_,"keying"]},buttonBehaviours:ln([...i?[ja.config({})]:[],tr.config({toggleClass:"tox-trbtn--enabled",toggleOnExecute:!1,aria:{mode:"selected"}}),Oi.config({channels:{[`update-active-item-${c}`]:{onReceive:(O,N)=>{(N.value===e.id?tr.on:tr.off)(O)}}}}),Ko(D_,[ia((O,N)=>{g.each(L=>{(L===e.id?tr.on:tr.off)(O)})}),jt(jc(),(O,N)=>{const L=N.event.raw.code==="ArrowLeft",F=N.event.raw.code==="ArrowRight";L?(Sc(O.element,".tox-tree--directory").each(U=>{O.getSystem().getByDom(U).each(K=>{$m(U,".tox-tree--directory__label").each(oe=>{K.getSystem().getByDom(oe).each(Oo.focus)})})}),N.stop()):F&&N.stop()})])])})},v8=Gn("directory-label-event-id"),b8=({directory:e,visible:r,noChildren:i,backstage:c})=>{const g=e.menu.map(N=>m2(N,"tox-mbtn",c,H.none())),v=[{dom:{tag:"div",classes:["tox-chevron"]},components:[(x="chevron-right",k=c.shared.providers.icons,((N,L,F)=>ud(N,{tag:"span",classes:["tox-tree__icon-wrap","tox-icon"],behaviours:[]},L))(x,k))]},h8(e.title)];var x,k;g.each(N=>{v.push(N)});const O=N=>{Sc(N.element,".tox-tree--directory").each(L=>{N.getSystem().getByDom(L).each(F=>{const U=!tr.isOn(F);tr.toggle(F),eo(N,"expand-tree-node",{expanded:U,node:e.id})})})};return vi.sketch({dom:{tag:"div",classes:["tox-tree--directory__label","tox-trbtn"].concat(r?["tox-tree--directory__label--visible"]:[])},components:v,action:O,eventOrder:{[jc()]:[v8,"keying"]},buttonBehaviours:ln([...r?[ja.config({})]:[],Ko(v8,[jt(jc(),(N,L)=>{const F=L.event.raw.code==="ArrowRight",U=L.event.raw.code==="ArrowLeft";F&&i&&L.stop(),(F||U)&&Sc(N.element,".tox-tree--directory").each(K=>{N.getSystem().getByDom(K).each(oe=>{!tr.isOn(oe)&&F||tr.isOn(oe)&&U?(O(N),L.stop()):U&&!tr.isOn(oe)&&(Sc(oe.element,".tox-tree--directory").each(ge=>{$m(ge,".tox-tree--directory__label").each(pe=>{oe.getSystem().getByDom(pe).each(Oo.focus)})}),L.stop())})})})])])})},_M=({children:e,onLeafAction:r,visible:i,treeId:c,expandedIds:g,selectedId:v,backstage:x})=>({dom:{tag:"div",classes:["tox-tree--directory__children"]},components:e.map(k=>k.type==="leaf"?I_({leaf:k,selectedId:v,onLeafAction:r,visible:i,treeId:c,backstage:x}):E3({directory:k,expandedIds:g,selectedId:v,onLeafAction:r,labelTabstopping:i,treeId:c,backstage:x})),behaviours:ln([nc.config({dimension:{property:"height"},closedClass:"tox-tree--directory__children--closed",openClass:"tox-tree--directory__children--open",growingClass:"tox-tree--directory__children--growing",shrinkingClass:"tox-tree--directory__children--shrinking",expanded:i}),Po.config({})])}),P_=Gn("directory-event-id"),E3=({directory:e,onLeafAction:r,labelTabstopping:i,treeId:c,backstage:g,expandedIds:v,selectedId:x})=>{const{children:k}=e,O=uo(v),N=v.includes(e.id);return{dom:{tag:"div",classes:["tox-tree--directory"],attributes:{role:"treeitem"}},components:[b8({directory:e,visible:i,noChildren:e.children.length===0,backstage:g}),_M({children:k,expandedIds:v,selectedId:x,onLeafAction:r,visible:N,treeId:c,backstage:g})],behaviours:ln([Ko(P_,[ia((L,F)=>{tr.set(L,N)}),jt("expand-tree-node",(L,F)=>{const{expanded:U,node:K}=F.event;O.set(U?[...O.get(),K]:O.get().filter(oe=>oe!==K))})]),tr.config({...e.children.length>0?{aria:{mode:"expanded"}}:{},toggleClass:"tox-tree--directory--expanded",onToggled:(L,F)=>{const U=L.components()[1],K=(oe=F,k.map(ge=>ge.type==="leaf"?I_({leaf:ge,selectedId:x,onLeafAction:r,visible:oe,treeId:c,backstage:g}):E3({directory:ge,expandedIds:O.get(),selectedId:x,onLeafAction:r,labelTabstopping:oe,treeId:c,backstage:g})));var oe;F?nc.grow(U):nc.shrink(U),Po.set(U,K)}})])}},L_=Gn("tree-event-id");var CM=Object.freeze({__proto__:null,events:(e,r)=>{const i=e.stream.streams.setup(e,r);return Nr([jt(e.event,i),pi(()=>r.cancel())].concat(e.cancelEvent.map(c=>[jt(c,()=>r.cancel())]).getOr([])))}});const f2=(e,r)=>{let i=null;const c=()=>{q(i)||(clearTimeout(i),i=null)};return{cancel:c,throttle:(...g)=>{c(),i=setTimeout(()=>{i=null,e.apply(null,g)},r)}}},R0=e=>{const r=uo(null);return il({readState:()=>({timer:r.get()!==null?"set":"unset"}),setTimer:i=>{r.set(i)},cancel:()=>{const i=r.get();i!==null&&i.cancel()}})};var y8=Object.freeze({__proto__:null,throttle:R0,init:e=>e.stream.streams.state(e)}),w8=[al("stream",vl("mode",{throttle:[kt("delay"),ct("stopEvent",!0),Wr("streams",{setup:(e,r)=>{const i=e.stream,c=f2(e.onStream,i.delay);return r.setTimer(c),(g,v)=>{c.throttle(g,v),i.stopEvent&&v.stop()}},state:R0})]})),ct("event","input"),Vr("cancelEvent"),Hd("onStream")];const B_=js({fields:w8,name:"streaming",active:CM,state:y8}),g2=(e,r,i)=>{const c=gn.getValue(i);gn.setValue(r,c),p2(r)},F_=(e,r)=>{const i=e.element,c=ql(i),g=i.dom;wa(i,"type")!=="number"&&r(g,c)},p2=e=>{F_(e,(r,i)=>r.setSelectionRange(i.length,i.length))},Bp=G("alloy.typeahead.itemexecute"),x8=G([Vr("lazySink"),kt("fetch"),ct("minChars",5),ct("responseTime",1e3),pr("onOpen"),ct("getHotspot",H.some),ct("getAnchorOverrides",G({})),ct("layouts",H.none()),ct("eventOrder",{}),Nm("model",{},[ct("getDisplayText",e=>e.meta!==void 0&&e.meta.text!==void 0?e.meta.text:e.value),ct("selectsOver",!0),ct("populateFromBrowse",!0)]),pr("onSetValue"),ji("onExecute"),pr("onItemExecute"),ct("inputClasses",[]),ct("inputAttributes",{}),ct("inputStyles",{}),ct("matchWidth",!0),ct("useMinWidth",!1),ct("dismissOnBlur",!0),pu(["openClass"]),Vr("initialData"),es("typeaheadBehaviours",[Oo,gn,B_,co,tr,Ua]),Qs("lazyTypeaheadComp",()=>uo(H.none)),Qs("previewing",()=>uo(!0))].concat(H4()).concat(LS())),_8=G([Rt({schema:[Ju()],name:"menu",overrides:e=>({fakeFocus:!0,onHighlightItem:(r,i,c)=>{e.previewing.get()?e.lazyTypeaheadComp.get().each(g=>{((v,x,k)=>{if(v.selectsOver){const O=gn.getValue(x),N=v.getDisplayText(O),L=gn.getValue(k);return v.getDisplayText(L).indexOf(N)===0?H.some(()=>{g2(0,x,k),((F,U)=>{F_(F,(K,oe)=>K.setSelectionRange(U,oe.length))})(x,N.length)}):H.none()}return H.none()})(e.model,g,c).fold(()=>{e.model.selectsOver?(Fr.dehighlight(i,c),e.previewing.set(!0)):e.previewing.set(!1)},v=>{v(),e.previewing.set(!1)})}):e.lazyTypeaheadComp.get().each(g=>{e.model.populateFromBrowse&&g2(e.model,g,c),qa(c.element,"id").each(v=>yo(g.element,"aria-activedescendant",v))})},onExecute:(r,i)=>e.lazyTypeaheadComp.get().map(c=>(eo(c,Bp(),{item:i}),!0)),onHover:(r,i)=>{e.previewing.set(!1),e.lazyTypeaheadComp.get().each(c=>{e.model.populateFromBrowse&&g2(e.model,c,i)})}})})]),O3=qi({name:"Typeahead",configFields:x8(),partFields:_8(),factory:(e,r,i,c)=>{const g=(F,U,K)=>{e.previewing.set(!1);const oe=Ua.getCoupled(F,"sandbox");if(br.isOpen(oe))hr.getCurrent(oe).each(ge=>{Fr.getHighlighted(ge).fold(()=>{K(ge)},()=>{X1(oe,ge.element,"keydown",U)})});else{const ge=pe=>{hr.getCurrent(pe).each(K)};i1(e,x(F),F,oe,c,ge,Mi.HighlightMenuAndItem).get(J)}},v=NO(e),x=F=>U=>U.map(K=>{const oe=Ot(K.menus),ge=ne(oe,pe=>Ht(pe.items,we=>we.type==="item"));return gn.getState(F).update(et(ge,pe=>pe.data)),K}),k=F=>hr.getCurrent(F),O="typeaheadevents",N=[Oo.config({}),gn.config({onSetValue:e.onSetValue,store:{mode:"dataset",getDataKey:F=>ql(F.element),getFallbackEntry:F=>({value:F,meta:{}}),setValue:(F,U)=>{Wc(F.element,e.model.getDisplayText(U))},...e.initialData.map(F=>If("initialValue",F)).getOr({})}}),B_.config({stream:{mode:"throttle",delay:e.responseTime,stopEvent:!1},onStream:(F,U)=>{const K=Ua.getCoupled(F,"sandbox");if(Oo.isFocused(F)&&ql(F.element).length>=e.minChars){const oe=k(K).bind(pe=>Fr.getHighlighted(pe).map(gn.getValue));e.previewing.set(!0);const ge=pe=>{k(K).each(we=>{oe.fold(()=>{e.model.selectsOver&&Fr.highlightFirst(we)},Se=>{Fr.highlightBy(we,he=>gn.getValue(he).value===Se.value),Fr.getHighlighted(we).orThunk(()=>(Fr.highlightFirst(we),H.none()))})})};i1(e,x(F),F,K,c,ge,Mi.HighlightJustMenu).get(J)}},cancelEvent:Hf()}),co.config({mode:"special",onDown:(F,U)=>(g(F,U,Fr.highlightFirst),H.some(!0)),onEscape:F=>{const U=Ua.getCoupled(F,"sandbox");return br.isOpen(U)?(br.close(U),H.some(!0)):H.none()},onUp:(F,U)=>(g(F,U,Fr.highlightLast),H.some(!0)),onEnter:F=>{const U=Ua.getCoupled(F,"sandbox"),K=br.isOpen(U);if(K&&!e.previewing.get())return k(U).bind(oe=>Fr.getHighlighted(oe)).map(oe=>(eo(F,Bp(),{item:oe}),!0));{const oe=gn.getValue(F);return Pr(F,Hf()),e.onExecute(U,F,oe),K&&br.close(U),H.some(!0)}}}),tr.config({toggleClass:e.markers.openClass,aria:{mode:"expanded"}}),Ua.config({others:{sandbox:F=>IS(e,F,{onOpen:()=>tr.on(F),onClose:()=>{e.lazyTypeaheadComp.get().each(U=>xa(U.element,"aria-activedescendant")),tr.off(F)}})}}),Ko(O,[ia(F=>{e.lazyTypeaheadComp.set(H.some(F))}),pi(F=>{e.lazyTypeaheadComp.set(H.none())}),wc(F=>{const U=J;l1(e,x(F),F,c,U,Mi.HighlightMenuAndItem).get(J)}),jt(Bp(),(F,U)=>{const K=Ua.getCoupled(F,"sandbox");g2(e.model,F,U.event.item),Pr(F,Hf()),e.onItemExecute(F,K,U.event.item,gn.getValue(F)),br.close(K),p2(F)})].concat(e.dismissOnBlur?[jt(q1(),F=>{const U=Ua.getCoupled(F,"sandbox");Ec(U.element).isNone()&&br.close(U)})]:[]))],L={[Vf()]:[gn.name(),B_.name(),O],...e.eventOrder};return{uid:e.uid,dom:z4(lr(e,{inputAttributes:{role:"combobox","aria-autocomplete":"list","aria-haspopup":"true"}})),behaviours:{...v,...is(e.typeaheadBehaviours,N)},eventOrder:L}}}),yg=e=>({...e,toCached:()=>yg(e.toCached()),bindFuture:r=>yg(e.bind(i=>i.fold(c=>eu(sr.error(c)),c=>r(c)))),bindResult:r=>yg(e.map(i=>i.bind(r))),mapResult:r=>yg(e.map(i=>i.map(r))),mapError:r=>yg(e.map(i=>i.mapError(r))),foldResult:(r,i)=>e.map(c=>c.fold(r,i)),withTimeout:(r,i)=>yg(mg(c=>{let g=!1;const v=setTimeout(()=>{g=!0,c(sr.error(i()))},r);e.get(x=>{g||(clearTimeout(v),c(x))})}))}),kM=e=>yg(mg(e)),H_=(e,r,i=[],c,g,v)=>{const x=r.fold(()=>({}),N=>({action:N})),k={buttonBehaviours:ln([a1(()=>!e.enabled||v.isDisabled()),Gs(),ja.config({}),Ko("button press",[Kg("click"),Kg("mousedown")])].concat(i)),eventOrder:{click:["button press","alloy.base.behaviour"],mousedown:["button press","alloy.base.behaviour"]},...x},O=lr(k,{dom:c});return lr(O,{components:g})},T3=(e,r,i,c=[])=>{const g={tag:"button",classes:["tox-tbtn"],attributes:e.tooltip.map(k=>({"aria-label":i.translate(k),title:i.translate(k)})).getOr({})},v=e.icon.map(k=>v3(k,i.icons)),x=d0([v]);return H_(e,r,c,g,x,i)},A3=e=>{switch(e){case"primary":return["tox-button"];case"toolbar":return["tox-tbtn"];default:return["tox-button","tox-button--secondary"]}},C8=(e,r,i,c=[],g=[])=>{const v=i.translate(e.text),x=e.icon.map(L=>v3(L,i.icons)),k=[x.getOrThunk(()=>Ea(v))],O=e.buttonType.getOr(e.primary||e.borderless?"primary":"secondary"),N=[...A3(O),...x.isSome()?["tox-button--icon"]:[],...e.borderless?["tox-button--naked"]:[],...g];return H_(e,r,c,{tag:"button",classes:N,attributes:{title:v}},k,i)},k8=(e,r,i,c=[],g=[])=>{const v=C8(e,H.some(r),i,c,g);return vi.sketch(v)},S8=(e,r)=>i=>{r==="custom"?eo(i,pd,{name:e,value:{}}):r==="submit"?Pr(i,c1):r==="cancel"?Pr(i,fg):console.error("Unknown button type: ",r)},z_=(e,r,i)=>{if(((c,g)=>g==="menu")(0,r)){const c=()=>x,g=e,v={...e,type:"menubutton",search:H.none(),onSetup:k=>(k.setEnabled(e.enabled),J),fetch:p8(g.items,c,i)},x=Gr(m2(v,"tox-tbtn",i,H.none()));return x.asSpec()}if(((c,g)=>g==="custom"||g==="cancel"||g==="submit")(0,r)){const c=S8(e.name,r),g={...e,borderless:!1};return k8(g,c,i.shared.providers,[])}if(((c,g)=>g==="togglebutton")(0,r))return((c,g)=>{var v,x;const k=c.icon.map(Se=>Ip(Se,g.icons)).map(Gr),O=c.buttonType.getOr(c.primary?"primary":"secondary"),N={...c,name:(v=c.name)!==null&&v!==void 0?v:"",primary:O==="primary",tooltip:H.from(c.tooltip),enabled:(x=c.enabled)!==null&&x!==void 0&&x,borderless:!1},L=N.tooltip.map(Se=>({"aria-label":g.translate(Se),title:g.translate(Se)})).getOr({}),F=A3(O!=null?O:"secondary"),U=c.icon.isSome()&&c.text.isSome(),K={tag:"button",classes:[...F.concat(c.icon.isSome()?["tox-button--icon"]:[]),...c.active?["tox-button--enabled"]:[],...U?["tox-button--icon-and-text"]:[]],attributes:L},oe=g.translate(c.text.getOr("")),ge=Ea(oe),pe=[...d0([k.map(Se=>Se.asSpec())]),...c.text.isSome()?[ge]:[]],we=H_(N,H.some(Se=>{eo(Se,pd,{name:c.name,value:{setIcon:he=>{k.map(Ee=>Ee.getOpt(Se).each(Te=>{Po.set(Te,[Ip(he,g.icons)])}))}}})}),[],K,pe,g);return vi.sketch(we)})(e,i.shared.providers);throw console.error("Unknown footer button type: ",r),new Error("Unknown footer button type")},SM={type:"separator"},EM=e=>({type:"menuitem",value:e.url,text:e.title,meta:{attach:e.attach},onAction:J}),V_=(e,r)=>({type:"menuitem",value:r,text:e,meta:{attach:void 0},onAction:J}),D0=(e,r)=>(i=>et(i,EM))(((i,c)=>Ht(c,g=>g.type===i))(e,r)),OM=e=>D0("header",e.targets),E8=e=>D0("anchor",e.targets),N3=e=>H.from(e.anchorTop).map(r=>V_("<top>",r)).toArray(),O8=e=>H.from(e.anchorBottom).map(r=>V_("<bottom>",r)).toArray(),M3=(e,r)=>{const i=e.toLowerCase();return Ht(r,c=>{var g;const v=c.meta!==void 0&&c.meta.text!==void 0?c.meta.text:c.text,x=(g=c.value)!==null&&g!==void 0?g:"";return xr(v.toLowerCase(),i)||xr(x.toLowerCase(),i)})},T8=Gn("aria-invalid"),TM=(e,r)=>{e.dom.checked=r},AM=e=>e.dom.checked,qs=e=>(r,i,c,g)=>Ze(i,"name").fold(()=>e(i,g,H.none()),v=>r.field(v,e(i,g,Ze(c,v)))),NM={bar:qs((e,r)=>((i,c)=>({dom:{tag:"div",classes:["tox-bar","tox-form__controls-h-stack"]},components:et(i.items,c.interpreter)}))(e,r.shared)),collection:qs((e,r,i)=>((c,g,v)=>{const x=c.label.map(K=>Mp(K,g)),k=K=>(oe,ge)=>{yl(ge.event.target,"[data-collection-item-value]").each(pe=>{K(oe,ge,pe,wa(pe,"data-collection-item-value"))})},O=k((K,oe,ge,pe)=>{oe.stop(),g.isDisabled()||eo(K,pd,{name:c.name,value:pe})}),N=[jt(mu(),k((K,oe,ge)=>{wl(ge)})),jt(bc(),O),jt(Im(),O),jt(Md(),k((K,oe,ge)=>{as(K.element,"."+i0).each(pe=>{Ca(pe,i0)}),_a(ge,i0)})),jt(gb(),k(K=>{as(K.element,"."+i0).each(oe=>{Ca(oe,i0)})})),wc(k((K,oe,ge,pe)=>{eo(K,pd,{name:c.name,value:pe})}))],L=(K,oe)=>et(Ti(K.element,".tox-collection__item"),oe),F=$r.parts.field({dom:{tag:"div",classes:["tox-collection"].concat(c.columns!==1?["tox-collection--grid"]:["tox-collection--list"])},components:[],factory:{sketch:Ae},behaviours:ln([wo.config({disabled:g.isDisabled,onDisabled:K=>{L(K,oe=>{_a(oe,"tox-collection__item--state-disabled"),yo(oe,"aria-disabled",!0)})},onEnabled:K=>{L(K,oe=>{Ca(oe,"tox-collection__item--state-disabled"),xa(oe,"aria-disabled")})}}),Gs(),Po.config({}),gn.config({store:{mode:"memory",initialValue:v.getOr([])},onSetValue:(K,oe)=>{((ge,pe)=>{const we=et(pe,Ee=>{const Te=Jc.translate(Ee.text),He=c.columns===1?`<div class="tox-collection__item-label">${Te}</div>`:"",Ye=`<div class="tox-collection__item-icon">${Ee.icon}</div>`,gt={_:" "," - ":" ","-":" "},Xt=Te.replace(/\_| \- |\-/g,Wt=>gt[Wt]);return`<div class="tox-collection__item${g.isDisabled()?" tox-collection__item--state-disabled":""}" tabindex="-1" data-collection-item-value="${US.encodeAllRaw(Ee.value)}" title="${Xt}" aria-label="${Xt}">${Ye}${He}</div>`}),Se=c.columns!=="auto"&&c.columns>1?xn(we,c.columns):[we],he=et(Se,Ee=>`<div class="tox-collection__group">${Ee.join("")}</div>`);xc(ge.element,he.join(""))})(K,oe),c.columns==="auto"&&iS(K,5,"tox-collection__item").each(({numRows:ge,numColumns:pe})=>{co.setGridSize(K,ge,pe)}),Pr(K,kT)}}),ja.config({}),co.config((U=c.columns,U===1?{mode:"menu",moveOnTab:!1,selector:".tox-collection__item"}:U==="auto"?{mode:"flatgrid",selector:".tox-collection__item",initSize:{numColumns:1,numRows:1}}:{mode:"matrix",selectors:{row:".tox-collection__group",cell:`.${vx}`}})),Ko("collection-events",N)]),eventOrder:{[sl()]:["disabling","alloy.base.behaviour","collection-events"]}});var U;return Cu(x,F,["tox-form__group--collection"],[])})(e,r.shared.providers,i)),alertbanner:qs((e,r)=>((i,c)=>sm.sketch({dom:{tag:"div",attributes:{role:"alert"},classes:["tox-notification","tox-notification--in",`tox-notification--${i.level}`]},components:[{dom:{tag:"div",classes:["tox-notification__icon"]},components:[vi.sketch({dom:{tag:"button",classes:["tox-button","tox-button--naked","tox-button--icon"],innerHtml:v4(i.icon,c.icons),attributes:{title:c.translate(i.iconTooltip)}},action:g=>{eo(g,pd,{name:"alert-banner",value:i.url})},buttonBehaviours:ln([b4()])})]},{dom:{tag:"div",classes:["tox-notification__body"],innerHtml:c.translate(i.text)}}]}))(e,r.shared.providers)),input:qs((e,r,i)=>((c,g,v)=>k3({name:c.name,multiline:!1,label:c.label,inputMode:c.inputMode,placeholder:c.placeholder,flex:!1,disabled:!c.enabled,classname:"tox-textfield",validation:H.none(),maximized:c.maximized,data:v},g))(e,r.shared.providers,i)),textarea:qs((e,r,i)=>((c,g,v)=>k3({name:c.name,multiline:!0,label:c.label,inputMode:H.none(),placeholder:c.placeholder,flex:!0,disabled:!c.enabled,classname:"tox-textarea",validation:H.none(),maximized:c.maximized,data:v},g))(e,r.shared.providers,i)),label:qs((e,r)=>((i,c)=>{return{dom:{tag:"div",classes:["tox-form__group"]},components:[{dom:{tag:"label",classes:["tox-label"]},components:[Ea(c.providers.translate(i.label))]},...et(i.items,c.interpreter)],behaviours:ln([bg(),Po.config({}),(g=H.none(),o8(g,ph,xc)),co.config({mode:"acyclic"})])};var g})(e,r.shared)),iframe:(G3=(e,r,i)=>((c,g,v)=>{const x=c.sandboxed,k=c.transparent,O="tox-dialog__iframe",N={...c.label.map(K=>({title:K})).getOr({}),...v.map(K=>({srcdoc:K})).getOr({}),...x?{sandbox:"allow-scripts allow-same-origin"}:{}},L=(K=>{const oe=uo(K.getOr(""));return{getValue:ge=>oe.get(),setValue:(ge,pe)=>{oe.get()!==pe&&yo(ge.element,"srcdoc",pe),oe.set(pe)}}})(v),F=c.label.map(K=>Mp(K,g)),U=$r.parts.field({factory:{sketch:K=>T0({uid:K.uid,dom:{tag:"iframe",attributes:N,classes:k?[O]:[O,`${O}--opaque`]},behaviours:ln([ja.config({}),Oo.config({}),h1(v,L.getValue,L.setValue)])})}});return Cu(F,U,["tox-form__group--stretched"],[])})(e,r.shared.providers,i),(e,r,i,c)=>{const g=lr(r,{source:"dynamic"});return qs(G3)(e,g,i,c)}),button:qs((e,r)=>((i,c)=>{const g=S8(i.name,"custom");return v=H.none(),x=$r.parts.field({factory:vi,...C8(i,H.some(g),c,[Yo(""),bg()])}),Cu(v,x,[],[]);var v,x})(e,r.shared.providers)),checkbox:qs((e,r,i)=>((c,g,v)=>{const x=F=>(F.element.dom.click(),H.some(!0)),k=$r.parts.field({factory:{sketch:Ae},dom:{tag:"input",classes:["tox-checkbox__input"],attributes:{type:"checkbox"}},behaviours:ln([bg(),wo.config({disabled:()=>!c.enabled||g.isDisabled(),onDisabled:F=>{Eo(F.element).each(U=>_a(U,"tox-checkbox--disabled"))},onEnabled:F=>{Eo(F.element).each(U=>Ca(U,"tox-checkbox--disabled"))}}),ja.config({}),Oo.config({}),a8(v,AM,TM),co.config({mode:"special",onEnter:x,onSpace:x,stopSpaceKeyup:!0}),Ko("checkbox-events",[jt(Rd(),(F,U)=>{eo(F,Mc,{name:c.name})})])])}),O=$r.parts.label({dom:{tag:"span",classes:["tox-checkbox__label"]},components:[Ea(g.translate(c.label))],behaviours:ln([C0.config({})])}),N=F=>ud(F==="checked"?"selected":"unselected",{tag:"span",classes:["tox-icon","tox-checkbox-icon__"+F]},g.icons),L=Gr({dom:{tag:"div",classes:["tox-checkbox__icons"]},components:[N("checked"),N("unchecked")]});return $r.sketch({dom:{tag:"label",classes:["tox-checkbox"]},components:[k,L.asSpec(),O],fieldBehaviours:ln([wo.config({disabled:()=>!c.enabled||g.isDisabled()}),Gs()])})})(e,r.shared.providers,i)),colorinput:qs((e,r,i)=>((c,g,v,x)=>{const k=$r.parts.field({factory:Sp,inputClasses:["tox-textfield"],data:x,onSetValue:F=>uf.run(F).get(J),inputBehaviours:ln([wo.config({disabled:g.providers.isDisabled}),Gs(),ja.config({}),uf.config({invalidClass:"tox-textbox-field-invalid",getRoot:F=>Eo(F.element),notify:{onValid:F=>{const U=gn.getValue(F);eo(F,WS,{color:U})}},validator:{validateOnLoad:!1,validate:F=>{const U=gn.getValue(F);if(U.length===0)return eu(sr.value(!0));{const K=Ra("span");Do(K,"background-color",U);const oe=Kr(K,"background-color").fold(()=>sr.error("blah"),ge=>sr.value(U));return eu(oe)}}}})]),selectOnFocus:!1}),O=c.label.map(F=>Mp(F,g.providers)),N=(F,U)=>{eo(F,l_,{value:U})},L=Gr(((F,U)=>tu.sketch({dom:F.dom,components:F.components,toggleClass:"mce-active",dropdownBehaviours:ln([a1(U.providers.isDisabled),Gs(),C0.config({}),ja.config({})]),layouts:F.layouts,sandboxClasses:["tox-dialog__popups"],lazySink:U.getSink,fetch:K=>mg(oe=>F.fetch(oe)).map(oe=>H.from(Yy(lr(Kx(Gn("menu-value"),oe,ge=>{F.onItemAction(K,ge)},F.columns,F.presets,Qc.CLOSE_ON_EXECUTE,Ke,U.providers),{movement:Yx(F.columns,F.presets)})))),parts:{menu:Oy(0,0,F.presets)}}))({dom:{tag:"span",attributes:{"aria-label":g.providers.translate("Color swatch")}},layouts:{onRtl:()=>[li,ii,$a],onLtr:()=>[ii,li,$a]},components:[],fetch:aT(v.getColors(c.storageKey),c.storageKey,v.hasCustomColors()),columns:v.getColorCols(c.storageKey),presets:"color",onItemAction:(F,U)=>{L.getOpt(F).each(K=>{U==="custom"?v.colorPicker(oe=>{oe.fold(()=>Pr(K,GS),ge=>{N(K,ge),eT(c.storageKey,ge)})},"#ffffff"):N(K,U==="remove"?"":U)})}},g));return $r.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:O.toArray().concat([{dom:{tag:"div",classes:["tox-color-input"]},components:[k,L.asSpec()]}]),fieldBehaviours:ln([Ko("form-field-events",[jt(WS,(F,U)=>{L.getOpt(F).each(K=>{Do(K.element,"background-color",U.event.color)}),eo(F,Mc,{name:c.name})}),jt(l_,(F,U)=>{$r.getField(F).each(K=>{gn.setValue(K,U.event.value),hr.getCurrent(F).each(Oo.focus)})}),jt(GS,(F,U)=>{$r.getField(F).each(K=>{hr.getCurrent(F).each(Oo.focus)})})])])})})(e,r.shared,r.colorinput,i)),colorpicker:qs((e,r,i)=>((c,g,v)=>{const x=N=>"tox-"+N,k=t8((N=>L=>N.translate(l2[L]))(g),x),O=Gr(k.sketch({dom:{tag:"div",classes:[x("color-picker-container")],attributes:{role:"presentation"}},onValidHex:N=>{eo(N,pd,{name:"hex-valid",value:!0})},onInvalidHex:N=>{eo(N,pd,{name:"hex-valid",value:!1})}}));return{dom:{tag:"div"},components:[O.asSpec()],behaviours:ln([h1(v,N=>{const L=O.get(N);return hr.getCurrent(L).bind(F=>gn.getValue(F).hex).map(F=>"#"+Ar(F,"#")).getOr("")},(N,L)=>{const F=H.from(/^#([a-fA-F0-9]{3}(?:[a-fA-F0-9]{3})?)/.exec(L)).bind(K=>En(K,1)),U=O.get(N);hr.getCurrent(U).fold(()=>{console.log("Can not find form")},K=>{gn.setValue(K,{hex:F.getOr("")}),p1.getField(K,"hex").each(oe=>{Pr(oe,Rm())})})}),bg()])}})(0,r.shared.providers,i)),dropzone:qs((e,r,i)=>((c,g,v)=>{const x=(oe,ge)=>{ge.stop()},k=oe=>(ge,pe)=>{_t(oe,we=>{we(ge,pe)})},O=(oe,ge)=>{var pe;if(!wo.isDisabled(oe)){const we=ge.event.raw;L(oe,(pe=we.dataTransfer)===null||pe===void 0?void 0:pe.files)}},N=(oe,ge)=>{const pe=ge.event.raw.target;L(oe,pe.files)},L=(oe,ge)=>{ge&&(gn.setValue(oe,((pe,we)=>{const Se=gf.explode(we.getOption("images_file_types"));return Ht(qt(pe),he=>Sn(Se,Ee=>Xr(he.name.toLowerCase(),`.${Ee.toLowerCase()}`)))})(ge,g)),eo(oe,Mc,{name:c.name}))},F=Gr({dom:{tag:"input",attributes:{type:"file",accept:"image/*"},styles:{display:"none"}},behaviours:ln([Ko("input-file-events",[Id(bc()),Id(Im())])])}),U=c.label.map(oe=>Mp(oe,g)),K=$r.parts.field({factory:{sketch:oe=>({uid:oe.uid,dom:{tag:"div",classes:["tox-dropzone-container"]},behaviours:ln([Yo(v.getOr([])),bg(),wo.config({}),tr.config({toggleClass:"dragenter",toggleOnExecute:!1}),Ko("dropzone-events",[jt("dragenter",k([x,tr.toggle])),jt("dragleave",k([x,tr.toggle])),jt("dragover",x),jt("drop",k([x,O])),jt(Rd(),N)])]),components:[{dom:{tag:"div",classes:["tox-dropzone"],styles:{}},components:[{dom:{tag:"p"},components:[Ea(g.translate("Drop an image here"))]},vi.sketch({dom:{tag:"button",styles:{position:"relative"},classes:["tox-button","tox-button--secondary"]},components:[Ea(g.translate("Browse for an image")),F.asSpec()],action:ge=>{F.get(ge).element.dom.click()},buttonBehaviours:ln([ja.config({}),a1(g.isDisabled),Gs()])})]}]})}});return Cu(U,K,["tox-form__group--stretched"],[])})(e,r.shared.providers,i)),grid:qs((e,r)=>((i,c)=>({dom:{tag:"div",classes:["tox-form__grid",`tox-form__grid--${i.columns}col`]},components:et(i.items,c.interpreter)}))(e,r.shared)),listbox:qs((e,r,i)=>((c,g,v)=>{const x=g.shared.providers,k=v.bind(F=>A0(c.items,F)).orThunk(()=>hn(c.items).filter(w3)),O=c.label.map(F=>Mp(F,x)),N=$r.parts.field({dom:{},factory:{sketch:F=>O_({uid:F.uid,text:k.map(U=>U.text),icon:H.none(),tooltip:c.label,role:H.none(),fetch:(U,K)=>{const oe=yd(U,c.name,c.items,gn.getValue(U));K(y1(oe,Qc.CLOSE_ON_EXECUTE,g,{isHorizontalMenu:!1,search:H.none()}))},onSetup:G(J),getApi:G({}),columns:1,presets:"normal",classes:[],dropdownBehaviours:[ja.config({}),h1(k.map(U=>U.value),U=>wa(U.element,x3),(U,K)=>{A0(c.items,K).each(oe=>{yo(U.element,x3,oe.value),eo(U,ou,{text:oe.text})})})]},"tox-listbox",g.shared)}}),L={dom:{tag:"div",classes:["tox-listboxfield"]},components:[N]};return $r.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:Be([O.toArray(),[L]]),fieldBehaviours:ln([wo.config({disabled:G(!c.enabled),onDisabled:F=>{$r.getField(F).each(wo.disable)},onEnabled:F=>{$r.getField(F).each(wo.enable)}})])})})(e,r,i)),selectbox:qs((e,r,i)=>((c,g,v)=>{const x=et(c.items,F=>({text:g.translate(F.text),value:F.value})),k=c.label.map(F=>Mp(F,g)),O=$r.parts.field({dom:{},...v.map(F=>({data:F})).getOr({}),selectAttributes:{size:c.size},options:x,factory:T_,selectBehaviours:ln([wo.config({disabled:()=>!c.enabled||g.isDisabled()}),ja.config({}),Ko("selectbox-change",[jt(Rd(),(F,U)=>{eo(F,Mc,{name:c.name})})])])}),N=c.size>1?H.none():H.some(ud("chevron-down",{tag:"div",classes:["tox-selectfield__icon-js"]},g.icons)),L={dom:{tag:"div",classes:["tox-selectfield"]},components:Be([[O],N.toArray()])};return $r.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:Be([k.toArray(),[L]]),fieldBehaviours:ln([wo.config({disabled:()=>!c.enabled||g.isDisabled(),onDisabled:F=>{$r.getField(F).each(wo.disable)},onEnabled:F=>{$r.getField(F).each(wo.enable)}}),Gs()])})})(e,r.shared.providers,i)),sizeinput:qs((e,r)=>((i,c)=>{let g=c2;const v=Gn("ratio-event"),x=K=>ud(K,{tag:"span",classes:["tox-icon","tox-lock-icon__"+K]},c.icons),k=tc.parts.lock({dom:{tag:"button",classes:["tox-lock","tox-button","tox-button--naked","tox-button--icon"],attributes:{title:c.translate(i.label.getOr("Constrain proportions"))}},components:[x("lock"),x("unlock")],buttonBehaviours:ln([wo.config({disabled:()=>!i.enabled||c.isDisabled()}),Gs(),ja.config({})])}),O=K=>({dom:{tag:"div",classes:["tox-form__group"]},components:K}),N=K=>$r.parts.field({factory:Sp,inputClasses:["tox-textfield"],inputBehaviours:ln([wo.config({disabled:()=>!i.enabled||c.isDisabled()}),Gs(),ja.config({}),Ko("size-input-events",[jt(Md(),(oe,ge)=>{eo(oe,v,{isField1:K})}),jt(Rd(),(oe,ge)=>{eo(oe,Mc,{name:i.name})})])]),selectOnFocus:!1}),L=K=>({dom:{tag:"label",classes:["tox-label"]},components:[Ea(c.translate(K))]}),F=tc.parts.field1(O([$r.parts.label(L("Width")),N(!0)])),U=tc.parts.field2(O([$r.parts.label(L("Height")),N(!1)]));return tc.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:[{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:[F,U,O([L("\xA0"),k])]}],field1Name:"width",field2Name:"height",locked:!0,markers:{lockClass:"tox-locked"},onLockedChange:(K,oe,ge)=>{N_(gn.getValue(K)).each(pe=>{g(pe).each(we=>{gn.setValue(oe,(Se=>{const he={"":0,px:0,pt:1,mm:1,pc:2,ex:2,em:2,ch:2,rem:2,cm:3,in:4,"%":4};let Ee=Se.value.toFixed((Te=Se.unit)in he?he[Te]:1);var Te;return Ee.indexOf(".")!==-1&&(Ee=Ee.replace(/\.?0*$/,"")),Ee+Se.unit})(we))})})},coupledFieldBehaviours:ln([wo.config({disabled:()=>!i.enabled||c.isDisabled(),onDisabled:K=>{tc.getField1(K).bind($r.getField).each(wo.disable),tc.getField2(K).bind($r.getField).each(wo.disable),tc.getLock(K).each(wo.disable)},onEnabled:K=>{tc.getField1(K).bind($r.getField).each(wo.enable),tc.getField2(K).bind($r.getField).each(wo.enable),tc.getLock(K).each(wo.enable)}}),Gs(),Ko("size-input-events2",[jt(v,(K,oe)=>{const ge=oe.event.isField1,pe=ge?tc.getField1(K):tc.getField2(K),we=ge?tc.getField2(K):tc.getField1(K),Se=pe.map(gn.getValue).getOr(""),he=we.map(gn.getValue).getOr("");g=((Ee,Te)=>{const He=N_(Ee).toOptional(),Ye=N_(Te).toOptional();return Zt(He,Ye,(gt,Xt)=>C3(gt,Xt.unit).map(Wt=>Xt.value/Wt).map(Wt=>{return Qt=Wt,Ln=Xt.unit,to=>C3(to,Ln).map(Vn=>({value:Vn*Qt,unit:Ln}));var Qt,Ln}).getOr(c2)).getOr(c2)})(Se,he)})])])})})(e,r.shared.providers)),slider:qs((e,r,i)=>((c,g,v)=>{const x=bd.parts.label({dom:{tag:"label",classes:["tox-label"]},components:[Ea(g.translate(c.label))]}),k=bd.parts.spectrum({dom:{tag:"div",classes:["tox-slider__rail"],attributes:{role:"presentation"}}}),O=bd.parts.thumb({dom:{tag:"div",classes:["tox-slider__handle"],attributes:{role:"presentation"}}});return bd.sketch({dom:{tag:"div",classes:["tox-slider"],attributes:{role:"presentation"}},model:{mode:"x",minX:c.min,maxX:c.max,getInitialValue:G(v.getOrThunk(()=>(Math.abs(c.max)-Math.abs(c.min))/2))},components:[x,k,O],sliderBehaviours:ln([bg(),Oo.config({})]),onChoose:(N,L,F)=>{eo(N,Mc,{name:c.name,value:F})}})})(e,r.shared.providers,i)),urlinput:qs((e,r,i)=>((c,g,v,x)=>{const k=g.shared.providers,O=Se=>{const he=gn.getValue(Se);v.addToHistory(he.value,c.filetype)},N={...x.map(Se=>({initialData:Se})).getOr({}),dismissOnBlur:!0,inputClasses:["tox-textfield"],sandboxClasses:["tox-dialog__popups"],inputAttributes:{"aria-errormessage":T8,type:"url"},minChars:0,responseTime:0,fetch:Se=>{const he=((Te,He,Ye)=>{var gt,Xt;const Wt=gn.getValue(He),Qt=(Xt=(gt=Wt==null?void 0:Wt.meta)===null||gt===void 0?void 0:gt.text)!==null&&Xt!==void 0?Xt:Wt.value;return Ye.getLinkInformation().fold(()=>[],Ln=>{const to=M3(Qt,(fo=>et(fo,_o=>V_(_o,_o)))(Ye.getHistory(Te)));return Te==="file"?(Vn=[to,M3(Qt,OM(Ln)),M3(Qt,Be([N3(Ln),E8(Ln),O8(Ln)]))],Et(Vn,(fo,_o)=>fo.length===0||_o.length===0?fo.concat(_o):fo.concat(SM,_o),[])):to;var Vn})})(c.filetype,Se,v),Ee=y1(he,Qc.BUBBLE_TO_SANDBOX,g,{isHorizontalMenu:!1,search:H.none()});return eu(Ee)},getHotspot:Se=>pe.getOpt(Se),onSetValue:(Se,he)=>{Se.hasConfigured(uf)&&uf.run(Se).get(J)},typeaheadBehaviours:ln([...v.getValidationHandler().map(Se=>uf.config({getRoot:he=>Eo(he.element),invalidClass:"tox-control-wrap--status-invalid",notify:{onInvalid:(he,Ee)=>{U.getOpt(he).each(Te=>{yo(Te.element,"title",k.translate(Ee))})}},validator:{validate:he=>{const Ee=gn.getValue(he);return kM(Te=>{Se({type:c.filetype,url:Ee.value},He=>{if(He.status==="invalid"){const Ye=sr.error(He.message);Te(Ye)}else{const Ye=sr.value(He.message);Te(Ye)}})})},validateOnLoad:!1}})).toArray(),wo.config({disabled:()=>!c.enabled||k.isDisabled()}),ja.config({}),Ko("urlinput-events",[jt(Rm(),Se=>{const he=ql(Se.element),Ee=he.trim();Ee!==he&&Wc(Se.element,Ee),c.filetype==="file"&&eo(Se,Mc,{name:c.name})}),jt(Rd(),Se=>{eo(Se,Mc,{name:c.name}),O(Se)}),jt(lh(),Se=>{eo(Se,Mc,{name:c.name}),O(Se)})])]),eventOrder:{[Rm()]:["streaming","urlinput-events","invalidating"]},model:{getDisplayText:Se=>Se.value,selectsOver:!1,populateFromBrowse:!1},markers:{openClass:"tox-textfield--popup-open"},lazySink:g.shared.getSink,parts:{menu:Oy(0,0,"normal")},onExecute:(Se,he,Ee)=>{eo(he,c1,{})},onItemExecute:(Se,he,Ee,Te)=>{O(Se),eo(Se,Mc,{name:c.name})}},L=$r.parts.field({...N,factory:O3}),F=c.label.map(Se=>Mp(Se,k)),U=Gr(((Se,he,Ee=Se,Te=Se)=>ud(Ee,{tag:"div",classes:["tox-icon","tox-control-wrap__status-icon-"+Se],attributes:{title:k.translate(Te),"aria-live":"polite",...he.fold(()=>({}),He=>({id:He}))}},k.icons))("invalid",H.some(T8),"warning")),K=Gr({dom:{tag:"div",classes:["tox-control-wrap__status-icon-wrap"]},components:[U.asSpec()]}),oe=v.getUrlPicker(c.filetype),ge=Gn("browser.url.event"),pe=Gr({dom:{tag:"div",classes:["tox-control-wrap"]},components:[L,K.asSpec()],behaviours:ln([wo.config({disabled:()=>!c.enabled||k.isDisabled()})])}),we=Gr(k8({name:c.name,icon:H.some("browse"),text:c.label.getOr(""),enabled:c.enabled,primary:!1,buttonType:H.none(),borderless:!0},Se=>Pr(Se,ge),k,[],["tox-browse-url"]));return $r.sketch({dom:n_([]),components:F.toArray().concat([{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:Be([[pe.asSpec()],oe.map(()=>we.asSpec()).toArray()])}]),fieldBehaviours:ln([wo.config({disabled:()=>!c.enabled||k.isDisabled(),onDisabled:Se=>{$r.getField(Se).each(wo.disable),we.getOpt(Se).each(wo.disable)},onEnabled:Se=>{$r.getField(Se).each(wo.enable),we.getOpt(Se).each(wo.enable)}}),Gs(),Ko("url-input-events",[jt(ge,Se=>{hr.getCurrent(Se).each(he=>{const Ee=gn.getValue(he),Te={fieldname:c.name,...Ee};oe.each(He=>{He(Te).get(Ye=>{gn.setValue(he,Ye),eo(Se,Mc,{name:c.name})})})})})])])})})(e,r,r.urlinput,i)),customeditor:qs(e=>{const r=ha(),i=Gr({dom:{tag:e.tag}}),c=ha();return{dom:{tag:"div",classes:["tox-custom-editor"]},behaviours:ln([Ko("custom-editor-events",[ia(g=>{i.getOpt(g).each(v=>{((x=>Lt(x,"init"))(e)?e.init(v.element.dom):s8.load(e.scriptId,e.scriptUrl).then(x=>x(v.element.dom,e.settings))).then(x=>{c.on(k=>{x.setValue(k)}),c.clear(),r.set(x)})})})]),h1(H.none(),()=>r.get().fold(()=>c.get().getOr(""),g=>g.getValue()),(g,v)=>{r.get().fold(()=>c.set(v),x=>x.setValue(v))}),bg()]),components:[i.asSpec()]}}),htmlpanel:qs(e=>e.presets==="presentation"?sm.sketch({dom:{tag:"div",classes:["tox-form__group"],innerHtml:e.html}}):sm.sketch({dom:{tag:"div",classes:["tox-form__group"],innerHtml:e.html,attributes:{role:"document"}},containerBehaviours:ln([ja.config({}),Oo.config({})])})),imagepreview:qs((e,r,i)=>((c,g)=>{const v=uo(g.getOr({url:""})),x=Gr({dom:{tag:"img",classes:["tox-imagepreview__image"],attributes:g.map(L=>({src:L.url})).getOr({})}}),k=Gr({dom:{tag:"div",classes:["tox-imagepreview__container"],attributes:{role:"presentation"}},components:[x.asSpec()]}),O={};c.height.each(L=>O.height=L);const N=g.map(L=>({url:L.url,zoom:H.from(L.zoom),cachedWidth:H.from(L.cachedWidth),cachedHeight:H.from(L.cachedHeight)}));return{dom:{tag:"div",classes:["tox-imagepreview"],styles:O,attributes:{role:"presentation"}},components:[k.asSpec()],behaviours:ln([bg(),h1(N,()=>v.get(),(L,F)=>{const U={url:F.url};F.zoom.each(oe=>U.zoom=oe),F.cachedWidth.each(oe=>U.cachedWidth=oe),F.cachedHeight.each(oe=>U.cachedHeight=oe),v.set(U);const K=()=>{const{cachedWidth:oe,cachedHeight:ge,zoom:pe}=U;if(!fe(oe)&&!fe(ge)){if(fe(pe)){const Se=((he,Ee,Te)=>{const He=Yr(he),Ye=Ha(he);return Math.min(He/Ee,Ye/Te,1)})(L.element,oe,ge);U.zoom=Se}const we=((Se,he,Ee,Te,He)=>{const Ye=Ee*He,gt=Te*He,Xt=Math.max(0,Se/2-Ye/2),Wt=Math.max(0,he/2-gt/2);return{left:Xt.toString()+"px",top:Wt.toString()+"px",width:Ye.toString()+"px",height:gt.toString()+"px"}})(Yr(L.element),Ha(L.element),oe,ge,U.zoom);k.getOpt(L).each(Se=>{Sl(Se.element,we)})}};x.getOpt(L).each(oe=>{const ge=oe.element;var pe;F.url!==wa(ge,"src")&&(yo(ge,"src",F.url),Ca(L.element,"tox-imagepreview__loaded")),K(),(pe=ge,new Promise((we,Se)=>{const he=()=>{Te(),we(pe)},Ee=[Ds(pe,"load",he),Ds(pe,"error",()=>{Te(),Se("Unable to load data from image: "+pe.dom.src)})],Te=()=>_t(Ee,He=>He.unbind());pe.dom.complete&&he()})).then(we=>{L.getSystem().isConnected()&&(_a(L.element,"tox-imagepreview__loaded"),U.cachedWidth=we.dom.naturalWidth,U.cachedHeight=we.dom.naturalHeight,K())})})})])}})(e,i)),table:qs((e,r)=>((i,c)=>{const g=k=>({dom:{tag:"td",innerHtml:c.translate(k)}});return{dom:{tag:"table",classes:["tox-dialog__table"]},components:[(x=i.header,{dom:{tag:"thead"},components:[{dom:{tag:"tr"},components:et(x,k=>({dom:{tag:"th",innerHtml:c.translate(k)}}))}]}),(v=i.cells,{dom:{tag:"tbody"},components:et(v,k=>({dom:{tag:"tr"},components:et(k,g)}))})],behaviours:ln([ja.config({}),Oo.config({})])};var v,x})(e,r.shared.providers)),tree:qs((e,r)=>((i,c)=>{const g=i.onLeafAction.getOr(J),v=i.onToggleExpand.getOr(J),x=i.defaultExpandedIds,k=uo(x),O=uo(i.defaultSelectedId),N=Gn("tree-id"),L=(F,U)=>i.items.map(K=>K.type==="leaf"?I_({leaf:K,selectedId:F,onLeafAction:g,visible:!0,treeId:N,backstage:c}):E3({directory:K,selectedId:F,onLeafAction:g,expandedIds:U,labelTabstopping:!0,treeId:N,backstage:c}));return{dom:{tag:"div",classes:["tox-tree"],attributes:{role:"tree"}},components:L(O.get(),k.get()),behaviours:ln([co.config({mode:"flow",selector:".tox-tree--leaf__label--visible, .tox-tree--directory__label--visible",cycles:!1}),Ko(L_,[jt("expand-tree-node",(F,U)=>{const{expanded:K,node:oe}=U.event;k.set(K?[...k.get(),oe]:k.get().filter(ge=>ge!==oe)),v(k.get(),{expanded:K,node:oe})})]),Oi.config({channels:{[`update-active-item-${N}`]:{onReceive:(F,U)=>{O.set(H.some(U.value)),Po.set(F,L(H.some(U.value),k.get()))}}}}),Po.config({})])}})(e,r)),panel:qs((e,r)=>((i,c)=>({dom:{tag:"div",classes:i.classes},components:et(i.items,c.shared.interpreter)}))(e,r))},MM={field:(e,r)=>r,record:G([])},A8=(e,r,i,c)=>{const g=lr(c,{shared:{interpreter:v=>$_(e,v,i,g)}});return $_(e,r,i,g)},$_=(e,r,i,c)=>Ze(NM,r.type).fold(()=>(console.error(`Unknown factory type "${r.type}", defaulting to container: `,r),r),g=>g(e,r,i,c)),h2=(e,r,i)=>$_(MM,e,r,i),lm="layout-inset",Fp=e=>e.x,v2=(e,r)=>e.x+e.width/2-r.width/2,b2=(e,r)=>e.x+e.width-r.width,U_=e=>e.y,j_=(e,r)=>e.y+e.height-r.height,y2=(e,r)=>e.y+e.height/2-r.height/2,w1=(e,r,i)=>$s(b2(e,r),j_(e,r),i.insetSouthwest(),kh(),"southwest",Us(e,{right:0,bottom:3}),lm),Z_=(e,r,i)=>$s(Fp(e),j_(e,r),i.insetSoutheast(),fv(),"southeast",Us(e,{left:1,bottom:3}),lm),x1=(e,r,i)=>$s(b2(e,r),U_(e),i.insetNorthwest(),mv(),"northwest",Us(e,{right:0,top:2}),lm),_1=(e,r,i)=>$s(Fp(e),U_(e),i.insetNortheast(),Ch(),"northeast",Us(e,{left:1,top:2}),lm),wd=(e,r,i)=>$s(v2(e,r),U_(e),i.insetNorth(),xb(),"north",Us(e,{top:2}),lm),C1=(e,r,i)=>$s(v2(e,r),j_(e,r),i.insetSouth(),_b(),"south",Us(e,{bottom:3}),lm),I0=(e,r,i)=>$s(b2(e,r),y2(e,r),i.insetEast(),kb(),"east",Us(e,{right:0}),lm),R3=(e,r,i)=>$s(Fp(e),y2(e,r),i.insetWest(),Cb(),"west",Us(e,{left:1}),lm),N8=e=>{switch(e){case"north":return wd;case"northeast":return _1;case"northwest":return x1;case"south":return C1;case"southeast":return Z_;case"southwest":return w1;case"east":return I0;case"west":return R3}},M8=(e,r,i,c,g)=>Ov(c).map(N8).getOr(wd)(e,r,i,c,g),RM=e=>{switch(e){case"north":return C1;case"northeast":return Z_;case"northwest":return w1;case"south":return wd;case"southeast":return _1;case"southwest":return x1;case"east":return R3;case"west":return I0}},DM=(e,r,i,c,g)=>Ov(c).map(RM).getOr(wd)(e,r,i,c,g),D3={valignCentre:[],alignCentre:[],alignLeft:[],alignRight:[],right:[],left:[],bottom:[],top:[]},IM=(e,r,i)=>{const c={maxHeightFunction:rp()};return()=>i()?{type:"node",root:Sa(ka(e())),node:H.from(e()),bubble:Yf(12,12,D3),layouts:{onRtl:()=>[_1],onLtr:()=>[x1]},overrides:c}:{type:"hotspot",hotspot:r(),bubble:Yf(-12,12,D3),layouts:{onRtl:()=>[ii,li,$a],onLtr:()=>[li,ii,$a]},overrides:c}},PM=(e,r,i)=>()=>i()?{type:"node",root:Sa(ka(e())),node:H.from(e()),layouts:{onRtl:()=>[wd],onLtr:()=>[wd]}}:{type:"hotspot",hotspot:r(),layouts:{onRtl:()=>[$a],onLtr:()=>[$a]}},R8=(e,r)=>()=>({type:"selection",root:r(),getSelection:()=>{const i=e.selection.getRng(),c=e.model.table.getSelectedCells();if(c.length>1){const g=c[0],v=c[c.length-1],x={firstCell:Pe(g),lastCell:Pe(v)};return H.some(x)}return H.some(Ud.range(Pe(i.startContainer),i.startOffset,Pe(i.endContainer),i.endOffset))}}),D8=e=>r=>({type:"node",root:e(),node:r}),ru=(e,r,i)=>{const c=Qh(e),g=()=>Pe(e.getBody()),v=()=>Pe(e.getContentAreaContainer()),x=()=>c||!i();return{inlineDialog:IM(v,r,x),banner:PM(v,r,x),cursor:R8(e,g),node:D8(g)}},LM=e=>(r,i)=>{lT(e)(r,i)},I8=e=>()=>Os(e),P8=e=>r=>h0(e,r),BM=e=>r=>Zx(e,r),w2=e=>()=>vy(e),x2=e=>ho(e,"items"),L8=e=>ho(e,"format"),_2=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",format:"bold"},{title:"Italic",format:"italic"},{title:"Underline",format:"underline"},{title:"Strikethrough",format:"strikethrough"},{title:"Superscript",format:"superscript"},{title:"Subscript",format:"subscript"},{title:"Code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Align",items:[{title:"Left",format:"alignleft"},{title:"Center",format:"aligncenter"},{title:"Right",format:"alignright"},{title:"Justify",format:"alignjustify"}]}],B8=e=>Et(e,(r,i)=>{if(Lt(i,"items")){const c=B8(i.items);return{customFormats:r.customFormats.concat(c.customFormats),formats:r.formats.concat([{title:i.title,items:c.formats}])}}if(Lt(i,"inline")||(c=>Lt(c,"block"))(i)||(c=>Lt(c,"selector"))(i)){const c=`custom-${S(i.name)?i.name:i.title.toLowerCase()}`;return{customFormats:r.customFormats.concat([{name:c,format:i}]),formats:r.formats.concat([{title:i.title,format:c,icon:i.icon}])}}return{...r,formats:r.formats.concat(i)}},{customFormats:[],formats:[]}),F8=e=>ax(e).map(r=>{const i=((c,g)=>{const v=B8(g),x=k=>{_t(k,O=>{c.formatter.has(O.name)||c.formatter.register(O.name,O.format)})};return c.formatter?x(v.customFormats):c.on("init",()=>{x(v.customFormats)}),v.formats})(e,r);return sx(e)?_2.concat(i):i}).getOr(_2),au=(e,r,i)=>({...e,type:"formatter",isSelected:r(e.format),getStylePreview:i(e.format)}),C2=(e,r,i,c)=>{const g=v=>et(v,x=>x2(x)?(k=>{const O=g(k.items);return{...k,type:"submenu",getStyleItems:G(O)}})(x):L8(x)?(k=>au(k,i,c))(x):(k=>{const O=Dn(k);return O.length===1&&pn(O,"title")})(x)?{...x,type:"separator"}:(k=>{const O=S(k.name)?k.name:Gn(k.title),N=`custom-${O}`,L={...k,type:"formatter",format:N,isSelected:i(N),getStylePreview:c(N)};return e.formatter.register(O,L),L})(x));return g(r)},H8=gf.trim,I3=e=>r=>!!((i=>ue(i)&&i.nodeType===1)(r)&&(r.contentEditable===e||r.getAttribute("data-mce-contenteditable")===e)),FM=I3("true"),z8=I3("false"),V8=(e,r,i,c,g)=>({type:e,title:r,url:i,level:c,attach:g}),P3=e=>e.innerText||e.textContent,$8=e=>(r=>r&&r.nodeName==="A"&&(r.id||r.name)!==void 0)(e)&&B3(e),L3=e=>e&&/^(H[1-6])$/.test(e.nodeName),B3=e=>(r=>{let i=r;for(;i=i.parentNode;){const c=i.contentEditable;if(c&&c!=="inherit")return FM(i)}return!1})(e)&&!z8(e),U8=e=>L3(e)&&B3(e),j8=e=>{var r;const i=(c=>c.id?c.id:Gn("h"))(e);return V8("header",(r=P3(e))!==null&&r!==void 0?r:"","#"+i,(c=>L3(c)?parseInt(c.nodeName.substr(1),10):0)(e),()=>{e.id=i})},Z8=e=>{const r=e.id||e.name,i=P3(e);return V8("anchor",i||"#"+r,"#"+r,0,J)},HM=e=>H8(e.title).length>0,zM=e=>{const r=(i=>et(Ti(Pe(i),"h1,h2,h3,h4,h5,h6,a:not([href])"),g=>g.dom))(e);return Ht((i=>et(Ht(i,U8),j8))(r).concat((i=>et(Ht(i,$8),Z8))(r)),HM)},W_="tinymce-url-history",W8=e=>S(e)&&/^https?/.test(e),G8=e=>M(e)&&rt(e,r=>{return!(I(i=r)&&i.length<=5&&Oe(i,W8));var i}).isNone(),F3=()=>{const e=cf.getItem(W_);if(e===null)return{};let r;try{r=JSON.parse(e)}catch(i){if(i instanceof SyntaxError)return console.log("Local storage "+W_+" was not valid JSON",i),{};throw i}return G8(r)?r:(console.log("Local storage "+W_+" was not valid format",r),{})},H3=e=>{const r=F3();return Ze(r,e).getOr([])},G_=(e,r)=>{if(!W8(e))return;const i=F3(),c=Ze(i,r).getOr([]),g=Ht(c,v=>v!==e);i[r]=[e].concat(g).slice(0,5),(v=>{if(!G8(v))throw new Error(`Bad format for history:
`+JSON.stringify(v));cf.setItem(W_,JSON.stringify(v))})(i)},z3=e=>!!e,VM=e=>so(gf.makeMap(e,/[, ]/),z3),V3=e=>H.from(E4(e)),q8=e=>H.from(e).filter(S).getOrUndefined(),$3=e=>({getHistory:H3,addToHistory:G_,getLinkInformation:()=>(r=>kO(r)?H.some({targets:zM(r.getBody()),anchorTop:q8(T4(r)),anchorBottom:q8(ux(r))}):H.none())(e),getValidationHandler:()=>(r=>H.from(O4(r)))(e),getUrlPicker:r=>((i,c)=>((g,v)=>{const x=(k=>{const O=H.from(cx(k)).filter(z3).map(VM);return V3(k).fold(Ke,N=>O.fold(nn,L=>Dn(L).length>0&&L))})(g);return re(x)?x?V3(g):H.none():x[v]?V3(g):H.none()})(i,c).map(g=>v=>mg(x=>{const k={filetype:c,fieldname:v.fieldname,...H.from(v.meta).getOr({})};g.call(i,(O,N)=>{if(!S(O))throw new Error("Expected value to be string");if(N!==void 0&&!M(N))throw new Error("Expected meta to be a object");x({value:O,meta:N})},v.value,k)})))(e,r)}),Ts=Zh,cm=_n,K8=G([ct("shell",!1),kt("makeItem"),ct("setupItem",J),Zs("listBehaviours",[Po])]),U3=Gt({name:"items",overrides:()=>({behaviours:ln([Po.config({})])})}),$M=G([U3]),j3=qi({name:G("CustomList")(),configFields:K8(),partFields:$M(),factory:(e,r,i,c)=>{const g=e.shell?{behaviours:[Po.config({})],components:[]}:{behaviours:[],components:r};return{uid:e.uid,dom:e.dom,components:g.components,behaviours:is(e.listBehaviours,g.behaviours),apis:{setItems:(v,x)=>{var k;(k=v,e.shell?H.some(k):jo(k,e,"items")).fold(()=>{throw console.error("Custom List was defined to not be a shell, but no item container was specified in components"),new Error("Custom List was defined to not be a shell, but no item container was specified in components")},O=>{const N=Po.contents(O),L=x.length,F=L-N.length,U=F>0?Q(F,()=>e.makeItem()):[],K=N.slice(L);_t(K,ge=>Po.remove(O,ge)),_t(U,ge=>Po.append(O,ge));const oe=Po.contents(O);_t(oe,(ge,pe)=>{e.setupItem(v,ge,x[pe],pe)})})}}}},apis:{setItems:(e,r,i)=>{e.setItems(r,i)}}}),um=G([kt("dom"),ct("shell",!0),es("toolbarBehaviours",[Po])]),Y8=G([Gt({name:"groups",overrides:()=>({behaviours:ln([Po.config({})])})})]),dm=qi({name:"Toolbar",configFields:um(),partFields:Y8(),factory:(e,r,i,c)=>{const g=e.shell?{behaviours:[Po.config({})],components:[]}:{behaviours:[],components:r};return{uid:e.uid,dom:e.dom,components:g.components,behaviours:is(e.toolbarBehaviours,g.behaviours),apis:{setGroups:(v,x)=>{var k;(k=v,e.shell?H.some(k):jo(k,e,"groups")).fold(()=>{throw console.error("Toolbar was defined to not be a shell, but no groups container was specified in components"),new Error("Toolbar was defined to not be a shell, but no groups container was specified in components")},O=>{Po.set(O,x)})}},domModification:{attributes:{role:"group"}}}},apis:{setGroups:(e,r,i)=>{e.setGroups(r,i)}}}),UM=J,Z3=Ke,W3=G([]);var G3,q_=Object.freeze({__proto__:null,setup:UM,isDocked:Z3,getBehaviours:W3});const k2=e=>(io(Kr(e,"position"),"fixed")?H.none():go(e)).orThunk(()=>{const r=Ra("span");return dn(e).bind(i=>{zi(i,r);const c=go(r);return $l(r),c})}),X8=e=>k2(e).map(za).getOrThunk(()=>vr(0,0)),J8=(e,r)=>{const i=e.element;_a(i,r.transitionClass),Ca(i,r.fadeOutClass),_a(i,r.fadeInClass),r.onShow(e)},Q8=(e,r)=>{const i=e.element;_a(i,r.transitionClass),Ca(i,r.fadeInClass),_a(i,r.fadeOutClass),r.onHide(e)},K_=(e,r)=>e.y>=r.y,eA=(e,r)=>e.bottom<=r.bottom,Y_=(e,r,i)=>({location:"top",leftX:r,topY:i.bounds.y-e.y}),X_=(e,r,i)=>({location:"bottom",leftX:r,bottomY:e.bottom-i.bounds.bottom}),J_=e=>e.box.x-e.win.x,Q_=(e,r,i)=>i.getInitialPos().map(c=>{const g=((v,x)=>{const k=x.optScrollEnv.fold(G(v.bounds.y),O=>O.scrollElmTop+(v.bounds.y-O.currentScrollTop));return vr(v.bounds.x,k)})(c,r);return{box:ga(g.left,g.top,Yr(e),Ha(e)),location:c.location}}),eC=(e,r,i,c,g)=>{const v=((k,O)=>{const N=O.optScrollEnv.fold(G(k.y),L=>k.y+L.currentScrollTop-L.scrollElmTop);return vr(k.x,N)})(r,i),x=ga(v.left,v.top,r.width,r.height);c.setInitialPos({style:Ef(e),position:Fa(e,"position")||"static",bounds:x,location:g.location})},tC=(e,r,i)=>i.getInitialPos().bind(c=>{var g;switch(i.clearInitialPos(),c.position){case"static":return H.some({morph:"static"});case"absolute":const v=k2(e).getOr(Hs()),x=os(v),k=(g=v.dom.scrollTop)!==null&&g!==void 0?g:0;return H.some({morph:"absolute",positionCss:Gc("absolute",Ze(c.style,"left").map(O=>r.x-x.x),Ze(c.style,"top").map(O=>r.y-x.y+k),Ze(c.style,"right").map(O=>x.right-r.right),Ze(c.style,"bottom").map(O=>x.bottom-r.bottom))});default:return H.none()}}),q3=e=>{switch(e.location){case"top":return H.some({morph:"fixed",positionCss:Gc("fixed",H.some(e.leftX),H.some(e.topY),H.none(),H.none())});case"bottom":return H.some({morph:"fixed",positionCss:Gc("fixed",H.some(e.leftX),H.none(),H.none(),H.some(e.bottomY))});default:return H.none()}},jM=(e,r,i)=>{const c=e.element;return io(Kr(c,"position"),"fixed")?((g,v,x)=>((k,O,N)=>Q_(k,O,N).filter(({box:L})=>((F,U,K)=>Oe(F,oe=>{switch(oe){case"bottom":return eA(U,K.bounds);case"top":return K_(U,K.bounds)}}))(N.getModes(),L,O)).bind(({box:L})=>tC(k,L,N)))(g,v,x).orThunk(()=>v.optScrollEnv.bind(k=>Q_(g,v,x)).bind(({box:k,location:O})=>{const N=Ya(),L=J_({win:N,box:k}),F=O==="top"?Y_(N,L,v):X_(N,L,v);return q3(F)})))(c,r,i):((g,v,x)=>{const k=os(g),O=Ya(),N=((L,F,U)=>{const K=F.win,oe=F.box,ge=J_(F);return Hn(L,pe=>{switch(pe){case"bottom":return eA(oe,U.bounds)?H.none():H.some(X_(K,ge,U));case"top":return K_(oe,U.bounds)?H.none():H.some(Y_(K,ge,U));default:return H.none()}}).getOr({location:"no-dock"})})(x.getModes(),{win:O,box:k},v);return N.location==="top"||N.location==="bottom"?(eC(g,k,v,x,N),q3(N)):H.none()})(c,r,i)},tA=(e,r,i)=>{i.setDocked(!1),_t(["left","right","top","bottom","position"],c=>Zr(e.element,c)),r.onUndocked(e)},K3=(e,r,i,c)=>{const g=c.position==="fixed";i.setDocked(g),op(e.element,c),(g?r.onDocked:r.onUndocked)(e)},Y3=(e,r,i,c,g=!1)=>{r.contextual.each(v=>{v.lazyContext(e).each(x=>{const k=((O,N)=>O.y<N.bottom&&O.bottom>N.y)(x,c.bounds);k!==i.isVisible()&&(i.setVisible(k),g&&!k?(Ml(e.element,[v.fadeOutClass]),v.onHide(e)):(k?J8:Q8)(e,v))})})},S2=(e,r,i,c,g)=>{Y3(e,r,i,c,!0),K3(e,r,i,g.positionCss)},P0=(e,r,i)=>{e.getSystem().isConnected()&&((c,g,v)=>{const x=g.lazyViewport(c);Y3(c,g,v,x),jM(c,x,v).each(k=>{((O,N,L,F,U)=>{switch(U.morph){case"static":return tA(O,N,L);case"absolute":return K3(O,N,L,U.positionCss);case"fixed":S2(O,N,L,F,U)}})(c,g,v,x,k)})})(e,r,i)},X3=(e,r,i)=>{i.isDocked()&&((c,g,v)=>{const x=c.element;v.setDocked(!1);const k=g.lazyViewport(c);((O,N,L)=>{const F=O.element;return Q_(F,N,L).bind(({box:U})=>tC(F,U,L))})(c,k,v).each(O=>{switch(O.morph){case"static":tA(c,g,v);break;case"absolute":K3(c,g,v,O.positionCss)}}),v.setVisible(!0),g.contextual.each(O=>{si(x,[O.fadeInClass,O.fadeOutClass,O.transitionClass]),O.onShow(c)}),P0(c,g,v)})(e,r,i)},wg=e=>(r,i,c)=>{const g=i.lazyViewport(r);((v,x,k,O)=>{const N=os(v),L=Ya(),F=O(L,J_({win:L,box:N}),x);return F.location==="bottom"||F.location==="top"?(((U,K,oe,ge,pe)=>{ge.getInitialPos().fold(()=>eC(U,K,oe,ge,pe),()=>J)})(v,N,x,k,F),q3(F)):H.none()})(r.element,g,c,e).each(v=>{S2(r,i,c,g,v)})},nA=wg(Y_),oA=wg(X_);var J3=Object.freeze({__proto__:null,refresh:P0,reset:X3,isDocked:(e,r,i)=>i.isDocked(),getModes:(e,r,i)=>i.getModes(),setModes:(e,r,i,c)=>i.setModes(c),forceDockToTop:nA,forceDockToBottom:oA}),ZM=Object.freeze({__proto__:null,events:(e,r)=>Nr([Lm(Dm(),(i,c)=>{e.contextual.each(g=>{Ei(i.element,g.transitionClass)&&(si(i.element,[g.transitionClass,g.fadeInClass]),(r.isVisible()?g.onShown:g.onHidden)(i)),c.stop()})}),jt(Wg(),(i,c)=>{P0(i,e,r)}),jt(pw(),(i,c)=>{P0(i,e,r)}),jt(zf(),(i,c)=>{X3(i,e,r)})])}),rA=[ti("contextual",[rr("fadeInClass"),rr("fadeOutClass"),rr("transitionClass"),Ol("lazyContext"),pr("onShow"),pr("onShown"),pr("onHide"),pr("onHidden")]),Va("lazyViewport",()=>({bounds:Ya(),optScrollEnv:H.none()})),Am("modes",["top","bottom"],gr),pr("onDocked"),pr("onUndocked")];const As=js({fields:rA,name:"docking",active:ZM,apis:J3,state:Object.freeze({__proto__:null,init:e=>{const r=uo(!1),i=uo(!0),c=ha(),g=uo(e.modes);return il({isDocked:r.get,setDocked:r.set,getInitialPos:c.get,setInitialPos:c.set,clearInitialPos:c.clear,isVisible:i.get,setVisible:i.set,getModes:g.get,setModes:g.set,readState:()=>`docked:  ${r.get()}, visible: ${i.get()}, modes: ${g.get().join(",")}`})}})}),nC=G(Gn("toolbar-height-change")),mm={fadeInClass:"tox-editor-dock-fadein",fadeOutClass:"tox-editor-dock-fadeout",transitionClass:"tox-editor-dock-transition"},Q3="tox-tinymce--toolbar-sticky-on",eE="tox-tinymce--toolbar-sticky-off",oC=(e,r)=>pn(As.getModes(e),r),rC=e=>{const r=e.element;Eo(r).each(i=>{const c="padding-"+As.getModes(e)[0];if(As.isDocked(e)){const g=Yr(i);Do(r,"width",g+"px"),Do(i,c,(v=>dc(v)+(parseInt(Fa(v,"margin-top"),10)||0)+(parseInt(Fa(v,"margin-bottom"),10)||0))(r)+"px")}else Zr(r,"width"),Zr(i,c)})},aA=(e,r)=>{r?(Ca(e,mm.fadeOutClass),Ml(e,[mm.transitionClass,mm.fadeInClass])):(Ca(e,mm.fadeInClass),Ml(e,[mm.fadeOutClass,mm.transitionClass]))},sA=(e,r)=>{const i=Pe(e.getContainer());r?(_a(i,Q3),Ca(i,eE)):(_a(i,eE),Ca(i,Q3))},tE=(e,r)=>{const i=ha(),c=r.getSink,g=k=>{c().each(O=>k(O.element))},v=k=>{e.inline||rC(k),sA(e,As.isDocked(k)),k.getSystem().broadcastOn([Il()],{}),c().each(O=>O.getSystem().broadcastOn([Il()],{}))},x=e.inline?[]:[Oi.config({channels:{[nC()]:{onReceive:rC}}})];return[Oo.config({}),As.config({contextual:{lazyContext:k=>{const O=dc(k.element),N=e.inline?e.getContentAreaContainer():e.getContainer();return H.from(N).map(L=>{const F=os(Pe(L));return w0(e,k.element).fold(()=>{const U=F.height-O,K=F.y+(oC(k,"top")?0:O);return ga(F.x,K,F.width,U)},U=>{const K=xs(F,Xy(U)),oe=oC(k,"top")?K.y:K.y+O;return ga(K.x,oe,K.width,K.height-O)})})},onShow:()=>{g(k=>aA(k,!0))},onShown:k=>{g(O=>si(O,[mm.transitionClass,mm.fadeInClass])),i.get().each(O=>{((N,L)=>{const F=$e(L);Qu(F).filter(U=>!Mo(L,U)).filter(U=>Mo(U,Pe(F.dom.body))||Ne(N,U)).each(()=>wl(L))})(k.element,O),i.clear()})},onHide:k=>{((O,N)=>Ec(O).orThunk(()=>N().toOptional().bind(L=>Ec(L.element))))(k.element,c).fold(i.clear,i.set),g(O=>aA(O,!1))},onHidden:()=>{g(k=>si(k,[mm.transitionClass]))},...mm},lazyViewport:k=>w0(e,k.element).fold(()=>{const O=Ya(),N=_O(e),L=O.y+(oC(k,"top")?N:0),F=O.height-(oC(k,"bottom")?N:0);return{bounds:ga(O.x,L,O.width,F),optScrollEnv:H.none()}},O=>({bounds:Xy(O),optScrollEnv:H.some({currentScrollTop:O.element.dom.scrollTop,scrollElmTop:za(O.element).top})})),modes:[r.header.getDockingMode()],onDocked:v,onUndocked:v}),...x]};var iA=Object.freeze({__proto__:null,setup:(e,r,i)=>{e.inline||(r.header.isPositionedAtTop()||e.on("ResizeEditor",()=>{i().each(As.reset)}),e.on("ResizeWindow ResizeEditor",()=>{i().each(rC)}),e.on("SkinLoaded",()=>{i().each(c=>{As.isDocked(c)?As.reset(c):As.refresh(c)})}),e.on("FullscreenStateChanged",()=>{i().each(As.reset)})),e.on("AfterScrollIntoView",c=>{i().each(g=>{As.refresh(g);const v=g.element;W5(v)&&((x,k)=>{const O=$e(k),N=Yt(k).dom.innerHeight,L=ts(O),F=Pe(x.elm),U=Ul(F),K=Ha(F),oe=U.y,ge=oe+K,pe=za(k),we=Ha(k),Se=pe.top,he=Se+we,Ee=Math.abs(Se-L.top)<2,Te=Math.abs(he-(L.top+N))<2;if(Ee&&oe<he)ns(L.left,oe-we,O);else if(Te&&ge>Se){const He=oe-N+K+we;ns(L.left,He,O)}})(c,v)})}),e.on("PostRender",()=>{sA(e,!1)})},isDocked:e=>e().map(As.isDocked).getOr(!1),getBehaviours:tE});const lA=Jt([Ta,al("items",Or([Go([G4,ki("items",gr)]),gr]))].concat(u0)),cA=[ei("text"),ei("tooltip"),ei("icon"),rs("search",!1,Or([Xa,Jt([ei("placeholder")])],e=>re(e)?e?H.some({placeholder:H.none()}):H.none():H.some(e))),Ol("fetch"),Va("onSetup",()=>J)],uA=Jt([Ta,...cA]),nE=e=>na("menubutton",uA,e),WM=Jt([Ta,Dy,xu,ug,kx,Y4,Ep,Zu("presets","normal",["normal","color","listpreview"]),X4(1),t1,PO]);var aC=Jl({factory:(e,r)=>{const i={focus:co.focusIn,setMenus:(c,g)=>{const v=et(g,x=>{const k={type:"menubutton",text:x.text,fetch:N=>{N(x.getItems())}},O=nE(k).mapError(N=>tn(N)).getOrDie();return m2(O,"tox-mbtn",r.backstage,H.some("menuitem"))});Po.set(c,v)}};return{uid:e.uid,dom:e.dom,components:[],behaviours:ln([Po.config({}),Ko("menubar-events",[ia(c=>{e.onSetup(c)}),jt(mu(),(c,g)=>{as(c.element,".tox-mbtn--active").each(v=>{yl(g.event.target,".tox-mbtn").each(x=>{Mo(v,x)||c.getSystem().getByDom(v).each(k=>{c.getSystem().getByDom(x).each(O=>{tu.expand(O),tu.close(k),Oo.focus(O)})})})})}),jt(Y1(),(c,g)=>{g.event.prevFocus.bind(v=>c.getSystem().getByDom(v).toOptional()).each(v=>{g.event.newFocus.bind(x=>c.getSystem().getByDom(x).toOptional()).each(x=>{tu.isOpen(v)&&(tu.expand(x),tu.close(v))})})})]),co.config({mode:"flow",selector:".tox-mbtn",onEscape:c=>(e.onEscape(c),H.some(!0))}),ja.config({})]),apis:i,domModification:{attributes:{role:"menubar"}}}},name:"silver.Menubar",configFields:[kt("dom"),kt("uid"),kt("onEscape"),kt("backstage"),ct("onSetup",J)],apis:{focus:(e,r)=>{e.focus(r)},setMenus:(e,r,i)=>{e.setMenus(r,i)}}});const sC="container",dA=[es("slotBehaviours",[])],mA=e=>"<alloy.field."+e+">",GM=(e,r)=>{const i=L=>sd(e),c=(L,F)=>(U,K)=>jo(U,e,K).map(oe=>L(oe,K)).getOr(F),g=(L,F)=>wa(L.element,"aria-hidden")!=="true",v=c(g,!1),x=c((L,F)=>{if(g(L)){const U=L.element;Do(U,"display","none"),yo(U,"aria-hidden","true"),eo(L,Ku(),{name:F,visible:!1})}}),k=(L=>(F,U)=>{_t(U,K=>L(F,K))})(x),O=c((L,F)=>{if(!g(L)){const U=L.element;Zr(U,"display"),xa(U,"aria-hidden"),eo(L,Ku(),{name:F,visible:!0})}}),N={getSlotNames:i,getSlot:(L,F)=>jo(L,e,F),isShowing:v,hideSlot:x,hideAllSlots:L=>k(L,i()),showSlot:O};return{uid:e.uid,dom:e.dom,components:r,behaviours:jv(e.slotBehaviours),apis:N}},qM=so({getSlotNames:(e,r)=>e.getSlotNames(r),getSlot:(e,r,i)=>e.getSlot(r,i),isShowing:(e,r,i)=>e.isShowing(r,i),hideSlot:(e,r,i)=>e.hideSlot(r,i),hideAllSlots:(e,r)=>e.hideAllSlots(r),showSlot:(e,r,i)=>e.showSlot(r,i)},e=>Qg(e)),Ki={...qM,sketch:e=>{const r=(()=>{const v=[];return{slot:(x,k)=>(v.push(x),yr(sC,mA(x),k)),record:G(v)}})(),i=e(r),c=r.record(),g=et(c,v=>xt({name:v,pname:mA(v)}));return yu(sC,dA,g,GM,i)}},KM=Jt([xu,Dy,Va("onShow",J),Va("onHide",J),Ep]),fA=e=>({element:()=>e.element.dom}),gA=(e,r)=>{const i=et(Dn(r),c=>{const g=r[c],v=pc((x=>na("sidebar",KM,x))(g));return{name:c,getApi:fA,onSetup:v.onSetup,onShow:v.onShow,onHide:v.onHide}});return et(i,c=>{const g=uo(J);return e.slot(c.name,{dom:{tag:"div",classes:["tox-sidebar__pane"]},behaviours:md([rm(c,g),Tp(c,g),jt(Ku(),(v,x)=>{const k=x.event;ze(i,N=>N.name===k.name).each(N=>{(k.visible?N.onShow:N.onHide)(N.getApi(v))})})])})})},pA=e=>Ki.sketch(r=>({dom:{tag:"div",classes:["tox-sidebar__pane-container"]},components:gA(r,e),slotBehaviours:md([ia(i=>Ki.hideAllSlots(i))])})),iC=(e,r)=>{yo(e,"role",r)},L0=e=>hr.getCurrent(e).bind(r=>nc.isGrowing(r)||nc.hasGrown(r)?hr.getCurrent(r).bind(i=>ze(Ki.getSlotNames(i),c=>Ki.isShowing(i,c))):H.none()),oE=Gn("FixSizeEvent"),rE=Gn("AutoSizeEvent");var YM=Object.freeze({__proto__:null,block:(e,r,i,c)=>{yo(e.element,"aria-busy",!0);const g=r.getRoot(e).getOr(e),v=ln([co.config({mode:"special",onTab:()=>H.some(!0),onShiftTab:()=>H.some(!0)}),Oo.config({})]),x=c(g,v),k=g.getSystem().build(x);Po.append(g,Kl(k)),k.hasConfigured(co)&&r.focus&&co.focusIn(k),i.isBlocked()||r.onBlock(e),i.blockWith(()=>Po.remove(g,k))},unblock:(e,r,i)=>{xa(e.element,"aria-busy"),i.isBlocked()&&r.onUnblock(e),i.clear()}}),XM=[Va("getRoot",H.none),Si("focus",!0),pr("onBlock"),pr("onUnblock")];const fm=js({fields:XM,name:"blocking",apis:YM,state:Object.freeze({__proto__:null,init:()=>{const e=Th(r=>r.destroy());return il({readState:e.isSet,blockWith:r=>{e.set({destroy:r})},clear:e.clear,isBlocked:e.isSet})}})}),xg=e=>{const r=Bi(e),i=Lo(r),c=(x=>{const k=x.dom.attributes!==void 0?x.dom.attributes:[];return Et(k,(O,N)=>N.name==="class"?O:{...O,[N.name]:N.value},{})})(r),g=(x=>Array.prototype.slice.call(x.dom.classList,0))(r),v=i.length===0?{}:{innerHtml:ph(r)};return{tag:Rn(r),classes:g,attributes:c,...v}},aE=e=>hr.getCurrent(e).each(r=>wl(r.element)),hA=(e,r,i)=>{const c=uo(!1),g=ha(),v=k=>{var O;c.get()&&(!(N=>N.type==="focusin")(O=k)||!(O.composed?hn(O.composedPath()):H.from(O.target)).map(Pe).filter(Qn).exists(N=>Ei(N,"mce-pastebin")))&&(k.preventDefault(),aE(r()),e.editorManager.setActive(e))};e.inline||e.on("PreInit",()=>{e.dom.bind(e.getWin(),"focusin",v),e.on("BeforeExecCommand",k=>{k.command.toLowerCase()==="mcefocus"&&k.value!==!0&&v(k)})});const x=k=>{k!==c.get()&&(c.set(k),((O,N,L,F)=>{const U=N.element;if(((K,oe)=>{const ge="tabindex",pe=`data-mce-${ge}`;H.from(K.iframeElement).map(Pe).each(we=>{oe?(qa(we,ge).each(Se=>yo(we,pe,Se)),yo(we,ge,-1)):(xa(we,ge),qa(we,pe).each(Se=>{yo(we,ge,Se),xa(we,pe)}))})})(O,L),L)fm.block(N,(K=>(oe,ge)=>({dom:{tag:"div",attributes:{"aria-label":K.translate("Loading..."),tabindex:"0"},classes:["tox-throbber__busy-spinner"]},components:[{dom:xg('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}))(F)),Zr(U,"display"),xa(U,"aria-hidden"),O.hasFocus()&&aE(N);else{const K=hr.getCurrent(N).exists(oe=>np(oe.element));fm.unblock(N),Do(U,"display","none"),yo(U,"aria-hidden","true"),K&&O.focus()}})(e,r(),k,i.providers),((O,N)=>{O.dispatch("AfterProgressState",{state:N})})(e,k))};e.on("ProgressState",k=>{if(g.on(clearTimeout),xe(k.time)){const O=my.setEditorTimeout(e,()=>x(k.state),k.time);g.set(O)}else x(k.state),g.clear()})},sE=(e,r,i)=>({within:e,extra:r,withinWidth:i}),iE=(e,r,i)=>{const c=Et(e,(x,k)=>((O,N)=>{const L=i(O);return H.some({element:O,start:N,finish:N+L,width:L})})(k,x.len).fold(G(x),O=>({len:O.finish,list:x.list.concat([O])})),{len:0,list:[]}).list,g=Ht(c,x=>x.finish<=r),v=dt(g,(x,k)=>x+k.width,0);return{within:g,extra:c.slice(g.length),withinWidth:v}},lC=e=>et(e,r=>r.element),vA=(e,r)=>{const i=et(r,c=>Kl(c));dm.setGroups(e,i)},E2=(e,r,i)=>{const c=r.builtGroups.get();if(c.length===0)return;const g=Pa(e,r,"primary"),v=Ua.getCoupled(e,"overflowGroup");Do(g.element,"visibility","hidden");const x=c.concat([v]),k=Hn(x,N=>Ec(N.element).bind(L=>N.getSystem().getByDom(L).toOptional()));i([]),vA(g,x);const O=((N,L,F,U)=>{const K=((we,Se,he)=>{const Ee=iE(Se,we,he);return Ee.extra.length===0?H.some(Ee):H.none()})(N,L,F).getOrThunk(()=>iE(L,N-F(U),F)),oe=K.within,ge=K.extra,pe=K.withinWidth;return ge.length===1&&ge[0].width<=F(U)?((we,Se,he)=>{const Ee=lC(we.concat(Se));return sE(Ee,[],he)})(oe,ge,pe):ge.length>=1?((we,Se,he,Ee)=>{const Te=lC(we).concat([he]);return sE(Te,lC(Se),Ee)})(oe,ge,U,pe):((we,Se,he)=>sE(lC(we),[],he))(oe,0,pe)})(Yr(g.element),r.builtGroups.get(),N=>Yr(N.element),v);O.extra.length===0?(Po.remove(g,v),i([])):(vA(g,O.within),i(O.extra)),Zr(g.element,"visibility"),Lu(g.element),k.each(Oo.focus)},lE=G([es("splitToolbarBehaviours",[Ua]),Qs("builtGroups",()=>uo([]))]),bA=G([pu(["overflowToggledClass"]),uu("getOverflowBounds"),kt("lazySink"),Qs("overflowGroups",()=>uo([])),pr("onOpened"),pr("onClosed")].concat(lE())),yA=G([xt({factory:dm,schema:um(),name:"primary"}),Rt({schema:um(),name:"overflow"}),Rt({name:"overflow-button"}),Rt({name:"overflow-group"})]),cC=G((e,r)=>{((i,c)=>{const g=Hu.max(i,c,["margin-left","border-left-width","padding-left","padding-right","border-right-width","margin-right"]);Do(i,"max-width",g+"px")})(e,Math.floor(r))}),wA=G([pu(["toggledClass"]),kt("lazySink"),Ol("fetch"),uu("getBounds"),ti("fireDismissalEventInstead",[ct("event",Pm())]),Xm(),pr("onToggled")]),O2=G([Rt({name:"button",overrides:e=>({dom:{attributes:{"aria-haspopup":"true"}},buttonBehaviours:ln([tr.config({toggleClass:e.markers.toggledClass,aria:{mode:"expanded"},toggleOnExecute:!1,onToggled:e.onToggled})])})}),Rt({factory:dm,schema:um(),name:"toolbar",overrides:e=>({toolbarBehaviours:ln([co.config({mode:"cyclic",onEscape:r=>(jo(r,e,"button").each(Oo.focus),H.none())})])})})]),uC=ha(),dC=(e,r)=>{const i=Ua.getCoupled(e,"toolbarSandbox");br.isOpen(i)?br.close(i):br.open(i,r.toolbar())},mC=(e,r,i,c)=>{const g=i.getBounds.map(x=>x()),v=i.lazySink(e).getOrDie();Ai.positionWithinBounds(v,r,{anchor:{type:"hotspot",hotspot:e,layouts:c,overrides:{maxWidthFunction:cC()}}},g)},xA=(e,r,i,c,g)=>{dm.setGroups(r,g),mC(e,r,i,c),tr.on(e)},xd=qi({name:"FloatingToolbarButton",factory:(e,r,i,c)=>({...vi.sketch({...c.button(),action:g=>{dC(g,c)},buttonBehaviours:ci({dump:c.button().buttonBehaviours},[Ua.config({others:{toolbarSandbox:g=>((v,x,k)=>{const O=yw();return{dom:{tag:"div",attributes:{id:O.id}},behaviours:ln([co.config({mode:"special",onEscape:N=>(br.close(N),H.some(!0))}),br.config({onOpen:(N,L)=>{const F=uC.get().getOr(!1);k.fetch().get(U=>{xA(v,L,k,x.layouts,U),O.link(v.element),F||co.focusIn(L)})},onClose:()=>{tr.off(v),uC.get().getOr(!1)||Oo.focus(v),O.unlink(v.element)},isPartOf:(N,L,F)=>Um(L,F)||Um(v,F),getAttachPoint:()=>k.lazySink(v).getOrDie()}),Oi.config({channels:{...ms({isExtraPart:Ke,...k.fireDismissalEventInstead.map(N=>({fireEventInstead:{event:N.event}})).getOr({})}),...qc({doReposition:()=>{br.getState(Ua.getCoupled(v,"toolbarSandbox")).each(N=>{mC(v,N,k,x.layouts)})}})}})])}})(g,i,e)}})])}),apis:{setGroups:(g,v)=>{br.getState(Ua.getCoupled(g,"toolbarSandbox")).each(x=>{xA(g,x,e,i.layouts,v)})},reposition:g=>{br.getState(Ua.getCoupled(g,"toolbarSandbox")).each(v=>{mC(g,v,e,i.layouts)})},toggle:g=>{dC(g,c)},toggleWithoutFocusing:g=>{((v,x)=>{uC.set(!0),dC(v,x),uC.clear()})(g,c)},getToolbar:g=>br.getState(Ua.getCoupled(g,"toolbarSandbox")),isOpen:g=>br.isOpen(Ua.getCoupled(g,"toolbarSandbox"))}}),configFields:wA(),partFields:O2(),apis:{setGroups:(e,r,i)=>{e.setGroups(r,i)},reposition:(e,r)=>{e.reposition(r)},toggle:(e,r)=>{e.toggle(r)},toggleWithoutFocusing:(e,r)=>{e.toggleWithoutFocusing(r)},getToolbar:(e,r)=>e.getToolbar(r),isOpen:(e,r)=>e.isOpen(r)}}),_A=G([kt("items"),pu(["itemSelector"]),es("tgroupBehaviours",[co])]),JM=G([Ut({name:"items",unit:"item"})]),fC=qi({name:"ToolbarGroup",configFields:_A(),partFields:JM(),factory:(e,r,i,c)=>({uid:e.uid,dom:e.dom,components:r,behaviours:is(e.tgroupBehaviours,[co.config({mode:"flow",selector:e.markers.itemSelector})]),domModification:{attributes:{role:"toolbar"}}})}),cE=e=>et(e,r=>Kl(r)),gC=(e,r,i)=>{E2(e,i,c=>{i.overflowGroups.set(c),r.getOpt(e).each(g=>{xd.setGroups(g,cE(c))})})},uE=qi({name:"SplitFloatingToolbar",configFields:bA(),partFields:yA(),factory:(e,r,i,c)=>{const g=Gr(xd.sketch({fetch:()=>mg(v=>{v(cE(e.overflowGroups.get()))}),layouts:{onLtr:()=>[li,ii],onRtl:()=>[ii,li],onBottomLtr:()=>[ss,Oa],onBottomRtl:()=>[Oa,ss]},getBounds:i.getOverflowBounds,lazySink:e.lazySink,fireDismissalEventInstead:{},markers:{toggledClass:e.markers.overflowToggledClass},parts:{button:c["overflow-button"](),toolbar:c.overflow()},onToggled:(v,x)=>e[x?"onOpened":"onClosed"](v)}));return{uid:e.uid,dom:e.dom,components:r,behaviours:is(e.splitToolbarBehaviours,[Ua.config({others:{overflowGroup:()=>fC.sketch({...c["overflow-group"](),items:[g.asSpec()]})}})]),apis:{setGroups:(v,x)=>{e.builtGroups.set(et(x,v.getSystem().build)),gC(v,g,e)},refresh:v=>gC(v,g,e),toggle:v=>{g.getOpt(v).each(x=>{xd.toggle(x)})},toggleWithoutFocusing:v=>{g.getOpt(v).each(xd.toggleWithoutFocusing)},isOpen:v=>g.getOpt(v).map(xd.isOpen).getOr(!1),reposition:v=>{g.getOpt(v).each(x=>{xd.reposition(x)})},getOverflow:v=>g.getOpt(v).bind(xd.getToolbar)},domModification:{attributes:{role:"group"}}}},apis:{setGroups:(e,r,i)=>{e.setGroups(r,i)},refresh:(e,r)=>{e.refresh(r)},reposition:(e,r)=>{e.reposition(r)},toggle:(e,r)=>{e.toggle(r)},toggleWithoutFocusing:(e,r)=>{e.toggle(r)},isOpen:(e,r)=>e.isOpen(r),getOverflow:(e,r)=>e.getOverflow(r)}}),CA=G([pu(["closedClass","openClass","shrinkingClass","growingClass","overflowToggledClass"]),pr("onOpened"),pr("onClosed")].concat(lE())),B0=G([xt({factory:dm,schema:um(),name:"primary"}),xt({factory:dm,schema:um(),name:"overflow",overrides:e=>({toolbarBehaviours:ln([nc.config({dimension:{property:"height"},closedClass:e.markers.closedClass,openClass:e.markers.openClass,shrinkingClass:e.markers.shrinkingClass,growingClass:e.markers.growingClass,onShrunk:r=>{jo(r,e,"overflow-button").each(i=>{tr.off(i),Oo.focus(i)}),e.onClosed(r)},onGrown:r=>{co.focusIn(r),e.onOpened(r)},onStartGrow:r=>{jo(r,e,"overflow-button").each(tr.on)}}),co.config({mode:"acyclic",onEscape:r=>(jo(r,e,"overflow-button").each(Oo.focus),H.some(!0))})])})}),Rt({name:"overflow-button",overrides:e=>({buttonBehaviours:ln([tr.config({toggleClass:e.markers.overflowToggledClass,aria:{mode:"pressed"},toggleOnExecute:!1})])})}),Rt({name:"overflow-group"})]),T2=(e,r)=>{jo(e,r,"overflow-button").bind(()=>jo(e,r,"overflow")).each(i=>{A2(e,r),nc.toggleGrow(i)})},A2=(e,r)=>{jo(e,r,"overflow").each(i=>{E2(e,r,c=>{const g=et(c,v=>Kl(v));dm.setGroups(i,g)}),jo(e,r,"overflow-button").each(c=>{nc.hasGrown(i)&&tr.on(c)}),nc.refresh(i)})},pC=qi({name:"SplitSlidingToolbar",configFields:CA(),partFields:B0(),factory:(e,r,i,c)=>{const g="alloy.toolbar.toggle";return{uid:e.uid,dom:e.dom,components:r,behaviours:is(e.splitToolbarBehaviours,[Ua.config({others:{overflowGroup:v=>fC.sketch({...c["overflow-group"](),items:[vi.sketch({...c["overflow-button"](),action:x=>{Pr(v,g)}})]})}}),Ko("toolbar-toggle-events",[jt(g,v=>{T2(v,e)})])]),apis:{setGroups:(v,x)=>{((k,O)=>{const N=et(O,k.getSystem().build);e.builtGroups.set(N)})(v,x),A2(v,e)},refresh:v=>A2(v,e),toggle:v=>T2(v,e),isOpen:v=>((x,k)=>jo(x,k,"overflow").map(nc.hasGrown).getOr(!1))(v,e)},domModification:{attributes:{role:"group"}}}},apis:{setGroups:(e,r,i)=>{e.setGroups(r,i)},refresh:(e,r)=>{e.refresh(r)},toggle:(e,r)=>{e.toggle(r)},isOpen:(e,r)=>e.isOpen(r)}}),dE=e=>{const r=e.title.fold(()=>({}),i=>({attributes:{title:i}}));return{dom:{tag:"div",classes:["tox-toolbar__group"],...r},components:[fC.parts.items({})],items:e.items,markers:{itemSelector:"*:not(.tox-split-button) > .tox-tbtn:not([disabled]), .tox-split-button:not([disabled]), .tox-toolbar-nav-js:not([disabled]), .tox-number-input:not([disabled])"},tgroupBehaviours:ln([ja.config({}),Oo.config({})])}},N2=e=>fC.sketch(dE(e)),mE=(e,r)=>{const i=ia(c=>{const g=et(e.initGroups,N2);dm.setGroups(c,g)});return ln([Hy(e.providers.isDisabled),Gs(),co.config({mode:r,onEscape:e.onEscape,selector:".tox-toolbar__group"}),Ko("toolbar-events",[i])])},M2=e=>{const r=e.cyclicKeying?"cyclic":"acyclic";return{uid:e.uid,dom:{tag:"div",classes:["tox-toolbar-overlord"]},parts:{"overflow-group":dE({title:H.none(),items:[]}),"overflow-button":T3({name:"more",icon:H.some("more-drawer"),enabled:!0,tooltip:H.some("More..."),primary:!1,buttonType:H.none(),borderless:!1},H.none(),e.providers)},splitToolbarBehaviours:mE(e,r)}},kA=e=>{const r=M2(e),i=uE.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}});return uE.sketch({...r,lazySink:e.getSink,getOverflowBounds:()=>{const c=e.moreDrawerData.lazyHeader().element,g=Ul(c),v=en(c),x=Ul(v),k=Math.max(v.dom.scrollHeight,x.height);return ga(g.x+4,x.y,g.width-8,k)},parts:{...r.parts,overflow:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:e.attributes}}},components:[i],markers:{overflowToggledClass:"tox-tbtn--enabled"},onOpened:c=>e.onToggled(c,!0),onClosed:c=>e.onToggled(c,!1)})},SA=e=>{const r=pC.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}}),i=pC.parts.overflow({dom:{tag:"div",classes:["tox-toolbar__overflow"]}}),c=M2(e);return pC.sketch({...c,components:[r,i],markers:{openClass:"tox-toolbar__overflow--open",closedClass:"tox-toolbar__overflow--closed",growingClass:"tox-toolbar__overflow--growing",shrinkingClass:"tox-toolbar__overflow--shrinking",overflowToggledClass:"tox-tbtn--enabled"},onOpened:g=>{g.getSystem().broadcastOn([nC()],{type:"opened"}),e.onToggled(g,!0)},onClosed:g=>{g.getSystem().broadcastOn([nC()],{type:"closed"}),e.onToggled(g,!1)}})},R2=e=>{const r=e.cyclicKeying?"cyclic":"acyclic";return dm.sketch({uid:e.uid,dom:{tag:"div",classes:["tox-toolbar"].concat(e.type===wu.scrolling?["tox-toolbar--scrolling"]:[])},components:[dm.parts.groups({})],toolbarBehaviours:mE(e,r)})},fE=[ug,xu,ei("tooltip"),Zu("buttonType","secondary",["primary","secondary"]),Si("borderless",!1),Ol("onAction")],EA={button:[...fE,dd,hc("type",["button"])],togglebutton:[...fE,Si("active",!1),hc("type",["togglebutton"])]},hC=[hc("type",["group"]),Am("buttons",[],vl("type",EA))],OA=vl("type",{...EA,group:hC}),TA=Jt([Am("buttons",[],OA),Ol("onShow"),Ol("onHide")]),gE=(e,r)=>((i,c)=>{var g,v;const x=i.type==="togglebutton",k=i.icon.map(Se=>Ip(Se,c.icons)).map(Gr),O={...i,name:x?i.text.getOr(i.icon.getOr("")):(g=i.text)!==null&&g!==void 0?g:i.icon.getOr(""),primary:i.buttonType==="primary",buttonType:H.from(i.buttonType),tooltip:i.tooltip,icon:i.icon,enabled:!0,borderless:i.borderless},N=A3((v=i.buttonType)!==null&&v!==void 0?v:"secondary"),L=x?i.text.map(c.translate):H.some(c.translate(i.text)),F=L.map(Ea),U=O.tooltip.or(L).map(Se=>({"aria-label":c.translate(Se),title:c.translate(Se)})).getOr({}),K=k.map(Se=>Se.asSpec()),oe=d0([K,F]),ge=i.icon.isSome()&&F.isSome(),pe={tag:"button",classes:N.concat(...i.icon.isSome()&&!ge?["tox-button--icon"]:[]).concat(...ge?["tox-button--icon-and-text"]:[]).concat(...i.borderless?["tox-button--naked"]:[]).concat(...i.type==="togglebutton"&&i.active?["tox-button--enabled"]:[]),attributes:U},we=H_(O,H.some(Se=>{const he=Ee=>{k.map(Te=>Te.getOpt(Se).each(He=>{Po.set(He,[Ip(Ee,c.icons)])}))};return x?i.onAction({setIcon:he,setActive:Ee=>{const Te=Se.element;Ee?(_a(Te,"tox-button--enabled"),yo(Te,"aria-pressed",!0)):(Ca(Te,"tox-button--enabled"),xa(Te,"aria-pressed"))},isActive:()=>Ei(Se.element,"tox-button--enabled")}):i.type==="button"?i.onAction({setIcon:he}):void 0}),[],pe,oe,c);return vi.sketch(we)})(e,r),AA=nl().deviceType,NA=AA.isPhone(),QM=AA.isTablet();var Hp=qi({name:"silver.View",configFields:[kt("viewConfig")],partFields:[Gt({factory:{sketch:e=>{let r=!1;const i=et(e.buttons,c=>c.type==="group"?(r=!0,((g,v)=>({dom:{tag:"div",classes:["tox-view__toolbar__group"]},components:et(g.buttons,x=>gE(x,v))}))(c,e.providers)):gE(c,e.providers));return{uid:e.uid,dom:{tag:"div",classes:[r?"tox-view__toolbar":"tox-view__header",...NA||QM?["tox-view--mobile","tox-view--scrolling"]:[]]},behaviours:ln([Oo.config({}),co.config({mode:"flow",selector:"button, .tox-button",focusInside:Yc.OnEnterOrSpaceMode})]),components:r?i:[sm.sketch({dom:{tag:"div",classes:["tox-view__header-start"]},components:[]}),sm.sketch({dom:{tag:"div",classes:["tox-view__header-end"]},components:i})]}}},schema:[kt("buttons"),kt("providers")],name:"header"}),Gt({factory:{sketch:e=>({uid:e.uid,dom:{tag:"div",classes:["tox-view__pane"]}})},schema:[],name:"pane"})],factory:(e,r,i,c)=>{const g={getPane:v=>Ts.getPart(v,e,"pane"),getOnShow:v=>e.viewConfig.onShow,getOnHide:v=>e.viewConfig.onHide};return{uid:e.uid,dom:e.dom,components:r,apis:g}},apis:{getPane:(e,r)=>e.getPane(r),getOnShow:(e,r)=>e.getOnShow(r),getOnHide:(e,r)=>e.getOnHide(r)}});const e7=(e,r,i)=>ut(r,(c,g)=>{const v=pc(na("view",TA,c));return e.slot(g,Hp.sketch({dom:{tag:"div",classes:["tox-view"]},viewConfig:v,components:[...v.buttons.length>0?[Hp.parts.header({buttons:v.buttons,providers:i})]:[],Hp.parts.pane({})]}))}),pE=(e,r)=>Ki.sketch(i=>({dom:{tag:"div",classes:["tox-view-wrap__slot-container"]},components:e7(i,e,r),slotBehaviours:md([ia(c=>Ki.hideAllSlots(c))])})),hE=e=>ze(Ki.getSlotNames(e),r=>Ki.isShowing(e,r)),vE=(e,r,i)=>{Ki.getSlot(e,r).each(c=>{Hp.getPane(c).each(g=>{var v;i(c)((v=g.element.dom,{getContainer:G(v)}))})})};var D2=Jl({factory:(e,r)=>{const i={setViews:(c,g)=>{Po.set(c,[pE(g,r.backstage.shared.providers)])},whichView:c=>hr.getCurrent(c).bind(hE),toggleView:(c,g,v,x)=>hr.getCurrent(c).exists(k=>{const O=hE(k),N=O.exists(F=>x===F),L=Ki.getSlot(k,x).isSome();return L&&(Ki.hideAllSlots(k),N?((F=>{const U=F.element;Do(U,"display","none"),yo(U,"aria-hidden","true")})(c),g()):(v(),(F=>{const U=F.element;Zr(U,"display"),xa(U,"aria-hidden")})(c),Ki.showSlot(k,x),((F,U)=>{vE(F,U,Hp.getOnShow)})(k,x)),O.each(F=>((U,K)=>vE(U,K,Hp.getOnHide))(k,F))),L})};return{uid:e.uid,dom:{tag:"div",classes:["tox-view-wrap"],attributes:{"aria-hidden":"true"},styles:{display:"none"}},components:[],behaviours:ln([Po.config({}),hr.config({find:c=>{const g=Po.contents(c);return hn(g)}})]),apis:i}},name:"silver.ViewWrapper",configFields:[kt("backstage")],apis:{setViews:(e,r,i)=>e.setViews(r,i),toggleView:(e,r,i,c,g)=>e.toggleView(r,i,c,g),whichView:(e,r)=>e.whichView(r)}});const MA=cm.optional({factory:aC,name:"menubar",schema:[kt("backstage")]}),bE=cm.optional({factory:{sketch:e=>j3.sketch({uid:e.uid,dom:e.dom,listBehaviours:ln([co.config({mode:"acyclic",selector:".tox-toolbar"})]),makeItem:()=>R2({type:e.type,uid:Gn("multiple-toolbar-item"),cyclicKeying:!1,initGroups:[],providers:e.providers,onEscape:()=>(e.onEscape(),H.some(!0))}),setupItem:(r,i,c,g)=>{dm.setGroups(i,c)},shell:!0})},name:"multiple-toolbar",schema:[kt("dom"),kt("onEscape")]}),RA=cm.optional({factory:{sketch:e=>(i=>i.type===wu.sliding?SA:i.type===wu.floating?kA:R2)(e)({type:e.type,uid:e.uid,onEscape:()=>(e.onEscape(),H.some(!0)),onToggled:(i,c)=>e.onToolbarToggled(c),cyclicKeying:!1,initGroups:[],getSink:e.getSink,providers:e.providers,moreDrawerData:{lazyToolbar:e.lazyToolbar,lazyMoreButton:e.lazyMoreButton,lazyHeader:e.lazyHeader},attributes:e.attributes})},name:"toolbar",schema:[kt("dom"),kt("onEscape"),kt("getSink")]}),t7=cm.optional({factory:{sketch:e=>{const r=e.editor,i=e.sticky?tE:W3;return{uid:e.uid,dom:e.dom,components:e.components,behaviours:ln(i(r,e.sharedBackstage))}}},name:"header",schema:[kt("dom")]}),yE=cm.optional({factory:{sketch:e=>({uid:e.uid,dom:e.dom,components:[{dom:{tag:"a",attributes:{href:"https://www.tiny.cloud/tinymce-self-hosted-premium-features/?utm_source=TinyMCE&utm_medium=SPAP&utm_campaign=SPAP&utm_id=editorreferral",rel:"noopener",target:"_blank","aria-hidden":"true"},classes:["tox-promotion-link"],innerHtml:"\u26A1\uFE0FUpgrade"}}]})},name:"promotion",schema:[kt("dom")]}),DA=cm.optional({name:"socket",schema:[kt("dom")]}),IA=cm.optional({factory:{sketch:e=>({uid:e.uid,dom:{tag:"div",classes:["tox-sidebar"],attributes:{role:"presentation"}},components:[{dom:{tag:"div",classes:["tox-sidebar__slider"]},components:[],behaviours:ln([ja.config({}),Oo.config({}),nc.config({dimension:{property:"width"},closedClass:"tox-sidebar--sliding-closed",openClass:"tox-sidebar--sliding-open",shrinkingClass:"tox-sidebar--sliding-shrinking",growingClass:"tox-sidebar--sliding-growing",onShrunk:r=>{hr.getCurrent(r).each(Ki.hideAllSlots),Pr(r,rE)},onGrown:r=>{Pr(r,rE)},onStartGrow:r=>{eo(r,oE,{width:Kr(r.element,"width").getOr("")})},onStartShrink:r=>{eo(r,oE,{width:Yr(r.element)+"px"})}}),Po.config({}),hr.config({find:r=>{const i=Po.contents(r);return hn(i)}})])}],behaviours:ln([C_(0),Ko("sidebar-sliding-events",[jt(oE,(r,i)=>{Do(r.element,"width",i.event.width)}),jt(rE,(r,i)=>{Zr(r.element,"width")})])])})},name:"sidebar",schema:[kt("dom")]}),PA=cm.optional({factory:{sketch:e=>({uid:e.uid,dom:{tag:"div",attributes:{"aria-hidden":"true"},classes:["tox-throbber"],styles:{display:"none"}},behaviours:ln([Po.config({}),fm.config({focus:!1}),hr.config({find:r=>hn(r.components())})]),components:[]})},name:"throbber",schema:[kt("dom")]}),n7=cm.optional({factory:D2,name:"viewWrapper",schema:[kt("backstage")]}),k1=cm.optional({factory:{sketch:e=>({uid:e.uid,dom:{tag:"div",classes:["tox-editor-container"]},components:e.components})},name:"editorContainer",schema:[]});var ra=qi({name:"OuterContainer",factory:(e,r,i)=>{let c=!1;const g={getSocket:v=>Ts.getPart(v,e,"socket"),setSidebar:(v,x,k)=>{Ts.getPart(v,e,"sidebar").each(O=>((N,L,F)=>{hr.getCurrent(N).each(U=>{Po.set(U,[pA(L)]);const K=F==null?void 0:F.toLowerCase();S(K)&&Lt(L,K)&&hr.getCurrent(U).each(oe=>{Ki.showSlot(oe,K),nc.immediateGrow(U),Zr(U.element,"width"),iC(N.element,"region")})})})(O,x,k))},toggleSidebar:(v,x)=>{Ts.getPart(v,e,"sidebar").each(k=>((O,N)=>{hr.getCurrent(O).each(L=>{hr.getCurrent(L).each(F=>{nc.hasGrown(L)?Ki.isShowing(F,N)?(nc.shrink(L),iC(O.element,"presentation")):(Ki.hideAllSlots(F),Ki.showSlot(F,N),iC(O.element,"region")):(Ki.hideAllSlots(F),Ki.showSlot(F,N),nc.grow(L),iC(O.element,"region"))})})})(k,x))},whichSidebar:v=>Ts.getPart(v,e,"sidebar").bind(L0).getOrNull(),getHeader:v=>Ts.getPart(v,e,"header"),getToolbar:v=>Ts.getPart(v,e,"toolbar"),setToolbar:(v,x)=>{Ts.getPart(v,e,"toolbar").each(k=>{const O=et(x,N2);k.getApis().setGroups(k,O)})},setToolbars:(v,x)=>{Ts.getPart(v,e,"multiple-toolbar").each(k=>{const O=et(x,N=>et(N,N2));j3.setItems(k,O)})},refreshToolbar:v=>{Ts.getPart(v,e,"toolbar").each(x=>x.getApis().refresh(x))},toggleToolbarDrawer:v=>{Ts.getPart(v,e,"toolbar").each(x=>{fn(x.getApis().toggle,k=>k(x))})},toggleToolbarDrawerWithoutFocusing:v=>{Ts.getPart(v,e,"toolbar").each(x=>{fn(x.getApis().toggleWithoutFocusing,k=>k(x))})},isToolbarDrawerToggled:v=>Ts.getPart(v,e,"toolbar").bind(x=>H.from(x.getApis().isOpen).map(k=>k(x))).getOr(!1),getThrobber:v=>Ts.getPart(v,e,"throbber"),focusToolbar:v=>{Ts.getPart(v,e,"toolbar").orThunk(()=>Ts.getPart(v,e,"multiple-toolbar")).each(x=>{co.focusIn(x)})},setMenubar:(v,x)=>{Ts.getPart(v,e,"menubar").each(k=>{aC.setMenus(k,x)})},focusMenubar:v=>{Ts.getPart(v,e,"menubar").each(x=>{aC.focus(x)})},setViews:(v,x)=>{Ts.getPart(v,e,"viewWrapper").each(k=>{D2.setViews(k,x)})},toggleView:(v,x)=>Ts.getPart(v,e,"viewWrapper").exists(k=>D2.toggleView(k,()=>g.showMainView(v),()=>g.hideMainView(v),x)),whichView:v=>Ts.getPart(v,e,"viewWrapper").bind(D2.whichView).getOrNull(),hideMainView:v=>{c=g.isToolbarDrawerToggled(v),c&&g.toggleToolbarDrawer(v),Ts.getPart(v,e,"editorContainer").each(x=>{const k=x.element;Do(k,"display","none"),yo(k,"aria-hidden","true")})},showMainView:v=>{c&&g.toggleToolbarDrawer(v),Ts.getPart(v,e,"editorContainer").each(x=>{const k=x.element;Zr(k,"display"),xa(k,"aria-hidden")})}};return{uid:e.uid,dom:e.dom,components:r,apis:g,behaviours:e.behaviours}},configFields:[kt("dom"),kt("behaviours")],partFields:[t7,MA,RA,bE,DA,IA,yE,PA,n7,k1],apis:{getSocket:(e,r)=>e.getSocket(r),setSidebar:(e,r,i,c)=>{e.setSidebar(r,i,c)},toggleSidebar:(e,r,i)=>{e.toggleSidebar(r,i)},whichSidebar:(e,r)=>e.whichSidebar(r),getHeader:(e,r)=>e.getHeader(r),getToolbar:(e,r)=>e.getToolbar(r),setToolbar:(e,r,i)=>{e.setToolbar(r,i)},setToolbars:(e,r,i)=>{e.setToolbars(r,i)},refreshToolbar:(e,r)=>e.refreshToolbar(r),toggleToolbarDrawer:(e,r)=>{e.toggleToolbarDrawer(r)},toggleToolbarDrawerWithoutFocusing:(e,r)=>{e.toggleToolbarDrawerWithoutFocusing(r)},isToolbarDrawerToggled:(e,r)=>e.isToolbarDrawerToggled(r),getThrobber:(e,r)=>e.getThrobber(r),setMenubar:(e,r,i)=>{e.setMenubar(r,i)},focusMenubar:(e,r)=>{e.focusMenubar(r)},focusToolbar:(e,r)=>{e.focusToolbar(r)},setViews:(e,r,i)=>{e.setViews(r,i)},toggleView:(e,r,i)=>e.toggleView(r,i),whichView:(e,r)=>e.whichView(r)}});const wE={file:{title:"File",items:"newdocument restoredraft | preview | export print | deleteallconversations"},edit:{title:"Edit",items:"undo redo | cut copy paste pastetext | selectall | searchreplace"},view:{title:"View",items:"code | visualaid visualchars visualblocks | spellchecker | preview fullscreen | showcomments"},insert:{title:"Insert",items:"image link media addcomment pageembed template inserttemplate codesample inserttable accordion | charmap emoticons hr | pagebreak nonbreaking anchor tableofcontents footnotes | mergetags | insertdatetime"},format:{title:"Format",items:"bold italic underline strikethrough superscript subscript codeformat | styles blocks fontfamily fontsize align lineheight | forecolor backcolor | language | removeformat"},tools:{title:"Tools",items:"spellchecker spellcheckerlanguage | autocorrect capitalization | a11ycheck code typography wordcount addtemplate"},table:{title:"Table",items:"inserttable | cell row column | advtablesort | tableprops deletetable"},help:{title:"Help",items:"help"}},xE=e=>e.split(" "),_E=(e,r)=>{const i={...wE,...r.menus},c=Dn(r.menus).length>0,g=r.menubar===void 0||r.menubar===!0?xE("file edit view insert format tools table help"):xE(r.menubar===!1?"":r.menubar),v=Ht(g,k=>{const O=Lt(wE,k);return c?O||Ze(r.menus,k).exists(N=>Lt(N,"items")):O}),x=et(v,k=>{const O=i[k];return((N,L,F)=>{const U=_4(F).split(/[ ,]/);return{text:N.title,getItems:()=>ne(N.items,K=>{const oe=K.toLowerCase();return oe.trim().length===0||Sn(U,ge=>ge===oe)?[]:oe==="separator"||oe==="|"?[{type:"separator"}]:L.menuItems[oe]?[L.menuItems[oe]]:[]})}})({title:O.title,items:xE(O.items)},r,e)});return Ht(x,k=>k.getItems().length>0&&Sn(k.getItems(),O=>S(O)||O.type!=="separator"))},CE=e=>{const r=()=>{e._skinLoaded=!0,(i=>{i.dispatch("SkinLoaded")})(e)};return()=>{e.initialized?r():e.on("init",r)}},LA=(e,r,i)=>(e.on("remove",()=>i.unload(r)),i.load(r)),I2=(e,r)=>LA(e,r+"/skin.min.css",e.ui.styleSheetLoader),o7=(e,r)=>{var i;return i=Pe(e.getElement()),ys(i).isSome()?LA(e,r+"/skin.shadowdom.min.css",n0.DOM.styleSheetLoader):Promise.resolve()},vC=(e,r)=>{const i=N4(r);return i&&r.contentCSS.push(i+(e?"/content.inline":"/content")+".min.css"),!fx(r)&&S(i)?Promise.all([I2(r,i),o7(r,i)]).then(CE(r),((c,g)=>()=>((v,x)=>{v.dispatch("SkinLoadError",x)})(c,{message:"Skin could not be loaded"}))(r)):Promise.resolve(CE(r)())},r7=Pt(vC,!1),a7=Pt(vC,!0),s7=(e,r,i)=>{const c=(x,k,O,N)=>{const L=r.shared.providers.translate(x.title);if(x.type==="separator")return H.some({type:"separator",text:L});if(x.type==="submenu"){const F=ne(x.getStyleItems(),U=>g(U,k,N));return k===0&&F.length<=0?H.none():H.some({type:"nestedmenuitem",text:L,enabled:F.length>0,getSubmenuItems:()=>ne(x.getStyleItems(),U=>g(U,k,N))})}return H.some({type:"togglemenuitem",text:L,icon:x.icon,active:x.isSelected(N),enabled:!O,onAction:i.onAction(x),...x.getStylePreview().fold(()=>({}),F=>({meta:{style:F}}))})},g=(x,k,O)=>{const N=x.type==="formatter"&&i.isInvalid(x);return k===0?N?[]:c(x,k,!1,O).toArray():c(x,k,N,O).toArray()},v=x=>{const k=i.getCurrentValue(),O=i.shouldHide?0:1;return ne(x,N=>g(N,O,k))};return{validateItems:v,getFetch:(x,k)=>(O,N)=>{const L=k(),F=v(L);N(y1(F,Qc.CLOSE_ON_EXECUTE,x,{isHorizontalMenu:!1,search:H.none()}))}}},F0=(e,r,i)=>{const c=i.dataset,g=c.type==="basic"?()=>et(c.data,v=>au(v,i.isSelectedFor,i.getPreviewFor)):c.getData;return{items:s7(0,r,i),getStyleItems:g}},P2=(e,r,i)=>{const{items:c,getStyleItems:g}=F0(0,r,i),v=Ap(e,"NodeChange",x=>{const k=x.getComponent();i.updateText(k),wo.set(x.getComponent(),!e.selection.isEditable())});return O_({text:i.icon.isSome()?H.none():i.text,icon:i.icon,tooltip:H.from(i.tooltip),role:H.none(),fetch:c.getFetch(r,g),onSetup:v,getApi:x=>({getComponent:G(x)}),columns:1,presets:"normal",classes:i.icon.isSome()?[]:["bespoke"],dropdownBehaviours:[]},"tox-tbtn",r.shared)};var _g;(function(e){e[e.SemiColon=0]="SemiColon",e[e.Space=1]="Space"})(_g||(_g={}));const kE=(e,r,i)=>{const c=(g=((v,x)=>x===_g.SemiColon?v.replace(/;$/,"").split(";"):v.split(" "))(e.options.get(r),i),et(g,v=>{let x=v,k=v;const O=v.split("=");return O.length>1&&(x=O[0],k=O[1]),{title:x,format:k}}));var g;return{type:"basic",data:c}},SE=[{title:"Left",icon:"align-left",format:"alignleft",command:"JustifyLeft"},{title:"Center",icon:"align-center",format:"aligncenter",command:"JustifyCenter"},{title:"Right",icon:"align-right",format:"alignright",command:"JustifyRight"},{title:"Justify",icon:"align-justify",format:"alignjustify",command:"JustifyFull"}],EE=e=>{const r={type:"basic",data:SE};return{tooltip:"Align",text:H.none(),icon:H.some("align-left"),isSelectedFor:i=>()=>e.formatter.match(i),getCurrentValue:H.none,getPreviewFor:i=>H.none,onAction:i=>()=>ze(SE,c=>c.format===i.format).each(c=>e.execCommand(c.command)),updateText:i=>{const c=ze(SE,g=>e.formatter.match(g.format)).fold(G("left"),g=>g.title.toLowerCase());eo(i,b1,{icon:`align-${c}`})},dataset:r,shouldHide:!1,isInvalid:i=>!e.formatter.canApply(i.format)}},BA=(e,r)=>{const i=r(),c=et(i,g=>g.format);return H.from(e.formatter.closest(c)).bind(g=>ze(i,v=>v.format===g)).orThunk(()=>dr(e.formatter.match("p"),{title:"Paragraph",format:"p"}))},FA=e=>{const r="Paragraph",i=kE(e,"block_formats",_g.SemiColon);return{tooltip:"Blocks",text:H.some(r),icon:H.none(),isSelectedFor:c=>()=>e.formatter.match(c),getCurrentValue:H.none,getPreviewFor:c=>()=>{const g=e.formatter.get(c);return g?H.some({tag:g.length>0&&(g[0].inline||g[0].block)||"div",styles:e.dom.parseStyle(e.formatter.getCssText(c))}):H.none()},onAction:QO(e),updateText:c=>{const g=BA(e,()=>i.data).fold(G(r),v=>v.title);eo(c,ou,{text:g})},dataset:i,shouldHide:!1,isInvalid:c=>!e.formatter.canApply(c.format)}},i7=["-apple-system","Segoe UI","Roboto","Helvetica Neue","sans-serif"],bC=e=>{const r=e.split(/\s*,\s*/);return et(r,i=>i.replace(/^['"]+|['"]+$/g,""))},OE=e=>{const r="System Font",i=()=>{const g=N=>N?bC(N)[0]:"",v=e.queryCommandValue("FontName"),x=c.data,k=v?v.toLowerCase():"";return{matchOpt:ze(x,N=>{const L=N.format;return L.toLowerCase()===k||g(L).toLowerCase()===g(k).toLowerCase()}).orThunk(()=>dr((N=>N.indexOf("-apple-system")===0&&(()=>{const L=bC(N.toLowerCase());return Oe(i7,F=>L.indexOf(F.toLowerCase())>-1)})())(k),{title:r,format:k})),font:v}},c=kE(e,"font_family_formats",_g.SemiColon);return{tooltip:"Fonts",text:H.some(r),icon:H.none(),isSelectedFor:g=>v=>v.exists(x=>x.format===g),getCurrentValue:()=>{const{matchOpt:g}=i();return g},getPreviewFor:g=>()=>H.some({tag:"div",styles:g.indexOf("dings")===-1?{"font-family":g}:{}}),onAction:g=>()=>{e.undoManager.transact(()=>{e.focus(),e.execCommand("FontName",!1,g.format)})},updateText:g=>{const{matchOpt:v,font:x}=i(),k=v.fold(G(x),O=>O.title);eo(g,ou,{text:k})},dataset:c,shouldHide:!1,isInvalid:Ke}},l7={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},c7=(()=>{const e="[0-9]+",r="[eE][+-]?"+e,i=g=>`(?:${g})?`,c=["Infinity",e+"\\."+i(e)+i(r),"\\."+e+i(r),e+i(r)].join("|");return new RegExp(`^([+-]?(?:${c}))(.*)$`)})(),yC=(e,r)=>H.from(c7.exec(e)).bind(i=>{const c=Number(i[1]),g=i[2];return((v,x)=>Sn(x,k=>Sn(l7[k],O=>v===O)))(g,r)?H.some({value:c,unit:g}):H.none()}),TE={tab:G(9),escape:G(27),enter:G(13),backspace:G(8),delete:G(46),left:G(37),up:G(38),right:G(39),down:G(40),space:G(32),home:G(36),end:G(35),pageUp:G(33),pageDown:G(34)},HA={"8pt":"1","10pt":"2","12pt":"3","14pt":"4","18pt":"5","24pt":"6","36pt":"7"},S1={"xx-small":"7pt","x-small":"8pt",small:"10pt",medium:"12pt",large:"14pt","x-large":"18pt","xx-large":"24pt"},AE=(e,r)=>/[0-9.]+px$/.test(e)?((i,c)=>{const g=Math.pow(10,c);return Math.round(i*g)/g})(72*parseInt(e,10)/96,r||0)+"pt":Ze(S1,e).getOr(e),wC=e=>Ze(HA,e).getOr(""),zA=e=>{const r=()=>{let g=H.none();const v=c.data,x=e.queryCommandValue("FontSize");if(x)for(let k=3;g.isNone()&&k>=0;k--){const O=AE(x,k),N=wC(O);g=ze(v,L=>L.format===x||L.format===O||L.format===N)}return{matchOpt:g,size:x}},i=G(H.none),c=kE(e,"font_size_formats",_g.Space);return{tooltip:"Font sizes",text:H.some("12pt"),icon:H.none(),isSelectedFor:g=>v=>v.exists(x=>x.format===g),getPreviewFor:i,getCurrentValue:()=>{const{matchOpt:g}=r();return g},onAction:g=>()=>{e.undoManager.transact(()=>{e.focus(),e.execCommand("FontSize",!1,g.format)})},updateText:g=>{const{matchOpt:v,size:x}=r(),k=v.fold(G(x),O=>O.title);eo(g,ou,{text:k})},dataset:c,shouldHide:!1,isInvalid:Ke}},zp=(e,r)=>{const i="Paragraph";return{tooltip:"Formats",text:H.some(i),icon:H.none(),isSelectedFor:c=>()=>e.formatter.match(c),getCurrentValue:H.none,getPreviewFor:c=>()=>{const g=e.formatter.get(c);return g!==void 0?H.some({tag:g.length>0&&(g[0].inline||g[0].block)||"div",styles:e.dom.parseStyle(e.formatter.getCssText(c))}):H.none()},onAction:QO(e),updateText:c=>{const g=k=>x2(k)?ne(k.items,g):L8(k)?[{title:k.title,format:k.format}]:[],v=ne(F8(e),g),x=BA(e,G(v)).fold(G(i),k=>k.title);eo(c,ou,{text:x})},shouldHide:a0(e),isInvalid:c=>!e.formatter.canApply(c.format),dataset:r}},VA=G([kt("toggleClass"),kt("fetch"),Hd("onExecute"),ct("getHotspot",H.some),ct("getAnchorOverrides",G({})),Xm(),Hd("onItemExecute"),Vr("lazySink"),kt("dom"),pr("onOpen"),es("splitDropdownBehaviours",[Ua,co,Oo]),ct("matchWidth",!1),ct("useMinWidth",!1),ct("eventOrder",{}),Vr("role")].concat(LS())),u7=xt({factory:vi,schema:[kt("dom")],name:"arrow",defaults:()=>({buttonBehaviours:ln([Oo.revoke()])}),overrides:e=>({dom:{tag:"span",attributes:{role:"presentation"}},action:r=>{r.getSystem().getByUid(e.uid).each(fu)},buttonBehaviours:ln([tr.config({toggleOnExecute:!1,toggleClass:e.toggleClass})])})}),d7=xt({factory:vi,schema:[kt("dom")],name:"button",defaults:()=>({buttonBehaviours:ln([Oo.revoke()])}),overrides:e=>({dom:{tag:"span",attributes:{role:"presentation"}},action:r=>{r.getSystem().getByUid(e.uid).each(i=>{e.onExecute(i,r)})}})}),NE=G([u7,d7,Gt({factory:{sketch:e=>({uid:e.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:e.text}})},schema:[kt("text")],name:"aria-descriptor"}),Rt({schema:[Ju()],name:"menu",defaults:e=>({onExecute:(r,i)=>{r.getSystem().getByUid(e.uid).each(c=>{e.onItemExecute(c,r,i)})}})}),MS()]),Vp=qi({name:"SplitDropdown",configFields:VA(),partFields:NE(),factory:(e,r,i,c)=>{const g=N=>{hr.getCurrent(N).each(L=>{Fr.highlightFirst(L),co.focusIn(L)})},v=N=>{l1(e,Ae,N,c,g,Mi.HighlightMenuAndItem).get(J)},x=N=>{const L=Pa(N,e,"button");return fu(L),H.some(!0)},k={...Nr([ia((N,L)=>{jo(N,e,"aria-descriptor").each(F=>{const U=Gn("aria");yo(F.element,"id",U),yo(N.element,"aria-describedby",U)})})]),...Jd(H.some(v))},O={repositionMenus:N=>{tr.isOn(N)&&PS(N)}};return{uid:e.uid,dom:e.dom,components:r,apis:O,eventOrder:{...e.eventOrder,[sl()]:["disabling","toggling","alloy.base.behaviour"]},events:k,behaviours:is(e.splitDropdownBehaviours,[Ua.config({others:{sandbox:N=>{const L=Pa(N,e,"arrow");return IS(e,N,{onOpen:()=>{tr.on(L),tr.on(N)},onClose:()=>{tr.off(L),tr.off(N)}})}}}),co.config({mode:"special",onSpace:x,onEnter:x,onDown:N=>(v(N),H.some(!0))}),Oo.config({}),tr.config({toggleOnExecute:!1,aria:{mode:"expanded"}})]),domModification:{attributes:{role:e.role.getOr("button"),"aria-haspopup":!0}}}},apis:{repositionMenus:(e,r)=>e.repositionMenus(r)}}),xC=e=>({isEnabled:()=>!wo.isDisabled(e),setEnabled:r=>wo.set(e,!r),setText:r=>eo(e,ou,{text:r}),setIcon:r=>eo(e,b1,{icon:r})}),_C=e=>({setActive:r=>{tr.set(e,r)},isActive:()=>tr.isOn(e),isEnabled:()=>!wo.isDisabled(e),setEnabled:r=>wo.set(e,!r),setText:r=>eo(e,ou,{text:r}),setIcon:r=>eo(e,b1,{icon:r})}),$p=(e,r)=>e.map(i=>({"aria-label":r.translate(i),title:r.translate(i)})).getOr({}),L2=Gn("focus-button"),CC=(e,r,i,c,g)=>{const v=r.map(k=>Gr(c8(k,"tox-tbtn",g))),x=e.map(k=>Gr(Ip(k,g.icons)));return{dom:{tag:"button",classes:["tox-tbtn"].concat(r.isSome()?["tox-tbtn--select"]:[]),attributes:$p(i,g)},components:d0([x.map(k=>k.asSpec()),v.map(k=>k.asSpec())]),eventOrder:{[gi()]:["focusing","alloy.base.behaviour",Dp],[Gl()]:[Dp,"toolbar-group-button-events"]},buttonBehaviours:ln([Hy(g.isDisabled),Gs(),Ko(Dp,[ia((k,O)=>p3(k)),jt(ou,(k,O)=>{v.bind(N=>N.getOpt(k)).each(N=>{Po.set(N,[Ea(g.translate(O.event.text))])})}),jt(b1,(k,O)=>{x.bind(N=>N.getOpt(k)).each(N=>{Po.set(N,[Ip(O.event.icon,g.icons)])})}),jt(gi(),(k,O)=>{O.event.prevent(),Pr(k,L2)})])].concat(c.getOr([])))}},ME=(e,r,i)=>{var c;const g=uo(J),v=CC(e.icon,e.text,e.tooltip,H.none(),i);return vi.sketch({dom:v.dom,components:v.components,eventOrder:l8,buttonBehaviours:{...ln([Ko("toolbar-button-events",[(x={onAction:e.onAction,getApi:r.getApi},wc((k,O)=>{zy(x,k)(N=>{eo(k,g3,{buttonApi:N}),x.onAction(N)})})),rm(r,g),Tp(r,g)]),Hy(()=>!e.enabled||i.isDisabled()),Gs()].concat(r.toolbarButtonBehaviours)),[Dp]:(c=v.buttonBehaviours)===null||c===void 0?void 0:c[Dp]}});var x},RE=(e,r,i)=>ME(e,{toolbarButtonBehaviours:i.length>0?[Ko("toolbarButtonWith",i)]:[],getApi:xC,onSetup:e.onSetup},r),$A=(e,r,i)=>ME(e,{toolbarButtonBehaviours:[Po.config({}),tr.config({toggleClass:"tox-tbtn--enabled",aria:{mode:"pressed"},toggleOnExecute:!1})].concat(i.length>0?[Ko("toolbarToggleButtonWith",i)]:[]),getApi:_C,onSetup:e.onSetup},r),UA=(e,r,i)=>c=>mg(g=>r.fetch(g)).map(g=>H.from(Yy(lr(Kx(Gn("menu-value"),g,v=>{r.onItemAction(e(c),v)},r.columns,r.presets,Qc.CLOSE_ON_EXECUTE,r.select.getOr(Ke),i),{movement:Yx(r.columns,r.presets),menuBehaviours:md(r.columns!=="auto"?[]:[ia((v,x)=>{iS(v,4,e1(r.presets)).each(({numRows:k,numColumns:O})=>{co.setGridSize(v,k,O)})})])})))),jA=[{name:"history",items:["undo","redo"]},{name:"styles",items:["styles"]},{name:"formatting",items:["bold","italic"]},{name:"alignment",items:["alignleft","aligncenter","alignright","alignjustify"]},{name:"indentation",items:["outdent","indent"]},{name:"permanent pen",items:["permanentpen"]},{name:"comments",items:["addcomment"]}],E1=(e,r)=>(i,c,g)=>{const v=e(i).mapError(x=>tn(x)).getOrDie();return r(v,c,g)},m7={button:E1(eS,(e,r)=>{return i=e,c=r.shared.providers,RE(i,c,[]);var i,c}),togglebutton:E1(tS,(e,r)=>{return i=e,c=r.shared.providers,$A(i,c,[]);var i,c}),menubutton:E1(nE,(e,r)=>m2(e,"tox-tbtn",r,H.none(),!1)),splitbutton:E1(e=>na("SplitButton",WM,e),(e,r)=>((i,c)=>{const g=k=>({isEnabled:()=>!wo.isDisabled(k),setEnabled:O=>wo.set(k,!O),setIconFill:(O,N)=>{as(k.element,`svg path[class="${O}"], rect[class="${O}"]`).each(L=>{yo(L,"fill",N)})},setActive:O=>{yo(k.element,"aria-pressed",O),as(k.element,"span").each(N=>{k.getSystem().getByDom(N).each(L=>tr.set(L,O))})},isActive:()=>as(k.element,"span").exists(O=>k.getSystem().getByDom(O).exists(tr.isOn)),setText:O=>as(k.element,"span").each(N=>k.getSystem().getByDom(N).each(L=>eo(L,ou,{text:O}))),setIcon:O=>as(k.element,"span").each(N=>k.getSystem().getByDom(N).each(L=>eo(L,b1,{icon:O})))}),v=uo(J),x={getApi:g,onSetup:i.onSetup};return Vp.sketch({dom:{tag:"div",classes:["tox-split-button"],attributes:{"aria-pressed":!1,...$p(i.tooltip,c.providers)}},onExecute:k=>{const O=g(k);O.isEnabled()&&i.onAction(O)},onItemExecute:(k,O,N)=>{},splitDropdownBehaviours:ln([uS(c.providers.isDisabled),Gs(),Ko("split-dropdown-events",[ia((k,O)=>p3(k)),jt(L2,Oo.focus),rm(x,v),Tp(x,v)]),C0.config({})]),eventOrder:{[Gl()]:["alloy.base.behaviour","split-dropdown-events"]},toggleClass:"tox-tbtn--enabled",lazySink:c.getSink,fetch:UA(g,i,c.providers),parts:{menu:Oy(0,i.columns,i.presets)},components:[Vp.parts.button(CC(i.icon,i.text,H.none(),H.some([tr.config({toggleClass:"tox-tbtn--enabled",toggleOnExecute:!1})]),c.providers)),Vp.parts.arrow({dom:{tag:"button",classes:["tox-tbtn","tox-split-button__chevron"],innerHtml:v4("chevron-down",c.providers.icons)},buttonBehaviours:ln([uS(c.providers.isDisabled),Gs(),b4()])}),Vp.parts["aria-descriptor"]({text:c.providers.translate("To open the popup, press Shift+Enter")})]})})(e,r.shared)),grouptoolbarbutton:E1(e=>na("GroupToolbarButton",lA,e),(e,r,i)=>{const c=i.ui.registry.getAll().buttons,g={[Ym]:r.shared.header.isPositionedAtTop()?ed.TopToBottom:ed.BottomToTop};if(Xh(i)===wu.floating)return((v,x,k,O)=>{const N=x.shared,L=uo(J),F={toolbarButtonBehaviours:[],getApi:xC,onSetup:v.onSetup},U=[Ko("toolbar-group-button-events",[rm(F,L),Tp(F,L)])];return xd.sketch({lazySink:N.getSink,fetch:()=>mg(K=>{K(et(k(v.items),N2))}),markers:{toggledClass:"tox-tbtn--enabled"},parts:{button:CC(v.icon,v.text,v.tooltip,H.some(U),N.providers),toolbar:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:O}}}})})(e,r,v=>H0(i,{buttons:c,toolbar:v,allowToolbarGroups:!1},r,H.none()),g);throw new Error("Toolbar groups are only supported when using floating toolbar mode")})},DE={styles:(e,r)=>{const i={type:"advanced",...r.styles};return P2(e,r,zp(e,i))},fontsize:(e,r)=>P2(e,r,zA(e)),fontsizeinput:(e,r)=>((i,c,g)=>{let v=H.none();const x=Ap(i,"NodeChange",he=>{const Ee=he.getComponent();v=H.some(Ee),g.updateInputValue(Ee),wo.set(Ee,!i.selection.isEditable())}),k=he=>({getComponent:G(he)}),O=uo(J),N=Gn("custom-number-input-events"),L=(he,Ee,Te)=>{const He=v.map(Qt=>gn.getValue(Qt)).getOr(""),Ye=g.getNewValue(He,he),gt=He.length-`${Ye}`.length,Xt=v.map(Qt=>Qt.element.dom.selectionStart-gt),Wt=v.map(Qt=>Qt.element.dom.selectionEnd-gt);g.onAction(Ye,Te),v.each(Qt=>{gn.setValue(Qt,Ye),Ee&&(Xt.each(Ln=>Qt.element.dom.selectionStart=Ln),Wt.each(Ln=>Qt.element.dom.selectionEnd=Ln))})},F=(he,Ee)=>L((Te,He)=>Te-He,he,Ee),U=(he,Ee)=>L((Te,He)=>Te+He,he,Ee),K=he=>Eo(he.element).fold(H.none,Ee=>(wl(Ee),H.some(!0))),oe=he=>np(he.element)?(Er(he.element).each(Ee=>wl(Ee)),H.some(!0)):H.none(),ge=(he,Ee,Te,He)=>{const Ye=c.shared.providers.translate(Te),gt=Gn("altExecuting"),Xt=Ap(i,"NodeChange",Qt=>{wo.set(Qt.getComponent(),!i.selection.isEditable())}),Wt=Qt=>{wo.isDisabled(Qt)||he(!0)};return vi.sketch({dom:{tag:"button",attributes:{title:Ye,"aria-label":Ye},classes:He.concat(Ee)},components:[v3(Ee,c.shared.providers.icons)],buttonBehaviours:ln([wo.config({}),Ko(gt,[rm({onSetup:Xt,getApi:k},O),Tp({getApi:k},O),jt(jc(),(Qt,Ln)=>{Ln.event.raw.keyCode!==TE.space()&&Ln.event.raw.keyCode!==TE.enter()||wo.isDisabled(Qt)||he(!1)}),jt(bc(),Wt),jt(ni(),Wt)])]),eventOrder:{[jc()]:[gt,"keying"],[bc()]:[gt,"alloy.base.behaviour"],[ni()]:[gt,"alloy.base.behaviour"]}})},pe=Gr(ge(he=>F(!1,he),"minus","Decrease font size",["highlight-on-focus"])),we=Gr(ge(he=>U(!1,he),"plus","Increase font size",["highlight-on-focus"])),Se=Gr({dom:{tag:"div",classes:["tox-input-wrapper","highlight-on-focus"]},components:[Sp.sketch({inputBehaviours:ln([wo.config({}),Ko(N,[rm({onSetup:x,getApi:k},O),Tp({getApi:k},O)]),Ko("input-update-display-text",[jt(ou,(he,Ee)=>{gn.setValue(he,Ee.event.text)}),jt(gb(),he=>{g.onAction(gn.getValue(he))}),jt(Rd(),he=>{g.onAction(gn.getValue(he))})]),co.config({mode:"special",onEnter:he=>(L(Ae,!0,!0),H.some(!0)),onEscape:K,onUp:he=>(U(!0,!1),H.some(!0)),onDown:he=>(F(!0,!1),H.some(!0)),onLeft:(he,Ee)=>(Ee.cut(),H.none()),onRight:(he,Ee)=>(Ee.cut(),H.none())})])})],behaviours:ln([Oo.config({}),co.config({mode:"special",onEnter:oe,onSpace:oe,onEscape:K}),Ko("input-wrapper-events",[jt(mu(),he=>{_t([pe,we],Ee=>{const Te=Pe(Ee.get(he).element.dom);np(Te)&&Eh(Te)})})])])});return{dom:{tag:"div",classes:["tox-number-input"]},components:[pe.asSpec(),Se.asSpec(),we.asSpec()],behaviours:ln([Oo.config({}),co.config({mode:"flow",focusInside:Yc.OnEnterOrSpaceMode,cycles:!1,selector:"button, .tox-input-wrapper",onEscape:he=>np(he.element)?H.none():(wl(he.element),H.some(!0))})])}})(e,r,(i=>{const c=()=>i.queryCommandValue("FontSize");return{updateInputValue:g=>eo(g,ou,{text:c()}),onAction:(g,v)=>i.execCommand("FontSize",!1,g,{skip_focus:!v}),getNewValue:(g,v)=>{yC(g,["unsupportedLength","empty"]);const x=yC(g,["unsupportedLength","empty"]).or(yC(c(),["unsupportedLength","empty"])),k=x.map(F=>F.value).getOr(16),O=CO(i),N=x.map(F=>F.unit).filter(F=>F!=="").getOr(O),L=v(k,(F=>{var U;return(U={em:{step:.1},cm:{step:.1},in:{step:.1},pc:{step:.1},ch:{step:.1},rem:{step:.1}}[F])!==null&&U!==void 0?U:{step:1}})(N).step);return`${(F=>F>=0)(L)?L:k}${N}`}}})(e)),fontfamily:(e,r)=>P2(e,r,OE(e)),blocks:(e,r)=>P2(e,r,FA(e)),align:(e,r)=>P2(e,r,EE(e))},H0=(e,r,i,c)=>{const g=(x=>{const k=x.toolbar,O=x.buttons;return k===!1?[]:k===void 0||k===!0?(N=>{const L=et(jA,F=>{const U=Ht(F.items,K=>Lt(N,K)||Lt(DE,K));return{name:F.name,items:U}});return Ht(L,F=>F.items.length>0)})(O):S(k)?(N=>{const L=N.split("|");return et(L,F=>({items:F.trim().split(" ")}))})(k):(N=>me(N,L=>Lt(L,"name")&&Lt(L,"items")))(k)?k:(console.error("Toolbar type should be string, string[], boolean or ToolbarGroup[]"),[])})(r),v=et(g,x=>{const k=ne(x.items,O=>O.trim().length===0?[]:((N,L,F,U,K,oe)=>Ze(L,F.toLowerCase()).orThunk(()=>oe.bind(ge=>Hn(ge,pe=>Ze(L,pe+F.toLowerCase())))).fold(()=>Ze(DE,F.toLowerCase()).map(ge=>ge(N,K)),ge=>ge.type!=="grouptoolbarbutton"||U?((pe,we,Se)=>Ze(m7,pe.type).fold(()=>(console.error("skipping button defined by",pe),H.none()),he=>H.some(he(pe,we,Se))))(ge,K,N):(console.warn(`Ignoring the '${F}' toolbar button. Group toolbar buttons are only supported when using floating toolbar mode and cannot be nested.`),H.none())))(e,r.buttons,O,r.allowToolbarGroups,i,c).toArray());return{title:H.from(e.translate(x.name)),items:k}});return Ht(v,x=>x.items.length>0)},kC=(e,r,i,c)=>{const g=r.mainUi.outerContainer,v=i.toolbar,x=i.buttons;if(me(v,S)){const k=v.map(O=>{const N={toolbar:O,buttons:x,allowToolbarGroups:i.allowToolbarGroups};return H0(e,N,c,H.none())});ra.setToolbars(g,k)}else ra.setToolbar(g,H0(e,i,c,H.none()))},ZA=nl(),WA=ZA.os.isiOS()&&ZA.os.version.major<=12;var f7=Object.freeze({__proto__:null,render:async(e,r,i,c,g)=>{const{mainUi:v,uiMotherships:x}=r,k=uo(0),O=v.outerContainer;await r7(e);const N=Pe(g.targetNode),L=Sa(ka(N));rd(N,v.mothership),((oe,ge,pe)=>{lf(oe)&&rd(pe.mainUi.mothership.element,pe.popupUi.mothership),Vh(ge,pe.dialogUi.mothership)})(e,L,r),e.on("PostRender",()=>{ra.setSidebar(O,i.sidebar,OO(e)),kC(e,r,i,c),k.set(e.getWin().innerWidth),ra.setMenubar(O,_E(e,i)),ra.setViews(O,i.views),((oe,ge)=>{const{uiMotherships:pe}=ge,we=oe.dom;let Se=oe.getWin();const he=oe.getDoc().documentElement,Ee=uo(vr(Se.innerWidth,Se.innerHeight)),Te=uo(vr(he.offsetWidth,he.offsetHeight)),He=()=>{const Wt=Ee.get();Wt.left===Se.innerWidth&&Wt.top===Se.innerHeight||(Ee.set(vr(Se.innerWidth,Se.innerHeight)),_S(oe))},Ye=()=>{const Wt=oe.getDoc().documentElement,Qt=Te.get();Qt.left===Wt.offsetWidth&&Qt.top===Wt.offsetHeight||(Te.set(vr(Wt.offsetWidth,Wt.offsetHeight)),_S(oe))},gt=Wt=>{((Qt,Ln)=>{Qt.dispatch("ScrollContent",Ln)})(oe,Wt)};we.bind(Se,"resize",He),we.bind(Se,"scroll",gt);const Xt=Bb(Pe(oe.getBody()),"load",Ye);oe.on("hide",()=>{_t(pe,Wt=>{Do(Wt.element,"display","none")})}),oe.on("show",()=>{_t(pe,Wt=>{Zr(Wt.element,"display")})}),oe.on("NodeChange",Ye),oe.on("remove",()=>{Xt.unbind(),we.unbind(Se,"resize",He),we.unbind(Se,"scroll",gt),Se=null})})(e,r)});const F=ra.getSocket(O).getOrDie("Could not find expected socket element");if(WA){Sl(F.element,{overflow:"scroll","-webkit-overflow-scrolling":"touch"});const oe=((pe,we)=>{let Se=null;return{cancel:()=>{q(Se)||(clearTimeout(Se),Se=null)},throttle:(...he)=>{q(Se)&&(Se=setTimeout(()=>{Se=null,pe.apply(null,he)},20))}}})(()=>{e.dispatch("ScrollContent")}),ge=Ds(F.element,"scroll",oe.throttle);e.on("remove",ge.unbind)}Ix(e,r),e.addCommand("ToggleSidebar",(oe,ge)=>{ra.toggleSidebar(O,ge),e.dispatch("ToggleSidebar")}),e.addQueryValueHandler("ToggleSidebar",()=>{var oe;return(oe=ra.whichSidebar(O))!==null&&oe!==void 0?oe:""}),e.addCommand("ToggleView",(oe,ge)=>{if(ra.toggleView(O,ge)){const pe=O.element;v.mothership.broadcastOn([Is()],{target:pe}),_t(x,we=>{we.broadcastOn([Is()],{target:pe})}),q(ra.whichView(O))&&(e.focus(),e.nodeChanged(),ra.refreshToolbar(O))}}),e.addQueryValueHandler("ToggleView",()=>{var oe;return(oe=ra.whichView(O))!==null&&oe!==void 0?oe:""});const U=Xh(e);U!==wu.sliding&&U!==wu.floating||e.on("ResizeWindow ResizeEditor ResizeContent",()=>{const oe=e.getWin().innerWidth;oe!==k.get()&&(ra.refreshToolbar(r.mainUi.outerContainer),k.set(oe))});const K={setEnabled:oe=>{Dx(r,!oe)},isEnabled:()=>!wo.isDisabled(O)};return{iframeContainer:F.element.dom,editorContainer:O.element.dom,api:K}}});const SC=e=>/^[0-9\.]+(|px)$/i.test(""+e)?H.some(parseInt(""+e,10)):H.none(),IE=e=>xe(e)?e+"px":e,hf=(e,r,i)=>{const c=r.filter(v=>e<v),g=i.filter(v=>e>v);return c.or(g).getOr(e)},PE=e=>{const r=r0(e),i=gy(e),c=py(e);return SC(r).map(g=>hf(g,i,c))},{ToolbarLocation:LE,ToolbarMode:B2}=UN,z0=(e,r,i,c,g)=>{const{mainUi:v,uiMotherships:x}=i,k=n0.DOM,O=Qh(e),N=Cy(e),L=py(e).or(PE(e)),F=c.shared.header,U=F.isPositionedAtTop,K=Xh(e),oe=K===B2.sliding||K===B2.floating,ge=uo(!1),pe=()=>ge.get()&&!e.removed,we=Te=>oe?Te.fold(G(0),He=>He.components().length>1?Ha(He.components()[1].element):0):0,Se=()=>{_t(x,Te=>{Te.broadcastOn([Il()],{})})},he=Te=>{if(!pe())return;O||g.on(Ye=>{const gt=L.getOrThunk(()=>{const Xt=SC(Fa(Hs(),"margin-left")).getOr(0);return Yr(Hs())-za(r).left+Xt});Do(Ye.element,"max-width",gt+"px")});const He=O?H.none():(()=>{if(O)return H.none();if(za(v.outerContainer.element).left+el(v.outerContainer.element)>=window.innerWidth-40||Kr(v.outerContainer.element,"width").isSome()){Do(v.outerContainer.element,"position","absolute"),Do(v.outerContainer.element,"left","0px"),Zr(v.outerContainer.element,"width");const Ye=el(v.outerContainer.element);return H.some(Ye)}return H.none()})();oe&&ra.refreshToolbar(v.outerContainer),O||(Ye=>{g.on(gt=>{const Xt=ra.getToolbar(v.outerContainer),Wt=we(Xt),Qt=os(r),{top:Ln,left:to}=((_o,Co)=>lf(_o)?k2(Co):H.none())(e,v.outerContainer.element).fold(()=>({top:U()?Math.max(Qt.y-Ha(gt.element)+Wt,0):Qt.bottom,left:Qt.x}),_o=>{var Co;const Lr=os(_o),aa=(Co=_o.dom.scrollTop)!==null&&Co!==void 0?Co:0,Vo=Mo(_o,Hs()),wr=Vo?Math.max(Qt.y-Ha(gt.element)+Wt,0):Qt.y-Lr.y+aa-Ha(gt.element)+Wt;return{top:U()?wr:Qt.bottom,left:Vo?Qt.x:Qt.x-Lr.x}}),Vn={position:"absolute",left:Math.round(to)+"px",top:Math.round(Ln)+"px"},fo=Ye.map(_o=>{const Co=ts(),Lr=window.innerWidth-(to-Co.left);return{width:Math.max(Math.min(_o,Lr),150)+"px"}}).getOr({});Sl(v.outerContainer.element,{...Vn,...fo})})})(He),N&&g.on(Te),Se()},Ee=()=>!(O||!N||!pe())&&g.get().exists(Te=>{const He=F.getDockingMode(),Ye=(Xt=>{switch(lx(e)){case LE.auto:const Wt=ra.getToolbar(v.outerContainer),Qt=we(Wt),Ln=Ha(Xt.element)-Qt,to=os(r);if(to.y>Ln)return"top";{const Vn=en(r),fo=Math.max(Vn.dom.scrollHeight,Ha(Vn));return to.bottom<fo-Ln||Ya().bottom<to.bottom-Ln?"bottom":"top"}case LE.bottom:return"bottom";case LE.top:default:return"top"}})(Te);return Ye!==He&&(gt=Ye,g.on(Xt=>{As.setModes(Xt,[gt]),F.setDockingMode(gt);const Wt=U()?ed.TopToBottom:ed.BottomToTop;yo(Xt.element,Ym,Wt)}),!0);var gt});return{isVisible:pe,isPositionedAtTop:U,show:()=>{ge.set(!0),Do(v.outerContainer.element,"display","flex"),k.addClass(e.getBody(),"mce-edit-focus"),_t(x,Te=>{Zr(Te.element,"display")}),Ee(),lf(e)?he(Te=>As.isDocked(Te)?As.reset(Te):As.refresh(Te)):he(As.refresh)},hide:()=>{ge.set(!1),Do(v.outerContainer.element,"display","none"),k.removeClass(e.getBody(),"mce-edit-focus"),_t(x,Te=>{Do(Te.element,"display","none")})},update:he,updateMode:()=>{Ee()&&he(As.reset)},repositionPopups:Se}},F2=(e,r)=>{const i=os(e);return{pos:r?i.y:i.bottom,bounds:i}};var EC=Object.freeze({__proto__:null,render:async(e,r,i,c,g)=>{const{mainUi:v}=r,x=ha(),k=Pe(g.targetNode),O=z0(e,k,r,c,x),N=k4(e);await a7(e);const L=()=>{if(x.isSet())return void O.show();x.set(ra.getHeader(v.outerContainer).getOrDie());const U=_y(e);lf(e)?(rd(k,v.mothership),rd(k,r.popupUi.mothership)):Vh(U,v.mothership),Vh(U,r.dialogUi.mothership),kC(e,r,i,c),ra.setMenubar(v.outerContainer,_E(e,i)),O.show(),((K,oe,ge,pe)=>{const we=uo(F2(oe,ge.isPositionedAtTop())),Se=He=>{const{pos:Ye,bounds:gt}=F2(oe,ge.isPositionedAtTop()),{pos:Xt,bounds:Wt}=we.get(),Qt=gt.height!==Wt.height||gt.width!==Wt.width;we.set({pos:Ye,bounds:gt}),Qt&&_S(K,He),ge.isVisible()&&(Xt!==Ye?ge.update(As.reset):Qt&&(ge.updateMode(),ge.repositionPopups()))};pe||(K.on("activate",ge.show),K.on("deactivate",ge.hide)),K.on("SkinLoaded ResizeWindow",()=>ge.update(As.reset)),K.on("NodeChange keydown",He=>{requestAnimationFrame(()=>Se(He))});let he=0;const Ee=f2(()=>ge.update(As.refresh),33);K.on("ScrollWindow",()=>{const He=ts().left;He!==he&&(he=He,Ee.throttle()),ge.updateMode()}),lf(K)&&K.on("ElementScroll",He=>{ge.update(As.refresh)});const Te=Gf();Te.set(Bb(Pe(K.getBody()),"load",He=>Se(He.raw))),K.on("remove",()=>{Te.clear()})})(e,k,O,N),e.nodeChanged()};e.on("show",L),e.on("hide",O.hide),N||(e.on("focus",L),e.on("blur",O.hide)),e.on("init",()=>{(e.hasFocus()||N)&&L()}),Ix(e,r);const F={show:L,hide:O.hide,setEnabled:U=>{Dx(r,!U)},isEnabled:()=>!wo.isDisabled(v.outerContainer)};return{editorContainer:v.outerContainer.element.dom,api:F}}});const BE="contexttoolbar-hide",Ll=(e,r)=>jt(g3,(i,c)=>{const g=(v=>({hide:()=>Pr(v,Ma()),getValue:()=>gn.getValue(v)}))(e.get(i));r.onAction(g,c.event.buttonApi)}),OC=(e,r)=>{const i=e.label.fold(()=>({}),v=>({"aria-label":v})),c=Gr(Sp.sketch({inputClasses:["tox-toolbar-textfield","tox-toolbar-nav-js"],data:e.initValue(),inputAttributes:i,selectOnFocus:!0,inputBehaviours:ln([co.config({mode:"special",onEnter:v=>g.findPrimary(v).map(x=>(fu(x),!0)),onLeft:(v,x)=>(x.cut(),H.none()),onRight:(v,x)=>(x.cut(),H.none())})])})),g=((v,x,k)=>{const O=et(x,N=>Gr(((L,F,U)=>(K=>K.type==="contextformtogglebutton")(F)?((K,oe,ge)=>{const{primary:pe,...we}=oe.original,Se=pc(tS({...we,type:"togglebutton",onAction:J}));return $A(Se,ge,[Ll(K,oe)])})(L,F,U):((K,oe,ge)=>{const{primary:pe,...we}=oe.original,Se=pc(eS({...we,type:"button",onAction:J}));return RE(Se,ge,[Ll(K,oe)])})(L,F,U))(v,N,k)));return{asSpecs:()=>et(O,N=>N.asSpec()),findPrimary:N=>Hn(x,(L,F)=>L.primary?H.from(O[F]).bind(U=>U.getOpt(N)).filter(Ft(wo.isDisabled)):H.none())}})(c,e.commands,r);return[{title:H.none(),items:[c.asSpec()]},{title:H.none(),items:g.asSpecs()}]},FE=(e,r,i)=>r.bottom-e.y>=i&&e.bottom-r.y>=i,TC=e=>{const r=(i=>{const c=i.getBoundingClientRect();if(c.height<=0&&c.width<=0){const g=qr(Pe(i.startContainer),i.startOffset).element;return(fr(g)?dn(g):H.some(g)).filter(Qn).map(v=>v.dom.getBoundingClientRect()).getOr(c)}return c})(e.selection.getRng());if(e.inline){const i=ts();return ga(i.left+r.left,i.top+r.top,r.width,r.height)}{const i=Ul(Pe(e.getBody()));return ga(i.x+r.left,i.y+r.top,r.width,r.height)}},GA=(e,r,i,c=0)=>{const g=zs(window),v=os(Pe(e.getContentAreaContainer())),x=by(e)||yy(e)||wy(e),{x:k,width:O}=((N,L,F)=>{const U=Math.max(N.x+F,L.x);return{x:U,width:Math.min(N.right-F,L.right)-U}})(v,g,c);if(e.inline&&!x)return ga(k,g.y,O,g.height);{const N=r.header.isPositionedAtTop(),{y:L,bottom:F}=((U,K,oe,ge,pe,we)=>{const Se=Pe(U.getContainer()),he=as(Se,".tox-editor-header").getOr(Se),Ee=os(he),Te=Ee.y>=K.bottom,He=ge&&!Te;if(U.inline&&He)return{y:Math.max(Ee.bottom+we,oe.y),bottom:oe.bottom};if(U.inline&&!He)return{y:oe.y,bottom:Math.min(Ee.y-we,oe.bottom)};const Ye=pe==="line"?os(Se):K;return He?{y:Math.max(Ee.bottom+we,oe.y),bottom:Math.min(Ye.bottom-we,oe.bottom)}:{y:Math.max(Ye.y+we,oe.y),bottom:Math.min(Ee.y-we,oe.bottom)}})(e,v,g,N,i,c);return ga(k,L,O,F-L)}},Cg={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"],inset:["tox-pop--inset"]},qA={maxHeightFunction:rp(),maxWidthFunction:cC()},HE=e=>e==="node",V0=(e,r,i,c,g)=>{const v=TC(e),x=c.lastElement().exists(k=>Mo(i,k));return((k,O)=>{const N=k.selection.getRng(),L=qr(Pe(N.startContainer),N.startOffset);return N.startContainer===N.endContainer&&N.startOffset===N.endOffset-1&&Mo(L.element,O)})(e,i)?x?M8:wd:x?((k,O,N)=>{const L=Kr(k,"position");Do(k,"position",O);const F=FE(v,os(r),-20)&&!c.isReposition()?DM:M8;return L.each(U=>Do(k,"position",U)),F})(r,c.getMode()):(c.getMode()==="fixed"?g.y+ts().top:g.y)+(Ha(r)+12)<=v.y?wd:C1},AC=(e,r,i,c)=>{const g=x=>(k,O,N,L,F)=>({...V0(e,L,x,i,F)({...k,y:F.y,height:F.height},O,N,L,F),alwaysFit:!0}),v=x=>HE(c)?[g(x)]:[];return r?{onLtr:x=>[$a,ii,li,Oa,ss,Dl].concat(v(x)),onRtl:x=>[$a,li,ii,ss,Oa,Dl].concat(v(x))}:{onLtr:x=>[Dl,$a,Oa,ii,ss,li].concat(v(x)),onRtl:x=>[Dl,$a,ss,li,Oa,ii].concat(v(x))}},NC=(e,r)=>{const i=Ht(r,v=>v.predicate(e.dom)),{pass:c,fail:g}=Sr(i,v=>v.type==="contexttoolbar");return{contextToolbars:c,contextForms:g}},$0=(e,r)=>{const i={},c=[],g=[],v={},x={},k=Dn(e);return _t(k,O=>{const N=e[O];N.type==="contextform"?((L,F)=>{const U=pc(na("ContextForm",nm,F));i[L]=U,U.launch.map(K=>{v["form:"+L]={...F.launch,type:K.type==="contextformtogglebutton"?"togglebutton":"button",onAction:()=>{r(U)}}}),U.scope==="editor"?g.push(U):c.push(U),x[L]=U})(O,N):N.type==="contexttoolbar"&&((L,F)=>{var U;(U=F,na("ContextToolbar",aS,U)).each(K=>{F.scope==="editor"?g.push(K):c.push(K),x[L]=K})})(O,N)}),{forms:i,inNodeScope:c,inEditorScope:g,lookupTable:x,formNavigators:v}},KA=Gn("forward-slide"),YA=Gn("backward-slide"),O1=Gn("change-slide-event"),zE="tox-pop--resizing",MC="tox-pop--transition",t=(e,r,i,c)=>{const g=c.backstage,v=g.shared,x=nl().deviceType.isTouch,k=ha(),O=ha(),N=ha(),L=Cs((He=>{const Ye=uo([]);return ls.sketch({dom:{tag:"div",classes:["tox-pop"]},fireDismissalEventInstead:{event:"doNotDismissYet"},onShow:gt=>{Ye.set([]),ls.getContent(gt).each(Xt=>{Zr(Xt.element,"visibility")}),Ca(gt.element,zE),Zr(gt.element,"width")},inlineBehaviours:ln([Ko("context-toolbar-events",[Lm(Dm(),(gt,Xt)=>{Xt.event.raw.propertyName==="width"&&(Ca(gt.element,zE),Zr(gt.element,"width"))}),jt(O1,(gt,Xt)=>{const Wt=gt.element;Zr(Wt,"width");const Qt=Yr(Wt);ls.setContent(gt,Xt.event.contents),_a(Wt,zE);const Ln=Yr(Wt);Do(Wt,"width",Qt+"px"),ls.getContent(gt).each(to=>{Xt.event.focus.bind(Vn=>(wl(Vn),Ec(Wt))).orThunk(()=>(co.focusIn(to),Qu(ka(Wt))))}),setTimeout(()=>{Do(gt.element,"width",Ln+"px")},0)}),jt(KA,(gt,Xt)=>{ls.getContent(gt).each(Wt=>{Ye.set(Ye.get().concat([{bar:Wt,focus:Qu(ka(gt.element))}]))}),eo(gt,O1,{contents:Xt.event.forwardContents,focus:H.none()})}),jt(YA,(gt,Xt)=>{Je(Ye.get()).each(Wt=>{Ye.set(Ye.get().slice(0,Ye.get().length-1)),eo(gt,O1,{contents:Kl(Wt.bar),focus:Wt.focus})})})]),co.config({mode:"special",onEscape:gt=>Je(Ye.get()).fold(()=>He.onEscape(),Xt=>(Pr(gt,YA),H.some(!0)))})]),lazySink:()=>sr.value(He.sink)})})({sink:i,onEscape:()=>(e.focus(),H.some(!0))})),F=()=>{const He=N.get().getOr("node"),Ye=HE(He)?1:0;return GA(e,v,He,Ye)},U=()=>!(e.removed||x()&&g.isContextMenuOpen()),K=()=>{if(U()){const He=F(),Ye=io(N.get(),"node")?((gt,Xt)=>Xt.filter(Wt=>Fs(Wt)&&To(Wt)).map(Ul).getOrThunk(()=>TC(gt)))(e,k.get()):TC(e);return He.height<=0||!FE(Ye,He,.01)}return!0},oe=()=>{k.clear(),O.clear(),N.clear(),ls.hide(L)},ge=()=>{if(ls.isOpen(L)){const He=L.element;Zr(He,"display"),K()?Do(He,"display","none"):(O.set(0),ls.reposition(L))}},pe=He=>({dom:{tag:"div",classes:["tox-pop__dialog"]},components:[He],behaviours:ln([co.config({mode:"acyclic"}),Ko("pop-dialog-wrap-events",[ia(Ye=>{e.shortcuts.add("ctrl+F9","focus statusbar",()=>co.focusIn(Ye))}),pi(Ye=>{e.shortcuts.remove("ctrl+F9")})])])}),we=ws(()=>$0(r,He=>{const Ye=Se([He]);eo(L,KA,{forwardContents:pe(Ye)})})),Se=He=>{const{buttons:Ye}=e.ui.registry.getAll(),gt={...Ye,...we().formNavigators},Xt=Xh(e)===wu.scrolling?wu.scrolling:wu.default,Wt=Be(et(He,Qt=>Qt.type==="contexttoolbar"?((Ln,to)=>H0(e,{buttons:Ln,toolbar:to.items,allowToolbarGroups:!1},c.backstage,H.some(["form:"])))(gt,Qt):((Ln,to)=>OC(Ln,to))(Qt,v.providers)));return R2({type:Xt,uid:Gn("context-toolbar"),initGroups:Wt,onEscape:H.none,cyclicKeying:!0,providers:v.providers})},he=(He,Ye)=>{if(Te.cancel(),!U())return;const gt=Se(He),Xt=He[0].position,Wt=((Ln,to)=>{const Vn=Ln==="node"?v.anchors.node(to):v.anchors.cursor(),fo=((_o,Co,Lr,aa)=>Co==="line"?{bubble:Yf(12,0,Cg),layouts:{onLtr:()=>[tp],onRtl:()=>[ks]},overrides:qA}:{bubble:Yf(0,12,Cg,1/12),layouts:AC(_o,Lr,aa,Co),overrides:qA})(e,Ln,x(),{lastElement:k.get,isReposition:()=>io(O.get(),0),getMode:()=>Ai.getMode(i)});return lr(Vn,fo)})(Xt,Ye);N.set(Xt),O.set(1);const Qt=L.element;Zr(Qt,"display"),(Ln=>io(Zt(Ln,k.get(),Mo),!0))(Ye)||(Ca(Qt,MC),Ai.reset(i,L)),ls.showWithinBounds(L,pe(gt),{anchor:Wt,transition:{classes:[MC],mode:"placement"}},()=>H.some(F())),Ye.fold(k.clear,k.set),K()&&Do(Qt,"display","none")};let Ee=!1;const Te=f2(()=>{!e.hasFocus()||e.removed||Ee||(Ei(L.element,MC)?Te.throttle():((He,Ye)=>{const gt=Pe(Ye.getBody()),Xt=Qt=>Mo(Qt,gt),Wt=Pe(Ye.selection.getNode());return(Qt=>!Xt(Qt)&&!Ne(gt,Qt))(Wt)?H.none():((Qt,Ln,to)=>{const Vn=NC(Qt,Ln);if(Vn.contextForms.length>0)return H.some({elem:Qt,toolbars:[Vn.contextForms[0]]});{const fo=NC(Qt,to);if(fo.contextForms.length>0)return H.some({elem:Qt,toolbars:[fo.contextForms[0]]});if(Vn.contextToolbars.length>0||fo.contextToolbars.length>0){const _o=(Co=>{if(Co.length<=1)return Co;{const Lr=ua=>Sn(Co,da=>da.position===ua),aa=ua=>Ht(Co,da=>da.position===ua),Vo=Lr("selection"),wr=Lr("node");if(Vo||wr){if(wr&&Vo){const ua=aa("node"),da=et(aa("selection"),Tr=>({...Tr,position:"node"}));return ua.concat(da)}return aa(Vo?"selection":"node")}return aa("line")}})(Vn.contextToolbars.concat(fo.contextToolbars));return H.some({elem:Qt,toolbars:_o})}return H.none()}})(Wt,He.inNodeScope,He.inEditorScope).orThunk(()=>((Qt,Ln,to)=>Qt(Ln)?H.none():Mm(Ln,Vn=>{if(Qn(Vn)){const{contextToolbars:fo,contextForms:_o}=NC(Vn,to.inNodeScope),Co=_o.length>0?_o:(Lr=>{if(Lr.length<=1)return Lr;{const aa=Vo=>ze(Lr,wr=>wr.position===Vo);return aa("selection").orThunk(()=>aa("node")).orThunk(()=>aa("line")).map(Vo=>Vo.position).fold(()=>[],Vo=>Ht(Lr,wr=>wr.position===Vo))}})(fo);return Co.length>0?H.some({elem:Vn,toolbars:Co}):H.none()}return H.none()},Qt))(Xt,Wt,He))})(we(),e).fold(oe,He=>{he(He.toolbars,H.some(He.elem))}))},17);e.on("init",()=>{e.on("remove",oe),e.on("ScrollContent ScrollWindow ObjectResized ResizeEditor longpress",ge),e.on("click keyup focus SetContent",Te.throttle),e.on(BE,oe),e.on("contexttoolbar-show",He=>{const Ye=we();Ze(Ye.lookupTable,He.toolbarKey).each(gt=>{he([gt],dr(He.target!==e,He.target)),ls.getContent(L).each(co.focusIn)})}),e.on("focusout",He=>{my.setEditorTimeout(e,()=>{Ec(i.element).isNone()&&Ec(L.element).isNone()&&oe()},0)}),e.on("SwitchMode",()=>{e.mode.isReadOnly()&&oe()}),e.on("AfterProgressState",He=>{He.state?oe():e.hasFocus()&&Te.throttle()}),e.on("dragstart",()=>{Ee=!0}),e.on("dragend drop",()=>{Ee=!1}),e.on("NodeChange",He=>{Ec(L.element).fold(Te.throttle,J)})})},n=(e,r)=>{const i=()=>{const c=r.getOptions(e),g=r.getCurrent(e).map(r.hash),v=ha();return et(c,x=>({type:"togglemenuitem",text:r.display(x),onSetup:k=>{const O=L=>{L&&(v.on(F=>F.setActive(!1)),v.set(k)),k.setActive(L)};O(io(g,r.hash(x)));const N=r.watcher(e,x,O);return()=>{v.clear(),N()}},onAction:()=>r.setCurrent(e,x)}))};e.ui.registry.addMenuButton(r.name,{tooltip:r.text,icon:r.icon,fetch:c=>c(i()),onSetup:r.onToolbarSetup}),e.ui.registry.addNestedMenuItem(r.name,{type:"nestedmenuitem",text:r.text,getSubmenuItems:i,onSetup:r.onMenuSetup})},o=e=>{n(e,(r=>({name:"lineheight",text:"Line height",icon:"line-height",getOptions:gx,hash:i=>((c,g)=>yC(c,["fixed","relative","empty"]).map(({value:v,unit:x})=>v+x))(i).getOr(i),display:Ae,watcher:(i,c,g)=>i.formatter.formatChanged("lineheight",g,!1,{value:c}).unbind,getCurrent:i=>H.from(i.queryCommandValue("LineHeight")),setCurrent:(i,c)=>i.execCommand("LineHeight",!1,c),onToolbarSetup:Cl(r),onMenuSetup:Cl(r)}))(e)),(r=>H.from(hy(r)).map(i=>({name:"language",text:"Language",icon:"language",getOptions:G(i),hash:c=>fe(c.customCode)?c.code:`${c.code}/${c.customCode}`,display:c=>c.title,watcher:(c,g,v)=>{var x;return c.formatter.formatChanged("lang",v,!1,{value:g.code,customValue:(x=g.customCode)!==null&&x!==void 0?x:null}).unbind},getCurrent:c=>{const g=Pe(c.selection.getNode());return Vs(g,v=>H.some(v).filter(Qn).bind(x=>qa(x,"lang").map(k=>({code:k,customCode:qa(x,"data-mce-lang").getOrUndefined(),title:""}))))},setCurrent:(c,g)=>c.execCommand("Lang",!1,g),onToolbarSetup:c=>{const g=Gf();return c.setActive(r.formatter.match("lang",{},void 0,!0)),g.set(r.formatter.formatChanged("lang",c.setActive,!0)),zx(g.clear,Cl(r)(c))},onMenuSetup:Cl(r)})))(e).each(r=>n(e,r))},s=e=>Ap(e,"NodeChange",r=>{r.setEnabled(e.queryCommandState("outdent")&&e.selection.isEditable())}),l=(e,r)=>i=>{i.setActive(r.get());const c=g=>{r.set(g.state),i.setActive(g.state)};return e.on("PastePlainTextToggle",c),zx(()=>e.off("PastePlainTextToggle",c),Cl(e)(i))},d=(e,r)=>()=>{e.execCommand("mceToggleFormat",!1,r)},m=e=>{(r=>{(i=>{gf.each([{name:"bold",text:"Bold",icon:"bold"},{name:"italic",text:"Italic",icon:"italic"},{name:"underline",text:"Underline",icon:"underline"},{name:"strikethrough",text:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",icon:"superscript"}],(c,g)=>{i.ui.registry.addToggleButton(c.name,{tooltip:c.text,icon:c.icon,onSetup:Vx(i,c.name),onAction:d(i,c.name)})});for(let c=1;c<=6;c++){const g="h"+c;i.ui.registry.addToggleButton(g,{text:g.toUpperCase(),tooltip:"Heading "+c,onSetup:Vx(i,g),onAction:d(i,g)})}})(r),(i=>{gf.each([{name:"copy",text:"Copy",action:"Copy",icon:"copy"},{name:"help",text:"Help",action:"mceHelp",icon:"help"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all"},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"print",text:"Print",action:"mcePrint",icon:"print"}],c=>{i.ui.registry.addButton(c.name,{tooltip:c.text,icon:c.icon,onAction:Nc(i,c.action)})}),gf.each([{name:"cut",text:"Cut",action:"Cut",icon:"cut"},{name:"paste",text:"Paste",action:"Paste",icon:"paste"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"remove",text:"Remove",action:"Delete",icon:"remove"},{name:"hr",text:"Horizontal line",action:"InsertHorizontalRule",icon:"horizontal-rule"}],c=>{i.ui.registry.addButton(c.name,{tooltip:c.text,icon:c.icon,onSetup:Cl(i),onAction:Nc(i,c.action)})})})(r),(i=>{gf.each([{name:"blockquote",text:"Blockquote",action:"mceBlockQuote",icon:"quote"}],c=>{i.ui.registry.addToggleButton(c.name,{tooltip:c.text,icon:c.icon,onAction:Nc(i,c.action),onSetup:Vx(i,c.name)})})})(r)})(e),(r=>{gf.each([{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"copy",text:"Copy",action:"Copy",icon:"copy",shortcut:"Meta+C"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A"},{name:"print",text:"Print...",action:"mcePrint",icon:"print",shortcut:"Meta+P"}],i=>{r.ui.registry.addMenuItem(i.name,{text:i.text,icon:i.icon,shortcut:i.shortcut,onAction:Nc(r,i.action)})}),gf.each([{name:"bold",text:"Bold",action:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",action:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",action:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",action:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",action:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",action:"Superscript",icon:"superscript"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"cut",text:"Cut",action:"Cut",icon:"cut",shortcut:"Meta+X"},{name:"paste",text:"Paste",action:"Paste",icon:"paste",shortcut:"Meta+V"},{name:"hr",text:"Horizontal line",action:"InsertHorizontalRule",icon:"horizontal-rule"}],i=>{r.ui.registry.addMenuItem(i.name,{text:i.text,icon:i.icon,shortcut:i.shortcut,onSetup:Cl(r),onAction:Nc(r,i.action)})}),r.ui.registry.addMenuItem("codeformat",{text:"Code",icon:"sourcecode",onSetup:Cl(r),onAction:d(r,"code")})})(e)},f=(e,r)=>Ap(e,"Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",i=>{i.setEnabled(!e.mode.isReadOnly()&&e.undoManager[r]())}),y=e=>Ap(e,"VisualAid",r=>{r.setActive(e.hasVisual)}),_=(e,r)=>{(i=>{_t([{name:"alignleft",text:"Align left",cmd:"JustifyLeft",icon:"align-left"},{name:"aligncenter",text:"Align center",cmd:"JustifyCenter",icon:"align-center"},{name:"alignright",text:"Align right",cmd:"JustifyRight",icon:"align-right"},{name:"alignjustify",text:"Justify",cmd:"JustifyFull",icon:"align-justify"}],c=>{i.ui.registry.addToggleButton(c.name,{tooltip:c.text,icon:c.icon,onAction:Nc(i,c.cmd),onSetup:Vx(i,c.name)})}),i.ui.registry.addButton("alignnone",{tooltip:"No alignment",icon:"align-none",onSetup:Cl(i),onAction:Nc(i,"JustifyNone")})})(e),m(e),((i,c)=>{((g,v)=>{const x=F0(0,v,EE(g));g.ui.registry.addNestedMenuItem("align",{text:v.shared.providers.translate("Align"),onSetup:Cl(g),getSubmenuItems:()=>x.items.validateItems(x.getStyleItems())})})(i,c),((g,v)=>{const x=F0(0,v,OE(g));g.ui.registry.addNestedMenuItem("fontfamily",{text:v.shared.providers.translate("Fonts"),onSetup:Cl(g),getSubmenuItems:()=>x.items.validateItems(x.getStyleItems())})})(i,c),((g,v)=>{const x={type:"advanced",...v.styles},k=F0(0,v,zp(g,x));g.ui.registry.addNestedMenuItem("styles",{text:"Formats",onSetup:Cl(g),getSubmenuItems:()=>k.items.validateItems(k.getStyleItems())})})(i,c),((g,v)=>{const x=F0(0,v,FA(g));g.ui.registry.addNestedMenuItem("blocks",{text:"Blocks",onSetup:Cl(g),getSubmenuItems:()=>x.items.validateItems(x.getStyleItems())})})(i,c),((g,v)=>{const x=F0(0,v,zA(g));g.ui.registry.addNestedMenuItem("fontsize",{text:"Font sizes",onSetup:Cl(g),getSubmenuItems:()=>x.items.validateItems(x.getStyleItems())})})(i,c)})(e,r),(i=>{(c=>{c.ui.registry.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onSetup:f(c,"hasUndo"),onAction:Nc(c,"undo")}),c.ui.registry.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onSetup:f(c,"hasRedo"),onAction:Nc(c,"redo")})})(i),(c=>{c.ui.registry.addButton("undo",{tooltip:"Undo",icon:"undo",enabled:!1,onSetup:f(c,"hasUndo"),onAction:Nc(c,"undo")}),c.ui.registry.addButton("redo",{tooltip:"Redo",icon:"redo",enabled:!1,onSetup:f(c,"hasRedo"),onAction:Nc(c,"redo")})})(i)})(e),(i=>{(k=>{k.addCommand("mceApplyTextcolor",(O,N)=>{((L,F,U)=>{L.undoManager.transact(()=>{L.focus(),L.formatter.apply(F,{value:U}),L.nodeChanged()})})(k,O,N)}),k.addCommand("mceRemoveTextcolor",O=>{((N,L)=>{N.undoManager.transact(()=>{N.focus(),N.formatter.remove(L,{value:null},void 0,!0),N.nodeChanged()})})(k,O)})})(i);const c=nT(i),g=oT(i),v=uo(c),x=uo(g);sT(i,"forecolor","forecolor","Text color",v),sT(i,"backcolor","hilitecolor","Background color",x),iT(i,"forecolor","forecolor","Text color",v),iT(i,"backcolor","hilitecolor","Background color",x)})(e),(i=>{(c=>{c.ui.registry.addButton("visualaid",{tooltip:"Visual aids",text:"Visual aids",onAction:Nc(c,"mceToggleVisualAid")})})(i),(c=>{c.ui.registry.addToggleMenuItem("visualaid",{text:"Visual aids",onSetup:y(c),onAction:Nc(c,"mceToggleVisualAid")})})(i)})(e),(i=>{(c=>{c.ui.registry.addButton("outdent",{tooltip:"Decrease indent",icon:"outdent",onSetup:s(c),onAction:Nc(c,"outdent")}),c.ui.registry.addButton("indent",{tooltip:"Increase indent",icon:"indent",onSetup:Cl(c),onAction:Nc(c,"indent")})})(i)})(e),o(e),(i=>{const c=uo(EO(i)),g=()=>i.execCommand("mceTogglePlainTextPaste");i.ui.registry.addToggleButton("pastetext",{active:!1,icon:"paste-text",tooltip:"Paste as text",onAction:g,onSetup:l(i,c)}),i.ui.registry.addToggleMenuItem("pastetext",{text:"Paste as text",icon:"paste-text",onAction:g,onSetup:l(i,c)})})(e)},E=e=>S(e)?e.split(/[ ,]/):e,T=e=>r=>r.options.get(e),P=T("contextmenu_never_use_native"),V=T("contextmenu_avoid_overlap"),B=e=>{const r=e.ui.registry.getAll().contextMenus,i=e.options.get("contextmenu");return e.options.isSet("contextmenu")?i:Ht(i,c=>Lt(r,c))},Z=(e,r)=>({type:"makeshift",x:e,y:r}),z=e=>e.type==="longpress"||e.type.indexOf("touch")===0,W=(e,r)=>r.type==="contextmenu"||r.type==="longpress"?e.inline?(i=>{if(z(i)){const c=i.touches[0];return Z(c.pageX,c.pageY)}return Z(i.pageX,i.pageY)})(r):((i,c)=>{const g=n0.DOM.getPos(i);return((v,x,k)=>Z(v.x+x,v.y+k))(c,g.x,g.y)})(e.getContentAreaContainer(),(i=>{if(z(i)){const c=i.touches[0];return Z(c.clientX,c.clientY)}return Z(i.clientX,i.clientY)})(r)):te(e),te=e=>({type:"selection",root:Pe(e.selection.getNode())}),se=(e,r,i)=>{switch(i){case"node":return(c=>({type:"node",node:H.some(Pe(c.selection.getNode())),root:Pe(c.getBody())}))(e);case"point":return W(e,r);case"selection":return te(e)}},be=(e,r,i,c,g,v)=>{const x=i(),k=se(e,r,v);y1(x,Qc.CLOSE_ON_EXECUTE,c,{isHorizontalMenu:!1,search:H.none()}).map(O=>{r.preventDefault(),ls.showMenuAt(g,{anchor:k},{menu:{markers:cg("normal")},data:O})})},Ce={onLtr:()=>[$a,ii,li,Oa,ss,Dl,wd,C1,_1,Z_,x1,w1],onRtl:()=>[$a,li,ii,ss,Oa,Dl,wd,C1,x1,w1,_1,Z_]},Ie={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"]},je=(e,r,i,c,g,v)=>{const x=nl(),k=x.os.isiOS(),O=x.os.isMacOS(),N=x.os.isAndroid(),L=x.deviceType.isTouch(),F=()=>{const U=i();((K,oe,ge,pe,we,Se,he)=>{const Ee=((Te,He,Ye)=>{const gt=se(Te,He,Ye);return{bubble:Yf(0,Ye==="point"?12:0,Ie),layouts:Ce,overrides:{maxWidthFunction:cC(),maxHeightFunction:rp()},...gt}})(K,oe,Se);y1(ge,Qc.CLOSE_ON_EXECUTE,pe,{isHorizontalMenu:!0,search:H.none()}).map(Te=>{oe.preventDefault();const He=he?Mi.HighlightMenuAndItem:Mi.HighlightNone;ls.showMenuWithinBounds(we,{anchor:Ee},{menu:{markers:cg("normal"),highlightOnOpen:He},data:Te,type:"horizontal"},()=>H.some(GA(K,pe.shared,Se==="node"?"node":"selection"))),K.dispatch(BE)})})(e,r,U,c,g,v,!(N||k||O&&L))};if((O||k)&&v!=="node"){const U=()=>{(K=>{const oe=K.selection.getRng(),ge=()=>{my.setEditorTimeout(K,()=>{K.selection.setRng(oe)},10),Se()};K.once("touchend",ge);const pe=he=>{he.preventDefault(),he.stopImmediatePropagation()};K.on("mousedown",pe,!0);const we=()=>Se();K.once("longpresscancel",we);const Se=()=>{K.off("touchend",ge),K.off("longpresscancel",we),K.off("mousedown",pe)}})(e),F()};((K,oe)=>{const ge=K.selection;if(ge.isCollapsed()||oe.touches.length<1)return!1;{const pe=oe.touches[0],we=ge.getRng();return Gb(K.getWin(),Ud.domRange(we)).exists(Se=>Se.left<=pe.clientX&&Se.right>=pe.clientX&&Se.top<=pe.clientY&&Se.bottom>=pe.clientY)}})(e,r)?U():(e.once("selectionchange",U),e.once("touchend",()=>e.off("selectionchange",U)))}else F()},st=e=>S(e)?e==="|":e.type==="separator",Nt={type:"separator"},bt=e=>{const r=i=>({text:i.text,icon:i.icon,enabled:i.enabled,shortcut:i.shortcut});if(S(e))return e;switch(e.type){case"separator":return Nt;case"submenu":return{type:"nestedmenuitem",...r(e),getSubmenuItems:()=>{const c=e.getSubmenuItems();return S(c)?c:et(c,bt)}};default:const i=e;return{type:"menuitem",...r(i),onAction:ae(i.onAction)}}},qe=(e,r)=>{if(r.length===0)return e;const i=Je(e).filter(c=>!st(c)).fold(()=>[],c=>[Nt]);return e.concat(i).concat(r).concat([Nt])},tt=(e,r)=>!(i=>i.type==="longpress"||Lt(i,"touches"))(r)&&(r.button!==2||r.target===e.getBody()&&r.pointerType===""),Xe=(e,r)=>tt(e,r)?e.selection.getStart(!0):r.target,ft=(e,r,i)=>{const c=nl().deviceType.isTouch,g=Cs(ls.sketch({dom:{tag:"div"},lazySink:r,onEscape:()=>e.focus(),onShow:()=>i.setContextMenuState(!0),onHide:()=>i.setContextMenuState(!1),fireDismissalEventInstead:{},inlineBehaviours:ln([Ko("dismissContextMenu",[jt(Pm(),(k,O)=>{br.close(k),e.focus()})])])})),v=()=>ls.hide(g),x=k=>{if(P(e)&&k.preventDefault(),((N,L)=>L.ctrlKey&&!P(N))(e,k)||(N=>B(N).length===0)(e))return;const O=((N,L)=>{const F=V(N),U=tt(N,L)?"selection":"point";if(bs(F)){const K=Xe(N,L);return x0(Pe(K),F)?"node":U}return U})(e,k);(c()?je:be)(e,k,()=>{const N=Xe(e,k),L=e.ui.registry.getAll(),F=B(e);return((U,K,oe)=>{const ge=Et(K,(pe,we)=>Ze(U,we.toLowerCase()).map(Se=>{const he=Se.update(oe);if(S(he))return qe(pe,he.split(" "));if(he.length>0){const Ee=et(he,bt);return qe(pe,Ee)}return pe}).getOrThunk(()=>pe.concat([we])),[]);return ge.length>0&&st(ge[ge.length-1])&&ge.pop(),ge})(L.contextMenus,F,N)},i,g,O)};e.on("init",()=>{const k="ResizeEditor ScrollContent ScrollWindow longpresscancel"+(c()?"":" ResizeWindow");e.on(k,v),e.on("longpress contextmenu",x)})},Tn=Uc([{offset:["x","y"]},{absolute:["x","y"]},{fixed:["x","y"]}]),on=e=>r=>r.translate(-e.left,-e.top),lo=e=>r=>r.translate(e.left,e.top),Nn=e=>(r,i)=>Et(e,(c,g)=>g(c),vr(r,i)),Ho=(e,r,i)=>e.fold(Nn([lo(i),on(r)]),Nn([on(r)]),Nn([])),zo=(e,r,i)=>e.fold(Nn([lo(i)]),Nn([]),Nn([lo(r)])),Fn=(e,r,i)=>e.fold(Nn([]),Nn([on(i)]),Nn([lo(r),on(i)])),ro=(e,r,i)=>{const c=e.fold((g,v)=>({position:H.some("absolute"),left:H.some(g+"px"),top:H.some(v+"px")}),(g,v)=>({position:H.some("absolute"),left:H.some(g-i.left+"px"),top:H.some(v-i.top+"px")}),(g,v)=>({position:H.some("fixed"),left:H.some(g+"px"),top:H.some(v+"px")}));return{right:H.none(),bottom:H.none(),...c}},Ao=(e,r,i,c)=>{const g=(v,x)=>(k,O)=>{const N=v(r,i,c);return x(k.getOr(N.left),O.getOr(N.top))};return e.fold(g(Fn,Ge),g(zo,Qe),g(Ho,At))},Ge=Tn.offset,Qe=Tn.absolute,At=Tn.fixed,Kt=(e,r)=>{const i=wa(e,r);return fe(i)?NaN:parseInt(i,10)},Vt=(e,r,i,c,g,v)=>{const x=((N,L,F,U)=>((K,oe)=>{const ge=K.element,pe=Kt(ge,oe.leftAttr),we=Kt(ge,oe.topAttr);return isNaN(pe)||isNaN(we)?H.none():H.some(vr(pe,we))})(N,L).fold(()=>F,K=>At(K.left+U.left,K.top+U.top)))(e,r,i,c),k=r.mustSnap?yn(e,r,x,g,v):ao(e,r,x,g,v),O=Ho(x,g,v);return((N,L,F)=>{const U=N.element;yo(U,L.leftAttr,F.left+"px"),yo(U,L.topAttr,F.top+"px")})(e,r,O),k.fold(()=>({coord:At(O.left,O.top),extra:H.none()}),N=>({coord:N.output,extra:N.extra}))},$t=(e,r,i,c)=>Hn(e,g=>{const v=g.sensor;return((k,O,N,L,F,U)=>{const K=zo(k,F,U),oe=zo(O,F,U);return Math.abs(K.left-oe.left)<=N&&Math.abs(K.top-oe.top)<=L})(r,v,g.range.left,g.range.top,i,c)?H.some({output:Ao(g.output,r,i,c),extra:g.extra}):H.none()}),yn=(e,r,i,c,g)=>{const v=r.getSnapPoints(e);return $t(v,i,c,g).orThunk(()=>Et(v,(k,O)=>{const N=O.sensor,L=((F,U,K,oe,ge,pe)=>{const we=zo(F,ge,pe),Se=zo(U,ge,pe),he=Math.abs(we.left-Se.left),Ee=Math.abs(we.top-Se.top);return vr(he,Ee)})(i,N,O.range.left,O.range.top,c,g);return k.deltas.fold(()=>({deltas:H.some(L),snap:H.some(O)}),F=>(L.left+L.top)/2<=(F.left+F.top)/2?{deltas:H.some(L),snap:H.some(O)}:k)},{deltas:H.none(),snap:H.none()}).snap.map(k=>({output:Ao(k.output,i,c,g),extra:k.extra})))},ao=(e,r,i,c,g)=>{const v=r.getSnapPoints(e);return $t(v,i,c,g)};var Wn=Object.freeze({__proto__:null,snapTo:(e,r,i,c)=>{const g=r.getTarget(e.element);if(r.repositionTarget){const v=$e(e.element),x=ts(v),k=X8(g),O=((L,F,U)=>({coord:Ao(L.output,L.output,F,U),extra:L.extra}))(c,x,k),N=ro(O.coord,0,k);an(g,N)}}});const xo="data-initial-z-index",Io=(e,r)=>{e.getSystem().addToGui(r),(i=>{dn(i.element).filter(Qn).each(c=>{Kr(c,"z-index").each(g=>{yo(c,xo,g)}),Do(c,"z-index",Fa(i.element,"z-index"))})})(r)},jn=e=>{(r=>{dn(r.element).filter(Qn).each(i=>{qa(i,xo).fold(()=>Zr(i,"z-index"),c=>Do(i,"z-index",c)),xa(i,xo)})})(e),e.getSystem().removeFromGui(e)},nr=(e,r,i)=>e.getSystem().build(sm.sketch({dom:{styles:{left:"0px",top:"0px",width:"100%",height:"100%",position:"fixed","z-index":"1000000000000000"},classes:[r]},events:i}));var Ks=ti("snaps",[kt("getSnapPoints"),pr("onSensor"),kt("leftAttr"),kt("topAttr"),ct("lazyViewport",Ya),ct("mustSnap",!1)]);const Za=[ct("useFixed",Ke),kt("blockerClass"),ct("getTarget",Ae),ct("onDrag",J),ct("repositionTarget",!0),ct("onDrop",J),Va("getBounds",Ya),Ks],oc=e=>{return(r=Kr(e,"left"),i=Kr(e,"top"),c=Kr(e,"position"),r.isSome()&&i.isSome()&&c.isSome()?H.some(((g,v,x)=>(x==="fixed"?At:Ge)(parseInt(g,10),parseInt(v,10)))(r.getOrDie(),i.getOrDie(),c.getOrDie())):H.none()).getOrThunk(()=>{const g=za(e);return Qe(g.left,g.top)});var r,i,c},Bl=(e,r)=>({bounds:e.getBounds(),height:dc(r.element),width:el(r.element)}),Ou=(e,r,i,c,g)=>{const v=i.update(c,g),x=i.getStartData().getOrThunk(()=>Bl(r,e));v.each(k=>{((O,N,L,F)=>{const U=N.getTarget(O.element);if(N.repositionTarget){const K=$e(O.element),oe=ts(K),ge=X8(U),pe=oc(U),we=((he,Ee,Te,He,Ye,gt,Xt)=>((Wt,Qt,Ln,to,Vn)=>{const fo=Vn.bounds,_o=zo(Qt,Ln,to),Co=Rl(_o.left,fo.x,fo.x+fo.width-Vn.width),Lr=Rl(_o.top,fo.y,fo.y+fo.height-Vn.height),aa=Qe(Co,Lr);return Qt.fold(()=>{const Vo=Fn(aa,Ln,to);return Ge(Vo.left,Vo.top)},G(aa),()=>{const Vo=Ho(aa,Ln,to);return At(Vo.left,Vo.top)})})(0,Ee.fold(()=>{const Wt=(Qt=Te,Ln=gt.left,to=gt.top,Qt.fold((fo,_o)=>Ge(fo+Ln,_o+to),(fo,_o)=>Qe(fo+Ln,_o+to),(fo,_o)=>At(fo+Ln,_o+to)));var Qt,Ln,to;const Vn=Ho(Wt,He,Ye);return At(Vn.left,Vn.top)},Wt=>{const Qt=Vt(he,Wt,Te,gt,He,Ye);return Qt.extra.each(Ln=>{Wt.onSensor(he,Ln)}),Qt.coord}),He,Ye,Xt))(O,N.snaps,pe,oe,ge,F,L),Se=ro(we,0,ge);an(U,Se)}N.onDrag(O,U,F)})(e,r,x,k)})},Tu=(e,r,i,c)=>{r.each(jn),i.snaps.each(v=>{((x,k)=>{((O,N)=>{const L=O.element;xa(L,N.leftAttr),xa(L,N.topAttr)})(x,k)})(e,v)});const g=i.getTarget(e.element);c.reset(),i.onDrop(e,g)},bi=e=>(r,i)=>{const c=g=>{i.setStartData(Bl(r,g))};return Nr([jt(Wg(),g=>{i.getStartData().each(()=>c(g))}),...e(r,i,c)])};var Dc=Object.freeze({__proto__:null,getData:e=>H.from(vr(e.x,e.y)),getDelta:(e,r)=>vr(r.left-e.left,r.top-e.top)});const fs=(e,r,i)=>[jt(gi(),(c,g)=>{if(g.event.raw.button!==0)return;g.stop();const v=()=>Tu(c,H.some(O),e,r),x=bT(v,200),k={drop:v,delayDrop:x.schedule,forceDrop:v,move:N=>{x.cancel(),Ou(c,e,r,Dc,N)}},O=nr(c,e.blockerClass,(N=>Nr([jt(gi(),N.forceDrop),jt(Lf(),N.drop),jt(qu(),(L,F)=>{N.move(F.event)}),jt(jg(),N.delayDrop)]))(k));i(c),Io(c,O)})],vf=[...Za,Wr("dragger",{handlers:bi(fs)})];var kg=Object.freeze({__proto__:null,getData:e=>{const r=e.raw.touches;return r.length===1?(i=>{const c=i[0];return H.some(vr(c.clientX,c.clientY))})(r):H.none()},getDelta:(e,r)=>vr(r.left-e.left,r.top-e.top)});const H2=(e,r,i)=>{const c=ha(),g=v=>{Tu(v,c.get(),e,r),c.clear()};return[jt(Al(),(v,x)=>{x.stop();const k=()=>g(v),O={drop:k,delayDrop:J,forceDrop:k,move:L=>{Ou(v,e,r,kg,L)}},N=nr(v,e.blockerClass,(L=>Nr([jt(Al(),L.forceDrop),jt(ni(),L.drop),jt(Ug(),L.drop),jt(vc(),(F,U)=>{L.move(U.event)})]))(O));c.set(N),i(v),Io(v,N)}),jt(vc(),(v,x)=>{x.stop(),Ou(v,e,r,kg,x.event)}),jt(ni(),(v,x)=>{x.stop(),g(v)}),jt(Ug(),g)]},bf=vf,z2=[...Za,Wr("dragger",{handlers:bi(H2)})],su=[...Za,Wr("dragger",{handlers:bi((e,r,i)=>[...fs(e,r,i),...H2(e,r,i)])})];var Up=Object.freeze({__proto__:null,mouse:bf,touch:z2,mouseOrTouch:su}),iu=Object.freeze({__proto__:null,init:()=>{let e=H.none(),r=H.none();const i=G({});return il({readState:i,reset:()=>{e=H.none(),r=H.none()},update:(c,g)=>c.getData(g).bind(v=>((x,k)=>{const O=e.map(N=>x.getDelta(N,k));return e=H.some(k),O})(c,v)),getStartData:()=>r,setStartData:c=>{r=H.some(c)}})}});const Au=Rb({branchKey:"mode",branches:Up,name:"dragging",active:{events:(e,r)=>e.dragger.handlers(e,r)},extra:{snap:e=>({sensor:e.sensor,range:e.range,output:e.output,extra:H.from(e.extra)})},state:iu,apis:Wn}),VE=(e,r,i,c,g,v)=>e.fold(()=>Au.snap({sensor:Qe(i-20,c-20),range:vr(g,v),output:Qe(H.some(i),H.some(c)),extra:{td:r}}),x=>{const k=i-20,O=c-20,N=x.element.dom.getBoundingClientRect();return Au.snap({sensor:Qe(k,O),range:vr(40,40),output:Qe(H.some(i-N.width/2),H.some(c-N.height/2)),extra:{td:r}})}),XA=(e,r,i)=>({getSnapPoints:e,leftAttr:"data-drag-left",topAttr:"data-drag-top",onSensor:(c,g)=>{const v=g.td;((x,k)=>x.exists(O=>Mo(O,k)))(r.get(),v)||(r.set(v),i(v))},mustSnap:!0}),T1=e=>Gr(vi.sketch({dom:{tag:"div",classes:["tox-selector"]},buttonBehaviours:ln([Au.config({mode:"mouseOrTouch",blockerClass:"blocker",snaps:e}),C0.config({})]),eventOrder:{mousedown:["dragging","alloy.base.behaviour"],touchstart:["dragging","alloy.base.behaviour"]}})),g7=(e,r)=>{const i=uo([]),c=uo([]),g=uo(!1),v=ha(),x=ha(),k=Se=>{const he=Ul(Se);return VE(F.getOpt(r),Se,he.x,he.y,he.width,he.height)},O=Se=>{const he=Ul(Se);return VE(U.getOpt(r),Se,he.right,he.bottom,he.width,he.height)},N=XA(()=>et(i.get(),Se=>k(Se)),v,Se=>{x.get().each(he=>{e.dispatch("TableSelectorChange",{start:Se,finish:he})})}),L=XA(()=>et(c.get(),Se=>O(Se)),x,Se=>{v.get().each(he=>{e.dispatch("TableSelectorChange",{start:he,finish:Se})})}),F=T1(N),U=T1(L),K=Cs(F.asSpec()),oe=Cs(U.asSpec()),ge=(Se,he,Ee,Te)=>{const He=Ee(he);Au.snapTo(Se,He),((Ye,gt,Xt,Wt)=>{const Qt=gt.dom.getBoundingClientRect();Zr(Ye.element,"display");const Ln=Yt(Pe(e.getBody())).dom.innerHeight,to=Qt[Te]<0,Vn=((fo,_o)=>fo[Te]>_o)(Qt,Ln);(to||Vn)&&Do(Ye.element,"display","none")})(Se,he)},pe=Se=>ge(K,Se,k,"top"),we=Se=>ge(oe,Se,O,"bottom");nl().deviceType.isTouch()&&(e.on("TableSelectionChange",Se=>{g.get()||(Zd(r,K),Zd(r,oe),g.set(!0)),v.set(Se.start),x.set(Se.finish),Se.otherCells.each(he=>{i.set(he.upOrLeftCells),c.set(he.downOrRightCells),pe(Se.start),we(Se.finish)})}),e.on("ResizeEditor ResizeWindow ScrollContent",()=>{v.get().each(pe),x.get().each(we)}),e.on("TableSelectionClear",()=>{g.get()&&(Xl(K),Xl(oe),g.set(!1)),v.clear(),x.clear()}))},JA=(e,r,i)=>{var c;const g=(c=r.delimiter)!==null&&c!==void 0?c:"\u203A";return{dom:{tag:"div",classes:["tox-statusbar__path"],attributes:{role:"navigation"}},behaviours:ln([co.config({mode:"flow",selector:"div[role=button]"}),wo.config({disabled:i.isDisabled}),Gs(),ja.config({}),Po.config({}),Ko("elementPathEvents",[ia((v,x)=>{e.shortcuts.add("alt+F11","focus statusbar elementpath",()=>co.focusIn(v)),e.on("NodeChange",k=>{const O=(L=>{const F=[];let U=L.length;for(;U-- >0;){const oe=L[U];if(oe.nodeType===1&&(K=oe).nodeName!=="BR"&&!K.getAttribute("data-mce-bogus")&&K.getAttribute("data-mce-type")!=="bookmark"){const ge=JO(e,oe);if(ge.isDefaultPrevented()||F.push({name:ge.name,element:oe}),ge.isPropagationStopped())break}}var K;return F})(k.parents),N=O.length>0?Et(O,(L,F,U)=>{const K=((oe,ge,pe)=>vi.sketch({dom:{tag:"div",classes:["tox-statusbar__path-item"],attributes:{"data-index":pe,"aria-level":pe+1}},components:[Ea(oe)],action:we=>{e.focus(),e.selection.select(ge),e.nodeChanged()},buttonBehaviours:ln([a1(i.isDisabled),Gs()])}))(F.name,F.element,U);return U===0?L.concat([K]):L.concat([{dom:{tag:"div",classes:["tox-statusbar__path-divider"],attributes:{"aria-hidden":!0}},components:[Ea(` ${g} `)]},K])},[]):[];Po.set(v,N)})})])]),components:[]}};var yf;(function(e){e[e.None=0]="None",e[e.Both=1]="Both",e[e.Vertical=2]="Vertical"})(yf||(yf={}));const $E=(e,r,i)=>{const c=Pe(e.getContainer()),g=((v,x,k,O,N)=>{const L={height:hf(O+x.top,ox(v),rx(v))};return k===yf.Both&&(L.width=hf(N+x.left,gy(v),py(v))),L})(e,r,i,Ha(c),Yr(c));Xn(g,(v,x)=>{xe(v)&&Do(c,x,IE(v))}),(v=>{v.dispatch("ResizeEditor")})(e)},V2=(e,r,i,c)=>{const g=vr(20*i,20*c);return $E(e,g,r),H.some(!0)},p7=(e,r)=>({dom:{tag:"div",classes:["tox-statusbar"]},components:(()=>{const i=(()=>{const g=[];return SO(e)&&g.push(JA(e,{},r)),e.hasPlugin("wordcount")&&g.push(((v,x)=>{const k=(O,N,L)=>Po.set(O,[Ea(x.translate(["{0} "+L,N[L]]))]);return vi.sketch({dom:{tag:"button",classes:["tox-statusbar__wordcount"]},components:[],buttonBehaviours:ln([a1(x.isDisabled),Gs(),ja.config({}),Po.config({}),gn.config({store:{mode:"memory",initialValue:{mode:"words",count:{words:0,characters:0}}}}),Ko("wordcount-events",[wc(O=>{const N=gn.getValue(O),L=N.mode==="words"?"characters":"words";gn.setValue(O,{mode:L,count:N.count}),k(O,N.count,L)}),ia(O=>{v.on("wordCountUpdate",N=>{const{mode:L}=gn.getValue(O);gn.setValue(O,{mode:L,count:N.wordCount}),k(O,N.wordCount,L)})})])]),eventOrder:{[sl()]:["disabling","alloy.base.behaviour","wordcount-events"]}})})(e,r)),dx(e)&&g.push({dom:{tag:"span",classes:["tox-statusbar__branding"]},components:[{dom:{tag:"a",attributes:{href:"https://www.tiny.cloud/powered-by-tiny?utm_campaign=editor_referral&utm_medium=poweredby&utm_source=tinymce&utm_content=v6",rel:"noopener",target:"_blank","aria-label":Jc.translate(["Powered by {0}","Tiny"])},innerHtml:`<svg width="50px" height="16px" viewBox="0 0 50 16" xmlns="http://www.w3.org/2000/svg">
  <path fill-rule="evenodd" clip-rule="evenodd" d="M10.143 0c2.608.015 5.186 2.178 5.186 5.331 0 0 .077 3.812-.084 4.87-.361 2.41-2.164 4.074-4.65 4.496-1.453.284-2.523.49-3.212.623-.373.071-.634.122-.785.152-.184.038-.997.145-1.35.145-2.732 0-5.21-2.04-5.248-5.33 0 0 0-3.514.03-4.442.093-2.4 1.758-4.342 4.926-4.963 0 0 3.875-.752 4.036-.782.368-.07.775-.1 1.15-.1Zm1.826 2.8L5.83 3.989v2.393l-2.455.475v5.968l6.137-1.189V9.243l2.456-.476V2.8ZM5.83 6.382l3.682-.713v3.574l-3.682.713V6.382Zm27.173-1.64-.084-1.066h-2.226v9.132h2.456V7.743c-.008-1.151.998-2.064 2.149-2.072 1.15-.008 1.987.92 1.995 2.072v5.065h2.455V7.359c-.015-2.18-1.657-3.929-3.837-3.913a3.993 3.993 0 0 0-2.908 1.296Zm-6.3-4.266L29.16 0v2.387l-2.456.475V.476Zm0 3.2v9.132h2.456V3.676h-2.456Zm18.179 11.787L49.11 3.676H46.58l-1.612 4.527-.46 1.382-.384-1.382-1.611-4.527H39.98l3.3 9.132L42.15 16l2.732-.537ZM22.867 9.738c0 .752.568 1.075.921 1.075.353 0 .668-.047.998-.154l.537 1.765c-.23.154-.92.537-2.225.537-1.305 0-2.655-.997-2.686-2.686a136.877 136.877 0 0 1 0-4.374H18.8V3.676h1.612v-1.98l2.455-.476v2.456h2.302V5.9h-2.302v3.837Z"/>
</svg>
`.trim()},behaviours:ln([Oo.config({})])}]}),g.length>0?[{dom:{tag:"div",classes:["tox-statusbar__text-container"]},components:g}]:[]})(),c=((g,v)=>{const x=(O=>{const N=kp(O);return N===!1?yf.None:N==="both"?yf.Both:yf.Vertical})(g);if(x===yf.None)return H.none();const k=x===yf.Both?"Press the arrow keys to resize the editor.":"Press the Up and Down arrow keys to resize the editor.";return H.some(ud("resize-handle",{tag:"div",classes:["tox-statusbar__resize-handle"],attributes:{title:v.translate("Resize"),"aria-label":v.translate(k)},behaviours:[Au.config({mode:"mouse",repositionTarget:!1,onDrag:(O,N,L)=>$E(g,L,x),blockerClass:"tox-blocker"}),co.config({mode:"special",onLeft:()=>V2(g,x,-1,0),onRight:()=>V2(g,x,1,0),onUp:()=>V2(g,x,0,-1),onDown:()=>V2(g,x,0,1)}),ja.config({}),Oo.config({})]},v.icons))})(e,r);return i.concat(c.toArray())})()}),$2=(e,r)=>r.get().getOrDie(`UI for ${e} has not been rendered`),UE=(e,r)=>{const i=e.inline,c=i?EC:f7,g=Cy(e)?iA:q_,v=(()=>{const Ee=ha(),Te=ha(),He=ha();return{dialogUi:Ee,popupUi:Te,mainUi:He,getUiMotherships:()=>{const Ye=Ee.get().map(Xt=>Xt.mothership),gt=Te.get().map(Xt=>Xt.mothership);return Ye.fold(()=>gt.toArray(),Xt=>gt.fold(()=>[Xt],Wt=>Mo(Xt.element,Wt.element)?[Xt]:[Xt,Wt]))},lazyGetInOuterOrDie:(Ye,gt)=>()=>He.get().bind(Xt=>gt(Xt.outerContainer)).getOrDie(`Could not find ${Ye} element in OuterContainer`)}})(),x=ha(),k=ha(),O=ha(),N=nl().deviceType.isTouch()?["tox-platform-touch"]:[],L=xy(e),F=Xh(e),U=Gr({dom:{tag:"div",classes:["tox-anchorbar"]}}),K=()=>v.mainUi.get().map(Ee=>Ee.outerContainer).bind(ra.getHeader),oe=v.lazyGetInOuterOrDie("anchor bar",U.getOpt),ge=v.lazyGetInOuterOrDie("toolbar",ra.getToolbar),pe=v.lazyGetInOuterOrDie("throbber",ra.getThrobber),we=((Ee,Te,He)=>{const Ye=uo(!1),gt=(Co=>{const Lr=uo(xy(Co)?"bottom":"top");return{isPositionedAtTop:()=>Lr.get()==="top",getDockingMode:Lr.get,setDockingMode:Lr.set}})(Te),Xt={icons:()=>Te.ui.registry.getAll().icons,menuItems:()=>Te.ui.registry.getAll().menuItems,translate:Jc.translate,isDisabled:()=>Te.mode.isReadOnly()||!Te.ui.isEnabled(),getOption:Te.options.get},Wt=$3(Te),Qt=(Co=>{const Lr=da=>()=>Co.formatter.match(da),aa=da=>()=>{const Tr=Co.formatter.get(da);return Tr!==void 0?H.some({tag:Tr.length>0&&(Tr[0].inline||Tr[0].block)||"div",styles:Co.dom.parseStyle(Co.formatter.getCssText(da))}):H.none()},Vo=uo([]),wr=uo([]),ua=uo(!1);return Co.on("PreInit",da=>{const Tr=F8(Co),rc=C2(Co,Tr,Lr,aa);Vo.set(rc)}),Co.on("addStyleModifications",da=>{const Tr=C2(Co,da.items,Lr,aa);wr.set(Tr),ua.set(da.replace)}),{getData:()=>{const da=ua.get()?[]:Vo.get(),Tr=wr.get();return da.concat(Tr)}}})(Te),Ln=(Co=>({colorPicker:LM(Co),hasCustomColors:I8(Co),getColors:P8(Co),getColorCols:BM(Co)}))(Te),to=(Co=>({isDraggableModal:w2(Co)}))(Te),Vn={shared:{providers:Xt,anchors:ru(Te,He,gt.isPositionedAtTop),header:gt},urlinput:Wt,styles:Qt,colorinput:Ln,dialog:to,isContextMenuOpen:()=>Ye.get(),setContextMenuState:Co=>Ye.set(Co)},fo={...Vn,shared:{...Vn.shared,interpreter:Co=>h2(Co,{},fo),getSink:Ee.popup}},_o={...Vn,shared:{...Vn.shared,interpreter:Co=>h2(Co,{},_o),getSink:Ee.dialog}};return{popup:fo,dialog:_o}})({popup:()=>sr.fromOption(v.popupUi.get().map(Ee=>Ee.sink),"(popup) UI has not been rendered"),dialog:()=>sr.fromOption(v.dialogUi.get().map(Ee=>Ee.sink),"UI has not been rendered")},e,oe),Se=()=>{const Ee=(()=>{const fo={attributes:{[Ym]:L?ed.BottomToTop:ed.TopToBottom}},_o=ra.parts.menubar({dom:{tag:"div",classes:["tox-menubar"]},backstage:we.popup,onEscape:()=>{e.focus()}}),Co=ra.parts.toolbar({dom:{tag:"div",classes:["tox-toolbar"]},getSink:we.popup.shared.getSink,providers:we.popup.shared.providers,onEscape:()=>{e.focus()},onToolbarToggled:Ns=>{((PC,yi)=>{PC.dispatch("ToggleToolbarDrawer",{state:yi})})(e,Ns)},type:F,lazyToolbar:ge,lazyHeader:()=>K().getOrDie("Could not find header element"),...fo}),Lr=ra.parts["multiple-toolbar"]({dom:{tag:"div",classes:["tox-toolbar-overlord"]},providers:we.popup.shared.providers,onEscape:()=>{e.focus()},type:F}),aa=wy(e),Vo=yy(e),wr=by(e),ua=mx(e),da=ra.parts.promotion({dom:{tag:"div",classes:["tox-promotion"]}}),Tr=aa||Vo||wr,rc=ua?[da,_o]:[_o];return ra.parts.header({dom:{tag:"div",classes:["tox-editor-header"].concat(Tr?[]:["tox-editor-header--empty"]),...fo},components:Be([wr?rc:[],aa?[Lr]:Vo?[Co]:[],Qh(e)?[]:[U.asSpec()]]),sticky:Cy(e),editor:e,sharedBackstage:we.popup.shared})})(),Te={dom:{tag:"div",classes:["tox-sidebar-wrap"]},components:[ra.parts.socket({dom:{tag:"div",classes:["tox-edit-area"]}}),ra.parts.sidebar({dom:{tag:"div",classes:["tox-sidebar"]}})]},He=ra.parts.throbber({dom:{tag:"div",classes:["tox-throbber"]},backstage:we.popup}),Ye=ra.parts.viewWrapper({backstage:we.popup}),gt=A4(e)&&!i?H.some(p7(e,we.popup.shared.providers)):H.none(),Xt=Be([L?[]:[Ee],i?[]:[Te],L?[Ee]:[]]),Wt=ra.parts.editorContainer({components:Be([Xt,i?[]:gt.toArray()])}),Qt=M4(e),Ln={role:"application",...Jc.isRtl()?{dir:"rtl"}:{},...Qt?{"aria-hidden":"true"}:{}},to=Cs(ra.sketch({dom:{tag:"div",classes:["tox","tox-tinymce"].concat(i?["tox-tinymce-inline"]:[]).concat(L?["tox-tinymce--toolbar-bottom"]:[]).concat(N),styles:{visibility:"hidden",...Qt?{opacity:"0",border:"0"}:{}},attributes:Ln},components:[Wt,...i?[]:[Ye],He],behaviours:ln([Gs(),wo.config({disableClass:"tox-tinymce--disabled"}),co.config({mode:"cyclic",selector:".tox-menubar, .tox-toolbar, .tox-toolbar__primary, .tox-toolbar__overflow--open, .tox-sidebar__overflow--open, .tox-statusbar__path, .tox-statusbar__wordcount, .tox-statusbar__branding a, .tox-statusbar__resize-handle"})])})),Vn=VS(to);return x.set(Vn),{mothership:Vn,outerContainer:to}},he=Ee=>{const Te=IE((Ye=>(Xt=>{const Wt=x4(Xt),Qt=ox(Xt),Ln=rx(Xt);return SC(Wt).map(to=>hf(to,Qt,Ln))})(Ye).getOr(x4(Ye)))(e)),He=IE((Ye=>PE(Ye).getOr(r0(Ye)))(e));return e.inline||(wm("div","width",He)&&Do(Ee.element,"width",He),wm("div","height",Te)?Do(Ee.element,"height",Te):Do(Ee.element,"height","400px")),Te};return{popups:{backstage:we.popup,getMothership:()=>$2("popups",O)},dialogs:{backstage:we.dialog,getMothership:()=>$2("dialogs",k)},renderUI:()=>{const Ee=Se(),Te=(()=>{const Ye=_y(e),gt=Mo(Hs(),Ye)&&Fa(Ye,"display")==="grid",Xt={dom:{tag:"div",classes:["tox","tox-silver-sink","tox-tinymce-aux"].concat(N),attributes:{...Jc.isRtl()?{dir:"rtl"}:{}}},behaviours:ln([Ai.config({useFixed:()=>g.isDocked(K)})])},Wt={dom:{styles:{width:document.body.clientWidth+"px"}},events:Nr([jt(zf(),to=>{Do(to.element,"width",document.body.clientWidth+"px")})])},Qt=Cs(lr(Xt,gt?Wt:{})),Ln=VS(Qt);return k.set(Ln),{sink:Qt,mothership:Ln}})(),He=lf(e)?(()=>{const Ye={dom:{tag:"div",classes:["tox","tox-silver-sink","tox-silver-popup-sink","tox-tinymce-aux"].concat(N),attributes:{...Jc.isRtl()?{dir:"rtl"}:{}}},behaviours:ln([Ai.config({useFixed:()=>g.isDocked(K),getBounds:()=>r.getPopupSinkBounds()})])},gt=Cs(Ye),Xt=VS(gt);return O.set(Xt),{sink:gt,mothership:Xt}})():(Ye=>(O.set(Ye.mothership),Ye))(Te);return v.dialogUi.set(Te),v.popupUi.set(He),v.mainUi.set(Ee),(Ye=>{const{mainUi:gt,popupUi:Xt,uiMotherships:Wt}=Ye;so(ix(e),(Vo,wr)=>{e.ui.registry.addGroupToolbarButton(wr,Vo)});const{buttons:Qt,menuItems:Ln,contextToolbars:to,sidebars:Vn,views:fo}=e.ui.registry.getAll(),_o=Jh(e),Co={menuItems:Ln,menus:R4(e),menubar:S4(e),toolbar:_o.getOrThunk(()=>s0(e)),allowToolbarGroups:F===wu.floating,buttons:Qt,sidebar:Vn,views:fo};var Lr;Lr=gt.outerContainer,e.addShortcut("alt+F9","focus menubar",()=>{ra.focusMenubar(Lr)}),e.addShortcut("alt+F10","focus toolbar",()=>{ra.focusToolbar(Lr)}),e.addCommand("ToggleToolbarDrawer",(Vo,wr)=>{wr!=null&&wr.skipFocus?ra.toggleToolbarDrawerWithoutFocusing(Lr):ra.toggleToolbarDrawer(Lr)}),e.addQueryStateHandler("ToggleToolbarDrawer",()=>ra.isToolbarDrawerToggled(Lr)),((Vo,wr,ua)=>{const da=(ba,Ag)=>{_t([wr,...ua],Ru=>{Ru.broadcastEvent(ba,Ag)})},Tr=(ba,Ag)=>{_t([wr,...ua],Ru=>{Ru.broadcastOn([ba],Ag)})},rc=ba=>Tr(Is(),{target:ba.target}),Ns=Em(),PC=Ds(Ns,"touchstart",rc),yi=Ds(Ns,"touchmove",ba=>da(pb(),ba)),W2=Ds(Ns,"touchend",ba=>da(K1(),ba)),GE=Ds(Ns,"mousedown",rc),s6=Ds(Ns,"mouseup",ba=>{ba.raw.button===0&&Tr(Kd(),{target:ba.target})}),Z0=ba=>Tr(Is(),{target:Pe(ba.target)}),qE=ba=>{ba.button===0&&Tr(Kd(),{target:Pe(ba.target)})},N1=()=>{_t(Vo.editorManager.get(),ba=>{Vo!==ba&&ba.dispatch("DismissPopups",{relatedTarget:Vo})})},Zp=ba=>da(Wg(),_w(ba)),LC=ba=>{Tr(Il(),{}),da(zf(),_w(ba))},KE=ka(Pe(Vo.getElement())),W0=Bb(KE,"scroll",ba=>{requestAnimationFrame(()=>{if(Vo.getContainer()!=null){const Ag=w0(Vo,wr.element).map(Ru=>[Ru.element,...Ru.others]).getOr([]);Sn(Ag,Ru=>Mo(Ru,ba.target))&&(Vo.dispatch("ElementScroll",{target:ba.target.dom}),da(pw(),ba))}})}),G2=()=>Tr(Il(),{}),q2=ba=>{ba.state&&Tr(Is(),{target:Pe(Vo.getContainer())})},YE=ba=>{Tr(Is(),{target:Pe(ba.relatedTarget.getContainer())})};Vo.on("PostRender",()=>{Vo.on("click",Z0),Vo.on("tap",Z0),Vo.on("mouseup",qE),Vo.on("mousedown",N1),Vo.on("ScrollWindow",Zp),Vo.on("ResizeWindow",LC),Vo.on("ResizeEditor",G2),Vo.on("AfterProgressState",q2),Vo.on("DismissPopups",YE)}),Vo.on("remove",()=>{Vo.off("click",Z0),Vo.off("tap",Z0),Vo.off("mouseup",qE),Vo.off("mousedown",N1),Vo.off("ScrollWindow",Zp),Vo.off("ResizeWindow",LC),Vo.off("ResizeEditor",G2),Vo.off("AfterProgressState",q2),Vo.off("DismissPopups",YE),GE.unbind(),PC.unbind(),yi.unbind(),W2.unbind(),s6.unbind(),W0.unbind()}),Vo.on("detach",()=>{_t([wr,...ua],Wd),_t([wr,...ua],ba=>ba.destroy())})})(e,gt.mothership,Wt),g.setup(e,we.popup.shared,K),_(e,we.popup),ft(e,we.popup.shared.getSink,we.popup),(Vo=>{const{sidebars:wr}=Vo.ui.registry.getAll();_t(Dn(wr),ua=>{const da=wr[ua],Tr=()=>io(H.from(Vo.queryCommandValue("ToggleSidebar")),ua);Vo.ui.registry.addToggleButton(ua,{icon:da.icon,tooltip:da.tooltip,onAction:rc=>{Vo.execCommand("ToggleSidebar",!1,ua),rc.setActive(Tr())},onSetup:rc=>{rc.setActive(Tr());const Ns=()=>rc.setActive(Tr());return Vo.on("ToggleSidebar",Ns),()=>{Vo.off("ToggleSidebar",Ns)}}})})})(e),hA(e,pe,we.popup.shared),t(e,to,Xt.sink,{backstage:we.popup}),g7(e,Xt.sink);const aa={targetNode:e.getElement(),height:he(gt.outerContainer)};return c.render(e,Ye,Co,we.popup,aa)})({popupUi:He,dialogUi:Te,mainUi:Ee,uiMotherships:v.getUiMotherships()})}}},Sg=G([kt("lazySink"),Vr("dragBlockClass"),Va("getBounds",Ya),ct("useTabstopAt",nn),ct("firstTabstop",0),ct("eventOrder",{}),es("modalBehaviours",[co]),ji("onExecute"),hu("onEscape")]),U0={sketch:Ae},QA=G([Gt({name:"draghandle",overrides:(e,r)=>({behaviours:ln([Au.config({mode:"mouse",getTarget:i=>Sc(i,'[role="dialog"]').getOr(i),blockerClass:e.dragBlockClass.getOrDie(new Error(`The drag blocker class was not specified for a dialog with a drag handle: 
`+JSON.stringify(r,null,2)).message),getBounds:e.getDragBounds})])})}),xt({schema:[kt("dom")],name:"title"}),xt({factory:U0,schema:[kt("dom")],name:"close"}),xt({factory:U0,schema:[kt("dom")],name:"body"}),Gt({factory:U0,schema:[kt("dom")],name:"footer"}),Rt({factory:{sketch:(e,r)=>({...e,dom:r.dom,components:r.components})},schema:[ct("dom",{tag:"div",styles:{position:"fixed",left:"0px",top:"0px",right:"0px",bottom:"0px"}}),ct("components",[])],name:"blocker"})]),Ps=qi({name:"ModalDialog",configFields:Sg(),partFields:QA(),factory:(e,r,i,c)=>{const g=ha(),v=Gn("modal-events"),x={...e.eventOrder,[Gl()]:[v].concat(e.eventOrder["alloy.system.attached"]||[])};return{uid:e.uid,dom:e.dom,components:r,apis:{show:k=>{g.set(k);const O=e.lazySink(k).getOrDie(),N=c.blocker(),L=O.getSystem().build({...N,components:N.components.concat([Kl(k)]),behaviours:ln([Oo.config({}),Ko("dialog-blocker-events",[Lm(Md(),()=>{co.focusIn(k)})])])});Zd(O,L),co.focusIn(k)},hide:k=>{g.clear(),dn(k.element).each(O=>{k.getSystem().getByDom(O).each(N=>{Xl(N)})})},getBody:k=>Pa(k,e,"body"),getFooter:k=>Pa(k,e,"footer"),setIdle:k=>{fm.unblock(k)},setBusy:(k,O)=>{fm.block(k,O)}},eventOrder:x,domModification:{attributes:{role:"dialog","aria-modal":"true"}},behaviours:is(e.modalBehaviours,[Po.config({}),co.config({mode:"cyclic",onEnter:e.onExecute,onEscape:e.onEscape,useTabstopAt:e.useTabstopAt,firstTabstop:e.firstTabstop}),fm.config({getRoot:g.get}),Ko(v,[ia(k=>{((O,N)=>{const L=qa(O,"id").fold(()=>{const F=Gn("dialog-label");return yo(N,"id",F),F},Ae);yo(O,"aria-labelledby",L)})(k.element,Pa(k,e,"title").element)})])])}},apis:{show:(e,r)=>{e.show(r)},hide:(e,r)=>{e.hide(r)},getBody:(e,r)=>e.getBody(r),getFooter:(e,r)=>e.getFooter(r),setBusy:(e,r,i)=>{e.setBusy(r,i)},setIdle:(e,r)=>{e.setIdle(r)}}}),U2=Jt([Ta,G4].concat(Ac)),Eg=Xa,RC=[Ox("button"),xu,Zu("align","end",["start","end"]),Py,_u,Vg("buttonType",["primary","secondary"])],jE=[...RC,dd],DC=[hc("type",["submit","cancel","custom"]),...jE],e6=[hc("type",["menu"]),ug,Dy,xu,ki("items",U2),...RC],h7=[...RC,hc("type",["togglebutton"]),rr("tooltip"),xu,ug,Si("active",!1)],pt=vl("type",{submit:DC,cancel:DC,custom:DC,menu:e6,togglebutton:h7}),Xo=[Ta,dd,hc("level",["info","warn","error","success"]),K4,ct("url","")],ko=Jt(Xo),Aa=[Ta,dd,_u,Ox("button"),xu,jN,Vg("buttonType",["primary","secondary","toolbar"]),Py],ui=Jt(Aa),di=[Ta,G4],La=di.concat([n1]),gm=di.concat([Ry,_u]),Ri=Jt(gm),Di=Xa,A1=La.concat([X4("auto")]),v7=Jt(A1),$D=Go([c0,dd,K4]),kF=La.concat([bl("storageKey","default")]),SF=Jt(kF),EF=gr,OF=Jt(La),TF=gr,AF=di.concat([bl("tag","textarea"),rr("scriptId"),rr("scriptUrl"),rs("settings",void 0,Na)]),NF=di.concat([bl("tag","textarea"),Ol("init")]),MF=Rf(e=>na("customeditor.old",cr(NF),e).orThunk(()=>na("customeditor.new",cr(AF),e))),RF=gr,DF=Jt(La),IF=Bo(mn),PF=e=>[Ta,$c("columns"),e],LF=[Ta,rr("html"),Zu("presets","presentation",["presentation","document"])],BF=Jt(LF),FF=La.concat([Si("sandboxed",!0),Si("transparent",!0)]),HF=Jt(FF),zF=gr,VF=Jt(di.concat([ei("height")])),$F=Jt([rr("url"),ds("zoom"),ds("cachedWidth"),ds("cachedHeight")]),UF=La.concat([ei("inputMode"),ei("placeholder"),Si("maximized",!1),_u]),jF=Jt(UF),ZF=gr,WF=e=>[Ta,Ry,e],GF=[dd,c0],qF=[dd,ki("items",gw(0,()=>UD))],UD=Or([Jt(GF),Jt(qF)]),KF=La.concat([ki("items",UD),_u]),YF=Jt(KF),XF=gr,JF=La.concat([mb("items",[dd,c0]),Df("size",1),_u]),QF=Jt(JF),eH=gr,tH=La.concat([Si("constrain",!0),_u]),nH=Jt(tH),jD=Jt([rr("width"),rr("height")]),oH=di.concat([Ry,Df("min",0),Df("max",0)]),rH=Jt(oH),aH=qo,sH=[Ta,ki("header",gr),ki("cells",Bo(gr))],iH=Jt(sH),lH=La.concat([ei("placeholder"),Si("maximized",!1),_u]),cH=Jt(lH),uH=gr,ZD=[hc("type",["directory","leaf"]),q4,rr("id"),Tl("menu",uA)],WD=Jt(ZD),dH=ZD.concat([ki("children",gw(0,()=>rl("type",{directory:GD,leaf:WD})))]),GD=Jt(dH),mH=rl("type",{directory:GD,leaf:WD}),fH=[Ta,ki("items",mH),uu("onLeafAction"),uu("onToggleExpand"),Am("defaultExpandedIds",[],gr),ei("defaultSelectedId")],gH=Jt(fH),pH=La.concat([Zu("filetype","file",["image","media","file"]),_u]),hH=Jt(pH),vH=Jt([c0,Sx]),b7=e=>Ja("items","items",{tag:"required",process:{}},Bo(Rf(r=>na(`Checking item of ${e}`,y7,r).fold(i=>sr.error(tn(i)),i=>sr.value(i))))),y7=Bn(()=>{return rl("type",{alertbanner:ko,bar:Jt((e=b7("bar"),[Ta,e])),button:ui,checkbox:Ri,colorinput:SF,colorpicker:OF,dropzone:DF,grid:Jt(PF(b7("grid"))),iframe:HF,input:jF,listbox:YF,selectbox:QF,sizeinput:nH,slider:rH,textarea:cH,urlinput:hH,customeditor:MF,htmlpanel:BF,imagepreview:VF,collection:v7,label:Jt(WF(b7("label"))),table:iH,tree:gH,panel:qD});var e}),bH=[Ta,ct("classes",[]),ki("items",y7)],qD=Jt(bH),yH=[Ox("tab"),q4,ki("items",y7)],wH=[Ta,mb("tabs",yH)],xH=Jt(wH),_H=jE,CH=pt,kH=Jt([rr("title"),al("body",rl("type",{panel:qD,tabpanel:xH})),bl("size","normal"),ki("buttons",CH),ct("initialData",{}),Va("onAction",J),Va("onChange",J),Va("onSubmit",J),Va("onClose",J),Va("onCancel",J),Va("onTabChange",J)]),SH=Jt([hc("type",["cancel","custom"]),..._H]),EH=Jt([rr("title"),rr("url"),ds("height"),ds("width"),fb("buttons",SH),Va("onAction",J),Va("onCancel",J),Va("onClose",J),Va("onMessage",J)]),w7=e=>M(e)?[e].concat(ne(Ot(e),w7)):I(e)?ne(e,w7):[],OH=e=>S(e.type)&&S(e.name),TH={checkbox:Di,colorinput:EF,colorpicker:TF,dropzone:IF,input:ZF,iframe:zF,imagepreview:$F,selectbox:eH,sizeinput:jD,slider:aH,listbox:XF,size:jD,textarea:uH,urlinput:vH,customeditor:RF,collection:$D,togglemenuitem:Eg},AH=e=>{const r=(c=>Ht(w7(c),OH))(e),i=ne(r,c=>(g=>H.from(TH[g.type]))(c).fold(()=>[],g=>[al(c.name,g)]));return Jt(i)},KD=e=>{var r;return{internalDialog:pc(na("dialog",kH,e)),dataValidator:AH(e),initialData:(r=e.initialData)!==null&&r!==void 0?r:{}}},ZE={open:(e,r)=>{const i=KD(r);return e(i.internalDialog,i.initialData,i.dataValidator)},openUrl:(e,r)=>e(pc(na("dialog",EH,r))),redial:e=>KD(e)};var NH=Object.freeze({__proto__:null,events:(e,r)=>{const i=(c,g)=>{e.updateState.each(v=>{const x=v(c,g);r.set(x)}),e.renderComponents.each(v=>{const x=v(g,r.get());(e.reuseDom?Kk:mO)(c,x)})};return Nr([jt(Dd(),(c,g)=>{const v=g;if(!v.universal){const x=e.channel;pn(v.channels,x)&&i(c,v.data)}}),ia((c,g)=>{e.initialData.each(v=>{i(c,v)})})])}}),MH=Object.freeze({__proto__:null,getState:(e,r,i)=>i}),RH=[kt("channel"),Vr("renderComponents"),Vr("updateState"),Vr("initialData"),Si("reuseDom",!0)];const _d=js({fields:RH,name:"reflecting",active:NH,apis:MH,state:Object.freeze({__proto__:null,init:()=>{const e=uo(H.none());return{readState:()=>e.get().getOr("none"),get:e.get,set:e.set,clear:()=>e.set(H.none())}}})}),YD=e=>{const r=[],i={};return Xn(e,(c,g)=>{c.fold(()=>{r.push(g)},v=>{i[g]=v})}),r.length>0?sr.error(r):sr.value(i)},DH=(e,r,i)=>{const c=Gr(p1.sketch(v=>({dom:{tag:"div",classes:["tox-form"].concat(e.classes)},components:et(e.items,x=>A8(v,x,r,i))})));return{dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[c.asSpec()]}],behaviours:ln([co.config({mode:"acyclic",useTabstopAt:Ft(v1)}),(g=c,hr.config({find:g.getOpt})),r8(c,{postprocess:v=>YD(v).fold(x=>(console.error(x),{}),Ae)})])};var g},IH=Jl({name:"TabButton",configFields:[ct("uid",void 0),kt("value"),Ja("dom","dom",ce(()=>({attributes:{role:"tab",id:Gn("aria"),"aria-selected":"false"}})),Jn()),Vr("action"),ct("domModification",{}),es("tabButtonBehaviours",[Oo,co,gn]),kt("view")],factory:(e,r)=>({uid:e.uid,dom:e.dom,components:e.components,events:Jd(e.action),behaviours:is(e.tabButtonBehaviours,[Oo.config({}),co.config({mode:"execution",useSpace:!0,useEnter:!0}),gn.config({store:{mode:"memory",initialValue:e.value}})]),domModification:e.domModification})}),PH=G([kt("tabs"),kt("dom"),ct("clickToDismiss",!1),es("tabbarBehaviours",[Fr,co]),pu(["tabClass","selectedClass"])]),LH=Ut({factory:IH,name:"tabs",unit:"tab",overrides:e=>{const r=(c,g)=>{Fr.dehighlight(c,g),eo(c,ch(),{tabbar:c,button:g})},i=(c,g)=>{Fr.highlight(c,g),eo(c,hb(),{tabbar:c,button:g})};return{action:c=>{const g=c.getSystem().getByUid(e.uid).getOrDie(),v=Fr.isHighlighted(g,c);(v&&e.clickToDismiss?r:v?J:i)(g,c)},domModification:{classes:[e.markers.tabClass]}}}}),BH=G([LH]),XD=qi({name:"Tabbar",configFields:PH(),partFields:BH(),factory:(e,r,i,c)=>({uid:e.uid,dom:e.dom,components:r,"debug.sketcher":"Tabbar",domModification:{attributes:{role:"tablist"}},behaviours:is(e.tabbarBehaviours,[Fr.config({highlightClass:e.markers.selectedClass,itemClass:e.markers.tabClass,onHighlight:(g,v)=>{yo(v.element,"aria-selected","true")},onDehighlight:(g,v)=>{yo(v.element,"aria-selected","false")}}),co.config({mode:"flow",getInitial:g=>Fr.getHighlighted(g).map(v=>v.element),selector:"."+e.markers.tabClass,executeOnMove:!0})])})}),FH=Jl({name:"Tabview",configFields:[es("tabviewBehaviours",[Po])],factory:(e,r)=>({uid:e.uid,dom:e.dom,behaviours:is(e.tabviewBehaviours,[Po.config({})]),domModification:{attributes:{role:"tabpanel"}}})}),HH=G([ct("selectFirst",!0),pr("onChangeTab"),pr("onDismissTab"),ct("tabs",[]),es("tabSectionBehaviours",[])]),zH=xt({factory:XD,schema:[kt("dom"),$i("markers",[kt("tabClass"),kt("selectedClass")])],name:"tabbar",defaults:e=>({tabs:e.tabs})}),VH=xt({factory:FH,name:"tabview"}),$H=G([zH,VH]),IC=qi({name:"TabSection",configFields:HH(),partFields:$H(),factory:(e,r,i,c)=>{const g=(v,x)=>{jo(v,e,"tabbar").each(k=>{x(k).each(fu)})};return{uid:e.uid,dom:e.dom,components:r,behaviours:jv(e.tabSectionBehaviours),events:Nr(Be([e.selectFirst?[ia((v,x)=>{g(v,Fr.getFirst)})]:[],[jt(hb(),(v,x)=>{(k=>{const O=gn.getValue(k);jo(k,e,"tabview").each(N=>{ze(e.tabs,L=>L.value===O).each(L=>{const F=L.view();qa(k.element,"id").each(U=>{yo(N.element,"aria-labelledby",U)}),Po.set(N,F),e.onChangeTab(N,k,F)})})})(x.event.button)}),jt(ch(),(v,x)=>{const k=x.event.button;e.onDismissTab(v,k)})]])),apis:{getViewItems:v=>jo(v,e,"tabview").map(x=>Po.contents(x)).getOr([]),showTab:(v,x)=>{g(v,k=>{const O=Fr.getCandidates(k);return ze(O,N=>gn.getValue(N)===x).filter(N=>!Fr.isHighlighted(k,N))})}}}},apis:{getViewItems:(e,r)=>e.getViewItems(r),showTab:(e,r,i)=>{e.showTab(r,i)}}}),JD=(e,r)=>{Do(e,"height",r+"px"),Do(e,"flex-basis",r+"px")},t6=(e,r,i)=>{Sc(e,'[role="dialog"]').each(c=>{as(c,'[role="tablist"]').each(g=>{i.get().map(v=>(Do(r,"height","0"),Do(r,"flex-basis","0"),Math.min(v,((x,k,O)=>{const N=en(x).dom,L=Sc(x,".tox-dialog-wrap").getOr(x);let F;F=Fa(L,"position")==="fixed"?Math.max(N.clientHeight,window.innerHeight):Math.max(N.offsetHeight,N.scrollHeight);const U=Ha(k),K=k.dom.offsetLeft>=O.dom.offsetLeft+Yr(O)?Math.max(Ha(O),U):U,oe=parseInt(Fa(x,"margin-top"),10)||0,ge=parseInt(Fa(x,"margin-bottom"),10)||0;return F-(Ha(x)+oe+ge-K)})(c,r,g)))).each(v=>{JD(r,v)})})})},x7=e=>as(e,'[role="tabpanel"]'),QD="send-data-to-section",eI="send-data-to-view",UH=(e,r,i)=>{const c=uo({}),g=N=>{const L=gn.getValue(N),F=YD(L).getOr({}),U=c.get(),K=lr(U,F);c.set(K)},v=N=>{const L=c.get();gn.setValue(N,L)},x=uo(null),k=et(e.tabs,N=>({value:N.name,dom:{tag:"div",classes:["tox-dialog__body-nav-item"]},components:[Ea(i.shared.providers.translate(N.title))],view:()=>[p1.sketch(L=>({dom:{tag:"div",classes:["tox-form"]},components:et(N.items,F=>A8(L,F,r,i)),formBehaviours:ln([co.config({mode:"acyclic",useTabstopAt:Ft(v1)}),Ko("TabView.form.events",[ia(v),pi(g)]),Oi.config({channels:du([{key:QD,value:{onReceive:g}},{key:eI,value:{onReceive:v}}])})])}))]})),O=(N=>{const L=ha();return{extraEvents:[ia(U=>{const K=U.element;x7(K).each(oe=>{Do(oe,"visibility","hidden"),U.getSystem().getByDom(oe).toOptional().each(ge=>{const pe=((Se,he,Ee)=>et(Se,(Te,He)=>{Po.set(Ee,Se[He].view());const Ye=he.dom.getBoundingClientRect();return Po.set(Ee,[]),Ye.height}))(N,oe,ge);(Se=>hn(Un(Se,(he,Ee)=>he>Ee?-1:he<Ee?1:0)))(pe).fold(L.clear,L.set)}),t6(K,oe,L),Zr(oe,"visibility"),((ge,pe)=>{hn(ge).each(we=>IC.showTab(pe,we.value))})(N,U),requestAnimationFrame(()=>{t6(K,oe,L)})})}),jt(zf(),U=>{const K=U.element;x7(K).each(oe=>{t6(K,oe,L)})}),jt(kT,(U,K)=>{const oe=U.element;x7(oe).each(ge=>{const pe=Qu(ka(ge));Do(ge,"visibility","hidden");const we=Kr(ge,"height").map(he=>parseInt(he,10));Zr(ge,"height"),Zr(ge,"flex-basis");const Se=ge.dom.getBoundingClientRect().height;we.forall(he=>Se>he)?(L.set(Se),t6(oe,ge,L)):we.each(he=>{JD(ge,he)}),Zr(ge,"visibility"),pe.each(wl)})})],selectFirst:!1}})(k);return IC.sketch({dom:{tag:"div",classes:["tox-dialog__body"]},onChangeTab:(N,L,F)=>{const U=gn.getValue(L);eo(N,jS,{name:U,oldName:x.get()}),x.set(U)},tabs:k,components:[IC.parts.tabbar({dom:{tag:"div",classes:["tox-dialog__body-nav"]},components:[XD.parts.tabs({})],markers:{tabClass:"tox-tab",selectedClass:"tox-dialog__body-nav-item--active"},tabbarBehaviours:ln([ja.config({})])}),IC.parts.tabview({dom:{tag:"div",classes:["tox-dialog__body-content"]}})],selectFirst:O.selectFirst,tabSectionBehaviours:ln([Ko("tabpanel",O.extraEvents),co.config({mode:"acyclic"}),hr.config({find:N=>hn(IC.getViewItems(N))}),h1(H.none(),N=>(N.getSystem().broadcastOn([QD],{}),c.get()),(N,L)=>{c.set(L),N.getSystem().broadcastOn([eI],{})})])})},_7=Gn("update-dialog"),tI=Gn("update-title"),nI=Gn("update-body"),oI=Gn("update-footer"),rI=Gn("body-send-message"),aI=(e,r,i,c,g)=>({dom:{tag:"div",classes:["tox-dialog__content-js"],attributes:{...i.map(v=>({id:v})).getOr({}),...g?{"aria-live":"polite"}:{}}},components:[],behaviours:ln([C_(0),_d.config({channel:`${nI}-${r}`,updateState:(v,x)=>H.some({isTabPanel:()=>x.body.type==="tabpanel"}),renderComponents:v=>{const x=v.body;return x.type==="tabpanel"?[UH(x,v.initialData,c)]:[DH(x,v.initialData,c)]},initialData:e})])});function j2(e){return j2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},j2(e)}function C7(e,r){return C7=Object.setPrototypeOf||function(i,c){return i.__proto__=c,i},C7(e,r)}function k7(e,r,i){return k7=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}()?Reflect.construct:function(c,g,v){var x=[null];x.push.apply(x,g);var k=new(Function.bind.apply(c,x));return v&&C7(k,v.prototype),k},k7.apply(null,arguments)}function Og(e){return function(r){if(Array.isArray(r))return S7(r)}(e)||function(r){if(typeof Symbol!="undefined"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}(e)||function(r,i){if(r){if(typeof r=="string")return S7(r,i);var c=Object.prototype.toString.call(r).slice(8,-1);return c==="Object"&&r.constructor&&(c=r.constructor.name),c==="Map"||c==="Set"?Array.from(r):c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c)?S7(r,i):void 0}}(e)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function S7(e,r){(r==null||r>e.length)&&(r=e.length);for(var i=0,c=new Array(r);i<r;i++)c[i]=e[i];return c}var jH=Object.hasOwnProperty,sI=Object.setPrototypeOf,ZH=Object.isFrozen,WH=Object.getPrototypeOf,GH=Object.getOwnPropertyDescriptor,Nu=Object.freeze,jp=Object.seal,qH=Object.create,iI=typeof Reflect!="undefined"&&Reflect,n6=iI.apply,E7=iI.construct;n6||(n6=function(e,r,i){return e.apply(r,i)}),Nu||(Nu=function(e){return e}),jp||(jp=function(e){return e}),E7||(E7=function(e,r){return k7(e,Og(r))});var lI,KH=Tg(Array.prototype.forEach),YH=Tg(Array.prototype.pop),WE=Tg(Array.prototype.push),o6=Tg(String.prototype.toLowerCase),XH=Tg(String.prototype.match),j0=Tg(String.prototype.replace),JH=Tg(String.prototype.indexOf),QH=Tg(String.prototype.trim),Mu=Tg(RegExp.prototype.test),O7=(lI=TypeError,function(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];return E7(lI,r)});function Tg(e){return function(r){for(var i=arguments.length,c=new Array(i>1?i-1:0),g=1;g<i;g++)c[g-1]=arguments[g];return n6(e,r,c)}}function va(e,r){sI&&sI(e,null);for(var i=r.length;i--;){var c=r[i];if(typeof c=="string"){var g=o6(c);g!==c&&(ZH(r)||(r[i]=g),c=g)}e[c]=!0}return e}function Z2(e){var r,i=qH(null);for(r in e)n6(jH,e,[r])&&(i[r]=e[r]);return i}function r6(e,r){for(;e!==null;){var i=GH(e,r);if(i){if(i.get)return Tg(i.get);if(typeof i.value=="function")return Tg(i.value)}e=WH(e)}return function(c){return console.warn("fallback value for",c),null}}var cI=Nu(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),T7=Nu(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),A7=Nu(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),ez=Nu(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),N7=Nu(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),tz=Nu(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),uI=Nu(["#text"]),dI=Nu(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),M7=Nu(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),mI=Nu(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),a6=Nu(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),nz=jp(/\{\{[\w\W]*|[\w\W]*\}\}/gm),oz=jp(/<%[\w\W]*|[\w\W]*%>/gm),rz=jp(/^data-[\-\w.\u00B7-\uFFFF]/),az=jp(/^aria-[\-\w]+$/),sz=jp(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),iz=jp(/^(?:\w+script|data):/i),lz=jp(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),cz=jp(/^html$/i),uz=function(){return typeof window=="undefined"?null:window},dz=function e(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:uz(),i=function(ht){return e(ht)};if(i.version="2.3.8",i.removed=[],!r||!r.document||r.document.nodeType!==9)return i.isSupported=!1,i;var c=r.document,g=r.document,v=r.DocumentFragment,x=r.HTMLTemplateElement,k=r.Node,O=r.Element,N=r.NodeFilter,L=r.NamedNodeMap,F=L===void 0?r.NamedNodeMap||r.MozNamedAttrMap:L,U=r.HTMLFormElement,K=r.DOMParser,oe=r.trustedTypes,ge=O.prototype,pe=r6(ge,"cloneNode"),we=r6(ge,"nextSibling"),Se=r6(ge,"childNodes"),he=r6(ge,"parentNode");if(typeof x=="function"){var Ee=g.createElement("template");Ee.content&&Ee.content.ownerDocument&&(g=Ee.content.ownerDocument)}var Te=function(ht,or){if(j2(ht)!=="object"||typeof ht.createPolicy!="function")return null;var No=null,Ba="data-tt-policy-suffix";or.currentScript&&or.currentScript.hasAttribute(Ba)&&(No=or.currentScript.getAttribute(Ba));var Ii="dompurify"+(No?"#"+No:"");try{return ht.createPolicy(Ii,{createHTML:function(ac){return ac}})}catch{return console.warn("TrustedTypes policy "+Ii+" could not be created."),null}}(oe,c),He=Te?Te.createHTML(""):"",Ye=g,gt=Ye.implementation,Xt=Ye.createNodeIterator,Wt=Ye.createDocumentFragment,Qt=Ye.getElementsByTagName,Ln=c.importNode,to={};try{to=Z2(g).documentMode?g.documentMode:{}}catch{}var Vn={};i.isSupported=typeof he=="function"&&gt&&gt.createHTMLDocument!==void 0&&to!==9;var fo,_o,Co=nz,Lr=oz,aa=rz,Vo=az,wr=iz,ua=lz,da=sz,Tr=null,rc=va({},[].concat(Og(cI),Og(T7),Og(A7),Og(N7),Og(uI))),Ns=null,PC=va({},[].concat(Og(dI),Og(M7),Og(mI),Og(a6))),yi=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),W2=null,GE=null,s6=!0,Z0=!0,qE=!1,N1=!1,Zp=!1,LC=!1,KE=!1,W0=!1,G2=!1,q2=!1,YE=!0,ba=!0,Ag=!1,Ru={},BC=null,II=va({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),PI=null,LI=va({},["audio","video","img","source","image","track"]),P7=null,BI=va({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),L7="http://www.w3.org/1998/Math/MathML",B7="http://www.w3.org/2000/svg",G0="http://www.w3.org/1999/xhtml",i6=G0,FI=!1,yz=["application/xhtml+xml","text/html"],FC=null,wz=g.createElement("form"),HI=function(ht){return ht instanceof RegExp||ht instanceof Function},F7=function(ht){FC&&FC===ht||(ht&&j2(ht)==="object"||(ht={}),ht=Z2(ht),Tr="ALLOWED_TAGS"in ht?va({},ht.ALLOWED_TAGS):rc,Ns="ALLOWED_ATTR"in ht?va({},ht.ALLOWED_ATTR):PC,P7="ADD_URI_SAFE_ATTR"in ht?va(Z2(BI),ht.ADD_URI_SAFE_ATTR):BI,PI="ADD_DATA_URI_TAGS"in ht?va(Z2(LI),ht.ADD_DATA_URI_TAGS):LI,BC="FORBID_CONTENTS"in ht?va({},ht.FORBID_CONTENTS):II,W2="FORBID_TAGS"in ht?va({},ht.FORBID_TAGS):{},GE="FORBID_ATTR"in ht?va({},ht.FORBID_ATTR):{},Ru="USE_PROFILES"in ht&&ht.USE_PROFILES,s6=ht.ALLOW_ARIA_ATTR!==!1,Z0=ht.ALLOW_DATA_ATTR!==!1,qE=ht.ALLOW_UNKNOWN_PROTOCOLS||!1,N1=ht.SAFE_FOR_TEMPLATES||!1,Zp=ht.WHOLE_DOCUMENT||!1,W0=ht.RETURN_DOM||!1,G2=ht.RETURN_DOM_FRAGMENT||!1,q2=ht.RETURN_TRUSTED_TYPE||!1,KE=ht.FORCE_BODY||!1,YE=ht.SANITIZE_DOM!==!1,ba=ht.KEEP_CONTENT!==!1,Ag=ht.IN_PLACE||!1,da=ht.ALLOWED_URI_REGEXP||da,i6=ht.NAMESPACE||G0,ht.CUSTOM_ELEMENT_HANDLING&&HI(ht.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(yi.tagNameCheck=ht.CUSTOM_ELEMENT_HANDLING.tagNameCheck),ht.CUSTOM_ELEMENT_HANDLING&&HI(ht.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(yi.attributeNameCheck=ht.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),ht.CUSTOM_ELEMENT_HANDLING&&typeof ht.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(yi.allowCustomizedBuiltInElements=ht.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),fo=fo=yz.indexOf(ht.PARSER_MEDIA_TYPE)===-1?"text/html":ht.PARSER_MEDIA_TYPE,_o=fo==="application/xhtml+xml"?function(or){return or}:o6,N1&&(Z0=!1),G2&&(W0=!0),Ru&&(Tr=va({},Og(uI)),Ns=[],Ru.html===!0&&(va(Tr,cI),va(Ns,dI)),Ru.svg===!0&&(va(Tr,T7),va(Ns,M7),va(Ns,a6)),Ru.svgFilters===!0&&(va(Tr,A7),va(Ns,M7),va(Ns,a6)),Ru.mathMl===!0&&(va(Tr,N7),va(Ns,mI),va(Ns,a6))),ht.ADD_TAGS&&(Tr===rc&&(Tr=Z2(Tr)),va(Tr,ht.ADD_TAGS)),ht.ADD_ATTR&&(Ns===PC&&(Ns=Z2(Ns)),va(Ns,ht.ADD_ATTR)),ht.ADD_URI_SAFE_ATTR&&va(P7,ht.ADD_URI_SAFE_ATTR),ht.FORBID_CONTENTS&&(BC===II&&(BC=Z2(BC)),va(BC,ht.FORBID_CONTENTS)),ba&&(Tr["#text"]=!0),Zp&&va(Tr,["html","head","body"]),Tr.table&&(va(Tr,["tbody"]),delete W2.tbody),Nu&&Nu(ht),FC=ht)},zI=va({},["mi","mo","mn","ms","mtext"]),VI=va({},["foreignobject","desc","title","annotation-xml"]),xz=va({},["title","style","font","a","script"]),l6=va({},T7);va(l6,A7),va(l6,ez);var H7=va({},N7);va(H7,tz);var M1=function(ht){WE(i.removed,{element:ht});try{ht.parentNode.removeChild(ht)}catch{try{ht.outerHTML=He}catch{ht.remove()}}},c6=function(ht,or){try{WE(i.removed,{attribute:or.getAttributeNode(ht),from:or})}catch{WE(i.removed,{attribute:null,from:or})}if(or.removeAttribute(ht),ht==="is"&&!Ns[ht])if(W0||G2)try{M1(or)}catch{}else try{or.setAttribute(ht,"")}catch{}},$I=function(ht){var or,No;if(KE)ht="<remove></remove>"+ht;else{var Ba=XH(ht,/^[\r\n\t ]+/);No=Ba&&Ba[0]}fo==="application/xhtml+xml"&&(ht='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+ht+"</body></html>");var Ii=Te?Te.createHTML(ht):ht;if(i6===G0)try{or=new K().parseFromString(Ii,fo)}catch{}if(!or||!or.documentElement){or=gt.createDocument(i6,"template",null);try{or.documentElement.innerHTML=FI?"":Ii}catch{}}var ac=or.body||or.documentElement;return ht&&No&&ac.insertBefore(g.createTextNode(No),ac.childNodes[0]||null),i6===G0?Qt.call(or,Zp?"html":"body")[0]:Zp?or.documentElement:ac},UI=function(ht){return Xt.call(ht.ownerDocument||ht,ht,N.SHOW_ELEMENT|N.SHOW_COMMENT|N.SHOW_TEXT,null,!1)},XE=function(ht){return j2(k)==="object"?ht instanceof k:ht&&j2(ht)==="object"&&typeof ht.nodeType=="number"&&typeof ht.nodeName=="string"},R1=function(ht,or,No){Vn[ht]&&KH(Vn[ht],function(Ba){Ba.call(i,or,No,FC)})},jI=function(ht){var or,No;if(R1("beforeSanitizeElements",ht,null),(No=ht)instanceof U&&(typeof No.nodeName!="string"||typeof No.textContent!="string"||typeof No.removeChild!="function"||!(No.attributes instanceof F)||typeof No.removeAttribute!="function"||typeof No.setAttribute!="function"||typeof No.namespaceURI!="string"||typeof No.insertBefore!="function")||Mu(/[\u0080-\uFFFF]/,ht.nodeName))return M1(ht),!0;var Ba=_o(ht.nodeName);if(R1("uponSanitizeElement",ht,{tagName:Ba,allowedTags:Tr}),ht.hasChildNodes()&&!XE(ht.firstElementChild)&&(!XE(ht.content)||!XE(ht.content.firstElementChild))&&Mu(/<[/\w]/g,ht.innerHTML)&&Mu(/<[/\w]/g,ht.textContent)||Ba==="select"&&Mu(/<template/i,ht.innerHTML))return M1(ht),!0;if(!Tr[Ba]||W2[Ba]){if(!W2[Ba]&&WI(Ba)&&(yi.tagNameCheck instanceof RegExp&&Mu(yi.tagNameCheck,Ba)||yi.tagNameCheck instanceof Function&&yi.tagNameCheck(Ba)))return!1;if(ba&&!BC[Ba]){var Ii=he(ht)||ht.parentNode,ac=Se(ht)||ht.childNodes;if(ac&&Ii)for(var ul=ac.length-1;ul>=0;--ul)Ii.insertBefore(pe(ac[ul],!0),we(ht))}return M1(ht),!0}return ht instanceof O&&!function(Ng){var dl=he(Ng);dl&&dl.tagName||(dl={namespaceURI:G0,tagName:"template"});var ml=o6(Ng.tagName),K2=o6(dl.tagName);return Ng.namespaceURI===B7?dl.namespaceURI===G0?ml==="svg":dl.namespaceURI===L7?ml==="svg"&&(K2==="annotation-xml"||zI[K2]):Boolean(l6[ml]):Ng.namespaceURI===L7?dl.namespaceURI===G0?ml==="math":dl.namespaceURI===B7?ml==="math"&&VI[K2]:Boolean(H7[ml]):Ng.namespaceURI===G0&&!(dl.namespaceURI===B7&&!VI[K2])&&!(dl.namespaceURI===L7&&!zI[K2])&&!H7[ml]&&(xz[ml]||!l6[ml])}(ht)?(M1(ht),!0):Ba!=="noscript"&&Ba!=="noembed"||!Mu(/<\/no(script|embed)/i,ht.innerHTML)?(N1&&ht.nodeType===3&&(or=ht.textContent,or=j0(or,Co," "),or=j0(or,Lr," "),ht.textContent!==or&&(WE(i.removed,{element:ht.cloneNode()}),ht.textContent=or)),R1("afterSanitizeElements",ht,null),!1):(M1(ht),!0)},ZI=function(ht,or,No){if(YE&&(or==="id"||or==="name")&&(No in g||No in wz))return!1;if(!(Z0&&!GE[or]&&Mu(aa,or))){if(!(s6&&Mu(Vo,or))){if(!Ns[or]||GE[or]){if(!(WI(ht)&&(yi.tagNameCheck instanceof RegExp&&Mu(yi.tagNameCheck,ht)||yi.tagNameCheck instanceof Function&&yi.tagNameCheck(ht))&&(yi.attributeNameCheck instanceof RegExp&&Mu(yi.attributeNameCheck,or)||yi.attributeNameCheck instanceof Function&&yi.attributeNameCheck(or))||or==="is"&&yi.allowCustomizedBuiltInElements&&(yi.tagNameCheck instanceof RegExp&&Mu(yi.tagNameCheck,No)||yi.tagNameCheck instanceof Function&&yi.tagNameCheck(No))))return!1}else if(!P7[or]){if(!Mu(da,j0(No,ua,""))){if((or!=="src"&&or!=="xlink:href"&&or!=="href"||ht==="script"||JH(No,"data:")!==0||!PI[ht])&&!(qE&&!Mu(wr,j0(No,ua,"")))){if(No)return!1}}}}}return!0},WI=function(ht){return ht.indexOf("-")>0},GI=function(ht){var or,No,Ba,Ii;R1("beforeSanitizeAttributes",ht,null);var ac=ht.attributes;if(ac){var ul={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Ns};for(Ii=ac.length;Ii--;){var Ng=or=ac[Ii],dl=Ng.name,ml=Ng.namespaceURI;No=dl==="value"?or.value:QH(or.value),Ba=_o(dl);var K2=No;if(ul.attrName=Ba,ul.attrValue=No,ul.keepAttr=!0,ul.forceKeepAttr=void 0,R1("uponSanitizeAttribute",ht,ul),No=ul.attrValue,!ul.forceKeepAttr)if(ul.keepAttr)if(Mu(/\/>/i,No))c6(dl,ht);else{N1&&(No=j0(No,Co," "),No=j0(No,Lr," "));var Cz=_o(ht.nodeName);if(ZI(Cz,Ba,No)){if(No!==K2)try{ml?ht.setAttributeNS(ml,dl,No):ht.setAttribute(dl,No)}catch{c6(dl,ht)}}else c6(dl,ht)}else c6(dl,ht)}R1("afterSanitizeAttributes",ht,null)}},_z=function ht(or){var No,Ba=UI(or);for(R1("beforeSanitizeShadowDOM",or,null);No=Ba.nextNode();)R1("uponSanitizeShadowNode",No,null),jI(No)||(No.content instanceof v&&ht(No.content),GI(No));R1("afterSanitizeShadowDOM",or,null)};return i.sanitize=function(ht,or){var No,Ba,Ii,ac,ul;if((FI=!ht)&&(ht="<!-->"),typeof ht!="string"&&!XE(ht)){if(typeof ht.toString!="function")throw O7("toString is not a function");if(typeof(ht=ht.toString())!="string")throw O7("dirty is not a string, aborting")}if(!i.isSupported){if(j2(r.toStaticHTML)==="object"||typeof r.toStaticHTML=="function"){if(typeof ht=="string")return r.toStaticHTML(ht);if(XE(ht))return r.toStaticHTML(ht.outerHTML)}return ht}if(LC||F7(or),i.removed=[],typeof ht=="string"&&(Ag=!1),Ag){if(ht.nodeName){var Ng=_o(ht.nodeName);if(!Tr[Ng]||W2[Ng])throw O7("root node is forbidden and cannot be sanitized in-place")}}else if(ht instanceof k)(Ba=(No=$I("<!---->")).ownerDocument.importNode(ht,!0)).nodeType===1&&Ba.nodeName==="BODY"||Ba.nodeName==="HTML"?No=Ba:No.appendChild(Ba);else{if(!W0&&!N1&&!Zp&&ht.indexOf("<")===-1)return Te&&q2?Te.createHTML(ht):ht;if(!(No=$I(ht)))return W0?null:q2?He:""}No&&KE&&M1(No.firstChild);for(var dl=UI(Ag?ht:No);Ii=dl.nextNode();)Ii.nodeType===3&&Ii===ac||jI(Ii)||(Ii.content instanceof v&&_z(Ii.content),GI(Ii),ac=Ii);if(ac=null,Ag)return ht;if(W0){if(G2)for(ul=Wt.call(No.ownerDocument);No.firstChild;)ul.appendChild(No.firstChild);else ul=No;return Ns.shadowroot&&(ul=Ln.call(c,ul,!0)),ul}var ml=Zp?No.outerHTML:No.innerHTML;return Zp&&Tr["!doctype"]&&No.ownerDocument&&No.ownerDocument.doctype&&No.ownerDocument.doctype.name&&Mu(cz,No.ownerDocument.doctype.name)&&(ml="<!DOCTYPE "+No.ownerDocument.doctype.name+`>
`+ml),N1&&(ml=j0(ml,Co," "),ml=j0(ml,Lr," ")),Te&&q2?Te.createHTML(ml):ml},i.setConfig=function(ht){F7(ht),LC=!0},i.clearConfig=function(){FC=null,LC=!1},i.isValidAttribute=function(ht,or,No){FC||F7({});var Ba=_o(ht),Ii=_o(or);return ZI(Ba,Ii,No)},i.addHook=function(ht,or){typeof or=="function"&&(Vn[ht]=Vn[ht]||[],WE(Vn[ht],or))},i.removeHook=function(ht){if(Vn[ht])return YH(Vn[ht])},i.removeHooks=function(ht){Vn[ht]&&(Vn[ht]=[])},i.removeAllHooks=function(){Vn={}},i}();const mz=e=>dz().sanitize(e),fz=_l.deviceType.isTouch(),fI=(e,r)=>({dom:{tag:"div",styles:{display:"none"},classes:["tox-dialog__header"]},components:[e,r]}),gI=(e,r)=>Ps.parts.close(vi.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":r.translate("Close")}},action:e,buttonBehaviours:ln([ja.config({})])})),pI=()=>Ps.parts.title({dom:{tag:"div",classes:["tox-dialog__title"],innerHtml:"",styles:{display:"none"}}}),hI=(e,r)=>Ps.parts.body({dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[{dom:xg(`<p>${mz(r.translate(e))}</p>`)}]}]}),vI=e=>Ps.parts.footer({dom:{tag:"div",classes:["tox-dialog__footer"]},components:e}),bI=(e,r)=>[sm.sketch({dom:{tag:"div",classes:["tox-dialog__footer-start"]},components:e}),sm.sketch({dom:{tag:"div",classes:["tox-dialog__footer-end"]},components:r})],R7=e=>{const r="tox-dialog",i=r+"-wrap",c=i+"__backdrop",g=r+"__disable-scroll";return Ps.sketch({lazySink:e.lazySink,onEscape:v=>(e.onEscape(v),H.some(!0)),useTabstopAt:v=>!v1(v),firstTabstop:e.firstTabstop,dom:{tag:"div",classes:[r].concat(e.extraClasses),styles:{position:"relative",...e.extraStyles}},components:[e.header,e.body,...e.footer.toArray()],parts:{blocker:{dom:xg(`<div class="${i}"></div>`),components:[{dom:{tag:"div",classes:fz?[c,c+"--opaque"]:[c]}}]}},dragBlockClass:i,modalBehaviours:ln([Oo.config({}),Ko("dialog-events",e.dialogEvents.concat([Lm(Md(),(v,x)=>{co.focusIn(v)})])),Ko("scroll-lock",[ia(()=>{_a(Hs(),g)}),pi(()=>{Ca(Hs(),g)})]),...e.extraBehaviours]),eventOrder:{[sl()]:["dialog-events"],[Gl()]:["scroll-lock","dialog-events","alloy.base.behaviour"],[Vf()]:["alloy.base.behaviour","dialog-events","scroll-lock"],...e.eventOrder}})},yI=e=>vi.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":e.translate("Close"),title:e.translate("Close")}},buttonBehaviours:ln([ja.config({})]),components:[ud("close",{tag:"span",classes:["tox-icon"]},e.icons)],action:r=>{Pr(r,fg)}}),wI=(e,r,i,c)=>({dom:{tag:"div",classes:["tox-dialog__title"],attributes:{...i.map(g=>({id:g})).getOr({})}},components:[],behaviours:ln([_d.config({channel:`${tI}-${r}`,initialData:e,renderComponents:g=>[Ea(c.translate(g.title))]})])}),xI=()=>({dom:xg('<div class="tox-dialog__draghandle"></div>')}),_I=(e,r,i)=>((c,g,v)=>{const x=Ps.parts.title(wI(c,g,H.none(),v)),k=Ps.parts.draghandle(xI()),O=Ps.parts.close(yI(v)),N=[x].concat(c.draggable?[k]:[]).concat([O]);return sm.sketch({dom:xg('<div class="tox-dialog__header"></div>'),components:N})})({title:i.shared.providers.translate(e),draggable:i.dialog.isDraggableModal()},r,i.shared.providers),CI=(e,r,i)=>({dom:{tag:"div",classes:["tox-dialog__busy-spinner"],attributes:{"aria-label":i.translate(e)},styles:{left:"0px",right:"0px",bottom:"0px",top:"0px",position:"absolute"}},behaviours:r,components:[{dom:xg('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}),kI=(e,r,i)=>({onClose:()=>i.closeWindow(),onBlock:c=>{Ps.setBusy(e(),(g,v)=>CI(c.message,v,r))},onUnblock:()=>{Ps.setIdle(e())}}),SI=(e,r,i,c)=>Cs(R7({...e,firstTabstop:1,lazySink:c.shared.getSink,extraBehaviours:[_d.config({channel:`${_7}-${e.id}`,updateState:(g,v)=>H.some(v),initialData:r}),Yo({}),...e.extraBehaviours],onEscape:g=>{Pr(g,fg)},dialogEvents:i,eventOrder:{[Dd()]:[_d.name(),Oi.name()],[Gl()]:["scroll-lock",_d.name(),"messages","dialog-events","alloy.base.behaviour"],[Vf()]:["alloy.base.behaviour","dialog-events","messages",_d.name(),"scroll-lock"]}})),D7=(e,r={})=>et(e,i=>i.type==="menu"?(c=>{const g=et(c.items,v=>{const x=Ze(r,v.name).getOr(uo(!1));return{...v,storage:x}});return{...c,items:g}})(i):i),EI=e=>Et(e,(r,i)=>i.type==="menu"?Et(i.items,(c,g)=>(c[g.name]=g.storage,c),r):r,{}),OI=(e,r)=>[Q1(Md(),i8),e(_0,(i,c,g,v)=>{Qu(ka(v.element)).fold(J,Eh),r.onClose(),c.onClose()}),e(fg,(i,c,g,v)=>{c.onCancel(i),Pr(v,_0)}),jt(o_,(i,c)=>r.onUnblock()),jt(Rc,(i,c)=>r.onBlock(c.event))],TI=(e,r,i)=>{const c=(v,x)=>jt(v,(k,O)=>{g(k,(N,L)=>{x(e(),N,O.event,k)})}),g=(v,x)=>{_d.getState(v).get().each(k=>{x(k.internalDialog,v)})};return[...OI(c,r),c(c1,(v,x)=>x.onSubmit(v)),c(Mc,(v,x,k)=>{x.onChange(v,{name:k.name})}),c(pd,(v,x,k,O)=>{const N=()=>co.focusIn(O),L=K=>lu(K,"disabled")||qa(K,"aria-disabled").exists(oe=>oe==="true"),F=ka(O.element),U=Qu(F);x.onAction(v,{name:k.name,value:k.value}),Qu(F).fold(N,K=>{L(K)||U.exists(oe=>Ne(K,oe)&&L(oe))?N():i().toOptional().filter(oe=>!Ne(oe.element,K)).each(N)})}),c(jS,(v,x,k)=>{x.onTabChange(v,{newTabName:k.name,oldTabName:k.oldName})}),pi(v=>{const x=e();gn.setValue(v,x.getData())})]},gz=(e,r)=>{const i=r.map(v=>v.footerButtons).getOr([]),c=Sr(i,v=>v.align==="start"),g=(v,x)=>sm.sketch({dom:{tag:"div",classes:[`tox-dialog__footer-${v}`]},components:et(x,k=>k.memento.asSpec())});return[g("start",c.pass),g("end",c.fail)]},AI=(e,r,i)=>({dom:xg('<div class="tox-dialog__footer"></div>'),components:[],behaviours:ln([_d.config({channel:`${oI}-${r}`,initialData:e,updateState:(c,g)=>{const v=et(g.buttons,x=>{const k=Gr(((O,N)=>z_(O,O.type,N))(x,i));return{name:x.name,align:x.align,memento:k}});return H.some({lookupByName:x=>((k,O,N)=>ze(O,L=>L.name===N).bind(L=>L.memento.getOpt(k)))(c,v,x),footerButtons:v})},renderComponents:gz})])}),NI=(e,r,i)=>Ps.parts.footer(AI(e,r,i)),MI=(e,r)=>{if(e.getRoot().getSystem().isConnected()){const i=hr.getCurrent(e.getFormWrapper()).getOr(e.getFormWrapper());return p1.getField(i,r).orThunk(()=>{const c=e.getFooter();return _d.getState(c).get().bind(g=>g.lookupByName(r))})}return H.none()},RI=(e,r,i)=>{const c=v=>{const x=e.getRoot();x.getSystem().isConnected()&&v(x)},g={getData:()=>{const v=e.getRoot(),x=v.getSystem().isConnected()?e.getFormWrapper():v;return{...gn.getValue(x),...so(i,k=>k.get())}},setData:v=>{c(x=>{const k=g.getData(),O=lr(k,v),N=((F,U)=>{const K=F.getRoot();return _d.getState(K).get().map(oe=>pc(na("data",oe.dataValidator,U))).getOr(U)})(e,O),L=e.getFormWrapper();gn.setValue(L,N),Xn(i,(F,U)=>{Lt(O,U)&&F.set(O[U])})})},setEnabled:(v,x)=>{MI(e,v).each(x?wo.enable:wo.disable)},focus:v=>{MI(e,v).each(Oo.focus)},block:v=>{if(!S(v))throw new Error("The dialogInstanceAPI.block function should be passed a blocking message of type string as an argument");c(x=>{eo(x,Rc,{message:v})})},unblock:()=>{c(v=>{Pr(v,o_)})},showTab:v=>{c(x=>{const k=e.getBody();_d.getState(k).get().exists(O=>O.isTabPanel())&&hr.getCurrent(k).each(O=>{IC.showTab(O,v)})})},redial:v=>{c(x=>{const k=e.getId(),O=r(v),N=D7(O.internalDialog.buttons,i);x.getSystem().broadcastOn([`${_7}-${k}`],O),x.getSystem().broadcastOn([`${tI}-${k}`],O.internalDialog),x.getSystem().broadcastOn([`${nI}-${k}`],O.internalDialog),x.getSystem().broadcastOn([`${oI}-${k}`],{...O.internalDialog,buttons:N}),g.setData(O.initialData)})},close:()=>{c(v=>{Pr(v,_0)})},toggleFullscreen:e.toggleFullscreen};return g};var I7=tinymce.util.Tools.resolve("tinymce.util.URI");const pz=["insertContent","setContent","execCommand","close","block","unblock"],DI=e=>M(e)&&pz.indexOf(e.mceAction)!==-1,hz=(e,r,i,c)=>{const g=Gn("dialog"),v=_I(e.title,g,c),x=(we=>{const Se={dom:{tag:"div",classes:["tox-dialog__content-js"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-iframe"]},components:[T0({dom:{tag:"iframe",attributes:{src:we.url}},behaviours:ln([ja.config({}),Oo.config({})])})]}],behaviours:ln([co.config({mode:"acyclic",useTabstopAt:Ft(v1)})])};return Ps.parts.body(Se)})(e),k=e.buttons.bind(we=>we.length===0?H.none():H.some(NI({buttons:we},g,c))),O=((we,Se)=>{const he=(Te,He)=>jt(Te,(Ye,gt)=>{Ee(Ye,(Xt,Wt)=>{He(we(),Xt,gt.event,Ye)})}),Ee=(Te,He)=>{_d.getState(Te).get().each(Ye=>{He(Ye,Te)})};return[...OI(he,Se),he(pd,(Te,He,Ye)=>{He.onAction(Te,{name:Ye.name})})]})(()=>pe,kI(()=>ge,c.shared.providers,r)),N={...e.height.fold(()=>({}),we=>({height:we+"px","max-height":we+"px"})),...e.width.fold(()=>({}),we=>({width:we+"px","max-width":we+"px"}))},L=e.width.isNone()&&e.height.isNone()?["tox-dialog--width-lg"]:[],F=new I7(e.url,{base_uri:new I7(window.location.href)}),U=`${F.protocol}://${F.host}${F.port?":"+F.port:""}`,K=Gf(),oe=[Ko("messages",[ia(()=>{const we=Ds(Pe(window),"message",Se=>{if(F.isSameOrigin(new I7(Se.raw.origin))){const he=Se.raw.data;DI(he)?((Ee,Te,He)=>{switch(He.mceAction){case"insertContent":Ee.insertContent(He.content);break;case"setContent":Ee.setContent(He.content);break;case"execCommand":const Ye=!!re(He.ui)&&He.ui;Ee.execCommand(He.cmd,Ye,He.value);break;case"close":Te.close();break;case"block":Te.block(He.message);break;case"unblock":Te.unblock()}})(i,pe,he):(Ee=>!DI(Ee)&&M(Ee)&&Lt(Ee,"mceAction"))(he)&&e.onMessage(pe,he)}});K.set(we)}),pi(K.clear)]),Oi.config({channels:{[rI]:{onReceive:(we,Se)=>{as(we.element,"iframe").each(he=>{const Ee=he.dom.contentWindow;ue(Ee)&&Ee.postMessage(Se,U)})}}}})],ge=SI({id:g,header:v,body:x,footer:k,extraClasses:L,extraBehaviours:oe,extraStyles:N},e,O,c),pe=(we=>{const Se=he=>{we.getSystem().isConnected()&&he(we)};return{block:he=>{if(!S(he))throw new Error("The urlDialogInstanceAPI.block function should be passed a blocking message of type string as an argument");Se(Ee=>{eo(Ee,Rc,{message:he})})},unblock:()=>{Se(he=>{Pr(he,o_)})},close:()=>{Se(he=>{Pr(he,_0)})},sendMessage:he=>{Se(Ee=>{Ee.getSystem().broadcastOn([rI],he)})}}})(ge);return{dialog:ge,instanceApi:pe}},vz=(e,r,i)=>r&&i?[]:[As.config({contextual:{lazyContext:()=>H.some(os(Pe(e.getContentAreaContainer()))),fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition"},modes:["top"],lazyViewport:c=>w0(e,c.element).map(g=>({bounds:Xy(g),optScrollEnv:H.some({currentScrollTop:g.element.dom.scrollTop,scrollElmTop:za(g.element).top})})).getOrThunk(()=>({bounds:Ya(),optScrollEnv:H.none()}))})],bz=e=>{const r=e.editor,i=Cy(r),c=(k=>{const O=k.shared;return{open:(N,L)=>{const F=()=>{Ps.hide(ge),L()},U=Gr(z_({name:"close-alert",text:"OK",primary:!0,buttonType:H.some("primary"),align:"end",enabled:!0,icon:H.none()},"cancel",k)),K=pI(),oe=gI(F,O.providers),ge=Cs(R7({lazySink:()=>O.getSink(),header:fI(K,oe),body:hI(N,O.providers),footer:H.some(vI(bI([],[U.asSpec()]))),onEscape:F,extraClasses:["tox-alert-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[jt(fg,F)],eventOrder:{}}));Ps.show(ge);const pe=U.get(ge);Oo.focus(pe)}}})(e.backstages.dialog),g=(k=>{const O=k.shared;return{open:(N,L)=>{const F=Se=>{Ps.hide(pe),L(Se)},U=Gr(z_({name:"yes",text:"Yes",primary:!0,buttonType:H.some("primary"),align:"end",enabled:!0,icon:H.none()},"submit",k)),K=z_({name:"no",text:"No",primary:!1,buttonType:H.some("secondary"),align:"end",enabled:!0,icon:H.none()},"cancel",k),oe=pI(),ge=gI(()=>F(!1),O.providers),pe=Cs(R7({lazySink:()=>O.getSink(),header:fI(oe,ge),body:hI(N,O.providers),footer:H.some(vI(bI([],[K,U.asSpec()]))),onEscape:()=>F(!1),extraClasses:["tox-confirm-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[jt(fg,()=>F(!1)),jt(c1,()=>F(!0))],eventOrder:{}}));Ps.show(pe);const we=U.get(pe);Oo.focus(we)}}})(e.backstages.dialog),v=(k,O)=>ZE.open((N,L,F)=>{const U=L,K=((oe,ge,pe)=>{const we=Gn("dialog"),Se=oe.internalDialog,he=_I(Se.title,we,pe),Ee=((Vn,fo,_o)=>{const Co=aI(Vn,fo,H.none(),_o,!1);return Ps.parts.body(Co)})({body:Se.body,initialData:Se.initialData},we,pe),Te=D7(Se.buttons),He=EI(Te),Ye=NI({buttons:Te},we,pe),gt=TI(()=>to,kI(()=>Qt,pe.shared.providers,ge),pe.shared.getSink),Xt=(Vn=>{switch(Vn){case"large":return["tox-dialog--width-lg"];case"medium":return["tox-dialog--width-md"];default:return[]}})(Se.size),Wt={id:we,header:he,body:Ee,footer:H.some(Ye),extraClasses:Xt,extraBehaviours:[],extraStyles:{}},Qt=SI(Wt,oe,gt,pe),Ln={getId:G(we),getRoot:G(Qt),getBody:()=>Ps.getBody(Qt),getFooter:()=>Ps.getFooter(Qt),getFormWrapper:()=>{const Vn=Ps.getBody(Qt);return hr.getCurrent(Vn).getOr(Vn)},toggleFullscreen:()=>{const Vn="tox-dialog--fullscreen",fo=Pe(Qt.element.dom);Ei(fo,Vn)?(Ca(fo,Vn),Ml(fo,Xt)):(si(fo,Xt),_a(fo,Vn))}},to=RI(Ln,ge.redial,He);return{dialog:Qt,instanceApi:to}})({dataValidator:F,initialData:U,internalDialog:N},{redial:ZE.redial,closeWindow:()=>{Ps.hide(K.dialog),O(K.instanceApi)}},e.backstages.dialog);return Ps.show(K.dialog),K.instanceApi.setData(U),K.instanceApi},k),x=(k,O,N,L=!1)=>ZE.open((F,U,K)=>{const oe=pc(na("data",K,U)),ge=ha(),pe=e.backstages.popup.shared.header.isPositionedAtTop(),we=()=>ge.on(Ee=>{ls.reposition(Ee),As.refresh(Ee)}),Se=((Ee,Te,He,Ye)=>{const gt=Gn("dialog"),Xt=Gn("dialog-label"),Wt=Gn("dialog-content"),Qt=Ee.internalDialog,Ln=Gr(((wr,ua,da,Tr)=>sm.sketch({dom:xg('<div class="tox-dialog__header"></div>'),components:[wI(wr,ua,H.some(da),Tr),xI(),yI(Tr)],containerBehaviours:ln([Au.config({mode:"mouse",blockerClass:"blocker",getTarget:rc=>yl(rc,'[role="dialog"]').getOrDie(),snaps:{getSnapPoints:()=>[],leftAttr:"data-drag-left",topAttr:"data-drag-top"}})])}))({title:Qt.title,draggable:!0},gt,Xt,He.shared.providers)),to=Gr(((wr,ua,da,Tr,rc)=>aI(wr,ua,H.some(da),Tr,rc))({body:Qt.body,initialData:Qt.initialData},gt,Wt,He,Ye)),Vn=D7(Qt.buttons),fo=EI(Vn),_o=Gr(((wr,ua,da)=>AI(wr,ua,da))({buttons:Vn},gt,He)),Co=TI(()=>Vo,{onBlock:wr=>{fm.block(aa,(ua,da)=>CI(wr.message,da,He.shared.providers))},onUnblock:()=>{fm.unblock(aa)},onClose:()=>Te.closeWindow()},He.shared.getSink),Lr="tox-dialog-inline",aa=Cs({dom:{tag:"div",classes:["tox-dialog",Lr],attributes:{role:"dialog","aria-labelledby":Xt}},eventOrder:{[Dd()]:[_d.name(),Oi.name()],[sl()]:["execute-on-form"],[Gl()]:["reflecting","execute-on-form"]},behaviours:ln([co.config({mode:"cyclic",onEscape:wr=>(Pr(wr,_0),H.some(!0)),useTabstopAt:wr=>!v1(wr)&&(Rn(wr)!=="button"||wa(wr,"disabled")!=="disabled"),firstTabstop:1}),_d.config({channel:`${_7}-${gt}`,updateState:(wr,ua)=>H.some(ua),initialData:Ee}),Oo.config({}),Ko("execute-on-form",Co.concat([Lm(Md(),(wr,ua)=>{co.focusIn(wr)})])),fm.config({getRoot:()=>H.some(aa)}),Po.config({}),Yo({})]),components:[Ln.asSpec(),to.asSpec(),_o.asSpec()]}),Vo=RI({getId:G(gt),getRoot:G(aa),getFooter:()=>_o.get(aa),getBody:()=>to.get(aa),getFormWrapper:()=>{const wr=to.get(aa);return hr.getCurrent(wr).getOr(wr)},toggleFullscreen:()=>{const wr="tox-dialog--fullscreen",ua=Pe(aa.element.dom);Fm(ua,[wr])?(si(ua,[wr]),Ml(ua,[Lr])):(si(ua,[Lr]),Ml(ua,[wr]))}},Te.redial,fo);return{dialog:aa,instanceApi:Vo}})({dataValidator:K,initialData:oe,internalDialog:F},{redial:ZE.redial,closeWindow:()=>{ge.on(ls.hide),r.off("ResizeEditor",we),ge.clear(),N(Se.instanceApi)}},e.backstages.popup,L),he=Cs(ls.sketch({lazySink:e.backstages.popup.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:{},...pe?{}:{fireRepositionEventInstead:{}},inlineBehaviours:ln([Ko("window-manager-inline-events",[jt(Pm(),(Ee,Te)=>{Pr(Se.dialog,fg)})]),...vz(r,i,pe)]),isExtraPart:(Ee,Te)=>(He=>x0(He,".tox-alert-dialog")||x0(He,".tox-confirm-dialog"))(Te)}));return ge.set(he),ls.showWithinBounds(he,Kl(Se.dialog),{anchor:O},()=>{const Ee=r.inline?Hs():Pe(r.getContainer()),Te=os(Ee);return H.some(Te)}),i&&pe||(As.refresh(he),r.on("ResizeEditor",we)),Se.instanceApi.setData(oe),co.focusIn(Se.dialog),Se.instanceApi},k);return{open:(k,O,N)=>O!==void 0&&O.inline==="toolbar"?x(k,e.backstages.popup.shared.anchors.inlineDialog(),N,O.ariaAttrs):O!==void 0&&O.inline==="cursor"?x(k,e.backstages.popup.shared.anchors.cursor(),N,O.ariaAttrs):v(k,N),openUrl:(k,O)=>((N,L)=>ZE.openUrl(F=>{const U=hz(F,{closeWindow:()=>{Ps.hide(U.dialog),L(U.instanceApi)}},r,e.backstages.dialog);return Ps.show(U.dialog),U.instanceApi},N))(k,O),alert:(k,O)=>{c.open(k,O)},close:k=>{k.close()},confirm:(k,O)=>{g.open(k,O)}}};El.add("silver",e=>{(x=>{w4(x),(k=>{const O=k.options.register,N=L=>me(L,S)?{value:tT(L),valid:!0}:{valid:!1,message:"Must be an array of strings."};O("color_map",{processor:N,default:["#BFEDD2","Light Green","#FBEEB8","Light Yellow","#F8CAC6","Light Red","#ECCAFA","Light Purple","#C2E0F4","Light Blue","#2DC26B","Green","#F1C40F","Yellow","#E03E2D","Red","#B96AD9","Purple","#3598DB","Blue","#169179","Dark Turquoise","#E67E23","Orange","#BA372A","Dark Red","#843FA1","Dark Purple","#236FA1","Dark Blue","#ECF0F1","Light Gray","#CED4D9","Medium Gray","#95A5A6","Gray","#7E8C8D","Dark Gray","#34495E","Navy Blue","#000000","Black","#ffffff","White"]}),O("color_map_background",{processor:N}),O("color_map_foreground",{processor:N}),O("color_cols",{processor:"number",default:jx(h0(k,"default").length)}),O("color_cols_foreground",{processor:"number",default:Wy(k,h0(k,Ux).length)}),O("color_cols_background",{processor:"number",default:Wy(k,h0(k,Zy).length)}),O("custom_colors",{processor:"boolean",default:!0}),O("color_default_foreground",{processor:"string",default:gd}),O("color_default_background",{processor:"string",default:gd})})(x),(k=>{const O=k.options.register;O("contextmenu_avoid_overlap",{processor:"string",default:""}),O("contextmenu_never_use_native",{processor:"boolean",default:!1}),O("contextmenu",{processor:N=>N===!1?{value:[],valid:!0}:S(N)||me(N,S)?{value:E(N),valid:!0}:{valid:!1,message:"Must be false or a string."},default:"link linkchecker image editimage table spellchecker configurepermanentpen"})})(x)})(e);let r=()=>Ya();const{dialogs:i,popups:c,renderUI:g}=UE(e,{getPopupSinkBounds:()=>r()});hT(e,c.backstage.shared);const v=bz({editor:e,backstages:{popup:c.backstage,dialog:i.backstage}});return{renderUI:async()=>{const x=await g();return w0(e,c.getMothership().element).each(k=>{r=()=>Xy(k)}),x},getWindowManagerImpl:G(v),getNotificationManagerImpl:()=>((x,k,O)=>{const N=k.backstage.shared,L=()=>{const F=os(Pe(x.getContentAreaContainer())),U=Ya(),K=Rl(U.x,F.x,F.right),oe=Rl(U.y,F.y,F.bottom),ge=Math.max(F.right,U.right),pe=Math.max(F.bottom,U.bottom);return H.some(ga(K,oe,ge-K,pe-oe))};return{open:(F,U)=>{const K=()=>{U(),ls.hide(ge)},oe=Cs(lg.sketch({text:F.text,level:pn(["success","error","warning","warn","info"],F.type)?F.type:void 0,progress:F.progressBar===!0,icon:F.icon,closeButton:F.closeButton,onAction:K,iconProvider:N.providers.icons,translationProvider:N.providers.translate})),ge=Cs(ls.sketch({dom:{tag:"div",classes:["tox-notifications-container"]},lazySink:N.getSink,fireDismissalEventInstead:{},...N.header.isPositionedAtTop()?{}:{fireRepositionEventInstead:{}}}));O.add(ge),xe(F.timeout)&&F.timeout>0&&my.setEditorTimeout(x,()=>{K()},F.timeout);const pe={close:K,reposition:()=>{const we=Kl(oe),Se={maxHeightFunction:rp()},he=x.notificationManager.getNotifications();if(he[0]===pe){const Ee={...N.anchors.banner(),overrides:Se};ls.showWithinBounds(ge,we,{anchor:Ee},L)}else In(he,pe).each(Ee=>{const Te=he[Ee-1].getEl(),He={type:"node",root:Hs(),node:H.some(Pe(Te)),overrides:Se,layouts:{onRtl:()=>[$a],onLtr:()=>[$a]}};ls.showWithinBounds(ge,we,{anchor:He},L)})},text:we=>{lg.updateText(oe,we)},settings:F,getEl:()=>oe.element.dom,progressBar:{value:we=>{lg.updateProgress(oe,we)}}};return pe},close:F=>{F.close()},getArgs:F=>F.settings}})(e,{backstage:c.backstage},c.getMothership())}})})();tinymce.IconManager.add("default",{icons:{"accessibility-check":'<svg width="24" height="24"><path d="M12 2a2 2 0 0 1 2 2 2 2 0 0 1-2 2 2 2 0 0 1-2-2c0-1.1.9-2 2-2Zm8 7h-5v12c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5c0-.6-.4-1-1-1a1 1 0 0 0-1 1v5c0 .6-.4 1-1 1a1 1 0 0 1-1-1V9H4a1 1 0 1 1 0-2h16c.6 0 1 .4 1 1s-.4 1-1 1Z" fill-rule="nonzero"/></svg>',"accordion-toggle":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M12 15c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1h-6a1 1 0 0 1-1-1Z"/><path opacity=".2" fill-rule="evenodd" clip-rule="evenodd" d="M4 15c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1-1-1Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M12 19c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1h-6a1 1 0 0 1-1-1Z"/><path opacity=".2" fill-rule="evenodd" clip-rule="evenodd" d="M4 19c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1-1-1Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M12.3 7.3a1 1 0 0 1 1.4 0L16 9.6l2.3-2.3a1 1 0 1 1 1.4 1.4L16 12.4l-3.7-3.7a1 1 0 0 1 0-1.4ZM4.3 11.7a1 1 0 0 1 0-1.4L6.6 8 4.3 5.7a1 1 0 0 1 1.4-1.4L9.4 8l-3.7 3.7a1 1 0 0 1-1.4 0Z"/></svg>',accordion:'<svg width="24" height="24"><rect x="12" y="7" width="10" height="2" rx="1"/><rect x="12" y="11" width="10" height="2" rx="1"/><rect x="12" y="15" width="6" height="2" rx="1"/><path fill-rule="evenodd" clip-rule="evenodd" d="M2.3 7.3a1 1 0 0 1 1.4 0L6 9.6l2.3-2.3a1 1 0 0 1 1.4 1.4L6 12.4 2.3 8.7a1 1 0 0 1 0-1.4Z"/></svg>',"action-next":'<svg width="24" height="24"><path fill-rule="nonzero" d="M5.7 7.3a1 1 0 0 0-1.4 1.4l7.7 7.7 7.7-7.7a1 1 0 1 0-1.4-1.4L12 13.6 5.7 7.3Z"/></svg>',"action-prev":'<svg width="24" height="24"><path fill-rule="nonzero" d="M18.3 15.7a1 1 0 0 0 1.4-1.4L12 6.6l-7.7 7.7a1 1 0 0 0 1.4 1.4L12 9.4l6.3 6.3Z"/></svg>',addtag:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M15 5a2 2 0 0 1 1.6.8L21 12l-4.4 6.2a2 2 0 0 1-1.6.8h-3v-2h3l3.5-5L15 7H5v3H3V7c0-1.1.9-2 2-2h10Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M6 12a1 1 0 0 0-1 1v2H3a1 1 0 1 0 0 2h2v2a1 1 0 1 0 2 0v-2h2a1 1 0 1 0 0-2H7v-2c0-.6-.4-1-1-1Z"/></svg>',"align-center":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm3 4h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm-3-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-justify":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-left":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Zm0-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-none":'<svg width="24" height="24"><path d="M14.2 5 13 7H5a1 1 0 1 1 0-2h9.2Zm4 0h.8a1 1 0 0 1 0 2h-2l1.2-2Zm-6.4 4-1.2 2H5a1 1 0 0 1 0-2h6.8Zm4 0H19a1 1 0 0 1 0 2h-4.4l1.2-2Zm-6.4 4-1.2 2H5a1 1 0 0 1 0-2h4.4Zm4 0H19a1 1 0 0 1 0 2h-6.8l1.2-2ZM7 17l-1.2 2H5a1 1 0 0 1 0-2h2Zm4 0h8a1 1 0 0 1 0 2H9.8l1.2-2Zm5.2-13.5 1.3.7-9.7 16.3-1.3-.7 9.7-16.3Z" fill-rule="evenodd"/></svg>',"align-right":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm6 4h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm-6-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"arrow-left":'<svg width="24" height="24"><path d="m5.6 13 12 6a1 1 0 0 0 1.4-1V6a1 1 0 0 0-1.4-.9l-12 6a1 1 0 0 0 0 1.8Z" fill-rule="evenodd"/></svg>',"arrow-right":'<svg width="24" height="24"><path d="m18.5 13-12 6A1 1 0 0 1 5 18V6a1 1 0 0 1 1.4-.9l12 6a1 1 0 0 1 0 1.8Z" fill-rule="evenodd"/></svg>',bold:'<svg width="24" height="24"><path d="M7.8 19c-.3 0-.5 0-.6-.2l-.2-.5V5.7c0-.2 0-.4.2-.5l.6-.2h5c1.5 0 2.7.3 3.5 1 .7.6 1.1 1.4 1.1 2.5a3 3 0 0 1-.6 1.9c-.4.6-1 1-1.6 1.2.4.1.9.3 1.3.6s.8.7 1 1.2c.4.4.5 1 .5 1.6 0 1.3-.4 2.3-1.3 3-.8.7-2.1 1-3.8 1H7.8Zm5-8.3c.6 0 1.2-.1 1.6-.5.4-.3.6-.7.6-1.3 0-1.1-.8-1.7-2.3-1.7H9.3v3.5h3.4Zm.5 6c.7 0 1.3-.1 1.7-.4.4-.4.6-.9.6-1.5s-.2-1-.7-1.4c-.4-.3-1-.4-2-.4H9.4v3.8h4Z" fill-rule="evenodd"/></svg>',bookmark:'<svg width="24" height="24"><path d="M6 4v17l6-4 6 4V4c0-.6-.4-1-1-1H7a1 1 0 0 0-1 1Z" fill-rule="nonzero"/></svg>',"border-style":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="2" x="3" y="6" rx="1"/><rect width="2.8" height="2" x="3" y="16" rx="1"/><rect width="2.8" height="2" x="6.8" y="16" rx="1"/><rect width="2.8" height="2" x="10.6" y="16" rx="1"/><rect width="2.8" height="2" x="14.4" y="16" rx="1"/><rect width="2.8" height="2" x="18.2" y="16" rx="1"/><rect width="8" height="2" x="3" y="11" rx="1"/><rect width="8" height="2" x="13" y="11" rx="1"/></g></svg>',"border-width":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="5" x="3" y="5" rx="1"/><rect width="18" height="3.5" x="3" y="11.5" rx="1"/><rect width="18" height="2" x="3" y="17" rx="1"/></g></svg>',brightness:'<svg width="24" height="24"><path d="M12 17c.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7v-1c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3Zm0-10a1 1 0 0 1-.7-.3A1 1 0 0 1 11 6V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3Zm7 4c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-1a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1ZM7 12c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3H5a1 1 0 0 1-.7-.3A1 1 0 0 1 4 12c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1c.3 0 .5.1.7.3.2.2.3.4.3.7Zm10 3.5.7.8c.2.1.3.4.3.6 0 .3-.1.6-.3.8a1 1 0 0 1-.8.3 1 1 0 0 1-.6-.3l-.8-.7a1 1 0 0 1-.3-.8c0-.2.1-.5.3-.7a1 1 0 0 1 1.4 0Zm-10-7-.7-.8a1 1 0 0 1-.3-.6c0-.3.1-.6.3-.8.2-.2.5-.3.8-.3.2 0 .5.1.7.3l.7.7c.2.2.3.5.3.8 0 .2-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.8-.3Zm10 0a1 1 0 0 1-.8.3 1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.6.3-.8l.8-.7c.1-.2.4-.3.6-.3.3 0 .6.1.8.3.2.2.3.5.3.8 0 .2-.1.5-.3.7l-.7.7Zm-10 7c.2-.2.5-.3.8-.3.2 0 .5.1.7.3a1 1 0 0 1 0 1.4l-.8.8a1 1 0 0 1-.6.3 1 1 0 0 1-.8-.3 1 1 0 0 1-.3-.8c0-.2.1-.5.3-.6l.7-.8ZM12 8a4 4 0 0 1 3.7 2.4 4 4 0 0 1 0 3.2A4 4 0 0 1 12 16a4 4 0 0 1-3.7-2.4 4 4 0 0 1 0-3.2A4 4 0 0 1 12 8Zm0 6.5c.7 0 1.3-.2 1.8-.7.5-.5.7-1.1.7-1.8s-.2-1.3-.7-1.8c-.5-.5-1.1-.7-1.8-.7s-1.3.2-1.8.7c-.5.5-.7 1.1-.7 1.8s.2 1.3.7 1.8c.5.5 1.1.7 1.8.7Z" fill-rule="evenodd"/></svg>',browse:'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2h-4v-2h4V8H5v10h4v2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9.4-2.3 2.3a1 1 0 1 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 0 1-1.4 1.4L13 13.4V20a1 1 0 0 1-2 0v-6.6Z" fill-rule="nonzero"/></svg>',cancel:'<svg width="24" height="24"><path d="M12 4.6a7.4 7.4 0 1 1 0 14.8 7.4 7.4 0 0 1 0-14.8ZM12 3a9 9 0 1 0 0 18 9 9 0 0 0 0-18Zm0 8L14.8 8l1 1.1-2.7 2.8 2.7 2.7-1.1 1.1-2.7-2.7-2.7 2.7-1-1.1 2.6-2.7-2.7-2.7 1-1.1 2.8 2.7Z" fill-rule="nonzero"/></svg>',"cell-background-color":'<svg width="24" height="24"><path d="m15.7 2 1.6 1.6-2.7 2.6 5.9 5.8c.7.7.7 1.7 0 2.4l-6.3 6.1a1.7 1.7 0 0 1-2.4 0l-6.3-6.1c-.7-.7-.7-1.7 0-2.4L15.7 2ZM18 12l-4.5-4L9 12h9ZM4 16s2 2.4 2 3.8C6 21 5.1 22 4 22s-2-1-2-2.2C2 18.4 4 16 4 16Z"/></svg>',"cell-border-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M5 13v5h2v2H5a2 2 0 0 1-2-2v-5h2zm8-7V4h6a2 2 0 0 1 2 2h-8z" opacity=".2"/><path fill-rule="nonzero" d="M13 4v2H5v7H3V6c0-1.1.9-2 2-2h8zm-2.6 14.1.1-.1.1.1.2.3.2.2.2.2c.4.6.8 1.2.8 1.7 0 .8-.7 1.5-1.5 1.5S9 21.3 9 20.5c0-.5.4-1.1.8-1.7l.2-.2.2-.2.2-.3z"/><path d="m13 11-2 2H5v-2h6V6h2z"/><path fill-rule="nonzero" d="m18.4 8 1 1-1.8 1.9 4 4c.5.4.5 1.1 0 1.6l-4.3 4.2a1.2 1.2 0 0 1-1.6 0l-4.4-4.2c-.4-.5-.4-1.2 0-1.7l7-6.8Zm1.6 7-3-3-3 3h6Z"/></g></svg>',"change-case":'<svg width="24" height="24"><path d="M18.4 18.2v-.6c-.5.8-1.3 1.2-2.4 1.2-2.2 0-3.3-1.6-3.3-4.8 0-3.1 1-4.7 3.3-4.7 1.1 0 1.8.3 2.4 1.1v-.6c0-.5.4-.8.8-.8s.8.3.8.8v8.4c0 .5-.4.8-.8.8a.8.8 0 0 1-.8-.8zm-2-7.4c-1.3 0-1.8.9-1.8 3.2 0 2.4.5 3.3 1.7 3.3 1.3 0 1.8-.9 1.8-3.2 0-2.4-.5-3.3-1.7-3.3zM10 15.7H5.5l-.8 2.6a1 1 0 0 1-1 .7h-.2a.7.7 0 0 1-.7-1l4-12a1 1 0 0 1 2 0l4 12a.7.7 0 0 1-.8 1h-.2a1 1 0 0 1-1-.7l-.8-2.6zm-.3-1.5-2-6.5-1.9 6.5h3.9z" fill-rule="evenodd"/></svg>',"character-count":'<svg width="24" height="24"><path d="M4 11.5h16v1H4v-1Zm4.8-6.8V10H7.7V5.8h-1v-1h2ZM11 8.3V9h2v1h-3V7.7l2-1v-.9h-2v-1h3v2.4l-2 1Zm6.3-3.4V10h-3.1V9h2.1V8h-2.1V6.8h2.1v-1h-2.1v-1h3.1ZM5.8 16.4c0-.5.2-.8.5-1 .2-.2.6-.3 1.2-.3l.8.1c.2 0 .4.2.5.3l.4.4v2.8l.2.3H8.2V18.7l-.6.3H7c-.4 0-.7 0-1-.2a1 1 0 0 1-.3-.9c0-.3 0-.6.3-.8.3-.2.7-.4 1.2-.4l.6-.2h.3v-.2l-.1-.2a.8.8 0 0 0-.5-.1 1 1 0 0 0-.4 0l-.3.4h-1Zm2.3.8h-.2l-.2.1-.4.1a1 1 0 0 0-.4.2l-.2.2.1.3.5.1h.4l.4-.4v-.6Zm2-3.4h1.2v1.7l.5-.3h.5c.5 0 .9.1 1.2.5.3.4.5.8.5 1.4 0 .6-.2 1.1-.5 1.5-.3.4-.7.6-1.3.6l-.6-.1-.4-.4v.4h-1.1v-5.4Zm1.1 3.3c0 .3 0 .6.2.8a.7.7 0 0 0 1.2 0l.2-.8c0-.4 0-.6-.2-.8a.7.7 0 0 0-.6-.3l-.6.3-.2.8Zm6.1-.5c0-.2 0-.3-.2-.4a.8.8 0 0 0-.5-.2c-.3 0-.5.1-.6.3l-.2.9c0 .3 0 .6.2.8.1.2.3.3.6.3.2 0 .4 0 .5-.2l.2-.4h1.1c0 .5-.3.8-.6 1.1a2 2 0 0 1-1.3.4c-.5 0-1-.2-1.3-.6a2 2 0 0 1-.5-1.4c0-.6.1-1.1.5-1.5.3-.4.8-.5 1.4-.5.5 0 1 0 1.2.3.4.3.5.7.5 1.2h-1v-.1Z" fill-rule="evenodd"/></svg>',"checklist-rtl":'<svg width="24" height="24"><path d="M5 17h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2zm14.2 11c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 8c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z" fill-rule="evenodd"/></svg>',checklist:'<svg width="24" height="24"><path d="M11 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2h-8a1 1 0 0 1 0-2ZM7.2 16c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 8c-.2.3-.7.4-1 0L3.8 6.9a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Z" fill-rule="evenodd"/></svg>',checkmark:'<svg width="24" height="24"><path d="M18.2 5.4a1 1 0 0 1 1.6 1.2l-8 12a1 1 0 0 1-1.5.1l-5-5a1 1 0 1 1 1.4-1.4l4.1 4.1 7.4-11Z" fill-rule="nonzero"/></svg>',"chevron-down":'<svg width="10" height="10"><path d="M8.7 2.2c.3-.3.8-.3 1 0 .4.4.4.9 0 1.2L5.7 7.8c-.3.3-.9.3-1.2 0L.2 3.4a.8.8 0 0 1 0-1.2c.3-.3.8-.3 1.1 0L5 6l3.7-3.8Z" fill-rule="nonzero"/></svg>',"chevron-left":'<svg width="10" height="10"><path d="M7.8 1.3 4 5l3.8 3.7c.3.3.3.8 0 1-.4.4-.9.4-1.2 0L2.2 5.7a.8.8 0 0 1 0-1.2L6.6.2C7 0 7.4 0 7.8.2c.3.3.3.8 0 1.1Z" fill-rule="nonzero"/></svg>',"chevron-right":'<svg width="10" height="10"><path d="M2.2 1.3a.8.8 0 0 1 0-1c.4-.4.9-.4 1.2 0l4.4 4.1c.3.4.3.9 0 1.2L3.4 9.8c-.3.3-.8.3-1.2 0a.8.8 0 0 1 0-1.1L6 5 2.2 1.3Z" fill-rule="nonzero"/></svg>',"chevron-up":'<svg width="10" height="10"><path d="M8.7 7.8 5 4 1.3 7.8c-.3.3-.8.3-1 0a.8.8 0 0 1 0-1.2l4.1-4.4c.3-.3.9-.3 1.2 0l4.2 4.4c.3.3.3.9 0 1.2-.3.3-.8.3-1.1 0Z" fill-rule="nonzero"/></svg>',close:'<svg width="24" height="24"><path d="M17.3 8.2 13.4 12l3.9 3.8a1 1 0 0 1-1.5 1.5L12 13.4l-3.8 3.9a1 1 0 0 1-1.5-1.5l3.9-3.8-3.9-3.8a1 1 0 0 1 1.5-1.5l3.8 3.9 3.8-3.9a1 1 0 0 1 1.5 1.5Z" fill-rule="evenodd"/></svg>',"code-sample":'<svg width="24" height="26"><path d="M7.1 11a2.8 2.8 0 0 1-.8 2 2.8 2.8 0 0 1 .8 2v1.7c0 .3.1.6.4.8.2.3.5.4.8.4.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.7 0-1.4-.3-2-.8-.5-.6-.8-1.3-.8-2V15c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4v-.8c0-.2.2-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V9.3c0-.7.3-1.4.8-2 .6-.5 1.3-.8 2-.8.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8V11Zm9.8 0V9.3c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4V7c0-.2.1-.4.4-.4.7 0 1.4.3 2 .8.5.6.8 1.3.8 2V11c0 .3.1.6.4.8.2.3.5.4.8.4.2 0 .4.2.4.4v.8c0 .2-.2.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8v1.7c0 .7-.3 1.4-.8 2-.6.5-1.3.8-2 .8a.4.4 0 0 1-.4-.4v-.8c0-.2.1-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V15a2.8 2.8 0 0 1 .8-2 2.8 2.8 0 0 1-.8-2Zm-3.3-.4c0 .4-.1.8-.5 1.1-.3.3-.7.5-1.1.5-.4 0-.8-.2-1.1-.5-.4-.3-.5-.7-.5-1.1 0-.5.1-.9.5-1.2.3-.3.7-.4 1.1-.4.4 0 .8.1 1.1.4.4.3.5.7.5 1.2ZM12 13c.4 0 .8.1 1.1.5.4.3.5.7.5 1.1 0 1-.1 1.6-.5 2a3 3 0 0 1-1.1 1c-.4.3-.8.4-1.1.4a.5.5 0 0 1-.5-.5V17a3 3 0 0 0 1-.2l.6-.6c-.6 0-1-.2-1.3-.5-.2-.3-.3-.7-.3-1 0-.5.1-1 .5-1.2.3-.4.7-.5 1.1-.5Z" fill-rule="evenodd"/></svg>',"color-levels":'<svg width="24" height="24"><path d="M17.5 11.4A9 9 0 0 1 18 14c0 .5 0 1-.2 1.4 0 .4-.3.9-.5 1.3a6.2 6.2 0 0 1-3.7 3 5.7 5.7 0 0 1-3.2 0A5.9 5.9 0 0 1 7.6 18a6.2 6.2 0 0 1-1.4-2.6 6.7 6.7 0 0 1 0-2.8c0-.4.1-.9.3-1.3a13.6 13.6 0 0 1 2.3-4A20 20 0 0 1 12 4a26.4 26.4 0 0 1 3.2 3.4 18.2 18.2 0 0 1 2.3 4Zm-2 4.5c.4-.7.5-1.4.5-2a7.3 7.3 0 0 0-1-3.2c.2.6.2 1.2.2 1.9a4.5 4.5 0 0 1-1.3 3 5.3 5.3 0 0 1-2.3 1.5 4.9 4.9 0 0 1-2 .1 4.3 4.3 0 0 0 2.4.8 4 4 0 0 0 2-.6 4 4 0 0 0 1.5-1.5Z" fill-rule="evenodd"/></svg>',"color-picker":'<svg width="24" height="24"><path d="M12 3a9 9 0 0 0 0 18 1.5 1.5 0 0 0 1.1-2.5c-.2-.3-.4-.6-.4-1 0-.8.7-1.5 1.5-1.5H16a5 5 0 0 0 5-5c0-4.4-4-8-9-8Zm-5.5 9a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm3-4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm3 4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Z" fill-rule="nonzero"/></svg>',"color-swatch-remove-color":'<svg width="24" height="24"><path stroke="#000" stroke-width="2" d="M21 3 3 21" fill-rule="evenodd"/></svg>',"color-swatch":'<svg width="24" height="24"><rect x="3" y="3" width="18" height="18" rx="1" fill-rule="evenodd"/></svg>',"comment-add":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="m9 19 3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2Zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23Z"/><path d="M13 10h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 0v-2H9a1 1 0 0 1 0-2h2V8a1 1 0 0 1 2 0v2Z"/></g></svg>',comment:'<svg width="24" height="24"><path fill-rule="nonzero" d="m9 19 3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2Zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23Z"/></svg>',contrast:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Zm-6 8a6 6 0 0 0 6 6V6a6 6 0 0 0-6 6Z" fill-rule="evenodd"/></svg>',copy:'<svg width="24" height="24"><path d="M16 3H6a2 2 0 0 0-2 2v11h2V5h10V3Zm1 4a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7Zm0 12V9h-7v10h7Z" fill-rule="nonzero"/></svg>',crop:'<svg width="24" height="24"><path d="M17 8v7h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v2c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-2H7V9H5a1 1 0 1 1 0-2h2V5c0-.6.4-1 1-1s1 .4 1 1v2h7l3-3 1 1-3 3ZM9 9v5l5-5H9Zm1 6h5v-5l-5 5Z" fill-rule="evenodd"/></svg>',"cut-column":'<svg width="24" height="24"><path fill-rule="evenodd" d="M7.2 4.5c.9 0 1.6.4 2.2 1A3.7 3.7 0 0 1 10.5 8v.5l1 1 4-4 1-.5a3.3 3.3 0 0 1 2 0c.4 0 .7.3 1 .5L17 8h4v13h-6V10l-1.5 1.5.5.5v4l-2.5-2.5-1 1v.5c0 .4 0 .8-.3 1.2-.2.5-.4.9-.8 1.2-.6.7-1.3 1-2.2 1-.8.2-1.5 0-2-.6l-.5-.8-.2-1c0-.4 0-.8.3-1.2A3.9 3.9 0 0 1 7 12.7c.5-.2 1-.3 1.5-.2l1-1-1-1c-.5 0-1 0-1.5-.2-.5-.1-1-.4-1.4-.9-.4-.3-.6-.7-.8-1.2L4.5 7c0-.4 0-.7.2-1 0-.3.3-.6.5-.8.5-.5 1.2-.8 2-.7Zm12.3 5h-3v10h3v-10ZM8 13.8h-.3l-.4.2a2.8 2.8 0 0 0-.7.4v.1a2.8 2.8 0 0 0-.6.8l-.1.4v.7l.2.5.5.2h.7a2.6 2.6 0 0 0 .8-.3 2.4 2.4 0 0 0 .7-.7 2.5 2.5 0 0 0 .3-.8 1.5 1.5 0 0 0 0-.8 1 1 0 0 0-.2-.4 1 1 0 0 0-.5-.2H8Zm3.5-3.7c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4ZM7 5.8h-.4a1 1 0 0 0-.5.3 1 1 0 0 0-.2.5v.7a2.5 2.5 0 0 0 .3.8l.2.3h.1l.4.4.4.2.4.1h.7L9 9l.2-.4a1.6 1.6 0 0 0 0-.8 2.6 2.6 0 0 0-.3-.8A2.5 2.5 0 0 0 7.7 6l-.4-.1H7Z"/></svg>',"cut-row":'<svg width="24" height="24"><path fill-rule="evenodd" d="M22 3v5H9l3 3 2-2h4l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8.7.6 1 1.3 1 2.2.2.8 0 1.5-.6 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l2 2V3h14ZM8.5 15.3h-.3a2.6 2.6 0 0 0-.8.4 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3L9 18V18l.4-.4.2-.4.1-.4v-.7a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2h-.5Zm7 0H15a1 1 0 0 0-.4.3 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4a2.8 2.8 0 0 0 .5.7h.1a2.8 2.8 0 0 0 .8.6l.4.1h.7l.5-.2.2-.5v-.7a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3h-.3ZM12 11.6c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4Zm8.5-7.1h-11v2h11v-2Z"/></svg>',cut:'<svg width="24" height="24"><path d="M18 15c.6.7 1 1.4 1 2.3 0 .8-.2 1.5-.7 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l6 6 6-6 .5 1a3.3 3.3 0 0 1 0 2c0 .4-.3.7-.5 1l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8Zm-8.5 2.2.1-.4v-.7a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2 1.6 1.6 0 0 0-.8 0 2.6 2.6 0 0 0-.8.3 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3 2.8 2.8 0 0 0 1-1Zm2.5-2.8c.4 0 .7-.1 1-.4.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4s-.7.1-1 .4c-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4Zm5.4 4 .2-.5v-.7a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3 1.5 1.5 0 0 0-.8 0 1 1 0 0 0-.4.2 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4l.3.4.3.4a2.8 2.8 0 0 0 .8.5l.4.1h.7l.5-.2Z" fill-rule="evenodd"/></svg>',"document-properties":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3ZM17 19H7V5h6v4h4v10Z" fill-rule="nonzero"/></svg>',drag:'<svg width="24" height="24"><path d="M13 5h2v2h-2V5Zm0 4h2v2h-2V9ZM9 9h2v2H9V9Zm4 4h2v2h-2v-2Zm-4 0h2v2H9v-2Zm0 4h2v2H9v-2Zm4 0h2v2h-2v-2ZM9 5h2v2H9V5Z" fill-rule="evenodd"/></svg>',"duplicate-column":'<svg width="24" height="24"><path d="M17 6v16h-7V6h7Zm-2 2h-3v12h3V8Zm-2-6v2H8v15H6V2h7Z"/></svg>',"duplicate-row":'<svg width="24" height="24"><path d="M22 11v7H6v-7h16Zm-2 2H8v3h12v-3Zm-1-6v2H4v5H2V7h17Z"/></svg>',duplicate:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M16 3v2H6v11H4V5c0-1.1.9-2 2-2h10Zm3 8h-2V9h-7v10h9a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7a2 2 0 0 1 2 2v2Z"/><path d="M17 14h1a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1h-1a1 1 0 0 1 0-2h1v-1a1 1 0 0 1 2 0v1Z"/></g></svg>',"edit-block":'<svg width="24" height="24"><path fill-rule="nonzero" d="m19.8 8.8-9.4 9.4c-.2.2-.5.4-.9.4l-5.4 1.2 1.2-5.4.5-.8 9.4-9.4c.7-.7 1.8-.7 2.5 0l2.1 2.1c.7.7.7 1.8 0 2.5Zm-2-.2 1-.9v-.3l-2.2-2.2a.3.3 0 0 0-.3 0l-1 1L18 8.5Zm-1 1-2.5-2.4-6 6 2.5 2.5 6-6Zm-7 7.1-2.6-2.4-.3.3-.1.2-.7 3 3.1-.6h.1l.4-.5Z"/></svg>',"edit-image":'<svg width="24" height="24"><path d="M18 16h2V7a2 2 0 0 0-2-2H7v2h11v9ZM6 17h15a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1H6a2 2 0 0 1-2-2V7H3a1 1 0 1 1 0-2h1V4a1 1 0 1 1 2 0v13Zm3-5.3 1.3 2 3-4.7 3.7 6H7l2-3.3Z" fill-rule="nonzero"/></svg>',"embed-page":'<svg width="24" height="24"><path d="M19 6V5H5v14h2A13 13 0 0 1 19 6Zm0 1.4c-.8.8-1.6 2.4-2.2 4.6H19V7.4Zm0 5.6h-2.4c-.4 1.8-.6 3.8-.6 6h3v-6Zm-4 6c0-2.2.2-4.2.6-6H13c-.7 1.8-1.1 3.8-1.1 6h3Zm-4 0c0-2.2.4-4.2 1-6H9.6A12 12 0 0 0 8 19h3ZM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm11.8 9c.4-1.9 1-3.4 1.8-4.5a9.2 9.2 0 0 0-4 4.5h2.2Zm-3.4 0a12 12 0 0 1 2.8-4 12 12 0 0 0-5 4h2.2Z" fill-rule="nonzero"/></svg>',embed:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm1 2v14h14V5H5Zm4.8 2.6 5.6 4a.5.5 0 0 1 0 .8l-5.6 4A.5.5 0 0 1 9 16V8a.5.5 0 0 1 .8-.4Z" fill-rule="nonzero"/></svg>',emoji:'<svg width="24" height="24"><path d="M9 11c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1Zm6 0c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1Zm-3 5.5c2.1 0 4-1.5 4.4-3.5H7.6c.5 2 2.3 3.5 4.4 3.5ZM12 4a8 8 0 1 0 0 16 8 8 0 0 0 0-16Zm0 14.5a6.5 6.5 0 1 1 0-13 6.5 6.5 0 0 1 0 13Z" fill-rule="nonzero"/></svg>',export:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M14.4 3 18 7v1h-5V5H7v14h9a1 1 0 0 1 2 0c0 1-.8 2-1.9 2H7c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2h7.5Z"/><path d="M18.1 12c.5 0 .9.4.9 1 0 .5-.3 1-.8 1h-7.3c-.5 0-.9-.4-.9-1 0-.5.3-1 .8-1h7.3Z"/><path d="M16.4 9.2a1 1 0 0 1 1.4.2l2.4 3.6-2.4 3.6a1 1 0 0 1-1.7-1v-.2l1.7-2.4-1.6-2.4a1 1 0 0 1 .2-1.4Z"/></g></svg>',fill:'<svg width="24" height="26"><path d="m16.6 12-9-9-1.4 1.4 2.4 2.4-5.2 5.1c-.5.6-.5 1.6 0 2.2L9 19.6a1.5 1.5 0 0 0 2.2 0l5.5-5.5c.5-.6.5-1.6 0-2.2ZM5.2 13 10 8.2l4.8 4.8H5.2ZM19 14.5s-2 2.2-2 3.5c0 1.1.9 2 2 2a2 2 0 0 0 2-2c0-1.3-2-3.5-2-3.5Z" fill-rule="nonzero"/></svg>',"flip-horizontally":'<svg width="24" height="24"><path d="M14 19h2v-2h-2v2Zm4-8h2V9h-2v2ZM4 7v10c0 1.1.9 2 2 2h3v-2H6V7h3V5H6a2 2 0 0 0-2 2Zm14-2v2h2a2 2 0 0 0-2-2Zm-7 16h2V3h-2v18Zm7-6h2v-2h-2v2Zm-4-8h2V5h-2v2Zm4 12a2 2 0 0 0 2-2h-2v2Z" fill-rule="nonzero"/></svg>',"flip-vertically":'<svg width="24" height="24"><path d="M5 14v2h2v-2H5Zm8 4v2h2v-2h-2Zm4-14H7a2 2 0 0 0-2 2v3h2V6h10v3h2V6a2 2 0 0 0-2-2Zm2 14h-2v2a2 2 0 0 0 2-2ZM3 11v2h18v-2H3Zm6 7v2h2v-2H9Zm8-4v2h2v-2h-2ZM5 18c0 1.1.9 2 2 2v-2H5Z" fill-rule="nonzero"/></svg>',footnote:'<svg width="24" height="24"><path d="M19 13c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2h14Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M19 4v6h-1V5h-1.5V4h2.6Z"/><path d="M12 18c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2h7ZM14 8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2h9Z"/></svg>',"format-painter":'<svg width="24" height="24"><path d="M18 5V4c0-.5-.4-1-1-1H5a1 1 0 0 0-1 1v4c0 .6.5 1 1 1h12c.6 0 1-.4 1-1V7h1v4H9v9c0 .6.4 1 1 1h2c.6 0 1-.4 1-1v-7h8V5h-3Z" fill-rule="nonzero"/></svg>',format:'<svg width="24" height="24"><path fill-rule="evenodd" d="M17 5a1 1 0 0 1 0 2h-4v11a1 1 0 0 1-2 0V7H7a1 1 0 1 1 0-2h10Z"/></svg>',fullscreen:'<svg width="24" height="24"><path d="m15.3 10-1.2-1.3 2.9-3h-2.3a.9.9 0 1 1 0-1.7H19c.5 0 .9.4.9.9v4.4a.9.9 0 1 1-1.8 0V7l-2.9 3Zm0 4 3 3v-2.3a.9.9 0 1 1 1.7 0V19c0 .5-.4.9-.9.9h-4.4a.9.9 0 1 1 0-1.8H17l-3-2.9 1.3-1.2ZM10 15.4l-2.9 3h2.3a.9.9 0 1 1 0 1.7H5a.9.9 0 0 1-.9-.9v-4.4a.9.9 0 1 1 1.8 0V17l2.9-3 1.2 1.3ZM8.7 10 5.7 7v2.3a.9.9 0 0 1-1.7 0V5c0-.5.4-.9.9-.9h4.4a.9.9 0 0 1 0 1.8H7l3 2.9-1.3 1.2Z" fill-rule="nonzero"/></svg>',gallery:'<svg width="24" height="24"><path fill-rule="nonzero" d="m5 15.7 2.3-2.2c.3-.3.7-.3 1 0L11 16l5.1-5c.3-.4.8-.4 1 0l2 1.9V8H5v7.7ZM5 18V19h3l1.8-1.9-2-2L5 17.9Zm14-3-2.5-2.4-6.4 6.5H19v-4ZM4 6h16c.6 0 1 .4 1 1v13c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V7c0-.6.4-1 1-1Zm6 7a2 2 0 1 1 0-4 2 2 0 0 1 0 4ZM4.5 4h15a.5.5 0 1 1 0 1h-15a.5.5 0 0 1 0-1Zm2-2h11a.5.5 0 1 1 0 1h-11a.5.5 0 0 1 0-1Z"/></svg>',gamma:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm1 2v14h14V5H5Zm6.5 11.8V14L9.2 8.7a5.1 5.1 0 0 0-.4-.8l-.1-.2H8v-1l.3-.1.3-.1h.7a1 1 0 0 1 .6.5l.1.3a8.5 8.5 0 0 1 .3.6l1.9 4.6 2-5.2a1 1 0 0 1 1-.6.5.5 0 0 1 .5.6L13 14v2.8a.7.7 0 0 1-1.4 0Z" fill-rule="nonzero"/></svg>',help:'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M12 5.5a6.5 6.5 0 0 0-6 9 6.3 6.3 0 0 0 1.4 2l1 1a6.3 6.3 0 0 0 3.6 1 6.5 6.5 0 0 0 6-9 6.3 6.3 0 0 0-1.4-2l-1-1a6.3 6.3 0 0 0-3.6-1ZM12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Z"/><path d="M9.6 9.7a.7.7 0 0 1-.7-.8c0-1.1 1.5-1.8 3.2-1.8 1.8 0 3.2.8 3.2 2.4 0 1.4-.4 2.1-1.5 2.8-.2 0-.3.1-.3.2a2 2 0 0 0-.8.8.8.8 0 0 1-1.4-.6c.3-.7.8-1 1.3-1.5l.4-.2c.7-.4.8-.6.8-1.5 0-.5-.6-.9-1.7-.9-.5 0-1 .1-1.4.3-.2 0-.3.1-.3.2v-.2c0 .4-.4.8-.8.8Z" fill-rule="nonzero"/><circle cx="12" cy="16" r="1"/></g></svg>',"highlight-bg-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path class="tox-icon-highlight-bg-color__color" d="M3 18h18v3H3z"/><path fill-rule="nonzero" d="M7.7 16.7H3l3.3-3.3-.7-.8L10.2 8l4 4.1-4 4.2c-.2.2-.6.2-.8 0l-.6-.7-1.1 1.1zm5-7.5L11 7.4l3-2.9a2 2 0 0 1 2.6 0L18 6c.7.7.7 2 0 2.7l-2.9 2.9-1.8-1.8-.5-.6"/></g></svg>',home:'<svg width="24" height="24"><path fill-rule="nonzero" d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>',"horizontal-rule":'<svg width="24" height="24"><path d="M4 11h16v2H4z" fill-rule="evenodd"/></svg>',"image-options":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Z" fill-rule="nonzero"/></svg>',image:'<svg width="24" height="24"><path d="m5 15.7 3.3-3.2c.3-.3.7-.3 1 0L12 15l4.1-4c.3-.4.8-.4 1 0l2 1.9V5H5v10.7ZM5 18V19h3l2.8-2.9-2-2L5 17.9Zm14-3-2.5-2.4-6.4 6.5H19v-4ZM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm6 8a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z" fill-rule="nonzero"/></svg>',indent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2Zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2Zm-2.6-3.8L6.2 12l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6Z" fill-rule="evenodd"/></svg>',info:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Zm-1 3v2h2V7h-2Zm3 10v-1h-1v-5h-3v1h1v4h-1v1h4Z" fill-rule="evenodd"/></svg>',"insert-character":'<svg width="24" height="24"><path d="M15 18h4l1-2v4h-6v-3.3l1.4-1a6 6 0 0 0 1.8-2.9 6.3 6.3 0 0 0-.1-4.1 5.8 5.8 0 0 0-3-3.2c-.6-.3-1.3-.5-2.1-.5a5.1 5.1 0 0 0-3.9 1.8 6.3 6.3 0 0 0-1.3 6 6.2 6.2 0 0 0 1.8 3l1.4.9V20H4v-4l1 2h4v-.5l-2-1L5.4 15A6.5 6.5 0 0 1 4 11c0-1 .2-1.9.6-2.7A7 7 0 0 1 6.3 6C7.1 5.4 8 5 9 4.5c1-.3 2-.5 3.1-.5a8.8 8.8 0 0 1 5.7 2 7 7 0 0 1 1.7 2.3 6 6 0 0 1 .2 4.8c-.2.7-.6 1.3-1 1.9a7.6 7.6 0 0 1-3.6 2.5v.5Z" fill-rule="evenodd"/></svg>',"insert-time":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M12 19a7 7 0 1 0 0-14 7 7 0 0 0 0 14Zm0 2a9 9 0 1 1 0-18 9 9 0 0 1 0 18Z"/><path d="M16 12h-3V7c0-.6-.4-1-1-1a1 1 0 0 0-1 1v7h5c.6 0 1-.4 1-1s-.4-1-1-1Z"/></g></svg>',invert:'<svg width="24" height="24"><path d="M18 19.3 16.5 18a5.8 5.8 0 0 1-3.1 1.9 6.1 6.1 0 0 1-5.5-1.6A5.8 5.8 0 0 1 6 14v-.3l.1-1.2A13.9 13.9 0 0 1 7.7 9l-3-3 .7-.8 2.8 2.9 9 8.9 1.5 1.6-.7.6Zm0-5.5v.3l-.1 1.1-.4 1-1.2-1.2a4.3 4.3 0 0 0 .2-1v-.2c0-.4 0-.8-.2-1.3l-.5-1.4a14.8 14.8 0 0 0-3-4.2L12 6a26.1 26.1 0 0 0-2.2 2.5l-1-1a20.9 20.9 0 0 1 2.9-3.3L12 4l1 .8a22.2 22.2 0 0 1 4 5.4c.6 1.2 1 2.4 1 3.6Z" fill-rule="evenodd"/></svg>',italic:'<svg width="24" height="24"><path d="m16.7 4.7-.1.9h-.3c-.6 0-1 0-1.4.3-.3.3-.4.6-.5 1.1l-2.1 9.8v.6c0 .5.4.8 1.4.8h.2l-.2.8H8l.2-.8h.2c1.1 0 1.8-.5 2-1.5l2-9.8.1-.5c0-.6-.4-.8-1.4-.8h-.3l.2-.9h5.8Z" fill-rule="evenodd"/></svg>',language:'<svg width="24" height="24"><path d="M12 3a9 9 0 1 1 0 18 9 9 0 0 1 0-18Zm4.3 13.3c-.5 1-1.2 2-2 2.9a7.5 7.5 0 0 0 3.2-2.1l-.2-.2a6 6 0 0 0-1-.6Zm-8.6 0c-.5.2-.9.5-1.2.8.9 1 2 1.7 3.2 2a10 10 0 0 1-2-2.8Zm3.6-.8c-.8 0-1.6.1-2.2.3.5 1 1.2 1.9 2.1 2.7Zm1.5 0v3c.9-.8 1.6-1.7 2.1-2.7-.6-.2-1.4-.3-2.1-.3Zm-6-2.7H4.5c.2 1 .5 2.1 1 3h.3l1.3-1a10 10 0 0 1-.3-2Zm12.7 0h-2.3c0 .7-.1 1.4-.3 2l1.6 1.1c.5-1 .9-2 1-3.1Zm-3.8 0h-3V14c1 0 2 .1 2.7.4.2-.5.3-1 .3-1.6Zm-4.4 0h-3l.3 1.6c.8-.3 1.7-.4 2.7-.4v-1.3Zm-5.5-5c-.7 1-1.1 2.2-1.3 3.5h2.3c0-1 .2-1.8.5-2.6l-1.5-1Zm2.9 1.4v.1c-.2.6-.4 1.3-.4 2h3V9.4c-1 0-1.8-.1-2.6-.3Zm6.6 0h-.1l-2.4.3v1.8h3l-.5-2.1Zm3-1.4-.3.1-1.3.8c.3.8.5 1.6.5 2.6h2.3a7.5 7.5 0 0 0-1.3-3.5Zm-9 0 2 .2V5.5a9 9 0 0 0-2 2.2Zm3.5-2.3V8c.6 0 1.3 0 1.9-.2a9 9 0 0 0-2-2.3Zm-3-.7h-.1c-1.1.4-2.1 1-3 1.8l1.2.7a10 10 0 0 1 1.9-2.5Zm4.4 0 .1.1a10 10 0 0 1 1.8 2.4l1.1-.7a7.5 7.5 0 0 0-3-1.8Z"/></svg>',"line-height":'<svg width="24" height="24"><path d="M21 5a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zM7 3.6l3.7 3.7a1 1 0 0 1-1.3 1.5h-.1L8 7.3v9.2l1.3-1.3a1 1 0 0 1 1.3 0h.1c.4.4.4 1 0 1.3v.1L7 20.4l-3.7-3.7a1 1 0 0 1 1.3-1.5h.1L6 16.7V7.4L4.7 8.7a1 1 0 0 1-1.3 0h-.1a1 1 0 0 1 0-1.3v-.1L7 3.6z"/></svg>',line:'<svg width="24" height="24"><path d="m15 9-8 8H4v-3l8-8 3 3Zm1-1-3-3 1-1h1c-.2 0 0 0 0 0l2 2s0 .2 0 0v1l-1 1ZM4 18h16v2H4v-2Z" fill-rule="evenodd"/></svg>',link:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2Zm11.6-.6a1 1 0 0 1-1.4-1.4l2-2a2 2 0 1 0-2.6-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2Z" fill-rule="nonzero"/></svg>',"list-bull-circle":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M11 16a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6ZM11 26a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6ZM11 36a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6Z" fill-rule="nonzero"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-default":'<svg width="48" height="48"><g fill-rule="evenodd"><circle cx="11" cy="14" r="3"/><circle cx="11" cy="24" r="3"/><circle cx="11" cy="34" r="3"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-square":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M8 11h6v6H8zM8 21h6v6H8zM8 31h6v6H8z"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-num-default-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 17v-4.8h-.1l-1.5 1v-1.1l1.6-1.1h1.2v6zM33.3 17.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm1.7 5.7c0-1.2 1-2 2.2-2 1.3 0 2.1.8 2.1 1.8 0 .7-.3 1.2-1.3 2.2l-1.2 1v.2h2.6v1h-4.3v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H35zm-1.7 4.3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm3.2 7.3v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H35c0-1.1 1-1.8 2.2-1.8 1.2 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.7.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .6 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm-3.3 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z"/></g></svg>',"list-num-default":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10 17v-4.8l-1.5 1v-1.1l1.6-1h1.2V17h-1.2Zm3.6.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm-5 5.7c0-1.2.8-2 2.1-2s2.1.8 2.1 1.8c0 .7-.3 1.2-1.4 2.2l-1.1 1v.2h2.6v1H8.6v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H8.5Zm6.3 4.3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM10 34.4v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H8.6c0-1.1 1-1.8 2.2-1.8 1.3 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.8.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .7 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7Zm4.7 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7Z"/></g></svg>',"list-num-lower-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M36.5 16c-.9 0-1.5-.5-1.5-1.3s.6-1.3 1.8-1.4h1v-.4c0-.4-.2-.6-.7-.6-.4 0-.7.1-.8.4h-1.1c0-.8.8-1.4 2-1.4S39 12 39 13V16h-1.2v-.6c-.3.4-.8.7-1.4.7Zm.4-.8c.6 0 1-.4 1-.9V14h-1c-.5.1-.7.3-.7.6 0 .4.3.6.7.6ZM33.1 16.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7ZM37.7 26c-.7 0-1.2-.2-1.5-.7v.7H35v-6.3h1.2v2.5c.3-.5.8-.9 1.5-.9 1.1 0 1.8 1 1.8 2.4 0 1.5-.7 2.4-1.8 2.4Zm-.5-3.6c-.6 0-1 .5-1 1.3s.4 1.4 1 1.4c.7 0 1-.6 1-1.4 0-.8-.3-1.3-1-1.3ZM33.2 26.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm6 7h-1c-.1-.5-.4-.8-1-.8s-1 .5-1 1.4c0 1 .4 1.4 1 1.4.5 0 .9-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm-6.1 3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.3 15.2c.5 0 1-.4 1-.9V14h-1c-.5.1-.8.3-.8.6 0 .4.3.6.8.6Zm-.4.9c-1 0-1.5-.6-1.5-1.4 0-.8.6-1.3 1.7-1.4h1.1v-.4c0-.4-.2-.6-.7-.6-.5 0-.8.1-.9.4h-1c0-.8.8-1.4 2-1.4 1.1 0 1.8.6 1.8 1.6V16h-1.1v-.6h-.1c-.2.4-.7.7-1.3.7Zm4.6 0c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-3.2 10c-.6 0-1.2-.3-1.4-.8v.7H8.5v-6.3H10v2.5c.3-.5.8-.9 1.4-.9 1.2 0 1.9 1 1.9 2.4 0 1.5-.7 2.4-1.9 2.4Zm-.4-3.7c-.7 0-1 .5-1 1.3s.3 1.4 1 1.4c.6 0 1-.6 1-1.4 0-.8-.4-1.3-1-1.3Zm4 3.7c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-2.2 7h-1.2c0-.5-.4-.8-.9-.8-.6 0-1 .5-1 1.4 0 1 .4 1.4 1 1.4.5 0 .8-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7Zm1.8 3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-greek-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 16c-1.2 0-2-.8-2-2.3 0-1.5.8-2.4 2-2.4.6 0 1 .4 1.3 1v-.9H40v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1-.7h-.2c-.2.4-.7.8-1.3.8Zm.3-1c.6 0 1-.5 1-1.3s-.4-1.3-1-1.3-1 .5-1 1.3.4 1.4 1 1.4ZM33.3 16.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM36 21.9c0-1.5.8-2.3 2.1-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.9 1.3.9.3 1.3.8 1.3 1.7 0 1.2-.7 1.9-1.8 1.9-.6 0-1.1-.3-1.4-.8v2.2H36V22Zm1.8 1.2v-1h.3c.5 0 .9-.2.9-.7 0-.5-.3-.8-.9-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1 1.3s1-.4 1-1-.4-1-1.2-1h-.3ZM33.3 26.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM37.1 34.6 34.8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.2.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2Zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1ZM33.3 36.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-greek":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.5 15c.7 0 1-.5 1-1.3s-.3-1.3-1-1.3c-.5 0-.9.5-.9 1.3s.4 1.4 1 1.4Zm-.3 1c-1.1 0-1.8-.8-1.8-2.3 0-1.5.7-2.4 1.8-2.4.7 0 1.1.4 1.3 1h.1v-.9h1.2v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1.1-.7h-.1c-.2.4-.7.8-1.4.8Zm5 .1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7Zm-4.9 7v-1h.3c.6 0 1-.2 1-.7 0-.5-.4-.8-1-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1.1 1.3.6 0 1-.4 1-1s-.5-1-1.3-1h-.3ZM8.6 22c0-1.5.7-2.3 2-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.8 1.3.8.3 1.3.8 1.3 1.7 0 1.2-.8 1.9-1.9 1.9-.6 0-1.1-.3-1.3-.8v2.2H8.5V22Zm6.2 4.2c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm-4.5 8.5L8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.1.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2Zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1Zm4.5.5c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M32.9 16v-1.2h-1.3V16H33Zm0 10v-1.2h-1.3V26H33Zm0 10v-1.2h-1.3V36H33Z"/><path fill-rule="nonzero" d="M36 21h-1.5v5H36zM36 31h-1.5v5H36zM39 21h-1.5v5H39zM39 31h-1.5v5H39zM42 31h-1.5v5H42zM36 11h-1.5v5H36zM36 19h-1.5v1H36zM36 29h-1.5v1H36zM39 19h-1.5v1H39zM39 29h-1.5v1H39zM42 29h-1.5v1H42zM36 9h-1.5v1H36z"/></g></svg>',"list-num-lower-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 16v-1.2h1.3V16H15Zm0 10v-1.2h1.3V26H15Zm0 10v-1.2h1.3V36H15Z"/><path fill-rule="nonzero" d="M12 21h1.5v5H12zM12 31h1.5v5H12zM9 21h1.5v5H9zM9 31h1.5v5H9zM6 31h1.5v5H6zM12 11h1.5v5H12zM12 19h1.5v1H12zM12 29h1.5v1H12zM9 19h1.5v1H9zM9 29h1.5v1H9zM6 29h1.5v1H6zM12 9h1.5v1H12z"/></g></svg>',"list-num-upper-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="m39.3 17-.5-1.4h-2l-.5 1.4H35l2-6h1.6l2 6h-1.3Zm-1.6-4.7-.7 2.3h1.6l-.8-2.3ZM33.4 17c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm4.7 9.9h-2.7v-6H38c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7Zm-1.4-5v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1Zm0 4h1.1c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9h-1.1V26ZM33 27.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm4.9 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2Zm-4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-upper-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="m12.6 17-.5-1.4h-2L9.5 17H8.3l2-6H12l2 6h-1.3ZM11 12.3l-.7 2.3h1.6l-.8-2.3Zm4.7 4.8c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7ZM11.4 27H8.7v-6h2.6c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7ZM10 22v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1Zm0 4H11c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9H10V26Zm5.4 1.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-4.1 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2Zm4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-upper-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M31.6 17v-1.2H33V17h-1.3Zm0 10v-1.2H33V27h-1.3Zm0 10v-1.2H33V37h-1.3Z"/><path fill-rule="nonzero" d="M34.5 20H36v7h-1.5zM34.5 30H36v7h-1.5zM37.5 20H39v7h-1.5zM37.5 30H39v7h-1.5zM40.5 30H42v7h-1.5zM34.5 10H36v7h-1.5z"/></g></svg>',"list-num-upper-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 17v-1.2h1.3V17H15Zm0 10v-1.2h1.3V27H15Zm0 10v-1.2h1.3V37H15Z"/><path fill-rule="nonzero" d="M12 20h1.5v7H12zM12 30h1.5v7H12zM9 20h1.5v7H9zM9 30h1.5v7H9zM6 30h1.5v7H6zM12 10h1.5v7H12z"/></g></svg>',lock:'<svg width="24" height="24"><path d="M16.3 11c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H8V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h.3ZM10 8v3h4V8a1 1 0 0 0-.3-.7A1 1 0 0 0 13 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7Z" fill-rule="evenodd"/></svg>',ltr:'<svg width="24" height="24"><path d="M11 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 7.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L11 5ZM4.4 16.2 6.2 15l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6Z" fill-rule="evenodd"/></svg>',minus:'<svg width="24" height="24"><path d="M19 11a1 1 0 0 1 .1 2H5a1 1 0 0 1-.1-2H19Z"/></svg>',"more-drawer":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Z" fill-rule="nonzero"/></svg>',"new-document":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3ZM17 19H7V5h6v4h4v10Z" fill-rule="nonzero"/></svg>',"new-tab":'<svg width="24" height="24"><path d="m15 13 2-2v8H5V7h8l-2 2H7v8h8v-4Zm4-8v5.5l-2-2-5.6 5.5H10v-1.4L15.5 7l-2-2H19Z" fill-rule="evenodd"/></svg>',"non-breaking":'<svg width="24" height="24"><path d="M11 11H8a1 1 0 1 1 0-2h3V6c0-.6.4-1 1-1s1 .4 1 1v3h3c.6 0 1 .4 1 1s-.4 1-1 1h-3v3c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-3Zm10 4v5H3v-5c0-.6.4-1 1-1s1 .4 1 1v3h14v-3c0-.6.4-1 1-1s1 .4 1 1Z" fill-rule="evenodd"/></svg>',notice:'<svg width="24" height="24"><path d="M15.5 4 20 8.5v7L15.5 20h-7L4 15.5v-7L8.5 4h7ZM13 17v-2h-2v2h2Zm0-4V7h-2v6h2Z" fill-rule="evenodd" clip-rule="evenodd"/></svg>',"ordered-list-rtl":'<svg width="24" height="24"><path d="M6 17h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 1 1 0-2Zm13-1v3.5a.5.5 0 1 1-1 0V5h-.5a.5.5 0 1 1 0-1H19Zm-1 8.8.2.2h1.3a.5.5 0 1 1 0 1h-1.6a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2h-1.3a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3Zm2 4.2v2c0 .6-.4 1-1 1h-1.5a.5.5 0 0 1 0-1h1.2a.3.3 0 1 0 0-.6h-1.3a.4.4 0 1 1 0-.8h1.3a.3.3 0 0 0 0-.6h-1.2a.5.5 0 1 1 0-1H19c.6 0 1 .4 1 1Z" fill-rule="evenodd"/></svg>',"ordered-list":'<svg width="24" height="24"><path d="M10 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 1 1 0-2ZM6 4v3.5c0 .3-.2.5-.5.5a.5.5 0 0 1-.5-.5V5h-.5a.5.5 0 0 1 0-1H6Zm-1 8.8.2.2h1.3c.3 0 .5.2.5.5s-.2.5-.5.5H4.9a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2H4.5a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3ZM7 17v2c0 .6-.4 1-1 1H4.5a.5.5 0 0 1 0-1h1.2c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.4a.4.4 0 1 1 0-.8h1.3c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.5a.5.5 0 1 1 0-1H6c.6 0 1 .4 1 1Z" fill-rule="evenodd"/></svg>',orientation:'<svg width="24" height="24"><path d="M7.3 6.4 1 13l6.4 6.5 6.5-6.5-6.5-6.5ZM3.7 13l3.6-3.7L11 13l-3.7 3.7-3.6-3.7ZM12 6l2.8 2.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0L9.2 5.7a.8.8 0 0 1 0-1.2L13.6.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L12 4h1a9 9 0 1 1-4.3 16.9l1.5-1.5A7 7 0 1 0 13 6h-1Z" fill-rule="nonzero"/></svg>',outdent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2Zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2Zm1.6-3.8a1 1 0 0 1-1.2 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 0 1 1.2 1.6L6.8 12l1.8 1.2Z" fill-rule="evenodd"/></svg>',"page-break":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M5 11c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1h-1a1 1 0 0 1 0-2Zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2ZM7 3v5h10V3c0-.6.4-1 1-1s1 .4 1 1v7H5V3c0-.6.4-1 1-1s1 .4 1 1ZM6 22a1 1 0 0 1-1-1v-7h14v7c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5H7v5c0 .6-.4 1-1 1Z"/></g></svg>',paragraph:'<svg width="24" height="24"><path fill-rule="evenodd" d="M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5Z"/></svg>',"paste-column-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h7v2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm8 7v12h-6V8h6Zm-1.5 1.5h-3v9h3v-9ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-column-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V18c0 1-.8 2-1.9 2H11v-2h7V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v2H4V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm-2 7v12H4V8h6ZM8.5 9.5h-3v9h3v-9ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-row-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V11h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h14c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm10 11v5H8v-5h14Zm-1.5 1.5h-11v2h11v-2ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-row-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h12v-4h2v4c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm10 7v5H8V8h14Zm-1.5 1.5h-11v2h11v-2ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-text":'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9ZM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1Zm1.5-9.5v9h9v-9h-9ZM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1Zm0 9h6v2h-.5l-.5-1h-1v4h.8v1h-3.6v-1h.8v-4h-1l-.5 1H12v-2Z" fill-rule="nonzero"/></svg>',paste:'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9ZM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1Zm1.5-9.5v9h9v-9h-9ZM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1Z" fill-rule="nonzero"/></svg>',"permanent-pen":'<svg width="24" height="24"><path d="M10.5 17.5 8 20H3v-3l3.5-3.5a2 2 0 0 1 0-3L14 3l1 1-7.3 7.3a1 1 0 0 0 0 1.4l3.6 3.6c.4.4 1 .4 1.4 0L20 9l1 1-7.6 7.6a2 2 0 0 1-2.8 0l-.1-.1Z" fill-rule="nonzero"/></svg>',plus:'<svg width="24" height="24"><path d="M12 4c.5 0 1 .4 1 .9V11h6a1 1 0 0 1 .1 2H13v6a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H11V5c0-.6.4-1 1-1Z"/></svg>',preferences:'<svg width="24" height="24"><path d="m20.1 13.5-1.9.2a5.8 5.8 0 0 1-.6 1.5l1.2 1.5c.4.4.3 1 0 1.4l-.7.7a1 1 0 0 1-1.4 0l-1.5-1.2a6.2 6.2 0 0 1-1.5.6l-.2 1.9c0 .5-.5.9-1 .9h-1a1 1 0 0 1-1-.9l-.2-1.9a5.8 5.8 0 0 1-1.5-.6l-1.5 1.2a1 1 0 0 1-1.4 0l-.7-.7a1 1 0 0 1 0-1.4l1.2-1.5a6.2 6.2 0 0 1-.6-1.5l-1.9-.2a1 1 0 0 1-.9-1v-1c0-.5.4-1 .9-1l1.9-.2a5.8 5.8 0 0 1 .6-1.5L5.2 7.3a1 1 0 0 1 0-1.4l.7-.7a1 1 0 0 1 1.4 0l1.5 1.2a6.2 6.2 0 0 1 1.5-.6l.2-1.9c0-.5.5-.9 1-.9h1c.5 0 1 .4 1 .9l.2 1.9a5.8 5.8 0 0 1 1.5.6l1.5-1.2a1 1 0 0 1 1.4 0l.7.7c.3.4.4 1 0 1.4l-1.2 1.5a6.2 6.2 0 0 1 .6 1.5l1.9.2c.5 0 .9.5.9 1v1c0 .5-.4 1-.9 1ZM12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z" fill-rule="evenodd"/></svg>',preview:'<svg width="24" height="24"><path d="M3.5 12.5c.5.8 1.1 1.6 1.8 2.3 2 2 4.2 3.2 6.7 3.2s4.7-1.2 6.7-3.2a16.2 16.2 0 0 0 2.1-2.8 15.7 15.7 0 0 0-2.1-2.8c-2-2-4.2-3.2-6.7-3.2a9.3 9.3 0 0 0-6.7 3.2A16.2 16.2 0 0 0 3.2 12c0 .2.2.3.3.5Zm-2.4-1 .7-1.2L4 7.8C6.2 5.4 8.9 4 12 4c3 0 5.8 1.4 8.1 3.8a18.2 18.2 0 0 1 2.8 3.7v1l-.7 1.2-2.1 2.5c-2.3 2.4-5 3.8-8.1 3.8-3 0-5.8-1.4-8.1-3.8a18.2 18.2 0 0 1-2.8-3.7 1 1 0 0 1 0-1Zm12-3.3a2 2 0 1 0 2.7 2.6 4 4 0 1 1-2.6-2.6Z" fill-rule="nonzero"/></svg>',print:'<svg width="24" height="24"><path d="M18 8H6a3 3 0 0 0-3 3v6h2v3h14v-3h2v-6a3 3 0 0 0-3-3Zm-1 10H7v-4h10v4Zm.5-5c-.8 0-1.5-.7-1.5-1.5s.7-1.5 1.5-1.5 1.5.7 1.5 1.5-.7 1.5-1.5 1.5Zm.5-8H6v2h12V5Z" fill-rule="nonzero"/></svg>',quote:'<svg width="24" height="24"><path d="M7.5 17h.9c.4 0 .7-.2.9-.6L11 13V8c0-.6-.4-1-1-1H6a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3Zm8 0h.9c.4 0 .7-.2.9-.6L19 13V8c0-.6-.4-1-1-1h-4a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3Z" fill-rule="nonzero"/></svg>',redo:'<svg width="24" height="24"><path d="M17.6 10H12c-2.8 0-4.4 1.4-4.9 3.5-.4 2 .3 4 1.4 4.6a1 1 0 1 1-1 1.8c-2-1.2-2.9-4.1-2.3-6.8.6-3 3-5.1 6.8-5.1h5.6l-3.3-3.3a1 1 0 1 1 1.4-1.4l5 5a1 1 0 0 1 0 1.4l-5 5a1 1 0 0 1-1.4-1.4l3.3-3.3Z" fill-rule="nonzero"/></svg>',reload:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="m5 22.1-1.2-4.7v-.2a1 1 0 0 1 1-1l5 .4a1 1 0 1 1-.2 2l-2.2-.2a7.8 7.8 0 0 0 8.4.2 7.5 7.5 0 0 0 3.5-6.4 1 1 0 1 1 2 0 9.5 9.5 0 0 1-4.5 8 9.9 9.9 0 0 1-10.2 0l.4 1.4a1 1 0 1 1-2 .5ZM13.6 7.4c0-.5.5-1 1-.9l2.8.2a8 8 0 0 0-9.5-1 7.5 7.5 0 0 0-3.6 7 1 1 0 0 1-2 0 9.5 9.5 0 0 1 4.5-8.6 10 10 0 0 1 10.9.3l-.3-1a1 1 0 0 1 2-.5l1.1 4.8a1 1 0 0 1-1 1.2l-5-.4a1 1 0 0 1-.9-1Z"/></g></svg>',"remove-formatting":'<svg width="24" height="24"><path d="M13.2 6a1 1 0 0 1 0 .2l-2.6 10a1 1 0 0 1-1 .8h-.2a.8.8 0 0 1-.8-1l2.6-10H8a1 1 0 1 1 0-2h9a1 1 0 0 1 0 2h-3.8ZM5 18h7a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Zm13 1.5L16.5 18 15 19.5a.7.7 0 0 1-1-1l1.5-1.5-1.5-1.5a.7.7 0 0 1 1-1l1.5 1.5 1.5-1.5a.7.7 0 0 1 1 1L17.5 17l1.5 1.5a.7.7 0 0 1-1 1Z" fill-rule="evenodd"/></svg>',remove:'<svg width="24" height="24"><path d="M16 7h3a1 1 0 0 1 0 2h-1v9a3 3 0 0 1-3 3H9a3 3 0 0 1-3-3V9H5a1 1 0 1 1 0-2h3V6a3 3 0 0 1 3-3h2a3 3 0 0 1 3 3v1Zm-2 0V6c0-.6-.4-1-1-1h-2a1 1 0 0 0-1 1v1h4Zm2 2H8v9c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V9Zm-7 3a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4Zm4 0a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4Z" fill-rule="nonzero"/></svg>',"resize-handle":'<svg width="10" height="10"><g fill-rule="nonzero"><path d="M8.1 1.1A.5.5 0 1 1 9 2l-7 7A.5.5 0 1 1 1 8l7-7ZM8.1 5.1A.5.5 0 1 1 9 6l-3 3A.5.5 0 1 1 5 8l3-3Z"/></g></svg>',resize:'<svg width="24" height="24"><path d="M4 5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h6c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3H7.4L18 16.6V13c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v6c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-6a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3.6L6 7.4V11c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3A1 1 0 0 1 4 11V5Z" fill-rule="evenodd"/></svg>',"restore-draft":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1Z"/><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></g></svg>',"rotate-left":'<svg width="24" height="24"><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></svg>',"rotate-right":'<svg width="24" height="24"><path d="M20 8V5a1 1 0 0 1 2 0v6c0 .6-.4 1-1 1h-6a1 1 0 0 1 0-2h4.3L16 7A7.2 7.2 0 0 0 7.7 6a7 7 0 0 0 3 13.1c1.9.1 3.7-.5 5-1.7a1 1 0 0 1 1.4 1.5A9.2 9.2 0 0 1 2.2 14c-.9-3.9 1-8 4.5-9.9 3.5-1.9 8-1.3 10.8 1.5L20 8Z" fill-rule="nonzero"/></svg>',rtl:'<svg width="24" height="24"><path d="M8 5h8v2h-2v12h-2V7h-2v12H8v-7c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 4.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L8 5Zm12 11.2a1 1 0 1 1-1 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 1 1 1 1.6L18.4 15l1.8 1.2Z" fill-rule="evenodd"/></svg>',save:'<svg width="24" height="24"><path d="M5 16h14a2 2 0 0 1 2 2v2a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-2c0-1.1.9-2 2-2Zm0 2v2h14v-2H5Zm10 0h2v2h-2v-2Zm-4-6.4L8.7 9.3a1 1 0 1 0-1.4 1.4l4 4c.4.4 1 .4 1.4 0l4-4a1 1 0 1 0-1.4-1.4L13 11.6V4a1 1 0 0 0-2 0v7.6Z" fill-rule="nonzero"/></svg>',search:'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Z" fill-rule="nonzero"/></svg>',"select-all":'<svg width="24" height="24"><path d="M3 5h2V3a2 2 0 0 0-2 2Zm0 8h2v-2H3v2Zm4 8h2v-2H7v2ZM3 9h2V7H3v2Zm10-6h-2v2h2V3Zm6 0v2h2a2 2 0 0 0-2-2ZM5 21v-2H3c0 1.1.9 2 2 2Zm-2-4h2v-2H3v2ZM9 3H7v2h2V3Zm2 18h2v-2h-2v2Zm8-8h2v-2h-2v2Zm0 8a2 2 0 0 0 2-2h-2v2Zm0-12h2V7h-2v2Zm0 8h2v-2h-2v2Zm-4 4h2v-2h-2v2Zm0-16h2V3h-2v2ZM7 17h10V7H7v10Zm2-8h6v6H9V9Z" fill-rule="nonzero"/></svg>',selected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2Zm3.6 10.9L7 12.3a.7.7 0 0 0-1 1L9.6 17 18 8.6a.7.7 0 0 0 0-1 .7.7 0 0 0-1 0l-7.4 7.3Z"/></svg>',settings:'<svg width="24" height="24"><path d="M11 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V8H5a1 1 0 1 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.5V6ZM8 8h2V6H8v2Zm9 2.8v.2h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v.3c0 .2 0 .3-.2.5l-.6.2h-2.4c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V13H5a1 1 0 0 1 0-2h8v-.3c0-.2 0-.3.2-.5l.6-.2h2.4c.3 0 .4 0 .6.2l.2.6ZM14 13h2v-2h-2v2Zm-3 2.8v.2h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V18H5a1 1 0 0 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.6ZM8 18h2v-2H8v2Z" fill-rule="evenodd"/></svg>',sharpen:'<svg width="24" height="24"><path d="m16 6 4 4-8 9-8-9 4-4h8Zm-4 10.2 5.5-6.2-.1-.1H12v-.3h5.1l-.2-.2H12V9h4.6l-.2-.2H12v-.3h4.1l-.2-.2H12V8h3.6l-.2-.2H8.7L6.5 10l.1.1H12v.3H6.9l.2.2H12v.3H7.3l.2.2H12v.3H7.7l.3.2h4v.3H8.2l.2.2H12v.3H8.6l.3.2H12v.3H9l.3.2H12v.3H9.5l.2.2H12v.3h-2l.2.2H12v.3h-1.6l.2.2H12v.3h-1.1l.2.2h.9v.3h-.7l.2.2h.5v.3h-.3l.3.2Z" fill-rule="evenodd"/></svg>',sourcecode:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M9.8 15.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0l-4.4-4.1a.8.8 0 0 1 0-1.2l4.4-4.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L6 12l3.8 3.7ZM14.2 15.7c-.3.3-.3.8 0 1 .4.4.9.4 1.2 0l4.4-4.1c.3-.3.3-.9 0-1.2l-4.4-4.2a.8.8 0 0 0-1.2 0c-.3.3-.3.8 0 1.1L18 12l-3.8 3.7Z"/></g></svg>',"spell-check":'<svg width="24" height="24"><path d="M6 8v3H5V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h2c.3 0 .5.1.7.3.2.2.3.4.3.7v6H8V8H6Zm0-3v2h2V5H6Zm13 0h-3v5h3v1h-3a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3v1Zm-5 1.5-.1.7c-.1.2-.3.3-.6.3.3 0 .5.1.6.3l.1.7V10c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-3V4h3c.3 0 .5.1.7.3.2.2.3.4.3.7v1.5ZM13 10V8h-2v2h2Zm0-3V5h-2v2h2Zm3 5 1 1-6.5 7L7 15.5l1.3-1 2.2 2.2L16 12Z" fill-rule="evenodd"/></svg>',"strike-through":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M15.6 8.5c-.5-.7-1-1.1-1.3-1.3-.6-.4-1.3-.6-2-.6-2.7 0-2.8 1.7-2.8 2.1 0 1.6 1.8 2 3.2 2.3 4.4.9 4.6 2.8 4.6 3.9 0 1.4-.7 4.1-5 4.1A6.2 6.2 0 0 1 7 16.4l1.5-1.1c.4.6 1.6 2 3.7 2 1.6 0 2.5-.4 3-1.2.4-.8.3-2-.8-2.6-.7-.4-1.6-.7-2.9-1-1-.2-3.9-.8-3.9-3.6C7.6 6 10.3 5 12.4 5c2.9 0 4.2 1.6 4.7 2.4l-1.5 1.1Z"/><path d="M5 11h14a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Z" fill-rule="nonzero"/></g></svg>',subscript:'<svg width="24" height="24"><path d="m10.4 10 4.6 4.6-1.4 1.4L9 11.4 4.4 16 3 14.6 7.6 10 3 5.4 4.4 4 9 8.6 13.6 4 15 5.4 10.4 10ZM21 19h-5v-1l1-.8 1.7-1.6c.3-.4.5-.8.5-1.2 0-.3 0-.6-.2-.7-.2-.2-.5-.3-.9-.3a2 2 0 0 0-.8.2l-.7.3-.4-1.1 1-.6 1.2-.2c.8 0 1.4.3 1.8.7.4.4.6.9.6 1.5s-.2 1.1-.5 1.6a8 8 0 0 1-1.3 1.3l-.6.6h2.6V19Z" fill-rule="nonzero"/></svg>',superscript:'<svg width="24" height="24"><path d="M15 9.4 10.4 14l4.6 4.6-1.4 1.4L9 15.4 4.4 20 3 18.6 7.6 14 3 9.4 4.4 8 9 12.6 13.6 8 15 9.4Zm5.9 1.6h-5v-1l1-.8 1.7-1.6c.3-.5.5-.9.5-1.3 0-.3 0-.5-.2-.7-.2-.2-.5-.3-.9-.3l-.8.2-.7.4-.4-1.2c.2-.2.5-.4 1-.5.3-.2.8-.2 1.2-.2.8 0 1.4.2 1.8.6.4.4.6 1 .6 1.6 0 .5-.2 1-.5 1.5l-1.3 1.4-.6.5h2.6V11Z" fill-rule="nonzero"/></svg>',"table-caption":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="12" height="2" x="3" y="4" rx="1"/><path d="M19 8a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-8c0-1.1.9-2 2-2h14ZM5 15v3h6v-3H5Zm14 0h-6v3h6v-3Zm0-5h-6v3h6v-3ZM5 13h6v-3H5v3Z"/></g></svg>',"table-cell-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M13 4v9H3V6c0-1.1.9-2 2-2h8Zm-2 2H5v5h6V6Z"/><path fill-rule="nonzero" d="M13 4h6a2 2 0 0 1 2 2v7h-8v-2h6V6h-6V4Z" opacity=".2"/><path d="m18 20-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3.1.2-2.4 2 .7 3z"/><path fill-rule="nonzero" d="M3 13v5c0 1.1.9 2 2 2h8v-7h-2v5H5v-5H3Z" opacity=".2"/></g></svg>',"table-cell-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9H5v5h6v-5Zm8 0h-6v5h6v-5Zm-8-7H5v5h6V6Z"/></svg>',"table-cell-select-all":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v12h14V6Z"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2Z" opacity=".2"/></g></svg>',"table-cell-select-inner":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v12h14V6Z" opacity=".2"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2Z"/></g></svg>',"table-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v7h-8v7H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9H5v5h6v-5Zm8-7h-6v5h6V6Zm-8 0H5v5h6V6Z"/><path d="m18 20-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3.1.2-2.4 2 .7 3z"/></g></svg>',"table-delete-column":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-4 4h-2V6h-2v2H9V6H5v12h4v-2h2v2h2v-2h2v2h4V6h-4v2Zm.3.5 1 1.2-3 2.3 3 2.3-1 1.2L12 13l-3.3 2.6-1-1.2 3-2.3-3-2.3 1-1.2L12 11l3.3-2.5Z"/></svg>',"table-delete-row":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v3h2.5v2H5v2h2.5v2H5v3h14v-3h-2.5v-2H19v-2h-2.5V9H19V6Zm-4.7 1.8 1.2 1L13 12l2.6 3.3-1.2 1-2.3-3-2.3 3-1.2-1L11 12 8.5 8.7l1.2-1 2.3 3 2.3-3Z"/></svg>',"table-delete-table":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 6v12h14V6H5Z"/><path d="m14.4 8.6 1.1 1-2.4 2.4 2.4 2.4-1.1 1.1-2.4-2.4-2.4 2.4-1-1.1 2.3-2.4-2.3-2.4 1-1 2.4 2.3z"/></g></svg>',"table-insert-column-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M20 4c.6 0 1 .4 1 1v2a1 1 0 0 1-2 0V6h-8v12h8v-1a1 1 0 0 1 2 0v2c0 .5-.4 1-.9 1H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h15ZM9 13H5v5h4v-5Zm7-5c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H17v2a1 1 0 0 1-2 .1V13h-2a1 1 0 0 1-.1-2H15V9c0-.6.4-1 1-1ZM9 6H5v5h4V6Z"/></svg>',"table-insert-column-before":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a1 1 0 0 1-1-1v-2a1 1 0 0 1 2 0v1h8V6H5v1a1 1 0 1 1-2 0V5c0-.6.4-1 1-1h15Zm0 9h-4v5h4v-5ZM8 8c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H9v2a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H7V9c0-.6.4-1 1-1Zm11-2h-4v5h4V6Z"/></svg>',"table-insert-row-above":'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4a1 1 0 1 1 0 2H5v6h14V6h-1a1 1 0 0 1 0-2h2c.6 0 1 .4 1 1v13a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5c0-.6.4-1 1-1h2Zm5 10H5v4h6v-4Zm8 0h-6v4h6v-4ZM12 3c.5 0 1 .4 1 .9V6h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 .1V8H9a1 1 0 0 1 0-2h2V4c0-.6.4-1 1-1Z"/></svg>',"table-insert-row-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M12 13c.5 0 1 .4 1 .9V16h2a1 1 0 0 1 .1 2H13v2a1 1 0 0 1-2 .1V18H9a1 1 0 0 1-.1-2H11v-2c0-.6.4-1 1-1Zm6 7a1 1 0 0 1 0-2h1v-6H5v6h1a1 1 0 0 1 0 2H4a1 1 0 0 1-1-1V6c0-1.1.9-2 2-2h14a2 2 0 0 1 2 2v13c0 .5-.4 1-.9 1H18ZM11 6H5v4h6V6Zm8 0h-6v4h6V6Z"/></svg>',"table-left-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 9h-4v5h4v-5Zm-6 0H9v5h4v-5Zm0-7H9v5h4V6Zm6 0h-4v5h4V6Z"/></svg>',"table-merge-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 15.5V18h3v-2.5H5Zm14-5h-9V18h9v-7.5ZM19 6h-4v2.5h4V6ZM8 6H5v2.5h3V6Zm5 0h-3v2.5h3V6Zm-8 7.5h3v-3H5v3Z"/></svg>',"table-row-numbering-rtl":'<svg width="24" height="24"><path d="M6 4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2h12a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2H6Zm0 12h8v3H6v-3Zm11 0c.6 0 1 .4 1 1v1a1 1 0 0 1-2 0v-1c0-.6.4-1 1-1ZM6 11h8v3H6v-3Zm11 0c.6 0 1 .4 1 1v1a1 1 0 0 1-2 0v-1c0-.6.4-1 1-1ZM6 6h8v3H6V6Zm11 0c.6 0 1 .4 1 1v1a1 1 0 1 1-2 0V7c0-.6.4-1 1-1Z"/></svg>',"table-row-numbering":'<svg width="24" height="24"><path d="M18 4a2 2 0 0 1 2 2v13a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h12Zm0 12h-8v3h8v-3ZM7 16a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1c0-.6-.4-1-1-1Zm11-5h-8v3h8v-3ZM7 11a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1c0-.6-.4-1-1-1Zm11-5h-8v3h8V6ZM7 6a1 1 0 0 0-1 1v1a1 1 0 1 0 2 0V7c0-.6-.4-1-1-1Z"/></svg>',"table-row-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 15v3h6v-3H5Zm14 0h-6v3h6v-3Zm0-9h-6v3h6V6ZM5 9h6V6H5v3Z"/></svg>',"table-split-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM8 15.5H5V18h3v-2.5Zm11-5h-9V18h9v-7.5Zm-2.5 1 1 1-2 2 2 2-1 1-2-2-2 2-1-1 2-2-2-2 1-1 2 2 2-2Zm-8.5-1H5v3h3v-3ZM19 6h-4v2.5h4V6ZM8 6H5v2.5h3V6Zm5 0h-3v2.5h3V6Z"/></svg>',"table-top-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 11H5v3h6v-3Zm8 0h-6v3h6v-3Zm0-5h-6v3h6v-3ZM5 13h6v-3H5v3Z"/></svg>',table:'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 14v4h6v-4H5Zm14 0h-6v4h6v-4Zm0-6h-6v4h6V8ZM5 12h6V8H5v4Z"/></svg>',"template-add":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M9 12v4H5a2 2 0 0 0-2 2v3h9.3a6 6 0 0 1-.3-2H5v-1h7a6 6 0 0 1 .8-2H11v-5l-.8-.6a3 3 0 1 1 3.6 0l-.8.6v4.7a6 6 0 0 1 2-1.9V12a5 5 0 1 0-6 0Z"/><path d="M18 15c.5 0 1 .4 1 .9V18h2a1 1 0 0 1 .1 2H19v2a1 1 0 0 1-2 .1V20h-2a1 1 0 0 1-.1-2H17v-2c0-.6.4-1 1-1Z"/></svg>',template:'<svg width="24" height="24"><path d="M19 19v-1H5v1h14ZM9 16v-4a5 5 0 1 1 6 0v4h4a2 2 0 0 1 2 2v3H3v-3c0-1.1.9-2 2-2h4Zm4 0v-5l.8-.6a3 3 0 1 0-3.6 0l.8.6v5h2Z" fill-rule="nonzero"/></svg>',"temporary-placeholder":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M9 7.6V6h2.5V4.5a.5.5 0 1 1 1 0V6H15v1.6a8 8 0 1 1-6 0Zm-2.6 5.3a.5.5 0 0 0 .3.6c.3 0 .6 0 .6-.3l.1-.2a5 5 0 0 1 3.3-2.8c.3-.1.4-.4.4-.6-.1-.3-.4-.5-.6-.4a6 6 0 0 0-4.1 3.7Z"/><circle cx="14" cy="4" r="1"/><circle cx="12" cy="2" r="1"/><circle cx="10" cy="4" r="1"/></g></svg>',"text-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path class="tox-icon-text-color__color" d="M3 18h18v3H3z"/><path d="M8.7 16h-.8a.5.5 0 0 1-.5-.6l2.7-9c.1-.3.3-.4.5-.4h2.8c.2 0 .4.1.5.4l2.7 9a.5.5 0 0 1-.5.6h-.8a.5.5 0 0 1-.4-.4l-.7-2.2c0-.3-.3-.4-.5-.4h-3.4c-.2 0-.4.1-.5.4l-.7 2.2c0 .3-.2.4-.4.4Zm2.6-7.6-.6 2a.5.5 0 0 0 .5.6h1.6a.5.5 0 0 0 .5-.6l-.6-2c0-.3-.3-.4-.5-.4h-.4c-.2 0-.4.1-.5.4Z"/></g></svg>',"text-size-decrease":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M14 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H4a1 1 0 0 1 0-2h10ZM14 12a1 1 0 1 0 0 2h6a1 1 0 1 0 0-2h-6Z"/></svg>',"text-size-increase":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M14 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H4a1 1 0 0 1 0-2h10ZM17 9a1 1 0 0 0-1 1v2h-2a1 1 0 1 0 0 2h2v2a1 1 0 1 0 2 0v-2h2a1 1 0 1 0 0-2h-2v-2c0-.6-.4-1-1-1Z"/></svg>',toc:'<svg width="24" height="24"><path d="M5 5c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2Zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2Zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm0-4c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2Zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',translate:'<svg width="24" height="24"><path d="m12.7 14.3-.3.7-.4.7-2.2-2.2-3.1 3c-.3.4-.8.4-1 0a.7.7 0 0 1 0-1l3.1-3A12.4 12.4 0 0 1 6.7 9H8a10.1 10.1 0 0 0 1.7 2.4c.5-.5 1-1.1 1.4-1.8l.9-2H4.7a.7.7 0 1 1 0-1.5h4.4v-.7c0-.4.3-.8.7-.8.4 0 .7.4.7.8v.7H15c.4 0 .8.3.8.7 0 .4-.4.8-.8.8h-1.4a12.3 12.3 0 0 1-1 2.4 13.5 13.5 0 0 1-1.7 2.3l1.9 1.8Zm4.3-3 2.7 7.3a.5.5 0 0 1-.4.7 1 1 0 0 1-1-.7l-.6-1.5h-3.4l-.6 1.5a1 1 0 0 1-1 .7.5.5 0 0 1-.4-.7l2.7-7.4a1 1 0 0 1 2 0Zm-2.2 4.4h2.4L16 12.5l-1.2 3.2Z" fill-rule="evenodd"/></svg>',typography:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M17 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H7a1 1 0 0 1 0-2h10Z"/><path d="m17.5 14 .8-1.7 1.7-.8-1.7-.8-.8-1.7-.8 1.7-1.7.8 1.7.8.8 1.7ZM7 14l1 2 2 1-2 1-1 2-1-2-2-1 2-1 1-2Z"/></svg>',underline:'<svg width="24" height="24"><path d="M16 5c.6 0 1 .4 1 1v5.5a4 4 0 0 1-.4 1.8l-1 1.4a5.3 5.3 0 0 1-5.5 1 5 5 0 0 1-1.6-1c-.5-.4-.8-.9-1.1-1.4a4 4 0 0 1-.4-1.8V6c0-.6.4-1 1-1s1 .4 1 1v5.5c0 .3 0 .6.2 1l.6.7a3.3 3.3 0 0 0 2.2.8 3.4 3.4 0 0 0 2.2-.8c.3-.2.4-.5.6-.8l.2-.9V6c0-.6.4-1 1-1ZM8 17h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',undo:'<svg width="24" height="24"><path d="M6.4 8H12c3.7 0 6.2 2 6.8 5.1.6 2.7-.4 5.6-2.3 6.8a1 1 0 0 1-1-1.8c1.1-.6 1.8-2.7 1.4-4.6-.5-2.1-2.1-3.5-4.9-3.5H6.4l3.3 3.3a1 1 0 1 1-1.4 1.4l-5-5a1 1 0 0 1 0-1.4l5-5a1 1 0 0 1 1.4 1.4L6.4 8Z" fill-rule="nonzero"/></svg>',unlink:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2Zm11.6-.6a1 1 0 0 1-1.4-1.4l2.1-2a2 2 0 1 0-2.7-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2ZM7.6 6.3a.8.8 0 0 1-1 1.1L3.3 4.2a.7.7 0 1 1 1-1l3.2 3.1ZM5.1 8.6a.8.8 0 0 1 0 1.5H3a.8.8 0 0 1 0-1.5H5Zm5-3.5a.8.8 0 0 1-1.5 0V3a.8.8 0 0 1 1.5 0V5Zm6 11.8a.8.8 0 0 1 1-1l3.2 3.2a.8.8 0 0 1-1 1L16 17Zm-2.2 2a.8.8 0 0 1 1.5 0V21a.8.8 0 0 1-1.5 0V19Zm5-3.5a.7.7 0 1 1 0-1.5H21a.8.8 0 0 1 0 1.5H19Z" fill-rule="nonzero"/></svg>',unlock:'<svg width="24" height="24"><path d="M16 5c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h-2V8a1 1 0 0 0-.3-.7A1 1 0 0 0 16 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v3h.3c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H4.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H11V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2Z" fill-rule="evenodd"/></svg>',"unordered-list":'<svg width="24" height="24"><path d="M11 5h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2ZM4.5 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Z" fill-rule="evenodd"/></svg>',unselected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2Zm0 1a1 1 0 0 0-1 1v12c0 .6.4 1 1 1h12c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H6Z"/></svg>',upload:'<svg width="24" height="24"><path d="M18 19v-2a1 1 0 0 1 2 0v3c0 .6-.4 1-1 1H5a1 1 0 0 1-1-1v-3a1 1 0 0 1 2 0v2h12ZM11 6.4 8.7 8.7a1 1 0 0 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 1 1-1.4 1.4L13 6.4V16a1 1 0 0 1-2 0V6.4Z" fill-rule="nonzero"/></svg>',user:'<svg width="24" height="24"><path d="M12 24a12 12 0 1 1 0-24 12 12 0 0 1 0 24Zm-8.7-5.3a11 11 0 0 0 17.4 0C19.4 16.3 14.6 15 12 15c-2.6 0-7.4 1.3-8.7 3.7ZM12 13c2.2 0 4-2 4-4.5S14.2 4 12 4 8 6 8 8.5 9.8 13 12 13Z" fill-rule="nonzero"/></svg>',"vertical-align":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="18" height="2" x="3" y="11" rx="1"/><path d="M12 2c.6 0 1 .4 1 1v4l2-1.3a1 1 0 0 1 1.2 1.5l-.1.1-4.1 3-4-3a1 1 0 0 1 1-1.7l2 1.5V3c0-.6.4-1 1-1zm0 11.8 4 2.9a1 1 0 0 1-1 1.7l-2-1.5V21c0 .5-.4 1-.9 1H12a1 1 0 0 1-1-1v-4l-2 1.3a1 1 0 0 1-1.2-.1l-.1-.1a1 1 0 0 1 .1-1.3l.1-.1 4.1-3z"/></g></svg>',visualblocks:'<svg width="24" height="24"><path d="M9 19v2H7v-2h2Zm-4 0v2a2 2 0 0 1-2-2h2Zm8 0v2h-2v-2h2Zm8 0a2 2 0 0 1-2 2v-2h2Zm-4 0v2h-2v-2h2ZM15 7a1 1 0 0 1 0 2v7a1 1 0 0 1-2 0V9h-1v7a1 1 0 0 1-2 0v-4a2.5 2.5 0 0 1-.2-5H15ZM5 15v2H3v-2h2Zm16 0v2h-2v-2h2ZM5 11v2H3v-2h2Zm16 0v2h-2v-2h2ZM5 7v2H3V7h2Zm16 0v2h-2V7h2ZM5 3v2H3c0-1.1.9-2 2-2Zm8 0v2h-2V3h2Zm6 0a2 2 0 0 1 2 2h-2V3ZM9 3v2H7V3h2Zm8 0v2h-2V3h2Z" fill-rule="evenodd"/></svg>',visualchars:'<svg width="24" height="24"><path d="M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5Z" fill-rule="evenodd"/></svg>',warning:'<svg width="24" height="24"><path d="M19.8 18.3c.2.5.3.9 0 1.2-.1.3-.5.5-1 .5H5.2c-.5 0-.9-.2-1-.5-.3-.3-.2-.7 0-1.2L11 4.7l.5-.5.5-.2c.2 0 .3 0 .5.2.2 0 .3.3.5.5l6.8 13.6ZM12 18c.3 0 .5-.1.7-.3.2-.2.3-.4.3-.7a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3Zm.7-3 .3-4a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7l.3 4h1.4Z" fill-rule="evenodd"/></svg>',"zoom-in":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm-1-9a1 1 0 0 1 2 0v6a1 1 0 0 1-2 0V8Zm-2 4a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8Z" fill-rule="nonzero"/></svg>',"zoom-out":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm-3-5a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8Z" fill-rule="nonzero"/></svg>'}});(function(){var a=tinymce.util.Tools.resolve("tinymce.ModelManager");const u=h=>w=>(A=>{const R=typeof A;return A===null?"null":R==="object"&&Array.isArray(A)?"array":R==="object"&&($=j=A,(ee=String).prototype.isPrototypeOf($)||((ie=j.constructor)===null||ie===void 0?void 0:ie.name)===ee.name)?"string":R;var $,j,ee,ie})(w)===h,p=h=>w=>typeof w===h,b=h=>w=>h===w,C=u("string"),S=u("object"),M=u("array"),D=b(null),I=p("boolean"),q=b(void 0),re=h=>!(w=>w==null)(h),fe=p("function"),le=p("number"),ue=()=>{},ke=h=>()=>h,xe=h=>h,me=(h,w)=>h===w;function J(h,...w){return(...A)=>{const R=w.concat(A);return h.apply(null,R)}}const ae=h=>w=>!h(w),De=h=>h(),G=ke(!1),Ae=ke(!0);class ye{constructor(w,A){this.tag=w,this.value=A}static some(w){return new ye(!0,w)}static none(){return ye.singletonNone}fold(w,A){return this.tag?A(this.value):w()}isSome(){return this.tag}isNone(){return!this.tag}map(w){return this.tag?ye.some(w(this.value)):ye.none()}bind(w){return this.tag?w(this.value):ye.none()}exists(w){return this.tag&&w(this.value)}forall(w){return!this.tag||w(this.value)}filter(w){return!this.tag||w(this.value)?this:ye.none()}getOr(w){return this.tag?this.value:w}or(w){return this.tag?this:w}getOrThunk(w){return this.tag?this.value:w()}orThunk(w){return this.tag?this:w()}getOrDie(w){if(this.tag)return this.value;throw new Error(w!=null?w:"Called getOrDie on None")}static from(w){return re(w)?ye.some(w):ye.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(w){this.tag&&w(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}ye.singletonNone=new ye(!1);const Pt=Array.prototype.slice,Ft=Array.prototype.indexOf,qn=Array.prototype.push,wn=(h,w)=>{return A=h,R=w,Ft.call(A,R)>-1;var A,R},Ke=(h,w)=>{for(let A=0,R=h.length;A<R;A++)if(w(h[A],A))return!0;return!1},nn=(h,w)=>{const A=[];for(let R=0;R<h;R++)A.push(w(R));return A},H=(h,w)=>{const A=h.length,R=new Array(A);for(let $=0;$<A;$++){const j=h[$];R[$]=w(j,$)}return R},it=(h,w)=>{for(let A=0,R=h.length;A<R;A++)w(h[A],A)},kn=(h,w)=>{const A=[],R=[];for(let $=0,j=h.length;$<j;$++){const ee=h[$];(w(ee,$)?A:R).push(ee)}return{pass:A,fail:R}},wt=(h,w)=>{const A=[];for(let R=0,$=h.length;R<$;R++){const j=h[R];w(j,R)&&A.push(j)}return A},cn=(h,w,A)=>(((R,$)=>{for(let j=R.length-1;j>=0;j--)$(R[j],j)})(h,(R,$)=>{A=w(A,R,$)}),A),In=(h,w,A)=>(it(h,(R,$)=>{A=w(A,R,$)}),A),pn=(h,w)=>((A,R,$)=>{for(let j=0,ee=A.length;j<ee;j++){const ie=A[j];if(R(ie,j))return ye.some(ie);if($(ie,j))break}return ye.none()})(h,w,G),Sn=(h,w)=>{for(let A=0,R=h.length;A<R;A++)if(w(h[A],A))return ye.some(A);return ye.none()},Q=h=>{const w=[];for(let A=0,R=h.length;A<R;++A){if(!M(h[A]))throw new Error("Arr.flatten item "+A+" was not an array, input: "+h);qn.apply(w,h[A])}return w},xn=(h,w)=>Q(H(h,w)),et=(h,w)=>{for(let A=0,R=h.length;A<R;++A)if(w(h[A],A)!==!0)return!1;return!0},_t=(h,w)=>{const A={};for(let R=0,$=h.length;R<$;R++){const j=h[R];A[String(j)]=w(j,R)}return A},Sr=(h,w)=>w>=0&&w<h.length?ye.some(h[w]):ye.none(),Ht=h=>Sr(h,0),dt=h=>Sr(h,h.length-1),Et=(h,w)=>{for(let A=0;A<h.length;A++){const R=w(h[A],A);if(R.isSome())return R}return ye.none()},ze=Object.keys,oo=Object.hasOwnProperty,Be=(h,w)=>{const A=ze(h);for(let R=0,$=A.length;R<$;R++){const j=A[R];w(h[j],j)}},ne=(h,w)=>Oe(h,(A,R)=>({k:R,v:w(A,R)})),Oe=(h,w)=>{const A={};return Be(h,(R,$)=>{const j=w(R,$);A[j.k]=j.v}),A},Ve=(h,w)=>{const A=[];return Be(h,(R,$)=>{A.push(w(R,$))}),A},yt=h=>Ve(h,xe),Ct=(h,w)=>oo.call(h,w),rn=typeof window!="undefined"?window:Function("return this;")(),Un=(h,w)=>((A,R)=>{let $=R!=null?R:rn;for(let j=0;j<A.length&&$!=null;++j)$=$[A[j]];return $})(h.split("."),w),En=Object.getPrototypeOf,hn=h=>{const w=Un("ownerDocument.defaultView",h);return S(h)&&((A=>((R,$)=>{const j=((ee,ie)=>Un(ee,ie))(R,$);if(j==null)throw new Error(R+" not available on this browser");return j})("HTMLElement",A))(w).prototype.isPrototypeOf(h)||/^HTML\w*Element$/.test(En(h).constructor.name))},Je=h=>h.dom.nodeName.toLowerCase(),qt=h=>h.dom.nodeType,Hn=h=>w=>qt(w)===h,Dn=h=>qt(h)===8||Je(h)==="#comment",Uo=h=>Xn(h)&&hn(h.dom),Xn=Hn(1),so=Hn(3),So=Hn(9),Rr=Hn(11),ur=h=>w=>Xn(w)&&Je(w)===h,vs=(h,w,A)=>{if(!(C(A)||I(A)||le(A)))throw console.error("Invalid call to Attribute.set. Key ",w,":: Value ",A,":: Element ",h),new Error("Attribute value was not simple");h.setAttribute(w,A+"")},ut=(h,w,A)=>{vs(h.dom,w,A)},rt=(h,w)=>{const A=h.dom;Be(w,(R,$)=>{vs(A,$,R)})},Ot=(h,w)=>{const A=h.dom.getAttribute(w);return A===null?void 0:A},Ze=(h,w)=>ye.from(Ot(h,w)),Lt=(h,w)=>{h.dom.removeAttribute(w)},ho=h=>In(h.dom.attributes,(w,A)=>(w[A.name]=A.value,w),{}),io=h=>{if(h==null)throw new Error("Node cannot be null or undefined");return{dom:h}},Dt={fromHtml:(h,w)=>{const A=(w||document).createElement("div");if(A.innerHTML=h,!A.hasChildNodes()||A.childNodes.length>1){const R="HTML does not have a single root node";throw console.error(R,h),new Error(R)}return io(A.childNodes[0])},fromTag:(h,w)=>{const A=(w||document).createElement(h);return io(A)},fromText:(h,w)=>{const A=(w||document).createTextNode(h);return io(A)},fromDom:io,fromPoint:(h,w,A)=>ye.from(h.dom.elementFromPoint(w,A)).map(io)},Zt=(h,w)=>{const A=h.dom;if(A.nodeType!==1)return!1;{const R=A;if(R.matches!==void 0)return R.matches(w);if(R.msMatchesSelector!==void 0)return R.msMatchesSelector(w);if(R.webkitMatchesSelector!==void 0)return R.webkitMatchesSelector(w);if(R.mozMatchesSelector!==void 0)return R.mozMatchesSelector(w);throw new Error("Browser lacks native selectors")}},fn=h=>h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11||h.childElementCount===0,dr=(h,w)=>{const A=w===void 0?document:w.dom;return fn(A)?ye.none():ye.from(A.querySelector(h)).map(Dt.fromDom)},$n=(h,w)=>h.dom===w.dom,Ar=(h,w)=>{const A=h.dom,R=w.dom;return A!==R&&A.contains(R)},xr=Zt,Dr=h=>Dt.fromDom(h.dom.ownerDocument),Xr=h=>So(h)?h:Dr(h),zr=h=>ye.from(h.dom.parentNode).map(Dt.fromDom),bs=h=>ye.from(h.dom.parentElement).map(Dt.fromDom),Ys=(h,w)=>{const A=fe(w)?w:G;let R=h.dom;const $=[];for(;R.parentNode!==null&&R.parentNode!==void 0;){const j=R.parentNode,ee=Dt.fromDom(j);if($.push(ee),A(ee)===!0)break;R=j}return $},Bs=h=>ye.from(h.dom.previousSibling).map(Dt.fromDom),Bi=h=>ye.from(h.dom.nextSibling).map(Dt.fromDom),Ra=h=>H(h.dom.childNodes,Dt.fromDom),wi=(h,w)=>{const A=h.dom.childNodes;return ye.from(A[w]).map(Dt.fromDom)},Pe=(h,w)=>{zr(h).each(A=>{A.dom.insertBefore(w.dom,h.dom)})},ot=(h,w)=>{Bi(h).fold(()=>{zr(h).each(A=>{Tt(A,w)})},A=>{Pe(A,w)})},It=(h,w)=>{(R=>wi(R,0))(h).fold(()=>{Tt(h,w)},R=>{h.dom.insertBefore(w.dom,R.dom)})},Tt=(h,w)=>{h.dom.appendChild(w.dom)},Cn=(h,w)=>{Pe(h,w),Tt(w,h)},Rn=(h,w)=>{it(w,(A,R)=>{const $=R===0?h:w[R-1];ot($,A)})},On=(h,w)=>{it(w,A=>{Tt(h,A)})},To=h=>{h.dom.textContent="",it(Ra(h),w=>{Qn(w)})},Qn=h=>{const w=h.dom;w.parentNode!==null&&w.parentNode.removeChild(w)},fr=h=>{const w=Ra(h);w.length>0&&Rn(h,w),Qn(h)},Ir=(h,w)=>Dt.fromDom(h.dom.cloneNode(w)),mr=h=>Ir(h,!1),Jo=h=>Ir(h,!0),ma=(h,w)=>{const A=Dt.fromTag(w),R=ho(h);return rt(A,R),A},cs=["tfoot","thead","tbody","colgroup"],Mo=(h,w,A)=>({element:h,rowspan:w,colspan:A}),Ne=(h,w,A)=>({element:h,cells:w,section:A}),$e=(h,w,A)=>({element:h,isNew:w,isLocked:A}),vt=(h,w,A,R)=>({element:h,cells:w,section:A,isNew:R}),en=fe(Element.prototype.attachShadow)&&fe(Node.prototype.getRootNode),Yt=ke(en),dn=en?h=>Dt.fromDom(h.dom.getRootNode()):Xr,Eo=h=>Dt.fromDom(h.dom.host),go=h=>{const w=so(h)?h.dom.parentNode:h.dom;if(w==null||w.ownerDocument===null)return!1;const A=w.ownerDocument;return(j=>{const ee=dn(j);return Rr(ie=ee)&&re(ie.dom.host)?ye.some(ee):ye.none();var ie})(Dt.fromDom(w)).fold(()=>A.body.contains(w),(R=go,$=Eo,j=>R($(j))));var R,$},Lo=h=>{const w=h.dom.body;if(w==null)throw new Error("Body is not available yet");return Dt.fromDom(w)},ir=(h,w)=>{let A=[];return it(Ra(h),R=>{w(R)&&(A=A.concat([R])),A=A.concat(ir(R,w))}),A},Er=(h,w,A)=>((R,$,j)=>wt(Ys(R,j),ee=>Zt(ee,w)))(h,0,A),Qo=(h,w)=>((A,R)=>wt(Ra(A),$=>Zt($,w)))(h),qr=(h,w)=>((A,R)=>{const $=R===void 0?document:R.dom;return fn($)?[]:H($.querySelectorAll(A),Dt.fromDom)})(w,h);var Ms=(h,w,A,R,$)=>h(A,R)?ye.some(A):fe($)&&$(A)?ye.none():w(A,R,$);const Xs=(h,w,A)=>{let R=h.dom;const $=fe(A)?A:G;for(;R.parentNode;){R=R.parentNode;const j=Dt.fromDom(R);if(w(j))return ye.some(j);if($(j))break}return ye.none()},Hl=(h,w,A)=>Ms((R,$)=>$(R),Xs,h,w,A),ka=(h,w,A)=>Xs(h,R=>Zt(R,w),A),Sa=(h,w)=>((A,R)=>pn(A.dom.childNodes,$=>{return j=Dt.fromDom($),Zt(j,w);var j}).map(Dt.fromDom))(h),ys=(h,w)=>dr(w,h),ya=(h,w,A)=>Ms((R,$)=>Zt(R,$),ka,h,w,A),Fs=(h,w,A=me)=>h.exists(R=>A(R,w)),Hs=h=>{const w=[],A=R=>{w.push(R)};for(let R=0;R<h.length;R++)h[R].each(A);return w},kf=(h,w)=>h?ye.some(w):ye.none(),zl=(h,w,A)=>w===""||h.length>=w.length&&h.substr(A,A+w.length)===w,yo=(h,w,A=0,R)=>{const $=h.indexOf(w,A);return $!==-1&&(!!q(R)||$+w.length<=R)},Sf=(h,w)=>zl(h,w,0),wa=(h,w)=>zl(h,w,h.length-w.length),qa=(h=>w=>w.replace(h,""))(/^\s+|\s+$/g),lu=h=>h.length>0,xa=h=>h.style!==void 0&&fe(h.style.getPropertyValue),_r=(h,w,A)=>{if(!C(A))throw console.error("Invalid call to CSS.set. Property ",w,":: Value ",A,":: Element ",h),new Error("CSS value must be a string: "+A);xa(h)&&h.style.setProperty(w,A)},Rs=(h,w,A)=>{const R=h.dom;_r(R,w,A)},Do=(h,w)=>{const A=h.dom;Be(w,(R,$)=>{_r(A,$,R)})},Sl=(h,w)=>{const A=h.dom,R=window.getComputedStyle(A).getPropertyValue(w);return R!==""||go(h)?R:an(A,w)},an=(h,w)=>xa(h)?h.style.getPropertyValue(w):"",Fa=(h,w)=>{const A=h.dom,R=an(A,w);return ye.from(R).filter($=>$.length>0)},Ka=(h,w)=>{((A,R)=>{xa(A)&&A.style.removeProperty(R)})(h.dom,w),Fs(Ze(h,"style").map(qa),"")&&Lt(h,"style")},Kr=(h,w,A=0)=>Ze(h,w).map(R=>parseInt(R,10)).getOr(A),Ef=(h,w)=>Kr(h,w,1),wm=h=>ur("col")(h)?Kr(h,"span",1)>1:Ef(h,"colspan")>1,Zr=h=>Ef(h,"rowspan")>1,Lu=(h,w)=>parseInt(Sl(h,w),10),Jr=ke(10),xm=ke(10),Ha=(h,w)=>dc(h,w,Ae),dc=(h,w,A)=>xn(Ra(h),R=>Zt(R,w)?A(R)?[R]:[]:dc(R,w,A)),xi=(h,w)=>((A,R,$=G)=>$(R)?ye.none():wn(A,Je(R))?ye.some(R):ka(R,A.join(","),j=>Zt(j,"table")||$(j)))(["td","th"],h,w),vr=h=>Ha(h,"th,td"),Bu=h=>Zt(h,"colgroup")?Qo(h,"col"):xn(Hu(h),w=>Qo(w,"col")),za=(h,w)=>ya(h,"table",w),Fu=h=>Ha(h,"tr"),Hu=h=>za(h).fold(ke([]),w=>Qo(w,"colgroup")),Yr=(h,w)=>H(h,A=>{if(Je(A)==="colgroup"){const R=H(Bu(A),$=>{const j=Kr($,"span",1);return Mo($,1,j)});return Ne(A,R,"colgroup")}{const R=H(vr(A),$=>{const j=Kr($,"rowspan",1),ee=Kr($,"colspan",1);return Mo($,j,ee)});return Ne(A,R,w(A))}}),el=h=>zr(h).map(w=>{const A=Je(w);return(R=>wn(cs,R))(A)?A:"tbody"}).getOr("tbody"),ws=h=>{const w=Fu(h),A=[...Hu(h),...w];return Yr(A,el)},Fi=h=>{let w,A=!1;return(...R)=>(A||(A=!0,w=h.apply(null,R)),w)},kd=()=>Da(0,0),Da=(h,w)=>({major:h,minor:w}),Sd={nu:Da,detect:(h,w)=>{const A=String(w).toLowerCase();return h.length===0?kd():((R,$)=>{const j=((ie,ve)=>{for(let Me=0;Me<ie.length;Me++){const Le=ie[Me];if(Le.test(ve))return Le}})(R,$);if(!j)return{major:0,minor:0};const ee=ie=>Number($.replace(j,"$"+ie));return Da(ee(1),ee(2))})(h,A)},unknown:kd},_m=(h,w)=>{const A=String(w).toLowerCase();return pn(h,R=>R.search(A))},Hi=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Vl=h=>w=>yo(w,h),Lg=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:h=>yo(h,"edge/")&&yo(h,"chrome")&&yo(h,"safari")&&yo(h,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Hi],search:h=>yo(h,"chrome")&&!yo(h,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:h=>yo(h,"msie")||yo(h,"trident")},{name:"Opera",versionRegexes:[Hi,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Vl("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Vl("firefox")},{name:"Safari",versionRegexes:[Hi,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:h=>(yo(h,"safari")||yo(h,"mobile/"))&&yo(h,"applewebkit")}],oh=[{name:"Windows",search:Vl("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:h=>yo(h,"iphone")||yo(h,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Vl("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:Vl("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Vl("linux"),versionRegexes:[]},{name:"Solaris",search:Vl("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Vl("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:Vl("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Ed={browsers:ke(Lg),oses:ke(oh)},Bg="Edge",Od="Chromium",Fg="Opera",Td="Firefox",Cm="Safari",us=h=>{const w=h.current,A=h.version,R=$=>()=>w===$;return{current:w,version:A,isEdge:R(Bg),isChromium:R(Od),isIE:R("IE"),isOpera:R(Fg),isFirefox:R(Td),isSafari:R(Cm)}},Fc=()=>us({current:void 0,version:Sd.unknown()}),Ue=us,km="Windows",Sm="Android",tl="Linux",Of="macOS",Ur="Solaris",Hc="FreeBSD",rh="ChromeOS",mc=h=>{const w=h.current,A=h.version,R=$=>()=>w===$;return{current:w,version:A,isWindows:R(km),isiOS:R("iOS"),isAndroid:R(Sm),isMacOS:R(Of),isLinux:R(tl),isSolaris:R(Ur),isFreeBSD:R(Hc),isChromeOS:R(rh)}},Ad=()=>mc({current:void 0,version:Sd.unknown()}),pl=mc,Hg=h=>window.matchMedia(h).matches;let W1=Fi(()=>((h,w,A)=>{const R=Ed.browsers(),$=Ed.oses(),j=w.bind(ve=>((Me,Le)=>Et(Le.brands,Re=>{const Fe=Re.brand.toLowerCase();return pn(Me,We=>{var mt;return Fe===((mt=We.brand)===null||mt===void 0?void 0:mt.toLowerCase())}).map(We=>({current:We.name,version:Sd.nu(parseInt(Re.version,10),0)}))}))(R,ve)).orThunk(()=>((ve,Me)=>_m(ve,Me).map(Le=>{const Re=Sd.detect(Le.versionRegexes,Me);return{current:Le.name,version:Re}}))(R,h)).fold(Fc,Ue),ee=((ve,Me)=>_m(ve,Me).map(Le=>{const Re=Sd.detect(Le.versionRegexes,Me);return{current:Le.name,version:Re}}))($,h).fold(Ad,pl),ie=((ve,Me,Le,Re)=>{const Fe=ve.isiOS()&&/ipad/i.test(Le)===!0,We=ve.isiOS()&&!Fe,mt=ve.isiOS()||ve.isAndroid(),lt=mt||Re("(pointer:coarse)"),xt=Fe||!We&&mt&&Re("(min-device-width:768px)"),Rt=We||mt&&!xt,Gt=Me.isSafari()&&ve.isiOS()&&/safari/i.test(Le)===!1,Ut=!Rt&&!xt&&!Gt;return{isiPad:ke(Fe),isiPhone:ke(We),isTablet:ke(xt),isPhone:ke(Rt),isTouch:ke(lt),isAndroid:ve.isAndroid,isiOS:ve.isiOS,isWebView:ke(Gt),isDesktop:ke(Ut)}})(ee,j,h,A);return{browser:j,os:ee,deviceType:ie}})(navigator.userAgent,ye.from(navigator.userAgentData),Hg));const nl=()=>W1(),zu=(h,w)=>{const A=$=>{const j=w($);if(j<=0||j===null){const ee=Sl($,h);return parseFloat(ee)||0}return j},R=($,j)=>In(j,(ee,ie)=>{const ve=Sl($,ie),Me=ve===void 0?0:parseInt(ve,10);return isNaN(Me)?ee:ee+Me},0);return{set:($,j)=>{if(!le(j)&&!j.match(/^[0-9]+$/))throw new Error(h+".set accepts only positive integer values. Value was "+j);const ee=$.dom;xa(ee)&&(ee.style[h]=j+"px")},get:A,getOuter:A,aggregate:R,max:($,j,ee)=>{const ie=R($,ee);return j>ie?j-ie:0}}},Vu=(h,w,A)=>((R,$)=>(j=>{const ee=parseFloat(j);return isNaN(ee)?ye.none():ye.some(ee)})(R).getOr($))(Sl(h,w),A),zg=zu("width",h=>h.dom.offsetWidth),fa=h=>zg.get(h),$u=h=>zg.getOuter(h),Tf=h=>((w,A)=>{const R=w.dom,$=R.getBoundingClientRect().width||R.offsetWidth;return A==="border-box"?$:((j,ee,ie,ve)=>ee-Vu(j,`padding-${ie}`,0)-Vu(j,`padding-${ve}`,0)-Vu(j,`border-${ie}-width`,0)-Vu(j,`border-${ve}-width`,0))(w,$,"left","right")})(h,"content-box"),zi=(h,w,A)=>{const R=h.cells,$=R.slice(0,w),j=R.slice(w),ee=$.concat(A).concat(j);return $l(h,ee)},Uu=(h,w,A)=>zi(h,w,[A]),fc=(h,w,A)=>{h.cells[w]=A},$l=(h,w)=>vt(h.element,w,h.section,h.isNew),ts=(h,w)=>h.cells[w],ns=(h,w)=>ts(h,w).element,ol=h=>h.cells.length,zs=h=>{const w=kn(h,A=>A.section==="colgroup");return{rows:w.fail,cols:w.pass}},Em=(h,w,A)=>{const R=H(h.cells,A);return vt(w(h.element),R,h.section,!0)},Af="data-snooker-locked-cols",Om=h=>Ze(h,Af).bind(w=>ye.from(w.match(/\d+/g))).map(w=>_t(w,Ae)),zc=h=>{const w=In(zs(h).rows,(R,$)=>(it($.cells,(j,ee)=>{j.isLocked&&(R[ee]=!0)}),R),{}),A=Ve(w,(R,$)=>parseInt($,10));return((R,$)=>{const j=Pt.call(R,0);return j.sort(void 0),j})(A)},ga=(h,w)=>h+","+w,os=(h,w)=>{const A=xn(h.all,R=>R.cells);return wt(A,w)},Ul=h=>{const w={},A=[],R=Ht(h).map(Fe=>Fe.element).bind(za).bind(Om).getOr({});let $=0,j=0,ee=0;const{pass:ie,fail:ve}=kn(h,Fe=>Fe.section==="colgroup");it(ve,Fe=>{const We=[];it(Fe.cells,mt=>{let lt=0;for(;w[ga(ee,lt)]!==void 0;)lt++;const xt=((Gt,Ut)=>Ct(Gt,Ut)&&Gt[Ut]!==void 0&&Gt[Ut]!==null)(R,lt.toString()),Rt=((Gt,Ut,bn,_n,Pn,po)=>({element:Gt,rowspan:Ut,colspan:bn,row:_n,column:Pn,isLocked:po}))(mt.element,mt.rowspan,mt.colspan,ee,lt,xt);for(let Gt=0;Gt<mt.colspan;Gt++)for(let Ut=0;Ut<mt.rowspan;Ut++){const bn=lt+Gt,_n=ga(ee+Ut,bn);w[_n]=Rt,j=Math.max(j,bn+1)}We.push(Rt)}),$++,A.push(Ne(Fe.element,We,Fe.section)),ee++});const{columns:Me,colgroups:Le}=dt(ie).map(Fe=>{const We=(lt=>{const xt={};let Rt=0;return it(lt.cells,Gt=>{const Ut=Gt.colspan;nn(Ut,bn=>{const _n=Rt+bn;xt[_n]=((Pn,po,mo)=>({element:Pn,colspan:po,column:mo}))(Gt.element,Ut,_n)}),Rt+=Ut}),xt})(Fe);return{colgroups:[((lt,xt)=>({element:lt,columns:xt}))(Fe.element,yt(We))],columns:We}}).getOrThunk(()=>({colgroups:[],columns:{}}));return{grid:((Fe,We)=>({rows:Fe,columns:We}))($,j),access:w,all:A,columns:Me,colgroups:Le}},xs=h=>{const w=ws(h);return Ul(w)},Ya=Ul,El=(h,w,A)=>ye.from(h.access[ga(w,A)]),Tm=(h,w,A)=>{const R=os(h,$=>A(w,$.element));return R.length>0?ye.some(R[0]):ye.none()},Nd=os,sr=h=>xn(h.all,w=>w.cells),_i=h=>yt(h.columns),Vc=h=>ze(h.columns).length>0,jl=(h,w)=>ye.from(h.columns[w]),Nf=(h,w=Ae)=>{const A=h.grid,R=nn(A.columns,xe),$=nn(A.rows,xe);return H(R,j=>Zl(()=>xn($,ee=>El(h,ee,j).filter(ie=>ie.column===j).toArray()),ee=>ee.colspan===1&&w(ee.element),()=>El(h,0,j)))},Zl=(h,w,A)=>{const R=h();return pn(R,w).orThunk(()=>ye.from(R[0]).orThunk(A)).map($=>$.element)},cu=h=>{const w=h.grid,A=nn(w.rows,xe),R=nn(w.columns,xe);return H(A,$=>Zl(()=>xn(R,j=>El(h,$,j).filter(ee=>ee.row===$).fold(ke([]),ee=>[ee])),j=>j.rowspan===1,()=>El(h,$,0)))},ah=(h,w)=>A=>Vi(A)==="rtl"?w:h,Vi=h=>Sl(h,"direction")==="rtl"?"rtl":"ltr",hl=zu("height",h=>{const w=h.dom;return go(h)?w.getBoundingClientRect().height:w.offsetHeight}),ju=h=>hl.get(h),lr=h=>hl.getOuter(h),Mf=(h,w)=>({left:h,top:w,translate:(A,R)=>Mf(h+A,w+R)}),X=Mf,de=(h,w)=>h!==void 0?h:w!==void 0?w:0,ce=h=>{const w=h.dom.ownerDocument,A=w.body,R=w.defaultView,$=w.documentElement;if(A===h.dom)return X(A.offsetLeft,A.offsetTop);const j=de(R==null?void 0:R.pageYOffset,$.scrollTop),ee=de(R==null?void 0:R.pageXOffset,$.scrollLeft),ie=de($.clientTop,A.clientTop),ve=de($.clientLeft,A.clientLeft);return _e(h).translate(ee-ve,j-ie)},_e=h=>{const w=h.dom,A=w.ownerDocument.body;return A===w?X(A.offsetLeft,A.offsetTop):go(h)?(R=>{const $=R.getBoundingClientRect();return X($.left,$.top)})(w):X(0,0)},nt=(h,w)=>({row:h,y:w}),at=(h,w)=>({col:h,x:w}),zt=h=>ce(h).left+$u(h),mn=h=>ce(h).left,sn=(h,w)=>at(h,mn(w)),un=(h,w)=>at(h,zt(w)),Bn=h=>ce(h).top,Kn=(h,w)=>nt(h,Bn(w)),cr=(h,w)=>nt(h,Bn(w)+lr(w)),Jt=(h,w,A)=>{if(A.length===0)return[];const R=H(A.slice(1),(j,ee)=>j.map(ie=>h(ee,ie))),$=A[A.length-1].map(j=>w(A.length-1,j));return R.concat([$])},Bo={delta:xe,positions:h=>Jt(Kn,cr,h),edge:Bn},Or=ah({delta:xe,edge:mn,positions:h=>Jt(sn,un,h)},{delta:h=>-h,edge:zt,positions:h=>Jt(un,sn,h)}),no={delta:(h,w)=>Or(w).delta(h,w),positions:(h,w)=>Or(w).positions(h,w),edge:h=>Or(h).edge(h)},Go={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},Jn=(()=>{const h="[0-9]+",w="[eE][+-]?"+h,A=$=>`(?:${$})?`,R=["Infinity",h+"\\."+A(h)+A(w),"\\."+h+A(w),h+A(w)].join("|");return new RegExp(`^([+-]?(?:${R}))(.*)$`)})(),Cr=/(\d+(\.\d+)?)%/,qo=/(\d+(\.\d+)?)px|em/,gr=ur("col"),Xa=(h,w,A)=>{const R=bs(h).getOrThunk(()=>Lo(Dr(h)));return w(h)/A(R)*100},vn=(h,w)=>{Rs(h,"width",w+"px")},Js=(h,w)=>{Rs(h,"width",w+"%")},Na=(h,w)=>{Rs(h,"height",w+"px")},rl=h=>{const w=(A=>{return Vu(R=A,"height",R.dom.offsetHeight)+"px";var R})(h);return w?((A,R,$,j)=>{const ee=parseFloat(A);return wa(A,"%")&&Je(R)!=="table"?((ie,ve,Me,Le)=>{const Re=za(ie).map(Fe=>{const We=Me(Fe);return Math.floor(ve/100*We)}).getOr(ve);return Le(ie,Re),Re})(R,ee,$,j):ee})(w,h,ju,Na):ju(h)},Rf=(h,w)=>Fa(h,w).orThunk(()=>Ze(h,w).map(A=>A+"px")),gc=h=>Rf(h,"width"),na=h=>Xa(h,fa,Tf),pc=h=>{return gr(h)?fa(h):Vu(w=h,"width",w.dom.offsetWidth);var w},Ci=h=>((w,A,R)=>R(w)/Ef(w,"rowspan"))(h,0,rl),tn=(h,w,A)=>{Rs(h,"width",w+A)},vl=h=>Xa(h,fa,Tf)+"%",gw=ke(Cr),Ja=ur("col"),Qs=h=>gc(h).getOrThunk(()=>pc(h)+"px"),sh=h=>{return(w=h,Rf(w,"height")).getOrThunk(()=>Ci(h)+"px");var w},kt=(h,w,A,R,$,j)=>h.filter(R).fold(()=>j(((ee,ie)=>{if(ie<0||ie>=ee.length-1)return ye.none();const ve=ee[ie].fold(()=>{const Le=(Re=>{const Fe=Pt.call(Re,0);return Fe.reverse(),Fe})(ee.slice(0,ie));return Et(Le,(Re,Fe)=>Re.map(We=>({value:We,delta:Fe+1})))},Le=>ye.some({value:Le,delta:0})),Me=ee[ie+1].fold(()=>{const Le=ee.slice(ie+1);return Et(Le,(Re,Fe)=>Re.map(We=>({value:We,delta:Fe+1})))},Le=>ye.some({value:Le,delta:1}));return ve.bind(Le=>Me.map(Re=>{const Fe=Re.delta+Le.delta;return Math.abs(Re.value-Le.value)/Fe}))})(A,w)),ee=>$(ee)),al=(h,w,A,R)=>{const $=Nf(h),j=Vc(h)?(ve=>H(_i(ve),Me=>ye.from(Me.element)))(h):$,ee=[ye.some(no.edge(w))].concat(H(no.positions($,w),ve=>ve.map(Me=>Me.x))),ie=ae(wm);return H(j,(ve,Me)=>kt(ve,Me,ee,ie,Le=>{if((Fe=>{const We=nl().browser,mt=We.isChromium()||We.isFirefox();return!Ja(Fe)||mt})(Le))return A(Le);{const Fe=(Re=$[Me])!=null?xe(Re):ye.none();return kt(Fe,Me,ee,ie,We=>R(ye.some(fa(We))),R)}var Re},R))},$c=h=>h.map(w=>w+"px").getOr(""),rr=(h,w,A)=>al(h,w,pc,R=>R.getOrThunk(A.minCellWidth)),hc=(h,w,A,R,$)=>{const j=cu(h),ee=[ye.some(A.edge(w))].concat(H(A.positions(j,w),ie=>ie.map(ve=>ve.y)));return H(j,(ie,ve)=>kt(ie,ve,ee,ae(Zr),R,$))},Ol=(h,w)=>()=>go(h)?w(h):parseFloat(Fa(h,"width").getOr("0")),$i=h=>{const w=Ol(h,R=>parseFloat(vl(R))),A=Ol(h,fa);return{width:w,pixelWidth:A,getWidths:(R,$)=>((j,ee,ie)=>al(j,ee,na,ve=>ve.fold(()=>ie.minCellWidth(),Me=>Me/ie.pixelWidth()*100)))(R,h,$),getCellDelta:R=>R/A()*100,singleColumnWidth:(R,$)=>[100-R],minCellWidth:()=>Jr()/A()*100,setElementWidth:Js,adjustTableWidth:R=>{const $=w();Js(h,$+R/100*$)},isRelative:!0,label:"percent"}},mb=h=>{const w=Ol(h,fa);return{width:w,pixelWidth:w,getWidths:(A,R)=>rr(A,h,R),getCellDelta:xe,singleColumnWidth:(A,R)=>[Math.max(Jr(),A+R)-A],minCellWidth:Jr,setElementWidth:vn,adjustTableWidth:A=>{const R=w()+A;vn(h,R)},isRelative:!1,label:"pixel"}},ki=h=>gc(h).fold(()=>(w=>{const A=Ol(w,fa),R=ke(0);return{width:A,pixelWidth:A,getWidths:($,j)=>rr($,w,j),getCellDelta:R,singleColumnWidth:ke([0]),minCellWidth:R,setElementWidth:ue,adjustTableWidth:ue,isRelative:!0,label:"none"}})(h),w=>((A,R)=>gw().exec(R)!==null?$i(A):mb(A))(h,w)),Vr=mb,Tl=$i,ds=(h,w,A)=>{const R=h[A].element,$=Dt.fromTag("td");Tt($,Dt.fromTag("br")),(w?Tt:It)(R,$)},ei=((h,w)=>{const A=R=>h(R)?ye.from(R.dom.nodeValue):ye.none();return{get:R=>{if(!h(R))throw new Error("Can only get text value of a text node");return A(R).getOr("")},getOption:A,set:(R,$)=>{if(!h(R))throw new Error("Can only set raw text value of a text node");R.dom.nodeValue=$}}})(so),Vg=h=>ei.get(h),uu=h=>ei.getOption(h),fb=(h,w)=>ei.set(h,w),ti=h=>Je(h)==="img"?1:uu(h).fold(()=>Ra(h).length,w=>w.length),ct=["img","br"],rs=h=>uu(h).filter(w=>w.trim().length!==0||w.indexOf("\xA0")>-1).isSome()||wn(ct,Je(h))||(w=>Uo(w)&&Ot(w,"contenteditable")==="false")(h),Df=h=>((w,A)=>{const R=$=>{for(let j=0;j<$.childNodes.length;j++){const ee=Dt.fromDom($.childNodes[j]);if(A(ee))return ye.some(ee);const ie=R($.childNodes[j]);if(ie.isSome())return ie}return ye.none()};return R(w.dom)})(h,rs),bl=h=>Zu(h,rs),Zu=(h,w)=>{const A=R=>{const $=Ra(R);for(let j=$.length-1;j>=0;j--){const ee=$[j];if(w(ee))return ye.some(ee);const ie=A(ee);if(ie.isSome())return ie}return ye.none()};return A(h)},Si={scope:["row","col"]},Va=h=>()=>{const w=Dt.fromTag("td",h.dom);return Tt(w,Dt.fromTag("br",h.dom)),w},Am=h=>()=>Dt.fromTag("col",h.dom),Nm=h=>()=>Dt.fromTag("colgroup",h.dom),uo=h=>()=>Dt.fromTag("tr",h.dom),Uc=(h,w,A)=>{const R=(($,j)=>{const ee=ma($,j),ie=Ra(Jo($));return On(ee,ie),ee})(h,w);return Be(A,($,j)=>{$===null?Lt(R,j):ut(R,j,$)}),R},If=h=>h,du=(h,w,A)=>{const R=($,j)=>{((ee,ie)=>{const ve=ee.dom,Me=ie.dom;xa(ve)&&xa(Me)&&(Me.style.cssText=ve.style.cssText)})($.element,j),Ka(j,"height"),$.colspan!==1&&Ka(j,"width")};return{col:$=>{const j=Dt.fromTag(Je($.element),w.dom);return R($,j),h($.element,j),j},colgroup:Nm(w),row:uo(w),cell:$=>{const j=Dt.fromTag(Je($.element),w.dom),ee=A.getOr(["strong","em","b","i","span","font","h1","h2","h3","h4","h5","h6","p","div"]),ie=ee.length>0?((ve,Me,Le)=>Df(ve).map(Re=>{const Fe=Le.join(","),We=Er(Re,Fe,mt=>$n(mt,ve));return cn(We,(mt,lt)=>{const xt=mr(lt);return Tt(mt,xt),xt},Me)}).getOr(Me))($.element,j,ee):j;return Tt(ie,Dt.fromTag("br")),R($,j),((ve,Me)=>{Be(Si,(Le,Re)=>Ze(ve,Re).filter(Fe=>wn(Le,Fe)).each(Fe=>ut(Me,Re,Fe)))})($.element,j),h($.element,j),j},replace:Uc,colGap:Am(w),gap:Va(w)}},Wu=h=>({col:Am(h),colgroup:Nm(h),row:uo(h),cell:Va(h),replace:If,colGap:Am(h),gap:Va(h)}),Mm=h=>w=>w.options.get(h),Vs="100%",$g=h=>{var w;const A=h.dom,R=(w=A.getParent(h.selection.getStart(),A.isBlock))!==null&&w!==void 0?w:h.getBody();return Tf(Dt.fromDom(R))+"px"},Gu=h=>ye.from(h.options.get("table_clone_elements")),Pf=Mm("table_header_type"),Qa=Mm("table_column_resizing"),Al=h=>Qa(h)==="preservetable",vc=h=>Qa(h)==="resizetable",ni=Mm("table_sizing_mode"),Ug=h=>ni(h)==="relative",gi=h=>ni(h)==="fixed",qu=h=>ni(h)==="responsive",jg=Mm("table_resize_bars"),Lf=Mm("table_style_by_css"),mu=Mm("table_merge_content_on_paste"),Md=h=>{const w=h.options,A=w.get("table_default_attributes");return w.isSet("table_default_attributes")?A:((R,$)=>qu(R)||Lf(R)?$:gi(R)?{...$,width:$g(R)}:{...$,width:Vs})(h,A)},gb=Mm("table_use_colgroups"),jc=h=>ya(h,"[contenteditable]"),ih=(h,w=!1)=>go(h)?h.dom.isContentEditable:jc(h).fold(ke(w),A=>Rm(A)==="true"),Rm=h=>h.dom.contentEditable,Rd=h=>Dt.fromDom(h.getBody()),bc=h=>w=>$n(w,Rd(h)),Bf=h=>{Lt(h,"data-mce-style");const w=A=>Lt(A,"data-mce-style");it(vr(h),w),it(Bu(h),w),it(Fu(h),w)},Dm=h=>Dt.fromDom(h.selection.getStart()),yc=h=>h.getBoundingClientRect().width,G1=h=>h.getBoundingClientRect().height,Ia=h=>Hl(h,ur("table")).exists(ih),fk=(h,w)=>{const A=w.column,R=w.column+w.colspan-1,$=w.row,j=w.row+w.rowspan-1;return A<=h.finishCol&&R>=h.startCol&&$<=h.finishRow&&j>=h.startRow},Wl=(h,w)=>w.column>=h.startCol&&w.column+w.colspan-1<=h.finishCol&&w.row>=h.startRow&&w.row+w.rowspan-1<=h.finishRow,q1=(h,w,A)=>{const R=Tm(h,w,$n),$=Tm(h,A,$n);return R.bind(j=>$.map(ee=>{return ie=j,ve=ee,{startRow:Math.min(ie.row,ve.row),startCol:Math.min(ie.column,ve.column),finishRow:Math.max(ie.row+ie.rowspan-1,ve.row+ve.rowspan-1),finishCol:Math.max(ie.column+ie.colspan-1,ve.column+ve.colspan-1)};var ie,ve}))},lh=(h,w,A)=>q1(h,w,A).map(R=>{const $=Nd(h,J(fk,R));return H($,j=>j.element)}),Dd=(h,w)=>Tm(h,w,(A,R)=>Ar(R,A)).map(A=>A.element),sl=(h,w,A)=>{const R=Im(h);return lh(R,w,A)},Ff=(h,w,A,R,$)=>{const j=Im(h),ee=$n(h,A)?ye.some(w):Dd(j,w),ie=$n(h,$)?ye.some(R):Dd(j,R);return ee.bind(ve=>ie.bind(Me=>lh(j,ve,Me)))},Im=xs;var gk=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],Ma=()=>({up:ke({selector:ka,closest:ya,predicate:Xs,all:Ys}),down:ke({selector:qr,predicate:ir}),styles:ke({get:Sl,getRaw:Fa,set:Rs,remove:Ka}),attrs:ke({get:Ot,set:ut,remove:Lt,copyTo:(h,w)=>{const A=ho(h);rt(w,A)}}),insert:ke({before:Pe,after:ot,afterAll:Rn,append:Tt,appendAll:On,prepend:It,wrap:Cn}),remove:ke({unwrap:fr,remove:Qn}),create:ke({nu:Dt.fromTag,clone:h=>Dt.fromDom(h.dom.cloneNode(!1)),text:Dt.fromText}),query:ke({comparePosition:(h,w)=>h.dom.compareDocumentPosition(w.dom),prevSibling:Bs,nextSibling:Bi}),property:ke({children:Ra,name:Je,parent:zr,document:h=>Xr(h).dom,isText:so,isComment:Dn,isElement:Xn,isSpecial:h=>{const w=Je(h);return wn(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],w)},getLanguage:h=>Xn(h)?Ze(h,"lang"):ye.none(),getText:Vg,setText:fb,isBoundary:h=>!!Xn(h)&&(Je(h)==="body"||wn(gk,Je(h))),isEmptyTag:h=>!!Xn(h)&&wn(["br","img","hr","input"],Je(h)),isNonEditable:h=>Xn(h)&&Ot(h,"contenteditable")==="false"}),eq:$n,is:xr});const Hf=(h,w,A,R)=>{const $=w(h,A);return cn(R,(j,ee)=>{const ie=w(h,ee);return Zg(h,j,ie)},$)},Zg=(h,w,A)=>w.bind(R=>A.filter(J(h.eq,R))),pb=Ma(),K1=(h,w)=>((A,R,$)=>$.length>0?((j,ee,ie,ve)=>ve(j,ee,ie[0],ie.slice(1)))(A,R,$,Hf):ye.none())(pb,(A,R)=>h(R),w),Wg=h=>ka(h,"table"),zf=(h,w,A)=>{const R=$=>j=>A!==void 0&&A(j)||$n(j,$);return $n(h,w)?ye.some({boxes:ye.some([h]),start:h,finish:w}):Wg(h).bind($=>Wg(w).bind(j=>{if($n($,j))return ye.some({boxes:sl($,h,w),start:h,finish:w});if(Ar($,j)){const ee=Er(w,"td,th",R($)),ie=ee.length>0?ee[ee.length-1]:w;return ye.some({boxes:Ff($,h,$,w,j),start:h,finish:ie})}if(Ar(j,$)){const ee=Er(h,"td,th",R(j)),ie=ee.length>0?ee[ee.length-1]:h;return ye.some({boxes:Ff(j,h,$,w,j),start:h,finish:ie})}return((ee,ie,ve)=>((Me,Le,Re,Fe=G)=>{const We=[Le].concat(Me.up().all(Le)),mt=[Re].concat(Me.up().all(Re)),lt=Ut=>Sn(Ut,Fe).fold(()=>Ut,bn=>Ut.slice(0,bn+1)),xt=lt(We),Rt=lt(mt),Gt=pn(xt,Ut=>Ke(Rt,((bn,_n)=>J(bn.eq,_n))(Me,Ut)));return{firstpath:xt,secondpath:Rt,shared:Gt}})(pb,ee,ie,void 0))(h,w).shared.bind(ee=>ya(ee,"table",A).bind(ie=>{const ve=Er(w,"td,th",R(ie)),Me=ve.length>0?ve[ve.length-1]:w,Le=Er(h,"td,th",R(ie)),Re=Le.length>0?Le[Le.length-1]:h;return ye.some({boxes:Ff(ie,h,$,w,j),start:Re,finish:Me})}))}))},Gl=(h,w)=>{const A=qr(h,w);return A.length>0?ye.some(A):ye.none()},Vf=(h,w,A)=>ys(h,w).bind(R=>ys(h,A).bind($=>K1(Wg,[R,$]).map(j=>({first:R,last:$,table:j})))),Pm=(h,w,A,R,$)=>((j,ee)=>pn(j,ie=>Zt(ie,ee)))(h,$).bind(j=>((ee,ie,ve)=>za(ee).bind(Me=>((Le,Re,Fe,We)=>Tm(Le,Re,$n).bind(mt=>{const lt=Fe>0?mt.row+mt.rowspan-1:mt.row,xt=We>0?mt.column+mt.colspan-1:mt.column;return El(Le,lt+Fe,xt+We).map(Rt=>Rt.element)}))(Im(Me),ee,ie,ve)))(j,w,A).bind(ee=>((ie,ve)=>ka(ie,"table").bind(Me=>ys(Me,ve).bind(Le=>zf(Le,ie).bind(Re=>Re.boxes.map(Fe=>({boxes:Fe,start:Re.start,finish:Re.finish}))))))(ee,R))),Gg=(h,w)=>Gl(h,w),Y1=(h,w,A)=>Vf(h,w,A).bind(R=>{const $=ve=>$n(h,ve),j="thead,tfoot,tbody,table",ee=ka(R.first,j,$),ie=ka(R.last,j,$);return ee.bind(ve=>ie.bind(Me=>$n(ve,Me)?((Le,Re,Fe)=>((We,mt,lt)=>q1(We,mt,lt).bind(xt=>((Rt,Gt)=>{let Ut=!0;const bn=J(Wl,Gt);for(let _n=Gt.startRow;_n<=Gt.finishRow;_n++)for(let Pn=Gt.startCol;Pn<=Gt.finishCol;Pn++)Ut=Ut&&El(Rt,_n,Pn).exists(bn);return Ut?ye.some(Gt):ye.none()})(We,xt)))(Im(Le),Re,Fe))(R.table,R.first,R.last):ye.none()))}),Ku=xe,pw=h=>{const w=(A,R)=>Ze(A,R).exists($=>parseInt($,10)>1);return h.length>0&&et(h,A=>w(A,"rowspan")||w(A,"colspan"))?ye.some(h):ye.none()},hb=(h,w,A)=>w.length<=1?ye.none():Y1(h,A.firstSelectedSelector,A.lastSelectedSelector).map(R=>({bounds:R,cells:w})),ch="data-mce-selected",uh="data-mce-first-selected",qg="data-mce-last-selected",Pr="["+ch+"]",eo={selected:ch,selectedSelector:"td["+ch+"],th["+ch+"]",firstSelected:uh,firstSelectedSelector:"td["+uh+"],th["+uh+"]",lastSelected:qg,lastSelectedSelector:"td["+qg+"],th["+qg+"]"},fu=(h,w,A)=>({element:A,mergable:hb(w,h,eo),unmergable:pw(h),selection:Ku(h)}),dh=h=>(w,A)=>{const R=Je(w),$=R==="col"||R==="colgroup"?za(j=w).bind(ee=>Gg(ee,eo.firstSelectedSelector)).fold(ke(j),ee=>ee[0]):w;var j;return ya($,h,A)},mh=dh("th,td,caption"),X1=dh("th,td"),Nr=h=>{return w=h.model.table.getSelectedCells(),H(w,Dt.fromDom);var w},fh=(h,w)=>{h.on("BeforeGetContent",A=>{const R=$=>{A.preventDefault(),(j=>za(j[0]).map(ee=>{const ie=((ve,Me)=>{const Le=Ut=>Zt(Ut.element,Me),Re=Jo(ve),Fe=ws(Re),We=ki(ve),mt=Ya(Fe),lt=((Ut,bn)=>{const _n=Ut.grid.columns;let Pn=Ut.grid.rows,po=_n,mo=0,yr=0;const Ro=[],er=[];return Be(Ut.access,Fo=>{if(Ro.push(Fo),bn(Fo)){er.push(Fo);const Br=Fo.row,jo=Br+Fo.rowspan-1,Pa=Fo.column,Ss=Pa+Fo.colspan-1;Br<Pn?Pn=Br:jo>mo&&(mo=jo),Pa<po?po=Pa:Ss>yr&&(yr=Ss)}}),((Fo,Br,jo,Pa,Ss,Ni)=>({minRow:Fo,minCol:Br,maxRow:jo,maxCol:Pa,allCells:Ss,selectedCells:Ni}))(Pn,po,mo,yr,Ro,er)})(mt,Le),xt="th:not("+Me+"),td:not("+Me+")",Rt=dc(Re,"th,td",Ut=>Zt(Ut,xt));it(Rt,Qn),((Ut,bn,_n,Pn)=>{const po=wt(Ut,Ro=>Ro.section!=="colgroup"),mo=bn.grid.columns,yr=bn.grid.rows;for(let Ro=0;Ro<yr;Ro++){let er=!1;for(let Fo=0;Fo<mo;Fo++)Ro<_n.minRow||Ro>_n.maxRow||Fo<_n.minCol||Fo>_n.maxCol||(El(bn,Ro,Fo).filter(Pn).isNone()?ds(po,er,Ro):er=!0)}})(Fe,mt,lt,Le);const Gt=((Ut,bn,_n,Pn)=>{if(Pn.minCol===0&&bn.grid.columns===Pn.maxCol+1)return 0;const po=rr(bn,Ut,_n),mo=In(po,(er,Fo)=>er+Fo,0),yr=In(po.slice(Pn.minCol,Pn.maxCol+1),(er,Fo)=>er+Fo,0),Ro=yr/mo*_n.pixelWidth()-_n.pixelWidth();return _n.getCellDelta(Ro)})(ve,xs(ve),We,lt);return((Ut,bn,_n,Pn)=>{Be(_n.columns,mo=>{(mo.column<bn.minCol||mo.column>bn.maxCol)&&Qn(mo.element)});const po=wt(Ha(Ut,"tr"),mo=>mo.dom.childElementCount===0);it(po,Qn),bn.minCol!==bn.maxCol&&bn.minRow!==bn.maxRow||it(Ha(Ut,"th,td"),mo=>{Lt(mo,"rowspan"),Lt(mo,"colspan")}),Lt(Ut,Af),Lt(Ut,"data-snooker-col-series"),ki(Ut).adjustTableWidth(Pn)})(Re,lt,mt,Gt),Re})(ee,Pr);return Bf(ie),[ie]}))($).each(j=>{A.content=A.format==="text"?(ee=>H(ee,ie=>ie.dom.innerText).join(""))(j):((ee,ie)=>H(ie,ve=>ee.selection.serializer.serialize(ve.dom,{})).join(""))(h,j)})};if(A.selection===!0){const $=(j=>wt(Nr(j),ee=>Zt(ee,eo.selectedSelector)))(h);$.length>=1&&R($)}}),h.on("BeforeSetContent",A=>{if(A.selection===!0&&A.paste===!0){const R=Nr(h);Ht(R).each($=>{za($).each(j=>{const ee=wt(((ve,Me)=>{const Le=document.createElement("div");return Le.innerHTML=ve,Ra(Dt.fromDom(Le))})(A.content),ve=>Je(ve)!=="meta"),ie=ur("table");if(mu(h)&&ee.length===1&&ie(ee[0])){A.preventDefault();const ve=Dt.fromDom(h.getDoc()),Me=Wu(ve),Le=((Re,Fe,We)=>({element:Re,clipboard:Fe,generators:We}))($,ee[0],Me);w.pasteCells(j,Le).each(()=>{h.focus()})}})})}})},Kg=(h,w)=>({element:h,offset:w}),jt=(h,w,A)=>h.property().isText(w)&&h.property().getText(w).trim().length===0||h.property().isComment(w)?A(w).bind(R=>jt(h,R,A).orThunk(()=>ye.some(R))):ye.none(),J1=(h,w)=>h.property().isText(w)?h.property().getText(w).length:h.property().children(w).length,gu=(h,w)=>{const A=jt(h,w,h.query().prevSibling).getOr(w);if(h.property().isText(A))return Kg(A,J1(h,A));const R=h.property().children(A);return R.length>0?gu(h,R[R.length-1]):Kg(A,J1(h,A))},Yg=gu,Q1=Ma(),Id=(h,w)=>{wm(h)||(R=>gc(R).bind($=>{return j=$,ee=["fixed","relative","empty"],ye.from(Jn.exec(j)).bind(ie=>{const ve=Number(ie[1]),Me=ie[2];return((Le,Re)=>Ke(Re,Fe=>Ke(Go[Fe],We=>Le===We)))(Me,ee)?ye.some({value:ve,unit:Me}):ye.none()});var j,ee}))(h).each(R=>{const $=R.value/2;tn(h,$,R.unit),tn(w,$,R.unit)})},gh=h=>H(h,ke(0)),Lm=(h,w,A,R,$)=>$(h.slice(0,w)).concat(R).concat($(h.slice(A))),ia=h=>(w,A,R,$)=>{if(h(R)){const j=Math.max($,w[A]-Math.abs(R)),ee=Math.abs(j-w[A]);return R>=0?ee:-ee}return R},pi=ia(h=>h<0),ev=ia(Ae),wc=()=>{const h=(A,R,$,j)=>{const ee=(100+$)/100,ie=Math.max(j,(A[R]+$)/ee);return H(A,(ve,Me)=>(Me===R?ie:ve/ee)-ve)},w=(A,R,$,j,ee,ie)=>ie?h(A,R,j,ee):((ve,Me,Le,Re,Fe)=>{const We=pi(ve,Me,Re,Fe);return Lm(ve,Me,Le+1,[We,0],gh)})(A,R,$,j,ee);return{resizeTable:(A,R)=>A(R),clampTableDelta:pi,calcLeftEdgeDeltas:w,calcMiddleDeltas:(A,R,$,j,ee,ie,ve)=>w(A,$,j,ee,ie,ve),calcRightEdgeDeltas:(A,R,$,j,ee,ie)=>{if(ie)return h(A,$,j,ee);{const ve=pi(A,$,j,ee);return gh(A.slice(0,$)).concat([ve])}},calcRedestributedWidths:(A,R,$,j)=>{if(j){const ee=(R+$)/R,ie=H(A,ve=>ve/ee);return{delta:100*ee-100,newSizes:ie}}return{delta:$,newSizes:A}}}},ph=()=>{const h=(w,A,R,$,j)=>{const ee=ev(w,$>=0?R:A,$,j);return Lm(w,A,R+1,[ee,-ee],gh)};return{resizeTable:(w,A,R)=>{R&&w(A)},clampTableDelta:(w,A,R,$,j)=>{if(j){if(R>=0)return R;{const ee=In(w,(ie,ve)=>ie+ve-$,0);return Math.max(-ee,R)}}return pi(w,A,R,$)},calcLeftEdgeDeltas:h,calcMiddleDeltas:(w,A,R,$,j,ee)=>h(w,R,$,j,ee),calcRightEdgeDeltas:(w,A,R,$,j,ee)=>{if(ee)return gh(w);{const ie=$/w.length;return H(w,ke(ie))}},calcRedestributedWidths:(w,A,R,$)=>({delta:0,newSizes:w})}},xc=h=>xs(h).grid,oi=ur("th"),_c=h=>et(h,w=>oi(w.element)),hw=(h,w)=>h&&w?"sectionCells":h?"section":"cells",vb=h=>{const w=h.section==="thead",A=Fs(ri(h.cells),"th");return h.section==="tfoot"?{type:"footer"}:w||A?{type:"header",subType:hw(w,A)}:{type:"body"}},ri=h=>{const w=wt(h,A=>oi(A.element));return w.length===0?ye.some("td"):w.length===h.length?ye.some("th"):ye.none()},hh=(h,w,A)=>$e(A(h.element,w),!0,h.isLocked),Gn=(h,w)=>h.section!==w?vt(h.element,h.cells,w,h.isNew):h,tv=()=>({transformRow:Gn,transformCell:(h,w,A)=>{const R=A(h.element,w),$=Je(R)!=="td"?((j,ee)=>{const ie=ma(j,"td");ot(j,ie);const ve=Ra(j);return On(ie,ve),Qn(j),ie})(R):R;return $e($,h.isNew,h.isLocked)}}),Pd=()=>({transformRow:Gn,transformCell:hh}),nv=()=>({transformRow:(h,w)=>Gn(h,w==="thead"?"tbody":w),transformCell:hh}),vw=tv,ov=Pd,$f=nv,Xg=()=>({transformRow:xe,transformCell:hh}),Uf=(h,w,A,R)=>{A===R?Lt(h,w):ut(h,w,A)},Bm=(h,w,A)=>{dt(Qo(h,w)).fold(()=>It(h,A),R=>ot(R,A))},vh=(h,w)=>{const A=[],R=[],$=Fe=>H(Fe,We=>{We.isNew&&A.push(We.element);const mt=We.element;return To(mt),it(We.cells,lt=>{lt.isNew&&R.push(lt.element),Uf(lt.element,"colspan",lt.colspan,1),Uf(lt.element,"rowspan",lt.rowspan,1),Tt(mt,lt.element)}),mt}),j=Fe=>xn(Fe,We=>H(We.cells,mt=>(Uf(mt.element,"span",mt.colspan,1),mt.element))),ee=(Fe,We)=>{const mt=((xt,Rt)=>{const Gt=Sa(xt,Rt).getOrThunk(()=>{const Ut=Dt.fromTag(Rt,Dr(xt).dom);return Rt==="thead"?Bm(xt,"caption,colgroup",Ut):Rt==="colgroup"?Bm(xt,"caption",Ut):Tt(xt,Ut),Ut});return To(Gt),Gt})(h,We),lt=(We==="colgroup"?j:$)(Fe);On(mt,lt)},ie=(Fe,We)=>{Fe.length>0?ee(Fe,We):(mt=>{Sa(h,mt).each(Qn)})(We)},ve=[],Me=[],Le=[],Re=[];return it(w,Fe=>{switch(Fe.section){case"thead":ve.push(Fe);break;case"tbody":Me.push(Fe);break;case"tfoot":Le.push(Fe);break;case"colgroup":Re.push(Fe)}}),ie(Re,"colgroup"),ie(ve,"thead"),ie(Me,"tbody"),ie(Le,"tfoot"),{newRows:A,newCells:R}},rv=(h,w)=>{if(h.length===0)return 0;const A=h[0];return Sn(h,R=>!w(A.element,R.element)).getOr(h.length)},Ld=(h,w)=>{const A=H(h,R=>H(R.cells,G));return H(h,(R,$)=>{const j=xn(R.cells,(ee,ie)=>{if(A[$][ie]===!1){const Fe=((We,mt,lt,xt)=>{const Rt=((_n,Pn)=>_n[Pn])(We,mt),Gt=Rt.section==="colgroup",Ut=rv(Rt.cells.slice(lt),xt),bn=Gt?1:rv(((_n,Pn)=>H(_n,po=>ts(po,Pn)))(We.slice(mt),lt),xt);return{colspan:Ut,rowspan:bn}})(h,$,ie,w);return((We,mt,lt,xt)=>{for(let Rt=We;Rt<We+lt;Rt++)for(let Gt=mt;Gt<mt+xt;Gt++)A[Rt][Gt]=!0})($,ie,Fe.rowspan,Fe.colspan),[(ve=ee.element,Me=Fe.rowspan,Le=Fe.colspan,Re=ee.isNew,{element:ve,rowspan:Me,colspan:Le,isNew:Re})]}return[];var ve,Me,Le,Re});return((ee,ie,ve,Me)=>({element:ee,cells:ie,section:ve,isNew:Me}))(R.element,j,R.section,R.isNew)})},Yu=(h,w,A)=>{const R=[];it(h.colgroups,$=>{const j=[];for(let ee=0;ee<h.grid.columns;ee++){const ie=jl(h,ee).map(ve=>$e(ve.element,A,!1)).getOrThunk(()=>$e(w.colGap(),!0,!1));j.push(ie)}R.push(vt($.element,j,"colgroup",A))});for(let $=0;$<h.grid.rows;$++){const j=[];for(let ve=0;ve<h.grid.columns;ve++){const Me=El(h,$,ve).map(Le=>$e(Le.element,A,Le.isLocked)).getOrThunk(()=>$e(w.gap(),!0,!1));j.push(Me)}const ee=h.all[$],ie=vt(ee.element,j,ee.section,A);R.push(ie)}return R},bh=h=>Ld(h,$n),Jg=(h,w)=>Et(h.all,A=>pn(A.cells,R=>$n(w,R.element))),Qg=(h,w,A)=>{const R=H(w.selection,j=>xi(j).bind(ee=>Jg(h,ee)).filter(A)),$=Hs(R);return kf($.length>0,$)},pa=(h,w,A,R,$)=>(j,ee,ie,ve)=>{const Me=xs(j),Le=ye.from(ve==null?void 0:ve.section).getOrThunk(Xg);return w(Me,ee).map(Re=>{const Fe=((lt,xt)=>Yu(lt,xt,!1))(Me,ie),We=h(Fe,Re,$n,$(ie),Le),mt=zc(We.grid);return{info:Re,grid:bh(We.grid),cursor:We.cursor,lockedColumns:mt}}).bind(Re=>{const Fe=vh(j,Re.grid),We=ye.from(ve==null?void 0:ve.sizing).getOrThunk(()=>ki(j)),mt=ye.from(ve==null?void 0:ve.resize).getOrThunk(ph);return A(j,Re.grid,Re.info,{sizing:We,resize:mt,section:Le}),R(j),Lt(j,Af),Re.lockedColumns.length>0&&ut(j,Af,Re.lockedColumns.join(",")),ye.some({cursor:Re.cursor,newRows:Fe.newRows,newCells:Fe.newCells})})},il=(h,w)=>Qg(h,w,Ae).map(A=>({cells:A,generators:w.generators,clipboard:w.clipboard})),Nl=(h,w)=>Qg(h,w,Ae),hi=(h,w)=>Qg(h,w,A=>!A.isLocked),yh=(h,w)=>et(w,A=>((R,$)=>Jg(R,$).exists(j=>!j.isLocked))(h,A)),la=(h,w,A,R)=>{const $=zs(h).rows;let j=!0;for(let ee=0;ee<$.length;ee++)for(let ie=0;ie<ol($[0]);ie++){const ve=$[ee],Me=ts(ve,ie),Le=A(Me.element,w);Le&&!j?fc(ve,ie,$e(R(),!0,Me.isLocked)):Le&&(j=!1)}return h},bw=h=>{const w=j=>j(h),A=ke(h),R=()=>$,$={tag:!0,inner:h,fold:(j,ee)=>ee(h),isValue:Ae,isError:G,map:j=>_s.value(j(h)),mapError:R,bind:w,exists:w,forall:w,getOr:A,or:R,getOrThunk:A,orThunk:R,getOrDie:A,each:j=>{j(h)},toOptional:()=>ye.some(h)};return $},Xu=h=>{const w=()=>A,A={tag:!1,inner:h,fold:($,j)=>$(h),isValue:G,isError:Ae,map:w,mapError:$=>_s.error($(h)),bind:w,exists:G,forall:Ae,getOr:xe,or:xe,getOrThunk:De,orThunk:De,getOrDie:(R=String(h),()=>{throw new Error(R)}),each:ue,toOptional:ye.none};var R;return A},_s={value:bw,error:Xu,fromOption:(h,w)=>h.fold(()=>Xu(w),bw)},Zc=(h,w)=>({rowDelta:0,colDelta:ol(h[0])-ol(w[0])}),av=(h,w)=>({rowDelta:h.length-w.length,colDelta:0}),sv=(h,w,A,R)=>{const $=w.section==="colgroup"?A.col:A.cell;return nn(h,j=>$e($(),!0,R(j)))},Cc=(h,w,A,R)=>{const $=h[h.length-1];return h.concat(nn(w,()=>{const j=$.section==="colgroup"?A.colgroup:A.row,ee=Em($,j,xe),ie=sv(ee.cells.length,ee,A,ve=>Ct(R,ve.toString()));return $l(ee,ie)}))},ai=(h,w,A,R)=>H(h,$=>{const j=sv(w,$,A,G);return zi($,R,j)}),ep=(h,w,A)=>{const R=w.colDelta<0?ai:xe,$=w.rowDelta<0?Cc:xe,j=zc(h),ee=ol(h[0]),ie=Ke(j,Le=>Le===ee-1),ve=R(h,Math.abs(w.colDelta),A,ie?ee-1:ee),Me=zc(ve);return $(ve,Math.abs(w.rowDelta),A,_t(Me,Ae))},_a=(h,w,A,R)=>{const $=J(R,ts(h[w],A).element),j=h[w];return h.length>1&&ol(j)>1&&(A>0&&$(ns(j,A-1))||A<j.cells.length-1&&$(ns(j,A+1))||w>0&&$(ns(h[w-1],A))||w<h.length-1&&$(ns(h[w+1],A)))},Ca=(h,w,A)=>wt(A,R=>R>=h.column&&R<=ol(w[0])+h.column),Ei=(h,w,A,R,$)=>{((Me,Le,Re,Fe)=>{Le>0&&Le<Me[0].cells.length&&it(Me,We=>{const mt=We.cells[Le-1];let lt=0;const xt=Fe();for(;We.cells.length>Le+lt&&Re(mt.element,We.cells[Le+lt].element);)fc(We,Le+lt,$e(xt,!0,We.cells[Le+lt].isLocked)),lt++})})(w,h,$,R.cell);const j=av(A,w),ee=ep(A,j,R),ie=av(w,ee),ve=ep(w,ie,R);return H(ve,(Me,Le)=>zi(Me,h,ee[Le].cells))},Ml=(h,w,A,R,$)=>{((Gt,Ut,bn,_n)=>{const Pn=zs(Gt).rows;if(Ut>0&&Ut<Pn.length){const po=((mo,yr)=>In(mo,(Ro,er)=>Ke(Ro,Fo=>yr(Fo.element,er.element))?Ro:Ro.concat([er]),[]))(Pn[Ut-1].cells,bn);it(po,mo=>{let yr=ye.none();for(let Ro=Ut;Ro<Pn.length;Ro++)for(let er=0;er<ol(Pn[0]);er++){const Fo=Pn[Ro],Br=ts(Fo,er);bn(Br.element,mo.element)&&(yr.isNone()&&(yr=ye.some(_n())),yr.each(jo=>{fc(Fo,er,$e(jo,!0,Br.isLocked))}))}})}})(w,h,$,R.cell);const j=zc(w),ee=Zc(w,A),ie={...ee,colDelta:ee.colDelta-j.length},ve=ep(w,ie,R),{cols:Me,rows:Le}=zs(ve),Re=zc(ve),Fe=Zc(A,w),We={...Fe,colDelta:Fe.colDelta+Re.length},mt=(xt=R,Rt=Re,H(A,Gt=>In(Rt,(Ut,bn)=>{const _n=sv(1,Gt,xt,Ae)[0];return Uu(Ut,bn,_n)},Gt))),lt=ep(mt,We,R);var xt,Rt;return[...Me,...Le.slice(0,h),...lt,...Le.slice(h,Le.length)]},si=(h,w,A,R,$)=>{const{rows:j,cols:ee}=zs(h),ie=j.slice(0,w),ve=j.slice(w);return[...ee,...ie,((Me,Le,Re,Fe)=>Em(Me,We=>Fe(We,Re),Le))(j[A],(Me,Le)=>w>0&&w<j.length&&R(ns(j[w-1],Le),ns(j[w],Le))?ts(j[w],Le):$e($(Me.element,R),!0,Me.isLocked),R,$),...ve]},Fm=(h,w,A,R,$)=>H(h,j=>{const ee=w>0&&w<ol(j)&&R(ns(j,w-1),ns(j,w)),ie=((ve,Me,Le,Re,Fe,We,mt)=>{if(Le!=="colgroup"&&Re)return ts(ve,Me);{const lt=ts(ve,Fe);return $e(mt(lt.element,We),!0,!1)}})(j,w,j.section,ee,A,R,$);return Uu(j,w,ie)}),ql=(h,w,A,R)=>(($,j,ee,ie)=>ns($[j],ee)!==void 0&&j>0&&ie(ns($[j-1],ee),ns($[j],ee)))(h,w,A,R)||(($,j,ee)=>j>0&&ee(ns($,j-1),ns($,j)))(h[w],A,R),Wc=(h,w,A,R)=>{const $=j=>(ee=>ee==="row"?Zr(w):wm(w))(j)?`${j}group`:j;return h?oi(w)?$(A):null:R&&oi(w)?$(A==="row"?"col":"row"):null},jf=(h,w,A)=>$e(A(h.element,w),!0,h.isLocked),wh=(h,w,A,R,$,j,ee)=>H(h,(ie,ve)=>((Me,Le)=>{const Re=Me.cells,Fe=H(Re,(We,mt)=>{if((lt=>Ke(w,xt=>A(lt.element,xt.element)))(We)){const lt=ee(We,ve,mt)?$(We,A,R):We;return j(lt,ve,mt).each(xt=>{var Rt,Gt;Rt=lt.element,Gt={scope:ye.from(xt)},Be(Gt,(Ut,bn)=>{Ut.fold(()=>{Lt(Rt,bn)},_n=>{vs(Rt.dom,bn,_n)})})}),lt}return We});return vt(Me.element,Fe,Me.section,Me.isNew)})(ie)),iv=(h,w,A)=>xn(h,(R,$)=>ql(h,$,w,A)?[]:[ts(R,w)]),lv=(h,w,A,R,$)=>{const j=zs(h).rows,ee=xn(w,Le=>iv(j,Le,R)),ie=H(j,Le=>_c(Le.cells)),ve=((Le,Re)=>et(Re,xe)&&_c(Le)?Ae:(Fe,We,mt)=>!(Je(Fe.element)==="th"&&Re[We]))(ee,ie),Me=((Le,Re)=>(Fe,We)=>ye.some(Wc(Le,Fe.element,"row",Re[We])))(A,ie);return wh(h,ee,R,$,jf,Me,ve)},bb=(h,w,A,R)=>{const $=zs(h).rows,j=H(w,ee=>ts($[ee.row],ee.column));return wh(h,j,A,R,jf,ye.none,Ae)},Hm=h=>{if(!M(h))throw new Error("cases must be an array");if(h.length===0)throw new Error("there must be at least one case");const w=[],A={};return it(h,(R,$)=>{const j=ze(R);if(j.length!==1)throw new Error("one and only one name per case");const ee=j[0],ie=R[ee];if(A[ee]!==void 0)throw new Error("duplicate key detected:"+ee);if(ee==="cata")throw new Error("cannot have a case named cata (sorry)");if(!M(ie))throw new Error("case arguments must be an array");w.push(ee),A[ee]=(...ve)=>{const Me=ve.length;if(Me!==ie.length)throw new Error("Wrong number of arguments to case "+ee+". Expected "+ie.length+" ("+ie+"), got "+Me);return{fold:(...Le)=>{if(Le.length!==h.length)throw new Error("Wrong number of arguments to fold. Expected "+h.length+", got "+Le.length);return Le[$].apply(null,ve)},match:Le=>{const Re=ze(Le);if(w.length!==Re.length)throw new Error("Wrong number of arguments to match. Expected: "+w.join(",")+`
Actual: `+Re.join(","));if(!et(w,Fe=>wn(Re,Fe)))throw new Error("Not all branches were specified when using match. Specified: "+Re.join(", ")+`
Required: `+w.join(", "));return Le[ee].apply(null,ve)},log:Le=>{console.log(Le,{constructors:w,constructor:ee,params:ve})}}}}),A},Zf={...Hm([{none:[]},{only:["index"]},{left:["index","next"]},{middle:["prev","index","next"]},{right:["prev","index"]}])},Ea=(h,w,A)=>{let R=0;for(let $=h;$<w;$++)R+=A[$]!==void 0?A[$]:0;return R},yb=(h,w)=>{const A=sr(h);return H(A,R=>{const $=Ea(R.row,R.row+R.rowspan,w);return{element:R.element,height:$,rowspan:R.rowspan}})},Bd=(h,w,A)=>{const R=(($,j)=>Vc($)?((ee,ie)=>{const ve=_i(ee);return H(ve,(Me,Le)=>({element:Me.element,width:ie[Le],colspan:Me.colspan}))})($,j):((ee,ie)=>{const ve=sr(ee);return H(ve,Me=>{const Le=Ea(Me.column,Me.column+Me.colspan,ie);return{element:Me.element,width:Le,colspan:Me.colspan}})})($,j))(h,w);it(R,$=>{A.setElementWidth($.element,$.width)})},xh=(h,w,A,R,$)=>{const j=xs(h),ee=$.getCellDelta(w),ie=$.getWidths(j,$),ve=A===j.grid.columns-1,Me=R.clampTableDelta(ie,A,ee,$.minCellWidth(),ve),Le=((Fe,We,mt,lt,xt)=>{const Rt=Fe.slice(0),Gt=((bn,_n)=>bn.length===0?Zf.none():bn.length===1?Zf.only(0):_n===0?Zf.left(0,1):_n===bn.length-1?Zf.right(_n-1,_n):_n>0&&_n<bn.length-1?Zf.middle(_n-1,_n,_n+1):Zf.none())(Fe,We),Ut=ke(H(Rt,ke(0)));return Gt.fold(Ut,bn=>lt.singleColumnWidth(Rt[bn],mt),(bn,_n)=>xt.calcLeftEdgeDeltas(Rt,bn,_n,mt,lt.minCellWidth(),lt.isRelative),(bn,_n,Pn)=>xt.calcMiddleDeltas(Rt,bn,_n,Pn,mt,lt.minCellWidth(),lt.isRelative),(bn,_n)=>xt.calcRightEdgeDeltas(Rt,bn,_n,mt,lt.minCellWidth(),lt.isRelative))})(ie,A,Me,$,R),Re=H(Le,(Fe,We)=>Fe+ie[We]);Bd(j,Re,$),R.resizeTable($.adjustTableWidth,Me,ve)},Cs=h=>In(h,(w,A)=>Ke(w,R=>R.column===A.column)?w:w.concat([A]),[]).sort((w,A)=>w.column-A.column),Kl=ur("col"),Fd=ur("colgroup"),zm=h=>Je(h)==="tr"||Fd(h),Vm=h=>({element:h,colspan:Kr(h,"colspan",1),rowspan:Kr(h,"rowspan",1)}),cv=h=>Ze(h,"scope").map(w=>w.substr(0,3)),kc=(h,w=Vm)=>{const A=$=>{if(zm($))return Fd((j={element:$}).element)?h.colgroup(j):h.row(j);{const ee=$,ie=(ve=>Kl(ve.element)?h.col(ve):h.cell(ve))(w(ee));return R=ye.some({item:ee,replacement:ie}),ie}var j};let R=ye.none();return{getOrInit:($,j)=>R.fold(()=>A($),ee=>j($,ee.item)?ee.replacement:A($))}},Sc=h=>w=>{const A=[],R=$=>{const j=h==="td"?{scope:null}:{},ee=w.replace($,h,j);return A.push({item:$,sub:ee}),ee};return{replaceOrInit:($,j)=>{if(zm($)||Kl($))return $;{const ee=$;return((ie,ve)=>pn(A,Me=>ve(Me.item,ie)))(ee,j).fold(()=>R(ee),ie=>j($,ie.item)?ie.sub:R(ee))}}}},$m=h=>({unmerge:w=>{const A=cv(w);return A.each(R=>ut(w,"scope",R)),()=>{const R=h.cell({element:w,colspan:1,rowspan:1});return Ka(R,"width"),Ka(w,"width"),A.each($=>ut(R,"scope",$)),R}},merge:w=>(Ka(w[0],"width"),(()=>{const A=Hs(H(w,cv));if(A.length===0)return ye.none();{const R=A[0],$=["row","col"];return Ke(A,j=>j!==R&&wn($,j))?ye.none():ye.from(R)}})().fold(()=>Lt(w[0],"scope"),A=>ut(w[0],"scope",A+"group")),ke(w[0]))}),as=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","table","thead","tfoot","tbody","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],yl=Ma(),Yl=h=>((w,A)=>{const R=w.property().name(A);return wn(as,R)})(yl,h),yw=h=>((w,A)=>{const R=w.property().name(A);return wn(["ol","ul"],R)})(yl,h),Um=h=>{const w=ur("br"),A=$=>bl($).bind(j=>{const ee=Bi(j).map(ie=>!!Yl(ie)||!!((ve,Me)=>wn(["br","img","hr","input"],ve.property().name(Me)))(yl,ie)&&Je(ie)!=="img").getOr(!1);return zr(j).map(ie=>{return ee===!0||Je(ve=ie)==="li"||Xs(ve,yw).isSome()||w(j)||Yl(ie)&&!$n($,ie)?[]:[Dt.fromTag("br")];var ve})}).getOr([]),R=(()=>{const $=xn(h,j=>{const ee=Ra(j);return(ie=>et(ie,ve=>w(ve)||so(ve)&&Vg(ve).trim().length===0))(ee)?[]:ee.concat(A(j))});return $.length===0?[Dt.fromTag("br")]:$})();To(h[0]),On(h[0],R)},jm=h=>ih(h,!0),uv=h=>{vr(h).length===0&&Qn(h)},_h=(h,w)=>({grid:h,cursor:w}),Ui=(h,w,A)=>{const R=(($,j,ee)=>{var ie,ve;const Me=zs($).rows;return ye.from((ve=(ie=Me[j])===null||ie===void 0?void 0:ie.cells[ee])===null||ve===void 0?void 0:ve.element).filter(jm).orThunk(()=>(Le=>Et(Le,Re=>Et(Re.cells,Fe=>{const We=Fe.element;return kf(jm(We),We)})))(Me))})(h,w,A);return _h(h,R)},Zm=h=>In(h,(w,A)=>Ke(w,R=>R.row===A.row)?w:w.concat([A]),[]).sort((w,A)=>w.row-A.row),dv=(h,w)=>(A,R,$,j,ee)=>{const ie=Zm(R),ve=H(ie,Le=>Le.row),Me=((Le,Re,Fe,We,mt,lt,xt)=>{const{cols:Rt,rows:Gt}=zs(Le),Ut=Gt[Re[0]],bn=xn(Re,Ro=>((er,Fo,Br)=>{const jo=er[Fo];return xn(jo.cells,(Pa,Ss)=>ql(er,Fo,Ss,Br)?[]:[Pa])})(Gt,Ro,mt)),_n=H(Ut.cells,(Ro,er)=>_c(iv(Gt,er,mt))),Pn=[...Gt];it(Re,Ro=>{Pn[Ro]=xt.transformRow(Gt[Ro],Fe)});const po=[...Rt,...Pn],mo=((Ro,er)=>et(er,xe)&&_c(Ro.cells)?Ae:(Fo,Br,jo)=>!(Je(Fo.element)==="th"&&er[jo]))(Ut,_n),yr=((Ro,er)=>(Fo,Br,jo)=>ye.some(Wc(Ro,Fo.element,"col",er[jo])))(We,_n);return wh(po,bn,mt,lt,xt.transformCell,yr,mo)})(A,ve,h,w,$,j.replaceOrInit,ee);return Ui(Me,R[0].row,R[0].column)},Wf=dv("thead",!0),wb=dv("tbody",!1),ww=dv("tfoot",!1),Ju=(h,w,A)=>{const R=((j,ee)=>Yr(j,()=>ee))(h,A.section),$=Ya(R);return Yu($,w,!0)},pu=(h,w,A,R)=>(($,j,ee,ie)=>{const ve=Ya(j),Me=ie.getWidths(ve,ie);Bd(ve,Me,ie)})(0,w,0,R.sizing),Wm=(h,w,A,R)=>(($,j,ee,ie,ve)=>{const Me=Ya(j),Le=ie.getWidths(Me,ie),Re=ie.pixelWidth(),{newSizes:Fe,delta:We}=ve.calcRedestributedWidths(Le,Re,ee.pixelDelta,ie.isRelative);Bd(Me,Fe,ie),ie.adjustTableWidth(We)})(0,w,A,R.sizing,R.resize),pr=(h,w)=>Ke(w,A=>A.column===0&&A.isLocked),ji=(h,w)=>Ke(w,A=>A.column+A.colspan>=h.grid.columns&&A.isLocked),Hd=(h,w)=>{const A=Nf(h),R=Cs(w);return In(R,($,j)=>$+A[j.column].map($u).getOr(0),0)},hu=h=>(w,A)=>Nl(w,A).filter(R=>!(h?pr:ji)(w,R)).map(R=>({details:R,pixelDelta:Hd(w,R)})),Wr=h=>(w,A)=>il(w,A).filter(R=>!(h?pr:ji)(w,R.cells)),St=Sc("th"),Gm=Sc("td"),$s=pa((h,w,A,R)=>{const $=w[0].row,j=Zm(w),ee=cn(j,(ie,ve)=>({grid:si(ie.grid,$,ve.row+ie.delta,A,R.getOrInit),delta:ie.delta+1}),{grid:h,delta:0}).grid;return Ui(ee,$,w[0].column)},Nl,ue,ue,kc),Zi=pa((h,w,A,R)=>{const $=Zm(w),j=$[$.length-1],ee=j.row+j.rowspan,ie=cn($,(ve,Me)=>si(ve,ee,Me.row,A,R.getOrInit),h);return Ui(ie,ee,w[0].column)},Nl,ue,ue,kc),Ch=pa((h,w,A,R)=>{const $=w.details,j=Cs($),ee=j[0].column,ie=cn(j,(ve,Me)=>({grid:Fm(ve.grid,ee,Me.column+ve.delta,A,R.getOrInit),delta:ve.delta+1}),{grid:h,delta:0}).grid;return Ui(ie,$[0].row,ee)},hu(!0),Wm,ue,kc),mv=pa((h,w,A,R)=>{const $=w.details,j=$[$.length-1],ee=j.column+j.colspan,ie=Cs($),ve=cn(ie,(Me,Le)=>Fm(Me,ee,Le.column,A,R.getOrInit),h);return Ui(ve,$[0].row,ee)},hu(!1),Wm,ue,kc),fv=pa((h,w,A,R)=>{const $=Cs(w.details),j=((ie,ve)=>xn(ie,Me=>{const Le=Me.cells,Re=cn(ve,(Fe,We)=>We>=0&&We<Fe.length?Fe.slice(0,We).concat(Fe.slice(We+1)):Fe,Le);return Re.length>0?[vt(Me.element,Re,Me.section,Me.isNew)]:[]}))(h,H($,ie=>ie.column)),ee=j.length>0?j[0].cells.length-1:0;return Ui(j,$[0].row,Math.min($[0].column,ee))},(h,w)=>hi(h,w).map(A=>({details:A,pixelDelta:-Hd(h,A)})),Wm,uv,kc),kh=pa((h,w,A,R)=>{const $=Zm(w),j=((ie,ve,Me)=>{const{rows:Le,cols:Re}=zs(ie);return[...Re,...Le.slice(0,ve),...Le.slice(Me+1)]})(h,$[0].row,$[$.length-1].row),ee=j.length>0?j.length-1:0;return Ui(j,Math.min(w[0].row,ee),w[0].column)},Nl,ue,uv,kc),xb=pa((h,w,A,R)=>{const $=Cs(w),j=H($,ie=>ie.column),ee=lv(h,j,!0,A,R.replaceOrInit);return Ui(ee,w[0].row,w[0].column)},hi,ue,ue,St),_b=pa((h,w,A,R)=>{const $=Cs(w),j=H($,ie=>ie.column),ee=lv(h,j,!1,A,R.replaceOrInit);return Ui(ee,w[0].row,w[0].column)},hi,ue,ue,Gm),Cb=pa(Wf,hi,ue,ue,St),kb=pa(wb,hi,ue,ue,Gm),zd=pa(ww,hi,ue,ue,Gm),Rl=pa((h,w,A,R)=>{const $=bb(h,w,A,R.replaceOrInit);return Ui($,w[0].row,w[0].column)},hi,ue,ue,St),Us=pa((h,w,A,R)=>{const $=bb(h,w,A,R.replaceOrInit);return Ui($,w[0].row,w[0].column)},hi,ue,ue,Gm),Vd=pa((h,w,A,R)=>{const $=w.cells;Um($);const j=((ee,ie,ve,Me)=>{const Le=zs(ee).rows;if(Le.length===0)return ee;for(let Re=ie.startRow;Re<=ie.finishRow;Re++)for(let Fe=ie.startCol;Fe<=ie.finishCol;Fe++){const We=Le[Re],mt=ts(We,Fe).isLocked;fc(We,Fe,$e(Me(),!1,mt))}return ee})(h,w.bounds,0,R.merge($));return _h(j,ye.from($[0]))},(h,w)=>((A,R)=>R.mergable)(0,w).filter(A=>yh(h,A.cells)),pu,ue,$m),Sb=pa((h,w,A,R)=>{const $=cn(w,(j,ee)=>la(j,ee,A,R.unmerge(ee)),h);return _h($,ye.from(w[0]))},(h,w)=>((A,R)=>R.unmergable)(0,w).filter(A=>yh(h,A)),pu,ue,$m),Eb=pa((h,w,A,R)=>{const $=((ie,ve)=>{const Me=xs(ie);return Yu(Me,ve,!0)})(w.clipboard,w.generators);var j,ee;return((ie,ve,Me,Le,Re)=>{const Fe=zc(ve),We=((Rt,Gt,Ut)=>{const bn=ol(Gt[0]),_n=zs(Gt).cols.length+Rt.row,Pn=nn(bn-Rt.column,po=>po+Rt.column);return{row:_n,column:pn(Pn,po=>et(Ut,mo=>mo!==po)).getOr(bn-1)}})(ie,ve,Fe),mt=zs(Me).rows,lt=Ca(We,mt,Fe);return((Rt,Gt,Ut)=>{if(Rt.row>=Gt.length||Rt.column>ol(Gt[0]))return _s.error("invalid start address out of table bounds, row: "+Rt.row+", column: "+Rt.column);const bn=Gt.slice(Rt.row),_n=bn[0].cells.slice(Rt.column),Pn=ol(Ut[0]),po=Ut.length;return _s.value({rowDelta:bn.length-po,colDelta:_n.length-Pn})})(We,ve,mt).map(Rt=>{const Gt={...Rt,colDelta:Rt.colDelta-lt.length},Ut=ep(ve,Gt,Le),bn=zc(Ut),_n=Ca(We,mt,bn);return((Pn,po,mo,yr,Ro,er)=>{const Fo=Pn.row,Br=Pn.column,jo=Fo+mo.length,Pa=Br+ol(mo[0])+er.length,Ss=_t(er,Ae);for(let Ni=Fo;Ni<jo;Ni++){let sd=0;for(let Es=Br;Es<Pa;Es++){if(Ss[Es]){sd++;continue}_a(po,Ni,Es,Ro)&&la(po,ns(po[Ni],Es),Ro,yr.cell);const Yd=Es-Br-sd,pp=ts(mo[Ni-Fo],Yd),Zh=pp.element,hp=yr.replace(Zh);fc(po[Ni],Es,$e(hp,!0,pp.isLocked))}}return po})(We,Ut,mt,Le,Re,_n)})})((j=w.row,ee=w.column,{row:j,column:ee}),h,$,w.generators,A).fold(()=>_h(h,ye.some(w.element)),ie=>Ui(ie,w.row,w.column))},(h,w)=>xi(w.element).bind(A=>Jg(h,A).map(R=>({...R,generators:w.generators,clipboard:w.clipboard}))),pu,ue,kc),Ob=pa((h,w,A,R)=>{const $=zs(h).rows,j=w.cells[0].column,ee=$[w.cells[0].row],ie=Ju(w.clipboard,w.generators,ee),ve=Ei(j,h,ie,w.generators,A);return Ui(ve,w.cells[0].row,w.cells[0].column)},Wr(!0),ue,ue,kc),gv=pa((h,w,A,R)=>{const $=zs(h).rows,j=w.cells[w.cells.length-1].column+w.cells[w.cells.length-1].colspan,ee=$[w.cells[0].row],ie=Ju(w.clipboard,w.generators,ee),ve=Ei(j,h,ie,w.generators,A);return Ui(ve,w.cells[0].row,w.cells[0].column)},Wr(!1),ue,ue,kc),pv=pa((h,w,A,R)=>{const $=zs(h).rows,j=w.cells[0].row,ee=$[j],ie=Ju(w.clipboard,w.generators,ee),ve=Ml(j,h,ie,w.generators,A);return Ui(ve,w.cells[0].row,w.cells[0].column)},il,ue,ue,kc),hv=pa((h,w,A,R)=>{const $=zs(h).rows,j=w.cells[w.cells.length-1].row+w.cells[w.cells.length-1].rowspan,ee=$[w.cells[0].row],ie=Ju(w.clipboard,w.generators,ee),ve=Ml(j,h,ie,w.generators,A);return Ui(ve,w.cells[0].row,w.cells[0].column)},il,ue,ue,kc),ii=(h,w)=>{const A=xs(h);return Nl(A,w).bind(R=>{const $=R[R.length-1],j=R[0].column,ee=$.column+$.colspan,ie=Q(H(A.all,ve=>wt(ve.cells,Me=>Me.column>=j&&Me.column<ee)));return ri(ie)}).getOr("")},li=(h,w)=>{const A=xs(h);return Nl(A,w).bind(ri).getOr("")},Oa=(h,w)=>{const A=xs(h);return Nl(A,w).bind(R=>{const $=R[R.length-1],j=R[0].row,ee=$.row+$.rowspan;return(ie=>{const ve=H(ie,Re=>vb(Re).type),Me=wn(ve,"header"),Le=wn(ve,"footer");if(Me||Le){const Re=wn(ve,"body");return!Me||Re||Le?Me||Re||!Le?ye.none():ye.some("footer"):ye.some("header")}return ye.some("body")})(A.all.slice(j,ee))}).getOr("")},ss=(h,w)=>h.dispatch("NewRow",{node:w}),Dl=(h,w)=>h.dispatch("NewCell",{node:w}),$a=(h,w,A)=>{h.dispatch("TableModified",{...A,table:w})},tp={structure:!1,style:!0},ks={structure:!0,style:!1},Tb={structure:!0,style:!0},vv=(h,w)=>Ug(h)?Tl(w):gi(h)?Vr(w):ki(w),bv=(h,w,A)=>{const R=Le=>Je(Rd(Le))==="table",$=Gu(h),j=vc(h)?ue:Id,ee=Le=>{switch(Pf(h)){case"section":return vw();case"sectionCells":return ov();case"cells":return $f();default:return((Re,Fe)=>{var We;switch((We=xs(Re),Et(We.all,mt=>{const lt=vb(mt);return lt.type==="header"?ye.from(lt.subType):ye.none()})).getOr(Fe)){case"section":return tv();case"sectionCells":return Pd();case"cells":return nv()}})(Le,"section")}},ie=(Le,Re,Fe,We)=>(mt,lt,xt=!1)=>{Bf(mt);const Rt=Dt.fromDom(h.getDoc()),Gt=du(Fe,Rt,$),Ut={sizing:vv(h,mt),resize:vc(h)?wc():ph(),section:ee(mt)};return Re(mt)?Le(mt,lt,Gt,Ut).bind(bn=>{w.refresh(mt.dom),it(bn.newRows,Pn=>{ss(h,Pn.dom)}),it(bn.newCells,Pn=>{Dl(h,Pn.dom)});const _n=((Pn,po)=>po.cursor.fold(()=>{const mo=vr(Pn);return Ht(mo).filter(go).map(yr=>{A.clearSelectedCells(Pn.dom);const Ro=h.dom.createRng();return Ro.selectNode(yr.dom),h.selection.setRng(Ro),ut(yr,"data-mce-selected","1"),Ro})},mo=>{const yr=Yg(Q1,mo),Ro=h.dom.createRng();return Ro.setStart(yr.element.dom,yr.offset),Ro.setEnd(yr.element.dom,yr.offset),h.selection.setRng(Ro),A.clearSelectedCells(Pn.dom),ye.some(Ro)}))(mt,bn);return go(mt)&&(Bf(mt),xt||$a(h,mt.dom,We)),_n.map(Pn=>({rng:Pn,effect:We}))}):ye.none()},ve=ie(kh,Le=>!R(h)||xc(Le).rows>1,ue,ks),Me=ie(fv,Le=>!R(h)||xc(Le).columns>1,ue,ks);return{deleteRow:ve,deleteColumn:Me,insertRowsBefore:ie($s,Ae,ue,ks),insertRowsAfter:ie(Zi,Ae,ue,ks),insertColumnsBefore:ie(Ch,Ae,j,ks),insertColumnsAfter:ie(mv,Ae,j,ks),mergeCells:ie(Vd,Ae,ue,ks),unmergeCells:ie(Sb,Ae,ue,ks),pasteColsBefore:ie(Ob,Ae,ue,ks),pasteColsAfter:ie(gv,Ae,ue,ks),pasteRowsBefore:ie(pv,Ae,ue,ks),pasteRowsAfter:ie(hv,Ae,ue,ks),pasteCells:ie(Eb,Ae,ue,Tb),makeCellsHeader:ie(Rl,Ae,ue,ks),unmakeCellsHeader:ie(Us,Ae,ue,ks),makeColumnsHeader:ie(xb,Ae,ue,ks),unmakeColumnsHeader:ie(_b,Ae,ue,ks),makeRowsHeader:ie(Cb,Ae,ue,ks),makeRowsBody:ie(kb,Ae,ue,ks),makeRowsFooter:ie(zd,Ae,ue,ks),getTableRowType:Oa,getTableCellType:li,getTableColType:ii}},Ab=(h,w,A)=>{const R=Kr(h,w,1);A===1||R<=1?Lt(h,w):ut(h,w,Math.min(A,R))},yv=(h,w)=>A=>{const R=A.column+A.colspan-1,$=A.column;return R>=h&&$<w},qm=Hm([{invalid:["raw"]},{pixels:["value"]},{percent:["value"]}]),Zn=(h,w,A)=>{const R=A.substring(0,A.length-h.length),$=parseFloat(R);return R===$.toString()?w($):qm.invalid(A)},$d={...qm,from:h=>wa(h,"%")?Zn("%",qm.percent,h):wa(h,"px")?Zn("px",qm.pixels,h):qm.invalid(h)},Sh=(h,w,A)=>{const R=$d.from(A),$=et(h,j=>j==="0px")?((j,ee)=>{const ie=j.fold(()=>ke(""),ve=>ke(ve/ee+"px"),()=>ke(100/ee+"%"));return nn(ee,ie)})(R,h.length):((j,ee,ie)=>j.fold(()=>ee,ve=>((Me,Le,Re)=>{const Fe=Re/Le;return H(Me,We=>$d.from(We).fold(()=>We,mt=>mt*Fe+"px",mt=>mt/100*Re+"px"))})(ee,ie,ve),ve=>((Me,Le)=>H(Me,Re=>$d.from(Re).fold(()=>Re,Fe=>Fe/Le*100+"%",Fe=>Fe+"%")))(ee,ie)))(R,h,w);return ln($)},Nb=(h,w)=>h.length===0?w:cn(h,(A,R)=>$d.from(R).fold(ke(0),xe,xe)+A,0),xw=(h,w)=>$d.from(h).fold(ke(h),A=>A+w+"px",A=>A+w+"%"),ln=h=>{if(h.length===0)return h;const w=cn(h,(R,$)=>{const j=$d.from($).fold(()=>({value:$,remainder:0}),ee=>((ie,ve)=>{const Me=Math.floor(ie);return{value:Me+"px",remainder:ie-Me}})(ee),ee=>({value:ee+"%",remainder:0}));return{output:[j.value].concat(R.output),remainder:R.remainder+j.remainder}},{output:[],remainder:0}),A=w.output;return A.slice(0,A.length-1).concat([xw(A[A.length-1],Math.round(w.remainder))])},pk=$d.from,js=h=>pk(h).fold(ke("px"),ke("px"),ke("%")),Mb=(h,w,A)=>{const R=xs(h),$=R.all,j=sr(R),ee=_i(R);w.each(ie=>{const ve=js(ie),Me=fa(h),Le=((Fe,We)=>al(Fe,We,Qs,$c))(R,h),Re=Sh(Le,Me,ie);Vc(R)?((Fe,We,mt)=>{it(We,(lt,xt)=>{const Rt=Nb([Fe[xt]],Jr());Rs(lt.element,"width",Rt+mt)})})(Re,ee,ve):((Fe,We,mt)=>{it(We,lt=>{const xt=Fe.slice(lt.column,lt.colspan+lt.column),Rt=Nb(xt,Jr());Rs(lt.element,"width",Rt+mt)})})(Re,j,ve),Rs(h,"width",ie)}),A.each(ie=>{const ve=js(ie),Me=ju(h),Le=((Re,Fe,We)=>hc(Re,Fe,We,sh,$c))(R,h,Bo);((Re,Fe,We,mt)=>{it(We,lt=>{const xt=Re.slice(lt.row,lt.rowspan+lt.row),Rt=Nb(xt,xm());Rs(lt.element,"height",Rt+mt)}),it(Fe,(lt,xt)=>{Rs(lt.element,"height",Re[xt])})})(Sh(Le,Me,ie),$,j,ve),Rs(h,"height",ie)})},Rb=h=>gc(h).exists(w=>Cr.test(w)),ll=h=>gc(h).exists(w=>qo.test(w)),Oi=h=>gc(h).isNone(),wv=h=>{Lt(h,"width")},wl=h=>{const w=vl(h);Mb(h,ye.some(w),ye.none()),wv(h)},Eh=h=>{const w=(A=>fa(A)+"px")(h);Mb(h,ye.some(w),ye.none()),wv(h)},np=h=>{Ka(h,"width");const w=Bu(h),A=w.length>0?w:vr(h);it(A,R=>{Ka(R,"width"),wv(R)}),wv(h)},Qu={styles:{"border-collapse":"collapse",width:"100%"},attributes:{border:"1"},colGroups:!1},Ec=(h,w,A,R)=>nn(h,$=>((j,ee,ie,ve)=>{const Me=Dt.fromTag("tr");for(let Le=0;Le<j;Le++){const Re=Dt.fromTag(ve<ee||Le<ie?"th":"td");Le<ie&&ut(Re,"scope","row"),ve<ee&&ut(Re,"scope","col"),Tt(Re,Dt.fromTag("br")),Tt(Me,Re)}return Me})(w,A,R,$)),xv=(h,w)=>{h.selection.select(w.dom,!0),h.selection.collapse(!0)},Gc=(h,w,A,R,$)=>{const j=(ie=>{const ve=ie.options,Me=ve.get("table_default_styles");return ve.isSet("table_default_styles")?Me:((Le,Re)=>qu(Le)||!Lf(Le)?Re:gi(Le)?{...Re,width:$g(Le)}:{...Re,width:Vs})(ie,Me)})(h),ee={styles:j,attributes:Md(h),colGroups:gb(h)};return h.undoManager.ignore(()=>{const ie=((Me,Le,Re,Fe,We,mt=Qu)=>{const lt=Dt.fromTag("table"),xt=We!=="cells";Do(lt,mt.styles),rt(lt,mt.attributes),mt.colGroups&&Tt(lt,(bn=>{const _n=Dt.fromTag("colgroup");return nn(bn,()=>Tt(_n,Dt.fromTag("col"))),_n})(Le));const Rt=Math.min(Me,Re);if(xt&&Re>0){const bn=Dt.fromTag("thead");Tt(lt,bn);const _n=Ec(Re,Le,We==="sectionCells"?Rt:0,Fe);On(bn,_n)}const Gt=Dt.fromTag("tbody");Tt(lt,Gt);const Ut=Ec(xt?Me-Rt:Me,Le,xt?0:Re,Fe);return On(Gt,Ut),lt})(A,w,$,R,Pf(h),ee);ut(ie,"data-mce-id","__mce");const ve=(Me=>{const Le=Dt.fromTag("div"),Re=Dt.fromDom(Me.dom.cloneNode(!0));return Tt(Le,Re),(Fe=>Fe.dom.innerHTML)(Le)})(ie);h.insertContent(ve),h.addVisual()}),ys(Rd(h),'table[data-mce-id="__mce"]').map(ie=>(gi(h)?Eh(ie):qu(h)?np(ie):(Ug(h)||(ve=>C(ve)&&ve.indexOf("%")!==-1)(j.width))&&wl(ie),Bf(ie),Lt(ie,"data-mce-id"),((ve,Me)=>{it(qr(Me,"tr"),Le=>{ss(ve,Le.dom),it(qr(Le,"th,td"),Re=>{Dl(ve,Re.dom)})})})(h,ie),((ve,Me)=>{ys(Me,"td,th").each(J(xv,ve))})(h,ie),ie.dom)).getOrNull()};var op=tinymce.util.Tools.resolve("tinymce.FakeClipboard");const _v="x-tinymce/dom-table-",Cv=_v+"rows",kv=_v+"columns",Sv=h=>{const w=op.FakeClipboardItem(h);op.write([w])},Db=h=>{var w;const A=(w=op.read())!==null&&w!==void 0?w:[];return Et(A,R=>ye.from(R.getType(h)))},Ib=h=>{Db(h).isSome()&&op.clear()},Ev=h=>{h.fold(Lb,w=>Sv({[Cv]:w}))},Pb=()=>Db(Cv),Lb=()=>Ib(Cv),Ov=h=>{h.fold(hk,w=>Sv({[kv]:w}))},Oh=()=>Db(kv),hk=()=>Ib(kv),Th=h=>mh(Dm(h),bc(h)).filter(Ia),Gf=(h,w)=>{const A=bc(h),R=Re=>za(Re,A),$=Re=>(Fe=>X1(Dm(Fe),bc(Fe)).filter(Ia))(h).bind(Fe=>R(Fe).map(We=>Re(We,Fe))),j=Re=>{h.focus()},ee=(Re,Fe=!1)=>$((We,mt)=>{const lt=fu(Nr(h),We,mt);Re(We,lt,Fe).each(j)}),ie=()=>$((Re,Fe)=>((We,mt,lt)=>{const xt=xs(We);return Nl(xt,mt).bind(Rt=>{const Gt=Yu(xt,lt,!1),Ut=zs(Gt).rows.slice(Rt[0].row,Rt[Rt.length-1].row+Rt[Rt.length-1].rowspan),bn=xn(Ut,Pn=>{const po=wt(Pn.cells,mo=>!mo.isLocked);return po.length>0?[{...Pn,cells:po}]:[]}),_n=bh(bn);return kf(_n.length>0,_n)}).map(Rt=>H(Rt,Gt=>{const Ut=mr(Gt.element);return it(Gt.cells,bn=>{const _n=Jo(bn.element);Uf(_n,"colspan",bn.colspan,1),Uf(_n,"rowspan",bn.rowspan,1),Tt(Ut,_n)}),Ut}))})(Re,fu(Nr(h),Re,Fe),du(ue,Dt.fromDom(h.getDoc()),ye.none()))),ve=()=>$((Re,Fe)=>((We,mt)=>{const lt=xs(We);return hi(lt,mt).map(xt=>{const Rt=xt[xt.length-1],Gt=xt[0].column,Ut=Rt.column+Rt.colspan,bn=((Pn,po,mo)=>{if(Vc(Pn)){const yr=wt(_i(Pn),yv(po,mo)),Ro=H(yr,Fo=>{const Br=Jo(Fo.element);return Ab(Br,"span",mo-po),Br}),er=Dt.fromTag("colgroup");return On(er,Ro),[er]}return[]})(lt,Gt,Ut),_n=((Pn,po,mo)=>H(Pn.all,yr=>{const Ro=wt(yr.cells,yv(po,mo)),er=H(Ro,Br=>{const jo=Jo(Br.element);return Ab(jo,"colspan",mo-po),jo}),Fo=Dt.fromTag("tr");return On(Fo,er),Fo}))(lt,Gt,Ut);return[...bn,..._n]})})(Re,fu(Nr(h),Re,Fe))),Me=(Re,Fe)=>Fe().each(We=>{const mt=H(We,lt=>Jo(lt));$((lt,xt)=>{const Rt=Wu(Dt.fromDom(h.getDoc())),Gt=((Ut,bn,_n,Pn)=>({selection:Ku(Ut),clipboard:_n,generators:Pn}))(Nr(h),0,mt,Rt);Re(lt,Gt).each(j)})}),Le=Re=>(Fe,We)=>((mt,lt)=>Ct(mt,lt)?ye.from(mt[lt]):ye.none())(We,"type").each(mt=>{ee(Re(mt),We.no_events)});Be({mceTableSplitCells:()=>ee(w.unmergeCells),mceTableMergeCells:()=>ee(w.mergeCells),mceTableInsertRowBefore:()=>ee(w.insertRowsBefore),mceTableInsertRowAfter:()=>ee(w.insertRowsAfter),mceTableInsertColBefore:()=>ee(w.insertColumnsBefore),mceTableInsertColAfter:()=>ee(w.insertColumnsAfter),mceTableDeleteCol:()=>ee(w.deleteColumn),mceTableDeleteRow:()=>ee(w.deleteRow),mceTableCutCol:()=>ve().each(Re=>{Ov(Re),ee(w.deleteColumn)}),mceTableCutRow:()=>ie().each(Re=>{Ev(Re),ee(w.deleteRow)}),mceTableCopyCol:()=>ve().each(Re=>Ov(Re)),mceTableCopyRow:()=>ie().each(Re=>Ev(Re)),mceTablePasteColBefore:()=>Me(w.pasteColsBefore,Oh),mceTablePasteColAfter:()=>Me(w.pasteColsAfter,Oh),mceTablePasteRowBefore:()=>Me(w.pasteRowsBefore,Pb),mceTablePasteRowAfter:()=>Me(w.pasteRowsAfter,Pb),mceTableDelete:()=>Th(h).each(Re=>{za(Re,A).filter(ae(A)).each(Fe=>{const We=Dt.fromText("");if(ot(Fe,We),Qn(Fe),h.dom.isEmpty(h.getBody()))h.setContent(""),h.selection.setCursorLocation();else{const mt=h.dom.createRng();mt.setStart(We.dom,0),mt.setEnd(We.dom,0),h.selection.setRng(mt),h.nodeChanged()}})}),mceTableCellToggleClass:(Re,Fe)=>{$(We=>{const mt=Nr(h),lt=et(mt,Rt=>h.formatter.match("tablecellclass",{value:Fe},Rt.dom)),xt=lt?h.formatter.remove:h.formatter.apply;it(mt,Rt=>xt("tablecellclass",{value:Fe},Rt.dom)),$a(h,We.dom,tp)})},mceTableToggleClass:(Re,Fe)=>{$(We=>{h.formatter.toggle("tableclass",{value:Fe},We.dom),$a(h,We.dom,tp)})},mceTableToggleCaption:()=>{Th(h).each(Re=>{za(Re,A).each(Fe=>{Sa(Fe,"caption").fold(()=>{const We=Dt.fromTag("caption");Tt(We,Dt.fromText("Caption")),((mt,lt,xt)=>{wi(mt,0).fold(()=>{Tt(mt,lt)},Rt=>{Pe(Rt,lt)})})(Fe,We),h.selection.setCursorLocation(We.dom,0)},We=>{ur("caption")(Re)&&dr("td",Fe).each(mt=>h.selection.setCursorLocation(mt.dom,0)),Qn(We)}),$a(h,Fe.dom,ks)})})},mceTableSizingMode:(Re,Fe)=>(We=>Th(h).each(mt=>{qu(h)||gi(h)||Ug(h)||za(mt,A).each(lt=>{We!=="relative"||Rb(lt)?We!=="fixed"||ll(lt)?We!=="responsive"||Oi(lt)||np(lt):Eh(lt):wl(lt),Bf(lt),$a(h,lt.dom,ks)})}))(Fe),mceTableCellType:Le(Re=>Re==="th"?w.makeCellsHeader:w.unmakeCellsHeader),mceTableColType:Le(Re=>Re==="th"?w.makeColumnsHeader:w.unmakeColumnsHeader),mceTableRowType:Le(Re=>{switch(Re){case"header":return w.makeRowsHeader;case"footer":return w.makeRowsFooter;default:return w.makeRowsBody}})},(Re,Fe)=>h.addCommand(Fe,Re)),h.addCommand("mceInsertTable",(Re,Fe)=>{((We,mt,lt,xt={})=>{const Rt=Gt=>le(Gt)&&Gt>0;if(Rt(mt)&&Rt(lt)){const Gt=xt.headerRows||0,Ut=xt.headerColumns||0;return Gc(We,lt,mt,Ut,Gt)}console.error("Invalid values for mceInsertTable - rows and columns values are required to insert a table.")})(h,Fe.rows,Fe.columns,Fe.options)}),h.addCommand("mceTableApplyCellStyle",(Re,Fe)=>{const We=xt=>"tablecell"+xt.toLowerCase().replace("-","");if(!S(Fe))return;const mt=wt(Nr(h),Ia);if(mt.length===0)return;const lt=((xt,Rt)=>{const Gt={};return((Ut,bn,_n,Pn)=>{Be(Ut,(po,mo)=>{(bn(po,mo)?_n:Pn)(po,mo)})})(xt,Rt,(Ut=>(bn,_n)=>{Ut[_n]=bn})(Gt),ue),Gt})(Fe,(xt,Rt)=>h.formatter.has(We(Rt))&&C(xt));(xt=>{for(const Rt in xt)if(oo.call(xt,Rt))return!1;return!0})(lt)||(Be(lt,(xt,Rt)=>{const Gt=We(Rt);it(mt,Ut=>{xt===""?h.formatter.remove(Gt,{value:null},Ut.dom,!0):h.formatter.apply(Gt,{value:xt},Ut.dom)})}),R(mt[0]).each(xt=>$a(h,xt.dom,tp)))})},ha=Hm([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),Wi={before:ha.before,on:ha.on,after:ha.after,cata:(h,w,A,R)=>h.fold(w,A,R),getStart:h=>h.fold(xe,xe,xe)},Ds=(h,w)=>({selection:h,kill:w}),Bb=(h,w)=>{const A=h.document.createRange();return A.selectNode(w.dom),A},_w=(h,w)=>{const A=h.document.createRange();return Fb(A,w),A},Fb=(h,w)=>h.selectNodeContents(w.dom),Ah=(h,w,A)=>{const R=h.document.createRange();var $;return $=R,w.fold(j=>{$.setStartBefore(j.dom)},(j,ee)=>{$.setStart(j.dom,ee)},j=>{$.setStartAfter(j.dom)}),((j,ee)=>{ee.fold(ie=>{j.setEndBefore(ie.dom)},(ie,ve)=>{j.setEnd(ie.dom,ve)},ie=>{j.setEndAfter(ie.dom)})})(R,A),R},Km=(h,w,A,R,$)=>{const j=h.document.createRange();return j.setStart(w.dom,A),j.setEnd(R.dom,$),j},Cw=h=>({left:h.left,top:h.top,right:h.right,bottom:h.bottom,width:h.width,height:h.height}),qf=Hm([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),rp=(h,w,A)=>w(Dt.fromDom(A.startContainer),A.startOffset,Dt.fromDom(A.endContainer),A.endOffset),Kf=(h,w)=>{const A=((R,$)=>$.match({domRange:j=>({ltr:ke(j),rtl:ye.none}),relative:(j,ee)=>({ltr:Fi(()=>Ah(R,j,ee)),rtl:Fi(()=>ye.some(Ah(R,ee,j)))}),exact:(j,ee,ie,ve)=>({ltr:Fi(()=>Km(R,j,ee,ie,ve)),rtl:Fi(()=>ye.some(Km(R,ie,ve,j,ee)))})}))(h,w);return((R,$)=>{const j=$.ltr();return j.collapsed?$.rtl().filter(ee=>ee.collapsed===!1).map(ee=>qf.rtl(Dt.fromDom(ee.endContainer),ee.endOffset,Dt.fromDom(ee.startContainer),ee.startOffset)).getOrThunk(()=>rp(0,qf.ltr,j)):rp(0,qf.ltr,j)})(0,A)},Hb=(h,w)=>Kf(h,w).match({ltr:(A,R,$,j)=>{const ee=h.document.createRange();return ee.setStart(A.dom,R),ee.setEnd($.dom,j),ee},rtl:(A,R,$,j)=>{const ee=h.document.createRange();return ee.setStart($.dom,j),ee.setEnd(A.dom,R),ee}});qf.ltr,qf.rtl;const Nh=(h,w,A,R)=>({start:h,soffset:w,finish:A,foffset:R}),Yf=(h,w,A,R)=>({start:Wi.on(h,w),finish:Wi.on(A,R)}),Mh=(h,w)=>{const A=Hb(h,w);return Nh(Dt.fromDom(A.startContainer),A.startOffset,Dt.fromDom(A.endContainer),A.endOffset)},Xf=Yf,ap=(h,w,A,R,$)=>$n(A,R)?ye.none():zf(A,R,w).bind(j=>{const ee=j.boxes.getOr([]);return ee.length>1?($(h,ee,j.start,j.finish),ye.some(Ds(ye.some(Xf(A,0,A,ti(A))),!0))):ye.none()}),zb=(h,w)=>({item:h,mode:w}),ed=(h,w,A,R=Ym)=>h.property().parent(w).map($=>zb($,R)),Ym=(h,w,A,R=Rh)=>A.sibling(h,w).map($=>zb($,R)),Rh=(h,w,A,R=Rh)=>{const $=h.property().children(w);return A.first($).map(j=>zb(j,R))},Xm=[{current:ed,next:Ym,fallback:ye.none()},{current:Ym,next:Rh,fallback:ye.some(ed)},{current:Rh,next:Rh,fallback:ye.some(Ym)}],Dh=(h,w,A,R,$=Xm)=>pn($,j=>j.current===A).bind(j=>j.current(h,w,R,j.next).orThunk(()=>j.fallback.bind(ee=>Dh(h,w,ee,R)))),Tv=(h,w,A,R,$,j)=>Dh(h,w,R,$).bind(ee=>j(ee.item)?ye.none():A(ee.item)?ye.some(ee.item):Tv(h,ee.item,A,ee.mode,$,j)),kw=h=>w=>h.property().children(w).length===0,Av=(h,w,A,R)=>Tv(h,w,A,Ym,{sibling:($,j)=>$.query().prevSibling(j),first:$=>$.length>0?ye.some($[$.length-1]):ye.none()},R),Ih=(h,w,A,R)=>Tv(h,w,A,Ym,{sibling:($,j)=>$.query().nextSibling(j),first:$=>$.length>0?ye.some($[0]):ye.none()},R),Nv=Ma(),Vb=(h,w)=>((A,R,$)=>Av(A,R,kw(A),$))(Nv,h,w),$b=(h,w)=>((A,R,$)=>Ih(A,R,kw(A),$))(Nv,h,w),Mv=Hm([{none:["message"]},{success:[]},{failedUp:["cell"]},{failedDown:["cell"]}]),Sw=h=>ya(h,"tr"),Jf={...Mv,verify:(h,w,A,R,$,j,ee)=>ya(R,"td,th",ee).bind(ie=>ya(w,"td,th",ee).map(ve=>$n(ie,ve)?$n(R,ie)&&ti(ie)===$?j(ve):Mv.none("in same cell"):K1(Sw,[ie,ve]).fold(()=>((Me,Le,Re)=>{const Fe=Me.getRect(Le),We=Me.getRect(Re);return We.right>Fe.left&&We.left<Fe.right})(h,ve,ie)?Mv.success():j(ve),Me=>j(ve)))).getOr(Mv.none("default")),cata:(h,w,A,R,$)=>h.fold(w,A,R,$)},Ph=ur("br"),Rv=(h,w,A)=>w(h,A).bind(R=>so(R)&&Vg(R).trim().length===0?Rv(R,w,A):ye.some(R)),vk=(h,w,A,R)=>(($,j)=>wi($,j).filter(Ph).orThunk(()=>wi($,j-1).filter(Ph)))(w,A).bind($=>R.traverse($).fold(()=>Rv($,R.gather,h).map(R.relative),j=>(ee=>zr(ee).bind(ie=>{const ve=Ra(ie);return((Me,Le)=>Sn(Me,J($n,Le)))(ve,ee).map(Me=>((Le,Re,Fe,We)=>({parent:Le,children:Re,element:Fe,index:We}))(ie,ve,ee,Me))}))(j).map(ee=>Wi.on(ee.parent,ee.index)))),sp=(h,w)=>({left:h.left,top:h.top+w,right:h.right,bottom:h.bottom+w}),ip=(h,w)=>({left:h.left,top:h.top-w,right:h.right,bottom:h.bottom-w}),Ew=(h,w,A)=>({left:h.left+w,top:h.top+A,right:h.right+w,bottom:h.bottom+A}),Qf=h=>({left:h.left,top:h.top,right:h.right,bottom:h.bottom}),Ud=(h,w)=>ye.some(h.getRect(w)),Ub=(h,w,A)=>Xn(w)?Ud(h,w).map(Qf):so(w)?((R,$,j)=>j>=0&&j<ti($)?R.getRangedRect($,j,$,j+1):j>0?R.getRangedRect($,j-1,$,j):ye.none())(h,w,A).map(Qf):ye.none(),jb=(h,w)=>Xn(w)?Ud(h,w).map(Qf):so(w)?h.getRangedRect(w,0,w,ti(w)).map(Qf):ye.none(),jd=Hm([{none:[]},{retry:["caret"]}]),lp=(h,w,A)=>Hl(w,Yl).fold(G,R=>jb(h,R).exists($=>((j,ee)=>j.left<ee.left||Math.abs(ee.right-j.left)<1||j.left>ee.right)(A,$))),Ow={point:h=>h.bottom,adjuster:(h,w,A,R,$)=>{const j=sp($,5);return Math.abs(A.bottom-R.bottom)<1||A.top>$.bottom?jd.retry(j):A.top===$.bottom?jd.retry(sp($,1)):lp(h,w,$)?jd.retry(Ew(j,5,0)):jd.none()},move:sp,gather:$b},Dv=(h,w,A,R,$)=>$===0?ye.some(R):((j,ee,ie)=>j.elementFromPoint(ee,ie).filter(ve=>Je(ve)==="table").isSome())(h,R.left,w.point(R))?((j,ee,ie,ve,Me)=>Dv(j,ee,ie,ee.move(ve,5),Me))(h,w,A,R,$-1):h.situsFromPoint(R.left,w.point(R)).bind(j=>j.start.fold(ye.none,ee=>jb(h,ee).bind(ie=>w.adjuster(h,ee,ie,A,R).fold(ye.none,ve=>Dv(h,w,A,ve,$-1))).orThunk(()=>ye.some(R)),ye.none)),Zb=(h,w,A)=>{const R=h.move(A,5),$=Dv(w,h,A,R,100).getOr(R);return((j,ee,ie)=>j.point(ee)>ie.getInnerHeight()?ye.some(j.point(ee)-ie.getInnerHeight()):j.point(ee)<0?ye.some(-j.point(ee)):ye.none())(h,$,w).fold(()=>w.situsFromPoint($.left,h.point($)),j=>(w.scrollBy(0,j),w.situsFromPoint($.left,h.point($)-j)))},Ti={tryUp:J(Zb,{point:h=>h.top,adjuster:(h,w,A,R,$)=>{const j=ip($,5);return Math.abs(A.top-R.top)<1||A.bottom<$.top?jd.retry(j):A.bottom===$.top?jd.retry(ip($,1)):lp(h,w,$)?jd.retry(Ew(j,5,0)):jd.none()},move:ip,gather:Vb}),tryDown:J(Zb,Ow),getJumpSize:ke(5)},Tw=(h,w,A)=>h.getSelection().bind(R=>(($,j,ee,ie)=>(Ph(j)?((Me,Le,Re)=>Re.traverse(Le).orThunk(()=>Rv(Le,Re.gather,Me)).map(Re.relative))($,j,ie):vk($,j,ee,ie)).map(Me=>({start:Me,finish:Me})))(w,R.finish,R.foffset,A).fold(()=>ye.some(Kg(R.finish,R.foffset)),$=>{const j=h.fromSitus($);return ee=Jf.verify(h,R.finish,R.foffset,j.finish,j.foffset,A.failure,w),Jf.cata(ee,ie=>ye.none(),()=>ye.none(),ie=>ye.some(Kg(ie,0)),ie=>ye.some(Kg(ie,ti(ie))));var ee})),Wb=(h,w,A,R,$,j)=>j===0?ye.none():Lh(h,w,A,R,$).bind(ee=>{const ie=h.fromSitus(ee),ve=Jf.verify(h,A,R,ie.finish,ie.foffset,$.failure,w);return Jf.cata(ve,()=>ye.none(),()=>ye.some(ee),Me=>$n(A,Me)&&R===0?Gb(h,A,R,ip,$):Wb(h,w,Me,0,$,j-1),Me=>$n(A,Me)&&R===ti(Me)?Gb(h,A,R,sp,$):Wb(h,w,Me,ti(Me),$,j-1))}),Gb=(h,w,A,R,$)=>Ub(h,w,A).bind(j=>Aw(h,$,R(j,Ti.getJumpSize()))),Aw=(h,w,A)=>{const R=nl().browser;return R.isChromium()||R.isSafari()||R.isFirefox()?w.retry(h,A):ye.none()},Lh=(h,w,A,R,$)=>Ub(h,A,R).bind(j=>Aw(h,$,j)),qb=(h,w,A,R,$)=>ya(R,"td,th",w).bind(j=>ya(j,"table",w).bind(ee=>((ie,ve)=>Xs(ie,Me=>zr(Me).exists(Le=>$n(Le,ve)),void 0).isSome())($,ee)?((ie,ve,Me)=>Tw(ie,ve,Me).bind(Le=>Wb(ie,ve,Le.element,Le.offset,Me,20).map(ie.fromSitus)))(h,w,A).bind(ie=>ya(ie.finish,"td,th",w).map(ve=>({start:j,finish:ve,range:ie}))):ye.none())),Iv=(h,w,A,R,$,j)=>j(R,w).orThunk(()=>qb(h,w,A,R,$).map(ee=>{const ie=ee.range;return Ds(ye.some(Xf(ie.start,ie.soffset,ie.finish,ie.foffset)),!0)})),Nw=(h,w)=>ya(h,"tr",w).bind(A=>ya(A,"table",w).bind(R=>{const $=qr(R,"tr");return $n(A,$[0])?((j,ee,ie)=>Av(Nv,j,ve=>bl(ve).isSome(),ie))(R,0,w).map(j=>{const ee=ti(j);return Ds(ye.some(Xf(j,ee,j,ee)),!0)}):ye.none()})),bk=(h,w)=>ya(h,"tr",w).bind(A=>ya(A,"table",w).bind(R=>{const $=qr(R,"tr");return $n(A,$[$.length-1])?((j,ee,ie)=>Ih(Nv,j,ve=>Df(ve).isSome(),ie))(R,0,w).map(j=>Ds(ye.some(Xf(j,0,j,0)),!0)):ye.none()})),eg=(h,w,A,R,$,j,ee)=>qb(h,A,R,$,j).bind(ie=>ap(w,A,ie.start,ie.finish,ee)),Pv=h=>{let w=h;return{get:()=>w,set:A=>{w=A}}},cp=()=>{const h=(w=>{const A=Pv(ye.none()),R=()=>A.get().each(w);return{clear:()=>{R(),A.set(ye.none())},isSet:()=>A.get().isSome(),get:()=>A.get(),set:$=>{R(),A.set(ye.some($))}}})(ue);return{...h,on:w=>h.get().each(w)}},Kb=(h,w)=>ya(h,"td,th",w),Mw=h=>bs(h).exists(ih),Yb={traverse:Bi,gather:$b,relative:Wi.before,retry:Ti.tryDown,failure:Jf.failedDown},Xb={traverse:Bs,gather:Vb,relative:Wi.before,retry:Ti.tryUp,failure:Jf.failedUp},Jm=h=>w=>w===h,Bh=Jm(38),up=Jm(40),Qm=h=>h>=37&&h<=40,Rw={isBackward:Jm(37),isForward:Jm(39)},yk={isBackward:Jm(39),isForward:Jm(37)},td=Hm([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),dp={domRange:td.domRange,relative:td.relative,exact:td.exact,exactFromRange:h=>td.exact(h.start,h.soffset,h.finish,h.foffset),getWin:h=>{const w=(A=>A.match({domRange:R=>Dt.fromDom(R.startContainer),relative:(R,$)=>Wi.getStart(R),exact:(R,$,j,ee)=>R}))(h);return Dt.fromDom(Xr(w).dom.defaultView)},range:Nh},wk=document.caretPositionFromPoint?(h,w,A)=>{var R,$;return ye.from(($=(R=h.dom).caretPositionFromPoint)===null||$===void 0?void 0:$.call(R,w,A)).bind(j=>{if(j.offsetNode===null)return ye.none();const ee=h.dom.createRange();return ee.setStart(j.offsetNode,j.offset),ee.collapse(),ye.some(ee)})}:document.caretRangeFromPoint?(h,w,A)=>{var R,$;return ye.from(($=(R=h.dom).caretRangeFromPoint)===null||$===void 0?void 0:$.call(R,w,A))}:ye.none,Fh=(h,w)=>{const A=Je(h);return A==="input"?Wi.after(h):wn(["br","img"],A)?w===0?Wi.before(h):Wi.after(h):Wi.on(h,w)},Hh=h=>ye.from(h.getSelection()),Ai=(h,w)=>{Hh(h).each(A=>{A.removeAllRanges(),A.addRange(w)})},mp=(h,w,A,R,$)=>{const j=Km(h,w,A,R,$);Ai(h,j)},nd=(h,w)=>Kf(h,w).match({ltr:(A,R,$,j)=>{mp(h,A,R,$,j)},rtl:(A,R,$,j)=>{Hh(h).each(ee=>{if(ee.setBaseAndExtent)ee.setBaseAndExtent(A.dom,R,$.dom,j);else if(ee.extend)try{((ie,ve,Me,Le,Re,Fe)=>{ve.collapse(Me.dom,Le),ve.extend(Re.dom,Fe)})(0,ee,A,R,$,j)}catch{mp(h,$,j,A,R)}else mp(h,$,j,A,R)})}}),od=(h,w,A,R,$)=>{const j=((ee,ie,ve,Me)=>{const Le=Fh(ee,ie),Re=Fh(ve,Me);return dp.relative(Le,Re)})(w,A,R,$);nd(h,j)},Jb=(h,w,A)=>{const R=(($,j)=>{const ee=$.fold(Wi.before,Fh,Wi.after),ie=j.fold(Wi.before,Fh,Wi.after);return dp.relative(ee,ie)})(w,A);nd(h,R)},fp=h=>{if(h.rangeCount>0){const w=h.getRangeAt(0),A=h.getRangeAt(h.rangeCount-1);return ye.some(Nh(Dt.fromDom(w.startContainer),w.startOffset,Dt.fromDom(A.endContainer),A.endOffset))}return ye.none()},Dw=h=>{if(h.anchorNode===null||h.focusNode===null)return fp(h);{const w=Dt.fromDom(h.anchorNode),A=Dt.fromDom(h.focusNode);return((R,$,j,ee)=>{const ie=((Me,Le,Re,Fe)=>{const We=Dr(Me).dom.createRange();return We.setStart(Me.dom,Le),We.setEnd(Re.dom,Fe),We})(R,$,j,ee),ve=$n(R,j)&&$===ee;return ie.collapsed&&!ve})(w,h.anchorOffset,A,h.focusOffset)?ye.some(Nh(w,h.anchorOffset,A,h.focusOffset)):fp(h)}},Zd=(h,w,A=!0)=>{const R=(A?_w:Bb)(h,w);Ai(h,R)},Lv=h=>(w=>Hh(w).filter(A=>A.rangeCount>0).bind(Dw))(h).map(w=>dp.exact(w.start,w.soffset,w.finish,w.foffset)),zh=h=>({elementFromPoint:(w,A)=>Dt.fromPoint(Dt.fromDom(h.document),w,A),getRect:w=>w.dom.getBoundingClientRect(),getRangedRect:(w,A,R,$)=>{const j=dp.exact(w,A,R,$);return((ee,ie)=>(ve=>{const Me=ve.getClientRects(),Le=Me.length>0?Me[0]:ve.getBoundingClientRect();return Le.width>0||Le.height>0?ye.some(Le).map(Cw):ye.none()})(Hb(ee,ie)))(h,j)},getSelection:()=>Lv(h).map(w=>Mh(h,w)),fromSitus:w=>{const A=dp.relative(w.start,w.finish);return Mh(h,A)},situsFromPoint:(w,A)=>((R,$,j)=>((ee,ie,ve)=>{const Me=Dt.fromDom(ee.document);return wk(Me,ie,ve).map(Le=>Nh(Dt.fromDom(Le.startContainer),Le.startOffset,Dt.fromDom(Le.endContainer),Le.endOffset))})(R,$,j))(h,w,A).map(R=>Yf(R.start,R.soffset,R.finish,R.foffset)),clearSelection:()=>{(w=>{Hh(w).each(A=>A.removeAllRanges())})(h)},collapseSelection:(w=!1)=>{Lv(h).each(A=>A.fold(R=>R.collapse(w),(R,$)=>{const j=w?R:$;Jb(h,j,j)},(R,$,j,ee)=>{const ie=w?R:j,ve=w?$:ee;od(h,ie,ve,ie,ve)}))},setSelection:w=>{od(h,w.start,w.soffset,w.finish,w.foffset)},setRelativeSelection:(w,A)=>{Jb(h,w,A)},selectNode:w=>{Zd(h,w,!1)},selectContents:w=>{Zd(h,w)},getInnerHeight:()=>h.innerHeight,getScrollY:()=>(w=>{const A=w!==void 0?w.dom:document,R=A.body.scrollLeft||A.documentElement.scrollLeft,$=A.body.scrollTop||A.documentElement.scrollTop;return X(R,$)})(Dt.fromDom(h.document)).top,scrollBy:(w,A)=>{((R,$,j)=>{const ee=(j!==void 0?j.dom:document).defaultView;ee&&ee.scrollBy(R,$)})(w,A,Dt.fromDom(h.document))}}),Xl=(h,w)=>({rows:h,cols:w}),Qb=h=>Hl(h,Uo).exists(ih),Vh=(h,w)=>Qb(h)||Qb(w),rd=h=>h.dom.classList!==void 0,ef=(h,w)=>((A,R,$)=>{const j=((ee,ie)=>{const ve=Ot(ee,ie);return ve===void 0||ve===""?[]:ve.split(" ")})(A,R).concat([$]);return ut(A,R,j.join(" ")),!0})(h,"class",w),Wd=(h,w)=>{rd(h)?h.dom.classList.add(w):ef(h,w)},tf=(h,w)=>rd(h)&&h.dom.classList.contains(w),Gd=()=>({tag:"none"}),vu=h=>({tag:"multiple",elements:h}),Bv=h=>({tag:"single",element:h}),Fv=h=>{const w=Dt.fromDom((ie=>{if(Yt()&&re(ie.target)){const ve=Dt.fromDom(ie.target);if(Xn(ve)&&re(ve.dom.shadowRoot)&&ie.composed&&ie.composedPath){const Me=ie.composedPath();if(Me)return Ht(Me)}}return ye.from(ie.target)})(h).getOr(h.target)),A=()=>h.stopPropagation(),R=()=>h.preventDefault(),$=(j=R,ee=A,(...ie)=>j(ee.apply(null,ie)));var j,ee;return((ie,ve,Me,Le,Re,Fe,We)=>({target:ie,x:ve,y:Me,stop:Le,prevent:Re,kill:Fe,raw:We}))(w,h.clientX,h.clientY,A,R,$,h)},Iw=(h,w,A,R)=>{h.dom.removeEventListener(w,A,R)},Pw=Ae,ad=(h,w,A)=>((R,$,j,ee)=>((ie,ve,Me,Le,Re)=>{const Fe=((We,mt)=>lt=>{We(lt)&&mt(Fv(lt))})(Me,Le);return ie.dom.addEventListener(ve,Fe,Re),{unbind:J(Iw,ie,ve,Fe,Re)}})(R,$,j,ee,!1))(h,w,Pw,A),qd=Fv,$h=h=>!tf(Dt.fromDom(h.target),"ephox-snooker-resizer-bar"),br=(h,w)=>{const A=($=eo.selectedSelector,{get:()=>Gg(Dt.fromDom(h.getBody()),$).fold(()=>X1(Dm(h),bc(h)).fold(Gd,Bv),vu)}),R=((j,ee,ie)=>{const ve=Fe=>{Lt(Fe,j.selected),Lt(Fe,j.firstSelected),Lt(Fe,j.lastSelected)},Me=Fe=>{ut(Fe,j.selected,"1")},Le=Fe=>{Re(Fe),ie()},Re=Fe=>{const We=qr(Fe,`${j.selectedSelector},${j.firstSelectedSelector},${j.lastSelectedSelector}`);it(We,ve)};return{clearBeforeUpdate:Re,clear:Le,selectRange:(Fe,We,mt,lt)=>{Le(Fe),it(We,Me),ut(mt,j.firstSelected,"1"),ut(lt,j.lastSelected,"1"),ee(We,mt,lt)},selectedSelector:j.selectedSelector,firstSelectedSelector:j.firstSelectedSelector,lastSelectedSelector:j.lastSelectedSelector}})(eo,(j,ee,ie)=>{za(ee).each(ve=>{const Me=Gu(h),Le=du(ue,Dt.fromDom(h.getDoc()),Me),Re=((Fe,We,mt)=>{const lt=xs(Fe);return Nl(lt,We).map(xt=>{const Rt=Yu(lt,mt,!1),{rows:Gt}=zs(Rt),Ut=((_n,Pn)=>{const po=_n.slice(0,Pn[Pn.length-1].row+1),mo=bh(po);return xn(mo,yr=>{const Ro=yr.cells.slice(0,Pn[Pn.length-1].column+1);return H(Ro,er=>er.element)})})(Gt,xt),bn=((_n,Pn)=>{const po=_n.slice(Pn[0].row+Pn[0].rowspan-1,_n.length),mo=bh(po);return xn(mo,yr=>{const Ro=yr.cells.slice(Pn[0].column+Pn[0].colspan-1,yr.cells.length);return H(Ro,er=>er.element)})})(Gt,xt);return{upOrLeftCells:Ut,downOrRightCells:bn}})})(ve,{selection:Nr(h)},Le);((Fe,We,mt,lt,xt)=>{Fe.dispatch("TableSelectionChange",{cells:We,start:mt,finish:lt,otherCells:xt})})(h,j,ee,ie,Re)})},()=>(j=>{j.dispatch("TableSelectionClear")})(h));var $;return h.on("init",j=>{const ee=h.getWin(),ie=Rd(h),ve=bc(h),Me=((lt,xt,Rt,Gt)=>{const Ut=((bn,_n,Pn,po)=>{const mo=cp(),yr=mo.clear,Ro=er=>{mo.on(Fo=>{po.clearBeforeUpdate(_n),Kb(er.target,Pn).each(Br=>{zf(Fo,Br,Pn).each(jo=>{const Pa=jo.boxes.getOr([]);if(Pa.length===1){const Ss=Pa[0],Ni=Rm(Ss)==="false",sd=Fs(jc(er.target),Ss,$n);Ni&&sd&&(po.selectRange(_n,Pa,Ss,Ss),bn.selectContents(Ss))}else Pa.length>1&&(po.selectRange(_n,Pa,jo.start,jo.finish),bn.selectContents(Br))})})})};return{clearstate:yr,mousedown:er=>{po.clear(_n),Kb(er.target,Pn).filter(Mw).each(mo.set)},mouseover:er=>{Ro(er)},mouseup:er=>{Ro(er),yr()}}})(zh(lt),xt,Rt,Gt);return{clearstate:Ut.clearstate,mousedown:Ut.mousedown,mouseover:Ut.mouseover,mouseup:Ut.mouseup}})(ee,ie,ve,R),Le=((lt,xt,Rt,Gt)=>{const Ut=zh(lt),bn=()=>(Gt.clear(xt),ye.none());return{keydown:(_n,Pn,po,mo,yr,Ro)=>{const er=_n.raw,Fo=er.which,Br=er.shiftKey===!0;return Gl(xt,Gt.selectedSelector).fold(()=>(Qm(Fo)&&!Br&&Gt.clearBeforeUpdate(xt),Qm(Fo)&&Br&&!Vh(Pn,mo)?ye.none:up(Fo)&&Br?J(eg,Ut,xt,Rt,Yb,mo,Pn,Gt.selectRange):Bh(Fo)&&Br?J(eg,Ut,xt,Rt,Xb,mo,Pn,Gt.selectRange):up(Fo)?J(Iv,Ut,Rt,Yb,mo,Pn,bk):Bh(Fo)?J(Iv,Ut,Rt,Xb,mo,Pn,Nw):ye.none),Pa=>{const Ss=Ni=>()=>Et(Ni,Es=>((Yd,pp,Zh,hp,yu)=>Pm(hp,Yd,pp,yu.firstSelectedSelector,yu.lastSelectedSelector).map(og=>(yu.clearBeforeUpdate(Zh),yu.selectRange(Zh,og.boxes,og.start,og.finish),og.boxes)))(Es.rows,Es.cols,xt,Pa,Gt)).fold(()=>Vf(xt,Gt.firstSelectedSelector,Gt.lastSelectedSelector).map(Es=>{const Yd=up(Fo)||Ro.isForward(Fo)?Wi.after:Wi.before;return Ut.setRelativeSelection(Wi.on(Es.first,0),Yd(Es.table)),Gt.clear(xt),Ds(ye.none(),!0)}),Es=>ye.some(Ds(ye.none(),!0)));return Qm(Fo)&&Br&&!Vh(Pn,mo)?ye.none:up(Fo)&&Br?Ss([Xl(1,0)]):Bh(Fo)&&Br?Ss([Xl(-1,0)]):Ro.isBackward(Fo)&&Br?Ss([Xl(0,-1),Xl(-1,0)]):Ro.isForward(Fo)&&Br?Ss([Xl(0,1),Xl(1,0)]):Qm(Fo)&&!Br?bn:ye.none})()},keyup:(_n,Pn,po,mo,yr)=>Gl(xt,Gt.selectedSelector).fold(()=>{const Ro=_n.raw,er=Ro.which;return Ro.shiftKey===!0&&Qm(er)&&Vh(Pn,mo)?((Fo,Br,jo,Pa,Ss,Ni,sd)=>$n(jo,Ss)&&Pa===Ni?ye.none():ya(jo,"td,th",Br).bind(Es=>ya(Ss,"td,th",Br).bind(Yd=>ap(Fo,Br,Es,Yd,sd))))(xt,Rt,Pn,po,mo,yr,Gt.selectRange):ye.none()},ye.none)}})(ee,ie,ve,R),Re=((lt,xt,Rt,Gt)=>{const Ut=zh(lt);return(bn,_n)=>{Gt.clearBeforeUpdate(xt),zf(bn,_n,Rt).each(Pn=>{const po=Pn.boxes.getOr([]);Gt.selectRange(xt,po,Pn.start,Pn.finish),Ut.selectContents(_n),Ut.collapseSelection()})}})(ee,ie,ve,R);h.on("TableSelectorChange",lt=>Re(lt.start,lt.finish));const Fe=(lt,xt)=>{(Rt=>Rt.raw.shiftKey===!0)(lt)&&(xt.kill&&lt.kill(),xt.selection.each(Rt=>{const Gt=dp.relative(Rt.start,Rt.finish),Ut=Hb(ee,Gt);h.selection.setRng(Ut)}))},We=lt=>lt.button===0,mt=(()=>{const lt=Pv(Dt.fromDom(ie)),xt=Pv(0);return{touchEnd:Rt=>{const Gt=Dt.fromDom(Rt.target);if(ur("td")(Gt)||ur("th")(Gt)){const Ut=lt.get(),bn=xt.get();$n(Ut,Gt)&&Rt.timeStamp-bn<300&&(Rt.preventDefault(),Re(Gt,Gt))}lt.set(Gt),xt.set(Rt.timeStamp)}}})();h.on("dragstart",lt=>{Me.clearstate()}),h.on("mousedown",lt=>{We(lt)&&$h(lt)&&Me.mousedown(qd(lt))}),h.on("mouseover",lt=>{var xt;(xt=lt).buttons!==void 0&&(1&xt.buttons)==0||!$h(lt)||Me.mouseover(qd(lt))}),h.on("mouseup",lt=>{We(lt)&&$h(lt)&&Me.mouseup(qd(lt))}),h.on("touchend",mt.touchEnd),h.on("keyup",lt=>{const xt=qd(lt);if(xt.raw.shiftKey&&Qm(xt.raw.which)){const Rt=h.selection.getRng(),Gt=Dt.fromDom(Rt.startContainer),Ut=Dt.fromDom(Rt.endContainer);Le.keyup(xt,Gt,Rt.startOffset,Ut,Rt.endOffset).each(bn=>{Fe(xt,bn)})}}),h.on("keydown",lt=>{const xt=qd(lt);w.hide();const Rt=h.selection.getRng(),Gt=Dt.fromDom(Rt.startContainer),Ut=Dt.fromDom(Rt.endContainer),bn=ah(Rw,yk)(Dt.fromDom(h.selection.getStart()));Le.keydown(xt,Gt,Rt.startOffset,Ut,Rt.endOffset,bn).each(_n=>{Fe(xt,_n)}),w.show()}),h.on("NodeChange",()=>{const lt=h.selection,xt=Dt.fromDom(lt.getStart()),Rt=Dt.fromDom(lt.getEnd());K1(za,[xt,Rt]).fold(()=>R.clear(ie),ue)})}),h.on("PreInit",()=>{h.serializer.addTempAttr(eo.firstSelected),h.serializer.addTempAttr(eo.lastSelected)}),{getSelectedCells:()=>((j,ee,ie,ve)=>{switch(j.tag){case"none":return ee();case"single":return(Me=>[Me.dom])(j.element);case"multiple":return(Me=>H(Me,Le=>Le.dom))(j.elements)}})(A.get(),ke([])),clearSelectedCells:j=>R.clear(Dt.fromDom(j))}},Is=h=>{let w=[];return{bind:A=>{if(A===void 0)throw new Error("Event bind error: undefined handler");w.push(A)},unbind:A=>{w=wt(w,R=>R!==A)},trigger:(...A)=>{const R={};it(h,($,j)=>{R[$]=A[j]}),it(w,$=>{$(R)})}}},Il=h=>({registry:ne(h,w=>({bind:w.bind,unbind:w.unbind})),trigger:ne(h,w=>w.trigger)}),Kd=h=>h.slice(0).sort(),Hv=(h,w)=>{const A=wt(w,R=>!wn(h,R));A.length>0&&(R=>{throw new Error("Unsupported keys for object: "+Kd(R).join(", "))})(A)},ms=h=>((w,A)=>((R,$,j)=>{if($.length===0)throw new Error("You must specify at least one required field.");return((ee,ie)=>{if(!M(ie))throw new Error("The "+ee+" fields must be an array. Was: "+ie+".");it(ie,ve=>{if(!C(ve))throw new Error("The value "+ve+" in the "+ee+" fields was not a string.")})})("required",$),(ee=>{const ie=Kd(ee);pn(ie,(ve,Me)=>Me<ie.length-1&&ve===ie[Me+1]).each(ve=>{throw new Error("The field: "+ve+" occurs more than once in the combined fields: ["+ie.join(", ")+"].")})})($),ee=>{const ie=ze(ee);et($,Me=>wn(ie,Me))||((Me,Le)=>{throw new Error("All required keys ("+Kd(Me).join(", ")+") were not specified. Specified keys were: "+Kd(Le).join(", ")+".")})($,ie),R($,ie);const ve=wt($,Me=>!j.validate(ee[Me],Me));return ve.length>0&&((Me,Le)=>{throw new Error("All values need to be of type: "+Le+". Keys ("+Kd(Me).join(", ")+") were not.")})(ve,j.label),ee}})(w,A,{validate:fe,label:"function"}))(Hv,h),xk=ms(["compare","extract","mutate","sink"]),qc=ms(["element","start","stop","destroy"]),zv=ms(["forceDrop","drop","move","delayDrop"]),Vv=()=>{const h=(()=>{const R=Il({move:Is(["info"])});return{onEvent:ue,reset:ue,events:R.registry}})(),w=(()=>{let R=ye.none();const $=Il({move:Is(["info"])});return{onEvent:(j,ee)=>{ee.extract(j).each(ie=>{((Me,Le)=>{const Re=R.map(Fe=>Me.compare(Fe,Le));return R=ye.some(Le),Re})(ee,ie).each(Me=>{$.trigger.move(Me)})})},reset:()=>{R=ye.none()},events:$.registry}})();let A=h;return{on:()=>{A.reset(),A=w},off:()=>{A.reset(),A=h},isOn:()=>A===w,onEvent:(R,$)=>{A.onEvent(R,$)},events:w.events}},tg=h=>{const w=h.replace(/\./g,"-");return{resolve:A=>w+"-"+A}},ey=tg("ephox-dragster").resolve;var Uh=xk({compare:(h,w)=>X(w.left-h.left,w.top-h.top),extract:h=>ye.some(X(h.x,h.y)),sink:(h,w)=>{const A=(ie=>{const ve={layerClass:ey("blocker"),...ie},Me=Dt.fromTag("div");return ut(Me,"role","presentation"),Do(Me,{position:"fixed",left:"0px",top:"0px",width:"100%",height:"100%"}),Wd(Me,ey("blocker")),Wd(Me,ve.layerClass),{element:ke(Me),destroy:()=>{Qn(Me)}}})(w),R=ad(A.element(),"mousedown",h.forceDrop),$=ad(A.element(),"mouseup",h.drop),j=ad(A.element(),"mousemove",h.move),ee=ad(A.element(),"mouseout",h.delayDrop);return qc({element:A.element,start:ie=>{Tt(ie,A.element())},stop:()=>{Qn(A.element())},destroy:()=>{A.destroy(),$.unbind(),j.unbind(),ee.unbind(),R.unbind()}})},mutate:(h,w)=>{h.mutate(w.left,w.top)}});const gp=tg("ephox-snooker").resolve,$v=gp("resizer-bar"),jh=gp("resizer-rows"),bu=gp("resizer-cols"),Uv=h=>{const w=qr(h.parent(),"."+$v);it(w,Qn)},ty=(h,w,A)=>{const R=h.origin();it(w,$=>{$.each(j=>{const ee=A(R,j);Wd(ee,$v),Tt(h.parent(),ee)})})},Lw=(h,w,A,R,$)=>{const j=ce(A),ee=w.isResizable,ie=R.length>0?Bo.positions(R,A):[],ve=ie.length>0?((Re,Fe)=>xn(Re.all,(We,mt)=>Fe(We.element)?[mt]:[]))(h,ee):[];((Re,Fe,We,mt)=>{ty(Re,Fe,(lt,xt)=>{const Rt=((Gt,Ut,bn,_n,Pn)=>{const po=Dt.fromTag("div");return Do(po,{position:"absolute",left:Ut+"px",top:bn-3.5+"px",height:"7px",width:_n+"px"}),rt(po,{"data-row":Gt,role:"presentation"}),po})(xt.row,We.left-lt.left,xt.y-lt.top,mt);return Wd(Rt,jh),Rt})})(w,wt(ie,(Re,Fe)=>Ke(ve,We=>Fe===We)),j,$u(A));const Me=$.length>0?no.positions($,A):[],Le=Me.length>0?((Re,Fe)=>{const We=[];return nn(Re.grid.columns,mt=>{jl(Re,mt).map(lt=>lt.element).forall(Fe)&&We.push(mt)}),wt(We,mt=>{const lt=Nd(Re,xt=>xt.column===mt);return et(lt,xt=>Fe(xt.element))})})(h,ee):[];((Re,Fe,We,mt)=>{ty(Re,Fe,(lt,xt)=>{const Rt=((Gt,Ut,bn,_n,Pn)=>{const po=Dt.fromTag("div");return Do(po,{position:"absolute",left:Ut-3.5+"px",top:bn+"px",height:Pn+"px",width:"7px"}),rt(po,{"data-column":Gt,role:"presentation"}),po})(xt.col,xt.x-lt.left,We.top-lt.top,0,mt);return Wd(Rt,bu),Rt})})(w,wt(Me,(Re,Fe)=>Ke(Le,We=>Fe===We)),j,lr(A))},gn=(h,w)=>{if(Uv(h),h.isResizable(w)){const A=xs(w),R=cu(A),$=Nf(A);Lw(A,h,w,R,$)}},es=(h,w)=>{const A=qr(h.parent(),"."+$v);it(A,w)},jv=h=>{es(h,w=>{Rs(w,"display","none")})},is=h=>{es(h,w=>{Rs(w,"display","block")})},Zs=gp("resizer-bar-dragging"),ci=h=>{const w=(()=>{const Re=Il({drag:Is(["xDelta","yDelta","target"])});let Fe=ye.none();const We=(()=>{const mt=Il({drag:Is(["xDelta","yDelta"])});return{mutate:(lt,xt)=>{mt.trigger.drag(lt,xt)},events:mt.registry}})();return We.events.drag.bind(mt=>{Fe.each(lt=>{Re.trigger.drag(mt.xDelta,mt.yDelta,lt)})}),{assign:mt=>{Fe=ye.some(mt)},get:()=>Fe,mutate:We.mutate,events:Re.registry}})(),A=((Re,Fe={})=>{var We;return((mt,lt,xt)=>{let Rt=!1;const Gt=Il({start:Is([]),stop:Is([])}),Ut=Vv(),bn=()=>{po.stop(),Ut.isOn()&&(Ut.off(),Gt.trigger.stop())},_n=((mo,yr)=>{let Ro=null;const er=()=>{D(Ro)||(clearTimeout(Ro),Ro=null)};return{cancel:er,throttle:(...Fo)=>{er(),Ro=setTimeout(()=>{Ro=null,mo.apply(null,Fo)},200)}}})(bn);Ut.events.move.bind(mo=>{lt.mutate(mt,mo.info)});const Pn=mo=>(...yr)=>{Rt&&mo.apply(null,yr)},po=lt.sink(zv({forceDrop:bn,drop:Pn(bn),move:Pn(mo=>{_n.cancel(),Ut.onEvent(mo,lt)}),delayDrop:Pn(_n.throttle)}),xt);return{element:po.element,go:mo=>{po.start(mo),Ut.on(),Gt.trigger.start()},on:()=>{Rt=!0},off:()=>{Rt=!1},isActive:()=>Rt,destroy:()=>{po.destroy()},events:Gt.registry}})(Re,(We=Fe.mode)!==null&&We!==void 0?We:Uh,Fe)})(w,{});let R=ye.none();const $=(Re,Fe)=>ye.from(Ot(Re,Fe));w.events.drag.bind(Re=>{$(Re.target,"data-row").each(Fe=>{const We=Lu(Re.target,"top");Rs(Re.target,"top",We+Re.yDelta+"px")}),$(Re.target,"data-column").each(Fe=>{const We=Lu(Re.target,"left");Rs(Re.target,"left",We+Re.xDelta+"px")})});const j=(Re,Fe)=>Lu(Re,Fe)-Kr(Re,"data-initial-"+Fe,0);A.events.stop.bind(()=>{w.get().each(Re=>{R.each(Fe=>{$(Re,"data-row").each(We=>{const mt=j(Re,"top");Lt(Re,"data-initial-top"),Le.trigger.adjustHeight(Fe,mt,parseInt(We,10))}),$(Re,"data-column").each(We=>{const mt=j(Re,"left");Lt(Re,"data-initial-left"),Le.trigger.adjustWidth(Fe,mt,parseInt(We,10))}),gn(h,Fe)})})});const ee=(Re,Fe)=>{Le.trigger.startAdjust(),w.assign(Re),ut(Re,"data-initial-"+Fe,Lu(Re,Fe)),Wd(Re,Zs),Rs(Re,"opacity","0.2"),A.go(h.parent())},ie=ad(h.parent(),"mousedown",Re=>{var Fe;Fe=Re.target,tf(Fe,jh)&&ee(Re.target,"top"),(We=>tf(We,bu))(Re.target)&&ee(Re.target,"left")}),ve=Re=>$n(Re,h.view()),Me=ad(h.view(),"mouseover",Re=>{var Fe;(Fe=Re.target,ya(Fe,"table",ve).filter(ih)).fold(()=>{go(Re.target)&&Uv(h)},We=>{A.isActive()&&(R=ye.some(We),gn(h,We))})}),Le=Il({adjustHeight:Is(["table","delta","row"]),adjustWidth:Is(["table","delta","column"]),startAdjust:Is([])});return{destroy:()=>{ie.unbind(),Me.unbind(),A.destroy(),Uv(h)},refresh:Re=>{gn(h,Re)},on:A.on,off:A.off,hideBars:J(jv,h),showBars:J(is,h),events:Le.registry}},Gi=(h,w,A)=>{const R=Bo,$=no,j=ci(h),ee=Il({beforeResize:Is(["table","type"]),afterResize:Is(["table","type"]),startDrag:Is([])});return j.events.adjustHeight.bind(ie=>{const ve=ie.table;ee.trigger.beforeResize(ve,"row"),((Me,Le,Re,Fe)=>{const We=xs(Me),mt=((Ut,bn,_n)=>hc(Ut,bn,_n,Ci,Pn=>Pn.getOrThunk(xm)))(We,Me,Fe),lt=H(mt,(Ut,bn)=>Re===bn?Math.max(Le+Ut,xm()):Ut),xt=yb(We,lt),Rt=((Ut,bn)=>H(Ut.all,(_n,Pn)=>({element:_n.element,height:bn[Pn]})))(We,lt);it(Rt,Ut=>{Na(Ut.element,Ut.height)}),it(xt,Ut=>{Na(Ut.element,Ut.height)});const Gt=cn(lt,(Ut,bn)=>Ut+bn,0);Na(Me,Gt)})(ve,R.delta(ie.delta,ve),ie.row,R),ee.trigger.afterResize(ve,"row")}),j.events.startAdjust.bind(ie=>{ee.trigger.startDrag()}),j.events.adjustWidth.bind(ie=>{const ve=ie.table;ee.trigger.beforeResize(ve,"col");const Me=$.delta(ie.delta,ve),Le=A(ve);xh(ve,Me,ie.column,w,Le),ee.trigger.afterResize(ve,"col")}),{on:j.on,off:j.off,refreshBars:j.refresh,hideBars:j.hideBars,showBars:j.showBars,destroy:j.destroy,events:ee.registry}},xl=h=>re(h)&&h.nodeName==="TABLE",ng="bar-",Oc=h=>Ot(h,"data-mce-resize")!=="false",nf=h=>{const w=cp(),A=cp(),R=cp();let $,j;const ee=ve=>vv(h,ve),ie=()=>Al(h)?ph():wc();return h.on("init",()=>{const ve=((Me,Le)=>Me.inline?((Re,Fe,We)=>({parent:ke(Fe),view:ke(Re),origin:ke(X(0,0)),isResizable:We}))(Dt.fromDom(Me.getBody()),(()=>{const Re=Dt.fromTag("div");return Do(Re,{position:"static",height:"0",width:"0",padding:"0",margin:"0",border:"0"}),Tt(Lo(Dt.fromDom(document)),Re),Re})(),Le):((Re,Fe)=>{const We=So(Re)?(mt=>Dt.fromDom(Xr(mt).dom.documentElement))(Re):Re;return{parent:ke(We),view:ke(Re),origin:ke(X(0,0)),isResizable:Fe}})(Dt.fromDom(Me.getDoc()),Le))(h,Oc);if(R.set(ve),(Me=>{const Le=Me.options.get("object_resizing");return wn(Le.split(","),"table")})(h)&&jg(h)){const Me=ie(),Le=Gi(ve,Me,ee);Le.on(),Le.events.startDrag.bind(Re=>{w.set(h.selection.getRng())}),Le.events.beforeResize.bind(Re=>{const Fe=Re.table.dom;((We,mt,lt,xt,Rt)=>{We.dispatch("ObjectResizeStart",{target:mt,width:lt,height:xt,origin:Rt})})(h,Fe,yc(Fe),G1(Fe),ng+Re.type)}),Le.events.afterResize.bind(Re=>{const Fe=Re.table,We=Fe.dom;Bf(Fe),w.on(mt=>{h.selection.setRng(mt),h.focus()}),((mt,lt,xt,Rt,Gt)=>{mt.dispatch("ObjectResized",{target:lt,width:xt,height:Rt,origin:Gt})})(h,We,yc(We),G1(We),ng+Re.type),h.undoManager.add()}),A.set(Le)}}),h.on("ObjectResizeStart",ve=>{const Me=ve.target;if(xl(Me)){const Le=Dt.fromDom(Me);it(h.dom.select(".mce-clonedresizable"),Re=>{h.dom.addClass(Re,"mce-"+Qa(h)+"-columns")}),!ll(Le)&&gi(h)?Eh(Le):!Rb(Le)&&Ug(h)&&wl(Le),Oi(Le)&&Sf(ve.origin,ng)&&wl(Le),$=ve.width,j=qu(h)?"":((Re,Fe)=>{const We=Re.dom.getStyle(Fe,"width")||Re.dom.getAttrib(Fe,"width");return ye.from(We).filter(lu)})(h,Me).getOr("")}}),h.on("ObjectResized",ve=>{const Me=ve.target;if(xl(Me)){const Le=Dt.fromDom(Me),Re=ve.origin;Sf(Re,"corner-")&&((Fe,We,mt)=>{const lt=wa(We,"e");if(j===""&&wl(Fe),mt!==$&&j!==""){Rs(Fe,"width",j);const xt=ie(),Rt=ee(Fe),Gt=Al(h)||lt?(Ut=>xc(Ut).columns)(Fe)-1:0;xh(Fe,mt-$,Gt,xt,Rt)}else if((xt=>/^(\d+(\.\d+)?)%$/.test(xt))(j)){const xt=parseFloat(j.replace("%",""));Rs(Fe,"width",mt*xt/$+"%")}(xt=>/^(\d+(\.\d+)?)px$/.test(xt))(j)&&(xt=>{const Rt=xs(xt);Vc(Rt)||it(vr(xt),Gt=>{const Ut=Sl(Gt,"width");Rs(Gt,"width",Ut),Lt(Gt,"width")})})(Fe)})(Le,Re,ve.width),Bf(Le),$a(h,Le.dom,tp)}}),h.on("SwitchMode",()=>{A.on(ve=>{h.mode.isReadOnly()?ve.hideBars():ve.showBars()})}),h.on("dragstart dragend",ve=>{A.on(Me=>{ve.type==="dragstart"?(Me.hideBars(),Me.off()):(Me.on(),Me.showBars())})}),h.on("remove",()=>{A.on(ve=>{ve.destroy()}),R.on(ve=>{((Me,Le)=>{Me.inline&&Qn(Le.parent())})(h,ve)})}),{refresh:ve=>{A.on(Me=>Me.refreshBars(Dt.fromDom(ve)))},hide:()=>{A.on(ve=>ve.hideBars())},show:()=>{A.on(ve=>ve.showBars())}}},Bw=h=>{($=>{const j=$.options.register;j("table_clone_elements",{processor:"string[]"}),j("table_use_colgroups",{processor:"boolean",default:!0}),j("table_header_type",{processor:ee=>{const ie=wn(["section","cells","sectionCells","auto"],ee);return ie?{value:ee,valid:ie}:{valid:!1,message:"Must be one of: section, cells, sectionCells or auto."}},default:"section"}),j("table_sizing_mode",{processor:"string",default:"auto"}),j("table_default_attributes",{processor:"object",default:{border:"1"}}),j("table_default_styles",{processor:"object",default:{"border-collapse":"collapse"}}),j("table_column_resizing",{processor:ee=>{const ie=wn(["preservetable","resizetable"],ee);return ie?{value:ee,valid:ie}:{valid:!1,message:"Must be preservetable, or resizetable."}},default:"preservetable"}),j("table_resize_bars",{processor:"boolean",default:!0}),j("table_style_by_css",{processor:"boolean",default:!0}),j("table_merge_content_on_paste",{processor:"boolean",default:!0})})(h);const w=nf(h),A=br(h,w),R=bv(h,w,A);return Gf(h,R),(($,j)=>{const ee=bc($),ie=ve=>X1(Dm($)).bind(Me=>za(Me,ee).map(Le=>{const Re=fu(Nr($),Le,Me);return ve(Le,Re)})).getOr("");Be({mceTableRowType:()=>ie(j.getTableRowType),mceTableCellType:()=>ie(j.getTableCellType),mceTableColType:()=>ie(j.getTableColType)},(ve,Me)=>$.addQueryValueHandler(Me,ve))})(h,R),fh(h,R),{getSelectedCells:A.getSelectedCells,clearSelectedCells:A.clearSelectedCells}};a.add("dom",h=>({table:Bw(h)}))})();var Rj=["onActivate","onAddUndo","onBeforeAddUndo","onBeforeExecCommand","onBeforeGetContent","onBeforeRenderUI","onBeforeSetContent","onBeforePaste","onBlur","onChange","onClearUndos","onClick","onContextMenu","onCopy","onCut","onDblclick","onDeactivate","onDirty","onDrag","onDragDrop","onDragEnd","onDragGesture","onDragOver","onDrop","onExecCommand","onFocus","onFocusIn","onFocusOut","onGetContent","onHide","onInit","onKeyDown","onKeyPress","onKeyUp","onLoadContent","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onNodeChange","onObjectResizeStart","onObjectResized","onObjectSelected","onPaste","onPostProcess","onPostRender","onPreProcess","onProgressState","onRedo","onRemove","onReset","onSaveContent","onSelectionChange","onSetAttrib","onSetContent","onShow","onSubmit","onUndo","onVisualAid"],Dj=function(a){return Rj.map(function(u){return u.toLowerCase()}).indexOf(a.toLowerCase())!==-1},Ij=function(a,u,p){Object.keys(u).filter(Dj).forEach(function(b){var C=u[b];typeof C=="function"&&(b==="onInit"?C(a,p):p.on(b.substring(2),function(S){return C(S,p)}))})},Pj=function(a,u,p,b){var C=a.modelEvents?a.modelEvents:null,S=Array.isArray(C)?C.join(" "):C;xf(b,function(M,D){p&&typeof M=="string"&&M!==D&&M!==p.getContent({format:a.outputFormat})&&p.setContent(M)}),p.on(S||"change input undo redo",function(){u.emit("update:modelValue",p.getContent({format:a.outputFormat}))})},Lj=function(a,u,p,b,C,S){b.setContent(S()),p.attrs["onUpdate:modelValue"]&&Pj(u,p,b,C),Ij(a,p.attrs,b)},$P=0,bB=function(a){var u=Date.now(),p=Math.floor(Math.random()*1e9);return $P++,a+"_"+p+$P+String(u)},Bj=function(a){return a!==null&&a.tagName.toLowerCase()==="textarea"},UP=function(a){return typeof a=="undefined"||a===""?[]:Array.isArray(a)?a:a.split(" ")},Fj=function(a,u){return UP(a).concat(UP(u))},Hj=function(a){return a==null},jP=function(){return{listeners:[],scriptId:bB("tiny-script"),scriptLoaded:!1}},zj=function(){var a=jP(),u=function(C,S,M,D){var I=S.createElement("script");I.referrerPolicy="origin",I.type="application/javascript",I.id=C,I.src=M;var q=function(){I.removeEventListener("load",q),D()};I.addEventListener("load",q),S.head&&S.head.appendChild(I)},p=function(C,S,M){a.scriptLoaded?M():(a.listeners.push(M),C.getElementById(a.scriptId)||u(a.scriptId,C,S,function(){a.listeners.forEach(function(D){return D()}),a.scriptLoaded=!0}))},b=function(){a=jP()};return{load:p,reinitialize:b}},Vj=zj(),$j=function(){return typeof window!="undefined"?window:global},X2=function(){var a=$j();return a&&a.tinymce?a.tinymce:null},Uj={apiKey:String,cloudChannel:String,id:String,init:Object,initialValue:String,inline:Boolean,modelEvents:[String,Array],plugins:[String,Array],tagName:String,toolbar:[String,Array],modelValue:String,disabled:Boolean,tinymceScriptSrc:String,outputFormat:{type:String,validator:function(a){return a==="html"||a==="text"}}},Q2=globalThis&&globalThis.__assign||function(){return Q2=Object.assign||function(a){for(var u,p=1,b=arguments.length;p<b;p++){u=arguments[p];for(var C in u)Object.prototype.hasOwnProperty.call(u,C)&&(a[C]=u[C])}return a},Q2.apply(this,arguments)},jj=function(a,u,p,b){return a(b||"div",{id:u,ref:p})},Zj=function(a,u,p){return a("textarea",{id:u,visibility:"hidden",ref:p})},Wj=dk({props:Uj,setup:function(a,u){var p=a.init?Q2({},a.init):{},b=k9(a),C=b.disabled,S=b.modelValue,M=b.tagName,D=$o(null),I=null,q=a.id||bB("tiny-vue"),re=a.init&&a.init.inline||a.inline,fe=!!u.attrs["onUpdate:modelValue"],le=!0,ue=a.initialValue?a.initialValue:"",ke="",xe=function(ae){return fe?function(){return S!=null&&S.value?S.value:""}:function(){return ae?ue:ke}},me=function(){var ae=xe(le),De=Q2(Q2({},p),{readonly:a.disabled,target:D.value,plugins:Fj(p.plugins,a.plugins),toolbar:a.toolbar||p.toolbar,inline:re,setup:function(G){I=G,G.on("init",function(Ae){return Lj(Ae,a,u,G,S,ae)}),typeof p.setup=="function"&&p.setup(G)}});Bj(D.value)&&(D.value.style.visibility=""),X2().init(De),le=!1};xf(C,function(ae){var De;I!==null&&(typeof((De=I.mode)===null||De===void 0?void 0:De.set)=="function"?I.mode.set(ae?"readonly":"design"):I.setMode(ae?"readonly":"design"))}),xf(M,function(ae){var De;fe||(ke=I.getContent()),(De=X2())===null||De===void 0||De.remove(I),v5(function(){return me()})}),A5(function(){if(X2()!==null)me();else if(D.value&&D.value.ownerDocument){var ae=a.cloudChannel?a.cloudChannel:"6",De=a.apiKey?a.apiKey:"no-api-key",G=Hj(a.tinymceScriptSrc)?"https://cdn.tiny.cloud/1/".concat(De,"/tinymce/").concat(ae,"/tinymce.min.js"):a.tinymceScriptSrc;Vj.load(D.value.ownerDocument,G,me)}}),M9(function(){X2()!==null&&X2().remove(I)}),re||(T9(function(){le||me()}),A9(function(){var ae;fe||(ke=I.getContent()),(ae=X2())===null||ae===void 0||ae.remove(I)}));var J=function(ae){var De;ke=I.getContent(),(De=X2())===null||De===void 0||De.remove(I),p=Q2(Q2({},p),ae),v5(function(){return me()})};return u.expose({rerender:J,getEditor:function(){return I}}),function(){return re?jj(_f,q,D,a.tagName):Zj(_f,q,D)}}});const eh={props:{dataKey:String,data:String},setup(a,{emit:u}){const p=a,b=$o({width:"100%",height:"100%",resize:!1,plugins:["table","link","image","media","help","charmap"],toolbar:["undo","redo","table","link","image","media","charmap","alignleft","aligncenter","alignright","bold","italic","underline","strikethrough","help"],lineheight_formats:"1 1.5 2 2.5 3"}),C=$o(p.data);return xf(()=>C.value,()=>{let S={key:p.dataKey,value:C.value};u("editor-change",S)}),(S,M)=>(Bt(),jr(vo(Wj),{"api-key":"no-api-key",init:b.value,modelValue:C.value,"onUpdate:modelValue":M[0]||(M[0]=D=>C.value=D)},null,8,["init","modelValue"]))}};var Cf=(a,u)=>{const p=a.__vccOpts||a;for(const[b,C]of u)p[b]=C;return p};const yB=a=>(th("data-v-25b648e8"),a=a(),nh(),a),Gj={class:"popupTitle"},qj=yB(()=>Y("hr",{class:"popupHr"},null,-1)),Kj={class:"popupContent"},Yj={class:"flex"},Xj=yB(()=>Y("div",{class:"flex-grow border-b border-gray-400"},null,-1)),Jj={class:"grid grid-cols-1 gap-2"},Qj={key:0,class:"Tinymce"},eZ={key:1,class:"Tinymce"},tZ={class:"text-right"},nZ={props:{data:Object},setup(a){var ke,xe,me,J,ae,De;const u=a;kl();const p=gl(),b=Li(),C=bo(()=>p.globleInfos.language||"en"),S=$o(C.value),M=G=>G&&(S.value=G),D=bo(()=>{let G=Ae=>Ae==S.value?"border border-b-0 rounded-t shadow":"border-b text-blue-500 cursor-pointer hover:shadow-md";return{zh:G("zh"),en:G("en")}}),I=$o({id:((ke=u.data)==null?void 0:ke.Ns_ID)||"",title_zh:((xe=u.data)==null?void 0:xe.Ns_Title_zh)||"",content_zh:((me=u.data)==null?void 0:me.Ns_Content_zh)||"",title_en:((J=u.data)==null?void 0:J.Ns_Title_en)||"",content_en:((ae=u.data)==null?void 0:ae.Ns_Content_en)||"",sort:((De=u.data)==null?void 0:De.Ns_Sort)||""}),q=$o(Number(I.value.sort)||1),re=()=>{let G=q.value;(!G||G<1||G==1/0)&&(G=1),q.value=G,I.value.sort=q.value.toString()},fe=G=>{let Ae=G==null?void 0:G.key;!Ae||!I.value.hasOwnProperty(Ae)||(I.value[Ae]=G==null?void 0:G.value)},le=()=>{},ue=()=>b.$reset();return(G,Ae)=>(Bt(),An("div",null,[Y("h2",Gj,[Y("strong",null,Mt(G.$t("News.newsEdit")),1)]),qj,Y("div",Kj,[Y("div",null,[Y("p",null,Mt(G.$t("General.sort")),1),Mn(Y("input",{type:"number",min:"1",step:"1",class:"input w-full",onChange:re,"onUpdate:modelValue":Ae[0]||(Ae[0]=ye=>q.value=ye)},null,544),[[zn,q.value]])]),Y("div",Yj,[Y("div",{class:ea(["border-gray-400 p-2",vo(D).zh]),onClick:Ae[1]||(Ae[1]=ye=>M("zh"))}," \u6700\u65B0\u6D88\u606F(\u4E2D\u6587) ",2),Y("div",{class:ea(["border-gray-400 p-2",vo(D).en]),onClick:Ae[2]||(Ae[2]=ye=>M("en"))}," News(English) ",2),Xj]),Y("div",Jj,[Y("div",null,[Y("p",null,Mt(G.$t("General.title")),1),S.value=="zh"?Mn((Bt(),An("input",{key:0,type:"text",class:"input w-full","onUpdate:modelValue":Ae[3]||(Ae[3]=ye=>I.value.title_zh=ye)},null,512)),[[zn,I.value.title_zh]]):Mn((Bt(),An("input",{key:1,type:"text",class:"input w-full","onUpdate:modelValue":Ae[4]||(Ae[4]=ye=>I.value.title_en=ye)},null,512)),[[zn,I.value.title_en]])]),Y("div",null,[Y("p",null,Mt(G.$t("General.content")),1),S.value=="zh"?(Bt(),An("div",Qj,[ta(eh,{data:I.value.content_zh,dataKey:"content_zh",onEditorChange:fe},null,8,["data"])])):(Bt(),An("div",eZ,[ta(eh,{data:I.value.content_en,dataKey:"content_en",onEditorChange:fe},null,8,["data"])]))])]),Y("div",tZ,[Y("button",{class:"grayBtn mr-2",onClick:ue},Mt(G.$t("General.close")),1),Y("button",{class:"blueBtn",onClick:le},Mt(G.$t("General.save")),1)])])]))}};var oZ=Cf(nZ,[["__scopeId","data-v-25b648e8"]]);const wB=a=>(th("data-v-52654dc4"),a=a(),nh(),a),rZ={class:"popupTitle"},aZ=wB(()=>Y("hr",{class:"popupHr"},null,-1)),sZ={class:"popupContent"},iZ={class:"flex gap-2"},lZ={class:"w-10/12"},cZ={class:"w-2/12 text-center"},uZ={class:"flex"},dZ=wB(()=>Y("div",{class:"flex-grow border-b border-gray-400"},null,-1)),mZ={class:"grid grid-cols-1 gap-2"},fZ={key:0,class:"Tinymce"},gZ={key:1,class:"Tinymce"},pZ={class:"text-right"},hZ={setup(a){kl();const u=gl(),p=Li(),b=bo(()=>u.globleInfos.language||"en"),C=$o(b.value),S=xe=>xe&&(C.value=xe),M=bo(()=>{let xe=me=>me==C.value?"border border-b-0 rounded-t shadow":"border-b text-blue-500 cursor-pointer hover:shadow-md";return{zh:xe("zh"),en:xe("en")}}),D=$o({title_zh:"",content_zh:"",title_en:"",content_en:"",sort:"1",visible:"1",picFile:null}),I=$o(Number(D.value.sort)||1),q=()=>{let xe=I.value;(!xe||xe<1||xe==1/0)&&(xe=1),I.value=xe,D.value.sort=I.value.toString()},re=()=>{let xe=Number(D.value.visible);D.value.visible=xe=="1"?"0":"1"},fe=xe=>{let me=xe.target.files[0];if(!me)return D.value.picFile=null;D.value.picFile=me},le=xe=>{let me=xe==null?void 0:xe.key;!me||!D.value.hasOwnProperty(me)||(D.value[me]=xe==null?void 0:xe.value)},ue=()=>{},ke=()=>p.$reset();return(xe,me)=>{const J=uc("font-awesome-icon");return Bt(),An("div",null,[Y("h2",rZ,[Y("strong",null,Mt(xe.$t("News.newsAdd")),1)]),aZ,Y("div",sZ,[Y("div",iZ,[Y("div",lZ,[Y("p",null,Mt(xe.$t("General.sort")),1),Mn(Y("input",{type:"number",min:"1",step:"1",class:"input w-full",onChange:q,"onUpdate:modelValue":me[0]||(me[0]=ae=>I.value=ae)},null,544),[[zn,I.value]])]),Y("div",cZ,[Y("p",null,Mt(xe.$t("General.visible")),1),Y("button",{class:ea([D.value.visible=="1"?"greenCircleBtn text-white w-8 h-8":"grayCircleBtn text-black w-8 h-8"]),onClick:re},[D.value.visible=="1"?(Bt(),jr(J,{key:0,icon:"fa-check"})):(Bt(),jr(J,{key:1,icon:"fa-xmark"}))],2)])]),Y("div",null,[Y("p",null,Mt(xe.$t("General.picture")),1),Y("input",{type:"file",accept:"image/*",onChange:fe},null,32)]),Y("div",uZ,[Y("div",{class:ea(["border-gray-400 p-2",vo(M).zh]),onClick:me[1]||(me[1]=ae=>S("zh"))}," \u6700\u65B0\u6D88\u606F(\u4E2D\u6587) ",2),Y("div",{class:ea(["border-gray-400 p-2",vo(M).en]),onClick:me[2]||(me[2]=ae=>S("en"))}," News(English) ",2),dZ]),Y("div",mZ,[Y("div",null,[Y("p",null,Mt(xe.$t("General.title")),1),C.value=="zh"?Mn((Bt(),An("input",{key:0,type:"text",class:"input w-full","onUpdate:modelValue":me[3]||(me[3]=ae=>D.value.title_zh=ae)},null,512)),[[zn,D.value.title_zh]]):Mn((Bt(),An("input",{key:1,type:"text",class:"input w-full","onUpdate:modelValue":me[4]||(me[4]=ae=>D.value.title_en=ae)},null,512)),[[zn,D.value.title_en]])]),Y("div",null,[Y("p",null,Mt(xe.$t("General.content")),1),C.value=="zh"?(Bt(),An("div",fZ,[ta(eh,{data:D.value.content_zh,dataKey:"content_zh",onEditorChange:le},null,8,["data"])])):(Bt(),An("div",gZ,[ta(eh,{data:D.value.content_en,dataKey:"content_en",onEditorChange:le},null,8,["data"])]))])]),Y("div",pZ,[Y("button",{class:"grayBtn mr-2",onClick:ke},Mt(xe.$t("General.close")),1),Y("button",{class:"blueBtn",onClick:ue},Mt(xe.$t("General.save")),1)])])])}}};var vZ=Cf(hZ,[["__scopeId","data-v-52654dc4"]]);const bZ="modulepreload",ZP={},yZ="./",pm=function(u,p){return!p||p.length===0?u():Promise.all(p.map(b=>{if(b=`${yZ}${b}`,b in ZP)return;ZP[b]=!0;const C=b.endsWith(".css"),S=C?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${b}"]${S}`))return;const M=document.createElement("link");if(M.rel=C?"stylesheet":bZ,C||(M.as="script",M.crossOrigin=""),M.href=b,document.head.appendChild(M),C)return new Promise((D,I)=>{M.addEventListener("load",D),M.addEventListener("error",()=>I(new Error(`Unable to preload CSS for ${b}`)))})})).then(()=>u())};const wZ=a=>(th("data-v-213f84cc"),a=a(),nh(),a),xZ={class:"popupTitle"},_Z=wZ(()=>Y("hr",{class:"popupHr"},null,-1)),CZ={class:"popupContent"},kZ={class:"text-center"},SZ={class:"grid grid-cols-1 gap-2 m-auto text-center relative"},EZ=["src"],OZ={class:"text-right"},TZ={props:{data:Object},setup(a){var ue,ke,xe;const u=a;kl();const p=gl(),b=Li();bo(()=>p.globleInfos.serverURL||"");const C=bo(()=>p.globleInfos.language||"en"),S=p.fileFolderPath.getUrl,M=$o({id:((ue=u.data)==null?void 0:ue.Ns_ID)||"",title_zh:((ke=u.data)==null?void 0:ke.Ns_Title_zh)||"",title_en:((xe=u.data)==null?void 0:xe.Ns_Title_en)||"",picUrl:S("imgs",u.data.Ns_Pic),picFile:null,isShowingDeleteIcon:!0}),D=bo(()=>{let me=`title_${C.value}`;return M.value[me]||M.value.title_en}),I=async()=>{const{default:me}=await pm(()=>import("./noImageAvailable.47d3e546.js"),[]);M.value.picUrl=me,M.value.isShowingDeleteIcon=!1},q=me=>{let J=me.target.files[0];if(!J)return M.value.picFile=null;M.value.picFile=J},re=()=>{},fe=()=>{if(!M.value.picFile)return le()},le=()=>b.$reset();return(me,J)=>{const ae=uc("font-awesome-icon");return Bt(),An("div",null,[Y("h2",xZ,[Y("strong",null,Mt(me.$t("News.newsPicture")),1)]),_Z,Y("div",CZ,[Y("p",kZ,Mt(vo(D)),1),Y("div",SZ,[M.value.isShowingDeleteIcon?(Bt(),An("button",{key:0,class:"py-1 px-2 absolute -top-4 -right-10 text-white bg-red-600 bg-opacity-20 hover:bg-opacity-100 rounded-full",onClick:re},[ta(ae,{icon:"fa-xmark",size:"xl"})])):gs("",!0),Y("img",{class:"w-full",src:M.value.picUrl,alt:"",onError:J[0]||(J[0]=De=>I())},null,40,EZ),Y("input",{type:"file",accept:"image/*",onChange:q},null,32)]),Y("div",OZ,[Y("button",{class:"grayBtn mr-2",onClick:le},Mt(me.$t("General.close")),1),Y("button",{class:"blueBtn",onClick:fe},Mt(me.$t("General.save")),1)])])])}}};var AZ=Cf(TZ,[["__scopeId","data-v-213f84cc"]]);const NZ={class:"popupTitle"},MZ=Y("hr",{class:"popupHr"},null,-1),RZ={class:"popupContent"},DZ={class:"text-right"},IZ={props:{data:Object},setup(a){var q,re,fe,le;const u=a;kl();const p=gl(),b=Li();bo(()=>p.globleInfos.language||"en");const C=$o({c_id:((q=u.data)==null?void 0:q.c_id)||"",zh_title:((re=u.data)==null?void 0:re.zh_title)||"",en_title:((fe=u.data)==null?void 0:fe.en_title)||"",sort:((le=u.data)==null?void 0:le.sort)||""}),S=$o(Number(C.value.sort)||1),M=()=>{let ue=S.value;(!ue||ue<1||ue==1/0)&&(ue=1),S.value=ue,C.value.sort=S.value.toString()},D=()=>{},I=()=>b.$reset();return(ue,ke)=>(Bt(),An("div",null,[Y("h2",NZ,[Y("strong",null,Mt(ue.$t("News.newsAdd")),1)]),MZ,Y("div",RZ,[Y("div",null,[Y("p",null,Mt(ue.$t("General.sort")),1),Mn(Y("input",{type:"number",min:"1",step:"1",class:"input w-full",onChange:M,"onUpdate:modelValue":ke[0]||(ke[0]=xe=>S.value=xe)},null,544),[[zn,S.value]])]),Y("div",null,[Y("p",null,Mt(ue.$t("Product.categoryName_zh")),1),Mn(Y("input",{type:"text",class:"input w-full","onUpdate:modelValue":ke[1]||(ke[1]=xe=>C.value.zh_title=xe)},null,512),[[zn,C.value.zh_title]])]),Y("div",null,[Y("p",null,Mt(ue.$t("Product.categoryName_en")),1),Mn(Y("input",{type:"text",class:"input w-full","onUpdate:modelValue":ke[2]||(ke[2]=xe=>C.value.en_title=xe)},null,512),[[zn,C.value.en_title]])]),Y("div",DZ,[Y("button",{class:"grayBtn mr-2",onClick:I},Mt(ue.$t("General.close")),1),Y("button",{class:"blueBtn",onClick:D},Mt(ue.$t("General.save")),1)])])]))}},PZ={class:"popupTitle"},LZ=Y("hr",{class:"popupHr"},null,-1),BZ={class:"popupContent"},FZ={class:"flex gap-2"},HZ={class:"w-10/12"},zZ={class:"w-2/12 text-center"},VZ={class:"text-right"},$Z={setup(a){kl();const u=gl(),p=Li();bo(()=>u.globleInfos.language||"en");const b=$o({zh_title:"",en_title:"",sort:"1",visibility:"1"}),C=$o(Number(b.value.sort)||1),S=()=>{let q=C.value;(!q||q<1||q==1/0)&&(q=1),C.value=q,b.value.sort=C.value.toString()},M=()=>{let q=Number(b.value.visibility);b.value.visibility=q=="1"?"0":"1"},D=()=>{},I=()=>p.$reset();return(q,re)=>{const fe=uc("font-awesome-icon");return Bt(),An("div",null,[Y("h2",PZ,[Y("strong",null,Mt(q.$t("News.newsAdd")),1)]),LZ,Y("div",BZ,[Y("div",FZ,[Y("div",HZ,[Y("p",null,Mt(q.$t("General.sort")),1),Mn(Y("input",{type:"number",min:"1",step:"1",class:"input w-full",onChange:S,"onUpdate:modelValue":re[0]||(re[0]=le=>C.value=le)},null,544),[[zn,C.value]])]),Y("div",zZ,[Y("p",null,Mt(q.$t("General.visible")),1),Y("button",{class:ea([b.value.visibility=="1"?"greenCircleBtn text-white w-8 h-8":"grayCircleBtn text-black w-8 h-8"]),onClick:M},[b.value.visibility=="1"?(Bt(),jr(fe,{key:0,icon:"fa-check"})):(Bt(),jr(fe,{key:1,icon:"fa-xmark"}))],2)])]),Y("div",null,[Y("p",null,Mt(q.$t("Product.categoryName_zh")),1),Mn(Y("input",{type:"text",class:"input w-full","onUpdate:modelValue":re[1]||(re[1]=le=>b.value.zh_title=le)},null,512),[[zn,b.value.zh_title]])]),Y("div",null,[Y("p",null,Mt(q.$t("Product.categoryName_en")),1),Mn(Y("input",{type:"text",class:"input w-full","onUpdate:modelValue":re[2]||(re[2]=le=>b.value.en_title=le)},null,512),[[zn,b.value.en_title]])]),Y("div",VZ,[Y("button",{class:"grayBtn mr-2",onClick:I},Mt(q.$t("General.close")),1),Y("button",{class:"blueBtn",onClick:D},Mt(q.$t("General.save")),1)])])])}}};const xB=a=>(th("data-v-1a894d2e"),a=a(),nh(),a),UZ={class:"popupTitle"},jZ=xB(()=>Y("hr",{class:"popupHr"},null,-1)),ZZ={class:"popupContent"},WZ={class:"grid grid-cols-2 gap-2"},GZ=xB(()=>Y("option",{value:"",disabled:"",hidden:""},null,-1)),qZ=["value"],KZ={class:"flex gap-2"},YZ={class:"w-2/12"},XZ={class:"w-8/12 text-center"},JZ={class:"grid grid-cols-3 input dark:bg-inherit dark:text-white"},QZ={for:"OptionsNew"},eW={for:"OptionsHot"},tW={for:"OptionsRecommend"},nW={class:"w-2/12 text-center"},oW={class:"grid grid-cols-2 gap-10"},rW={class:"grid grid-cols-2"},aW={class:"grid grid-cols-2"},sW={class:"text-right"},iW={props:{data:Object},setup(a){const u=a;kl();const p=gl(),b=Li(),C=bo(()=>p.globleInfos.language||"en"),S=bo(()=>{let J=u.data||[],ae=`${C.value}_title`;return J.map(De=>({c_id:(De==null?void 0:De.c_id)||"",title:De?De[ae]:""}))});class M{constructor(){this.showingPage="zh_content",this.pages=["zh_content","en_content","zh_spec","en_spec"],this.style={zh_content:"border border-b-0 rounded-t shadow",en_content:"border-b text-blue-500 cursor-pointer hover:shadow-md",zh_spec:"border-b text-blue-500 cursor-pointer hover:shadow-md",en_spec:"border-b text-blue-500 cursor-pointer hover:shadow-md"}}swtich(ae=""){this.showingPage=ae,this.pages.map(De=>{De==ae?this.style[De]="border border-b-0 rounded-t shadow":this.style[De]="border-b text-blue-500 cursor-pointer hover:shadow-md"})}}const D=$o(new M),I=$o({title:"",c_id:"",sort:"1",new:"0",hot:"0",recommend:"0",visibility:"1",zh_content:"",en_content:"",zh_spec:"",en_spec:""}),q=$o(Number(I.value.sort)||1),re=()=>{let J=q.value;(!J||J<1||J==1/0)&&(J=1),q.value=J,I.value.sort=q.value.toString()},fe=$o({new:!!Number(I.value.new),hot:!!Number(I.value.hot),recommend:!!Number(I.value.recommend)}),le=J=>{I.value[J]=fe.value[J]?"1":"0"},ue=()=>{let J=Number(I.value.visibility);I.value.visibility=J=="1"?"0":"1"},ke=J=>{let ae=J==null?void 0:J.key;!ae||!I.value.hasOwnProperty(ae)||(I.value[ae]=J==null?void 0:J.value)},xe=()=>{},me=()=>b.$reset();return(J,ae)=>{const De=uc("font-awesome-icon");return Bt(),An("div",null,[Y("h2",UZ,[Y("strong",null,Mt(J.$t("Product.listAdd")),1)]),jZ,Y("div",ZZ,[Y("div",WZ,[Y("div",null,[Y("p",null,Mt(J.$t("Product.listProductName")),1),Mn(Y("input",{type:"text",class:"input w-full","onUpdate:modelValue":ae[0]||(ae[0]=G=>I.value.title=G)},null,512),[[zn,I.value.title]])]),Y("div",null,[Y("p",null,Mt(J.$t("Product.productCategory")),1),Mn(Y("select",{class:"select","onUpdate:modelValue":ae[1]||(ae[1]=G=>I.value.c_id=G)},[GZ,(Bt(!0),An(Pi,null,Ig(vo(S),(G,Ae)=>(Bt(),An("option",{key:"categories"+Ae,value:G.c_id},Mt(G.title),9,qZ))),128))],512),[[uN,I.value.c_id]])])]),Y("div",KZ,[Y("div",YZ,[Y("p",null,Mt(J.$t("General.sort")),1),Mn(Y("input",{type:"number",min:"1",step:"1",class:"input w-full",onChange:re,"onUpdate:modelValue":ae[2]||(ae[2]=G=>q.value=G)},null,544),[[zn,q.value]])]),Y("div",XZ,[Y("p",null,Mt(J.$t("Product.listOptions")),1),Y("div",JZ,[Y("p",null,[Mn(Y("input",{type:"checkbox",id:"OptionsNew",class:"scale-150 mr-2","onUpdate:modelValue":ae[3]||(ae[3]=G=>fe.value.new=G),onChange:ae[4]||(ae[4]=G=>le("new"))},null,544),[[XC,fe.value.new]]),Y("label",QZ,Mt(J.$t("Product.listOptionNew")),1)]),Y("p",null,[Mn(Y("input",{type:"checkbox",id:"OptionsHot",class:"scale-150 mr-2","onUpdate:modelValue":ae[5]||(ae[5]=G=>fe.value.hot=G),onChange:ae[6]||(ae[6]=G=>le("hot"))},null,544),[[XC,fe.value.hot]]),Y("label",eW,Mt(J.$t("Product.listOptionHot")),1)]),Y("p",null,[Mn(Y("input",{type:"checkbox",id:"OptionsRecommend",class:"scale-150 mr-2","onUpdate:modelValue":ae[7]||(ae[7]=G=>fe.value.recommend=G),onChange:ae[8]||(ae[8]=G=>le("recommend"))},null,544),[[XC,fe.value.recommend]]),Y("label",tW,Mt(J.$t("Product.listOptionRecommend")),1)])])]),Y("div",nW,[Y("p",null,Mt(J.$t("General.visible")),1),Y("button",{class:ea([I.value.visibility=="1"?"greenCircleBtn text-white w-8 h-8":"grayCircleBtn text-black w-8 h-8"]),onClick:ue},[I.value.visibility=="1"?(Bt(),jr(De,{key:0,icon:"fa-check"})):(Bt(),jr(De,{key:1,icon:"fa-xmark"}))],2)])]),Y("div",oW,[Y("div",rW,[Y("div",{class:ea(["border-gray-400 p-2",D.value.style.zh_content]),onClick:ae[9]||(ae[9]=G=>D.value.swtich("zh_content"))}," \u4ECB\u7D39(\u4E2D\u6587) ",2),Y("div",{class:ea(["border-gray-400 p-2",D.value.style.en_content]),onClick:ae[10]||(ae[10]=G=>D.value.swtich("en_content"))}," Introduction(English) ",2)]),Y("div",aW,[Y("div",{class:ea(["border-gray-400 p-2",D.value.style.zh_spec]),onClick:ae[11]||(ae[11]=G=>D.value.swtich("zh_spec"))}," \u898F\u683C(\u4E2D\u6587) ",2),Y("div",{class:ea(["border-gray-400 p-2",D.value.style.en_spec]),onClick:ae[12]||(ae[12]=G=>D.value.swtich("en_spec"))}," Specification(English) ",2)])]),(Bt(!0),An(Pi,null,Ig(D.value.pages,(G,Ae)=>(Bt(),An("div",{class:ea([D.value.showingPage==G?"Tinymce":"hidden"]),key:"pages"+Ae},[ta(eh,{data:I.value[G],dataKey:G,onEditorChange:ke},null,8,["data","dataKey"])],2))),128)),Y("div",sW,[Y("button",{class:"grayBtn mr-2",onClick:me},Mt(J.$t("General.close")),1),Y("button",{class:"blueBtn",onClick:xe},Mt(J.$t("General.save")),1)])])])}}};var lW=Cf(iW,[["__scopeId","data-v-1a894d2e"]]);const _B=a=>(th("data-v-d6b6177c"),a=a(),nh(),a),cW={class:"popupTitle"},uW=_B(()=>Y("hr",{class:"popupHr"},null,-1)),dW={class:"popupContent"},mW={class:"grid grid-cols-2 gap-2"},fW=_B(()=>Y("option",{value:"",disabled:"",hidden:""},null,-1)),gW=["value"],pW={class:"flex gap-2"},hW={class:"w-2/12"},vW={class:"w-8/12 text-center"},bW={class:"grid grid-cols-3 input dark:bg-inherit dark:text-white"},yW={for:"OptionsNew"},wW={for:"OptionsHot"},xW={for:"OptionsRecommend"},_W={class:"w-2/12 text-center"},CW={class:"grid grid-cols-2 gap-10"},kW={class:"grid grid-cols-2"},SW={class:"grid grid-cols-2"},EW={class:"text-right"},OW={props:{data:Object},setup(a){const u=a;kl();const p=gl(),b=Li(),C=bo(()=>p.globleInfos.language||"en"),S=bo(()=>{var ae;return((ae=u.data)==null?void 0:ae.item)||[]}),M=bo(()=>{var G;let ae=((G=u.data)==null?void 0:G.category)||[],De=`${C.value}_title`;return ae.map(Ae=>({c_id:(Ae==null?void 0:Ae.c_id)||"",title:Ae?Ae[De]:""}))});class D{constructor(){this.showingPage="zh_content",this.pages=["zh_content","en_content","zh_spec","en_spec"],this.style={zh_content:"border border-b-0 rounded-t shadow",en_content:"border-b text-blue-500 cursor-pointer hover:shadow-md",zh_spec:"border-b text-blue-500 cursor-pointer hover:shadow-md",en_spec:"border-b text-blue-500 cursor-pointer hover:shadow-md"}}swtich(De=""){this.showingPage=De,this.pages.map(G=>{G==De?this.style[G]="border border-b-0 rounded-t shadow":this.style[G]="border-b text-blue-500 cursor-pointer hover:shadow-md"})}}const I=$o(new D),q=$o({p_id:S.value.p_id||"",title:S.value.title||"",c_id:S.value.c_id||"",sort:S.value.sort||"0",new:S.value.new||"0",hot:S.value.hot||"0",recommend:S.value.recommend||"0",visibility:S.value.visibility||"0",zh_content:S.value.zh_content||"",en_content:S.value.en_content||"",zh_spec:S.value.zh_spec||"",en_spec:S.value.en_spec||""}),re=$o(Number(q.value.sort)||1),fe=()=>{let ae=re.value;(!ae||ae<1||ae==1/0)&&(ae=1),re.value=ae,q.value.sort=re.value.toString()},le=$o({new:!!Number(q.value.new),hot:!!Number(q.value.hot),recommend:!!Number(q.value.recommend)}),ue=ae=>{q.value[ae]=le.value[ae]?"1":"0"},ke=()=>{let ae=Number(q.value.visibility);q.value.visibility=ae=="1"?"0":"1"},xe=ae=>{let De=ae==null?void 0:ae.key;!De||!q.value.hasOwnProperty(De)||(q.value[De]=ae==null?void 0:ae.value)},me=()=>{},J=()=>b.$reset();return(ae,De)=>{const G=uc("font-awesome-icon");return Bt(),An("div",null,[Y("h2",cW,[Y("strong",null,Mt(ae.$t("Product.listEdit")),1)]),uW,Y("div",dW,[Y("div",mW,[Y("div",null,[Y("p",null,Mt(ae.$t("Product.listProductName")),1),Mn(Y("input",{type:"text",class:"input w-full","onUpdate:modelValue":De[0]||(De[0]=Ae=>q.value.title=Ae)},null,512),[[zn,q.value.title]])]),Y("div",null,[Y("p",null,Mt(ae.$t("Product.productCategory")),1),Mn(Y("select",{class:"select","onUpdate:modelValue":De[1]||(De[1]=Ae=>q.value.c_id=Ae)},[fW,(Bt(!0),An(Pi,null,Ig(vo(M),(Ae,ye)=>(Bt(),An("option",{key:"categories"+ye,value:Ae.c_id},Mt(Ae.title),9,gW))),128))],512),[[uN,q.value.c_id]])])]),Y("div",pW,[Y("div",hW,[Y("p",null,Mt(ae.$t("General.sort")),1),Mn(Y("input",{type:"number",min:"1",step:"1",class:"input w-full",onChange:fe,"onUpdate:modelValue":De[2]||(De[2]=Ae=>re.value=Ae)},null,544),[[zn,re.value]])]),Y("div",vW,[Y("p",null,Mt(ae.$t("Product.listOptions")),1),Y("div",bW,[Y("p",null,[Mn(Y("input",{type:"checkbox",id:"OptionsNew",class:"scale-150 mr-2","onUpdate:modelValue":De[3]||(De[3]=Ae=>le.value.new=Ae),onChange:De[4]||(De[4]=Ae=>ue("new"))},null,544),[[XC,le.value.new]]),Y("label",yW,Mt(ae.$t("Product.listOptionNew")),1)]),Y("p",null,[Mn(Y("input",{type:"checkbox",id:"OptionsHot",class:"scale-150 mr-2","onUpdate:modelValue":De[5]||(De[5]=Ae=>le.value.hot=Ae),onChange:De[6]||(De[6]=Ae=>ue("hot"))},null,544),[[XC,le.value.hot]]),Y("label",wW,Mt(ae.$t("Product.listOptionHot")),1)]),Y("p",null,[Mn(Y("input",{type:"checkbox",id:"OptionsRecommend",class:"scale-150 mr-2","onUpdate:modelValue":De[7]||(De[7]=Ae=>le.value.recommend=Ae),onChange:De[8]||(De[8]=Ae=>ue("recommend"))},null,544),[[XC,le.value.recommend]]),Y("label",xW,Mt(ae.$t("Product.listOptionRecommend")),1)])])]),Y("div",_W,[Y("p",null,Mt(ae.$t("General.visible")),1),Y("button",{class:ea([q.value.visibility=="1"?"greenCircleBtn text-white w-8 h-8":"grayCircleBtn text-black w-8 h-8"]),onClick:ke},[q.value.visibility=="1"?(Bt(),jr(G,{key:0,icon:"fa-check"})):(Bt(),jr(G,{key:1,icon:"fa-xmark"}))],2)])]),Y("div",CW,[Y("div",kW,[Y("div",{class:ea(["border-gray-400 p-2",I.value.style.zh_content]),onClick:De[9]||(De[9]=Ae=>I.value.swtich("zh_content"))}," \u4ECB\u7D39(\u4E2D\u6587) ",2),Y("div",{class:ea(["border-gray-400 p-2",I.value.style.en_content]),onClick:De[10]||(De[10]=Ae=>I.value.swtich("en_content"))}," Introduction(English) ",2)]),Y("div",SW,[Y("div",{class:ea(["border-gray-400 p-2",I.value.style.zh_spec]),onClick:De[11]||(De[11]=Ae=>I.value.swtich("zh_spec"))}," \u898F\u683C(\u4E2D\u6587) ",2),Y("div",{class:ea(["border-gray-400 p-2",I.value.style.en_spec]),onClick:De[12]||(De[12]=Ae=>I.value.swtich("en_spec"))}," Specification(English) ",2)])]),(Bt(!0),An(Pi,null,Ig(I.value.pages,(Ae,ye)=>(Bt(),An("div",{class:ea([I.value.showingPage==Ae?"Tinymce":"hidden"]),key:"pages"+ye},[ta(eh,{data:q.value[Ae],dataKey:Ae,onEditorChange:xe},null,8,["data","dataKey"])],2))),128)),Y("div",EW,[Y("button",{class:"grayBtn mr-2",onClick:J},Mt(ae.$t("General.close")),1),Y("button",{class:"blueBtn",onClick:me},Mt(ae.$t("General.save")),1)])])])}}};var TW=Cf(OW,[["__scopeId","data-v-d6b6177c"]]);const AW={class:"popupTitle"},NW=Y("hr",{class:"popupHr"},null,-1),MW={class:"popupContent"},RW={class:"grid grid-cols-2 gap-2"},DW=["onClick"],IW=["src","onError"],PW=["onChange"],LW=["onClick"],BW={class:"text-center"},FW=["onChange"],HW={class:"text-right"},zW={props:{data:Object},setup(a){const u=a;kl();const p=gl(),b=Li();bo(()=>p.globleInfos.language||"en"),bo(()=>p.globleInfos.serverURL||"");const C=p.fileFolderPath.getUrl,S=p.fileFolderPath.imgs.folder,M=p.fileFolderPath.files.folder,D=$o({p_id:u.data.p_id||"",title:u.data.title||"",pic:[{key:"pic1",fonder:S,i18nKey:"Product.listPic1",name:u.data.pic1||"",url:C("imgs",u.data.pic1),isShowingDeleteIcon:!0,file:null},{key:"pic2",fonder:S,i18nKey:"Product.listPic2",name:u.data.pic2||"",url:C("imgs",u.data.pic2),isShowingDeleteIcon:!0,file:null},{key:"pic3",fonder:S,i18nKey:"Product.listPic3",name:u.data.pic3||"",url:C("imgs",u.data.pic3),isShowingDeleteIcon:!0,file:null}],catalog:[{key:"file1",fonder:M,i18nKey:"Product.listFile1",name:u.data.file1||"",url:C("files",u.data.file1),isShowingDeleteIcon:!0,file:null}]}),I=async ke=>{const{default:xe}=await pm(()=>import("./noImageAvailable.47d3e546.js"),[]);D.value.pic[ke].url=xe,D.value.pic[ke].isShowingDeleteIcon=!1},q=ke=>{let xe=event.target.files[0];if(!xe)return D.value.pic[ke].file=null;D.value.pic[ke].file=xe},re=ke=>{let xe=event.target.files[0];if(!xe)return D.value.catalog[ke].file=null;D.value.catalog[ke].file=xe},fe=(ke,xe)=>{},le=()=>{},ue=()=>b.$reset();return(ke,xe)=>{const me=uc("font-awesome-icon");return Bt(),An("div",null,[Y("h2",AW,[Y("strong",null,Mt(ke.$t("Product.listPictureAndFileEdit")),1)]),NW,Y("div",MW,[Y("p",null,[Bc(Mt(ke.$t("Product.listProductName"))+" : ",1),Y("strong",null,Mt(D.value.title),1)]),Y("div",RW,[(Bt(!0),An(Pi,null,Ig(D.value.pic,(J,ae)=>(Bt(),An("div",{class:"grid grid-cols-1 gap-2 m-auto text-center relative",key:"pic"+ae},[J.isShowingDeleteIcon?(Bt(),An("button",{key:0,class:"py-1 px-2 absolute top-0 right-0 text-white bg-red-600 bg-opacity-20 hover:bg-opacity-100 rounded-full",onClick:De=>fe(J,ke.$t(J.i18nKey))},[ta(me,{icon:"fa-xmark",size:"xl"})],8,DW)):gs("",!0),Y("p",null,Mt(ke.$t(J.i18nKey)),1),Y("img",{class:"w-44 h-44 m-auto",src:J.url,alt:"",onError:De=>I(ae)},null,40,IW),Y("input",{type:"file",accept:"image/*",onChange:De=>q(ae)},null,40,PW)]))),128)),(Bt(!0),An(Pi,null,Ig(D.value.catalog,(J,ae)=>(Bt(),An("div",{class:"grid grid-cols-1 gap-2 m-auto relative",key:"catalog"+ae},[J.isShowingDeleteIcon?(Bt(),An("button",{key:0,class:"py-1 px-2 absolute top-0 right-0 text-white bg-red-600 bg-opacity-20 hover:bg-opacity-100 rounded-full",onClick:De=>fe(J,ke.$t(J.i18nKey))},[ta(me,{icon:"fa-xmark",size:"xl"})],8,LW)):gs("",!0),Y("p",BW,Mt(ke.$t(J.i18nKey)),1),Y("label",null,Mt(ke.$t("General.name")+" : "+D.value.catalog[ae].name),1),Y("input",{type:"file",onChange:De=>re(ae)},null,40,FW)]))),128))]),Y("div",HW,[Y("button",{class:"grayBtn mr-2",onClick:ue},Mt(ke.$t("General.close")),1),Y("button",{class:"blueBtn",onClick:le},Mt(ke.$t("General.save")),1)])])])}}},VW={class:"popupTitle"},$W=Y("hr",{class:"popupHr"},null,-1),UW={class:"popupContent"},jW={class:"grid grid-cols-2 gap-2"},ZW={class:"flex justify-center gap-10"},WW={class:"text-center"},GW={class:"text-center"},qW=Y("option",{value:"",disabled:"",hidden:""},null,-1),KW=["value"],YW=Y("hr",{class:"popupHr"},null,-1),XW={class:"grid grid-cols-2 gap-2"},JW=["checked"],QW=Bc(" Twitter "),eG=["checked"],tG=Bc(" Facebook "),nG=["checked"],oG=Bc(" Instagram "),rG=["checked"],aG=Bc(" Linkedin "),sG=["checked"],iG=Bc(" Skype "),lG=["checked"],cG=Bc(" Line "),uG=["checked"],dG=Bc(" Youtube "),mG={class:"text-right"},fG={props:{data:Object},setup(a){const u=a;kl();const p=gl(),b=Li(),C=bD(),S=bo(()=>p.globleInfos.language||"en"),M=bo(()=>u.data||[]),D=bo(()=>S.value=="zh"?"country_name_zh":"name"),I=$o({Country_id:"",Continent:"",SubContinent:"",CountryIso3:"",CountryName_en:"",CountryName_zh:"",CompanyName:"",CompanyMajor:"0",Tel:"",Address:"",ContactPerson:"",Email:"",Mobile:"",Fax:"",OfficeHour:"",Twitter:"",Twitter_Visibility:"1",Facebook:"",Facebook_Visibility:"1",Instagram:"",Instagram_Visibility:"1",Linkedin:"",Linkedin_Visibility:"1",Skype:"",Skype_Visibility:"1",Line:"",Line_Visibility:"1",Youtube:"",Youtube_Visibility:"1",visibility:"1"}),q=()=>{let xe=M.value.find(me=>me.country_id==I.value.Country_id);I.value.Continent=(xe==null?void 0:xe.continent_code)||"",I.value.SubContinent=(xe==null?void 0:xe.sub_continent_code)||"",I.value.CountryIso3=(xe==null?void 0:xe.iso3)||"",I.value.CountryName_en=(xe==null?void 0:xe.name)||"",I.value.CountryName_zh=(xe==null?void 0:xe.country_name_zh)||""},re=()=>{if(Number(I.value.CompanyMajor)==1)return I.value.CompanyMajor="0";let me=C.updatingServiceCenterCompanyMajorTitle(S.value);C.updateConfirmed(S.value,me)&&(I.value.CompanyMajor="1")},fe=()=>{let xe=Number(I.value.visibility);I.value.visibility=xe=="1"?"0":"1"},le=(xe="")=>{if(!I.value[xe])return;let me=Number(I.value[xe]);I.value[xe]=me=="1"?"0":"1"},ue=()=>{},ke=()=>b.$reset();return(xe,me)=>{const J=uc("font-awesome-icon");return Bt(),An("div",null,[Y("h2",VW,[Y("strong",null,Mt(xe.$t("ServiceCenters.serviceCentersAdd")),1)]),$W,Y("div",UW,[Y("div",jW,[Y("div",null,[Y("p",null,Mt(xe.$t("ServiceCenters.companyName")),1),Mn(Y("input",{type:"text",class:"input w-full","onUpdate:modelValue":me[0]||(me[0]=ae=>I.value.CompanyName=ae)},null,512),[[zn,I.value.CompanyName]])]),Y("div",ZW,[Y("div",WW,[Y("p",null,Mt(xe.$t("ServiceCenters.major")),1),Y("button",{class:ea([I.value.CompanyMajor=="1"?"greenCircleBtn text-white w-8 h-8":"grayCircleBtn text-black w-8 h-8"]),onClick:re},[I.value.CompanyMajor=="1"?(Bt(),jr(J,{key:0,icon:"fa-check"})):(Bt(),jr(J,{key:1,icon:"fa-xmark"}))],2)]),Y("div",GW,[Y("p",null,Mt(xe.$t("General.visible")),1),Y("button",{class:ea([I.value.visibility=="1"?"greenCircleBtn text-white w-8 h-8":"grayCircleBtn text-black w-8 h-8"]),onClick:fe},[I.value.visibility=="1"?(Bt(),jr(J,{key:0,icon:"fa-check"})):(Bt(),jr(J,{key:1,icon:"fa-xmark"}))],2)])]),Y("div",null,[Y("p",null,Mt(xe.$t("ServiceCenters.country")),1),Mn(Y("select",{class:"select","onUpdate:modelValue":me[1]||(me[1]=ae=>I.value.Country_id=ae),onChange:q},[qW,(Bt(!0),An(Pi,null,Ig(vo(M),(ae,De)=>(Bt(),An("option",{key:"countries"+De,value:ae.country_id},Mt(ae[vo(D)]),9,KW))),128))],544),[[uN,I.value.Country_id]])]),Y("div",null,[Y("p",null,Mt(xe.$t("ServiceCenters.contractPerson")),1),Mn(Y("input",{type:"text",class:"input w-full","onUpdate:modelValue":me[2]||(me[2]=ae=>I.value.ContactPerson=ae)},null,512),[[zn,I.value.ContactPerson]])]),Y("div",null,[Y("p",null,Mt(xe.$t("ServiceCenters.address")),1),Mn(Y("input",{type:"text",class:"input w-full","onUpdate:modelValue":me[3]||(me[3]=ae=>I.value.Address=ae)},null,512),[[zn,I.value.Address]])]),Y("div",null,[Y("p",null,Mt(xe.$t("ServiceCenters.telphone")),1),Mn(Y("input",{type:"text",class:"input w-full","onUpdate:modelValue":me[4]||(me[4]=ae=>I.value.Tel=ae)},null,512),[[zn,I.value.Tel]])]),Y("div",null,[Y("p",null,Mt(xe.$t("ServiceCenters.email")),1),Mn(Y("input",{type:"text",class:"input w-full","onUpdate:modelValue":me[5]||(me[5]=ae=>I.value.Email=ae)},null,512),[[zn,I.value.Email]])]),Y("div",null,[Y("p",null,Mt(xe.$t("ServiceCenters.mobile")),1),Mn(Y("input",{type:"text",class:"input w-full","onUpdate:modelValue":me[6]||(me[6]=ae=>I.value.Mobile=ae)},null,512),[[zn,I.value.Mobile]])]),Y("div",null,[Y("p",null,Mt(xe.$t("ServiceCenters.fax")),1),Mn(Y("input",{type:"text",class:"input w-full","onUpdate:modelValue":me[7]||(me[7]=ae=>I.value.Fax=ae)},null,512),[[zn,I.value.Fax]])]),Y("div",null,[Y("p",null,Mt(xe.$t("ServiceCenters.officeHour")),1),Mn(Y("input",{type:"text",class:"input w-full","onUpdate:modelValue":me[8]||(me[8]=ae=>I.value.OfficeHour=ae)},null,512),[[zn,I.value.OfficeHour]])])]),YW,Y("div",XW,[Y("div",null,[Y("p",{class:"flex items-center",onClick:me[9]||(me[9]=ae=>le("Twitter_Visibility"))},[Y("input",{type:"checkbox",class:"mr-1",checked:I.value.Twitter_Visibility=="1"},null,8,JW),QW]),Mn(Y("input",{type:"text",class:"input w-full","onUpdate:modelValue":me[10]||(me[10]=ae=>I.value.Twitter=ae)},null,512),[[zn,I.value.Twitter]])]),Y("div",null,[Y("p",{class:"flex items-center",onClick:me[11]||(me[11]=ae=>le("Facebook_Visibility"))},[Y("input",{type:"checkbox",class:"mr-1",checked:I.value.Facebook_Visibility=="1"},null,8,eG),tG]),Mn(Y("input",{type:"text",class:"input w-full","onUpdate:modelValue":me[12]||(me[12]=ae=>I.value.Facebook=ae)},null,512),[[zn,I.value.Facebook]])]),Y("div",null,[Y("p",{class:"flex items-center",onClick:me[13]||(me[13]=ae=>le("Instagram_Visibility"))},[Y("input",{type:"checkbox",class:"mr-1",checked:I.value.Instagram_Visibility=="1"},null,8,nG),oG]),Mn(Y("input",{type:"text",class:"input w-full","onUpdate:modelValue":me[14]||(me[14]=ae=>I.value.Instagram=ae)},null,512),[[zn,I.value.Instagram]])]),Y("div",null,[Y("p",{class:"flex items-center",onClick:me[15]||(me[15]=ae=>le("Linkedin_Visibility"))},[Y("input",{type:"checkbox",class:"mr-1",checked:I.value.Linkedin_Visibility=="1"},null,8,rG),aG]),Mn(Y("input",{type:"text",class:"input w-full","onUpdate:modelValue":me[16]||(me[16]=ae=>I.value.Linkedin=ae)},null,512),[[zn,I.value.Linkedin]])]),Y("div",null,[Y("p",{class:"flex items-center",onClick:me[17]||(me[17]=ae=>le("Skype_Visibility"))},[Y("input",{type:"checkbox",class:"mr-1",checked:I.value.Skype_Visibility=="1"},null,8,sG),iG]),Mn(Y("input",{type:"text",class:"input w-full","onUpdate:modelValue":me[18]||(me[18]=ae=>I.value.Skype=ae)},null,512),[[zn,I.value.Skype]])]),Y("div",null,[Y("p",{class:"flex items-center",onClick:me[19]||(me[19]=ae=>le("Line_Visibility"))},[Y("input",{type:"checkbox",class:"mr-1",checked:I.value.Line_Visibility=="1"},null,8,lG),cG]),Mn(Y("input",{type:"text",class:"input w-full","onUpdate:modelValue":me[20]||(me[20]=ae=>I.value.Line=ae)},null,512),[[zn,I.value.Line]])]),Y("div",null,[Y("p",{class:"flex items-center",onClick:me[21]||(me[21]=ae=>le("Youtube_Visibility"))},[Y("input",{type:"checkbox",class:"mr-1",checked:I.value.Youtube_Visibility=="1"},null,8,uG),dG]),Mn(Y("input",{type:"text",class:"input w-full","onUpdate:modelValue":me[22]||(me[22]=ae=>I.value.Youtube=ae)},null,512),[[zn,I.value.Youtube]])])]),Y("div",mG,[Y("button",{class:"grayBtn mr-2",onClick:ke},Mt(xe.$t("General.close")),1),Y("button",{class:"blueBtn",onClick:ue},Mt(xe.$t("General.save")),1)])])])}}},gG={class:"popupTitle"},pG=Y("hr",{class:"popupHr"},null,-1),hG={class:"popupContent"},vG={class:"grid grid-cols-2 gap-2"},bG={class:"flex justify-center gap-10"},yG={class:"text-center"},wG={class:"text-center"},xG=Y("option",{value:"",disabled:"",hidden:""},null,-1),_G=["value"],CG=Y("hr",{class:"popupHr"},null,-1),kG={class:"grid grid-cols-2 gap-2"},SG=["checked"],EG=Bc(" Twitter "),OG=["checked"],TG=Bc(" Facebook "),AG=["checked"],NG=Bc(" Instagram "),MG=["checked"],RG=Bc(" Linkedin "),DG=["checked"],IG=Bc(" Skype "),PG=["checked"],LG=Bc(" Line "),BG=["checked"],FG=Bc(" Youtube "),HG={class:"text-right"},zG={props:{data:Object},setup(a){const u=a;kl();const p=gl(),b=Li(),C=bD(),S=bo(()=>p.globleInfos.language||"en"),M=bo(()=>{var me;return((me=u.data)==null?void 0:me.countries)||[]}),D=bo(()=>{var me;return((me=u.data)==null?void 0:me.serviceCenters)||[]}),I=bo(()=>S.value=="zh"?"country_name_zh":"name"),q=$o({ID:D.value.ID||"",Country_id:D.value.Country_id||"",Continent:D.value.Continent||"",SubContinent:D.value.SubContinent||"",CountryIso3:D.value.CountryIso3||"",CountryName_en:D.value.CountryName_en||"",CountryName_zh:D.value.CountryName_zh||"",CompanyName:D.value.CompanyName||"",CompanyMajor:D.value.CompanyMajor||"0",Tel:D.value.Tel||"",Address:D.value.Address||"",ContactPerson:D.value.ContactPerson||"",Email:D.value.Email||"",Mobile:D.value.Mobile||"",Fax:D.value.Fax||"",OfficeHour:D.value.OfficeHour||"",Twitter:D.value.Twitter||"",Twitter_Visibility:D.value.Twitter_Visibility||"1",Facebook:D.value.Facebook||"",Facebook_Visibility:D.value.Facebook_Visibility||"1",Instagram:D.value.Instagram||"",Instagram_Visibility:D.value.Instagram_Visibility||"1",Linkedin:D.value.Linkedin||"",Linkedin_Visibility:D.value.Linkedin_Visibility||"1",Skype:D.value.Skype||"",Skype_Visibility:D.value.Skype_Visibility||"1",Line:D.value.Line||"",Line_Visibility:D.value.Line_Visibility||"1",Youtube:D.value.Youtube||"",Youtube_Visibility:D.value.Youtube_Visibility||"1",visibility:D.value.visibility||"1"}),re=()=>{let me=M.value.find(J=>J.country_id==q.value.Country_id);q.value.Continent=(me==null?void 0:me.continent_code)||"",q.value.SubContinent=(me==null?void 0:me.sub_continent_code)||"",q.value.CountryIso3=(me==null?void 0:me.iso3)||"",q.value.CountryName_en=(me==null?void 0:me.name)||"",q.value.CountryName_zh=(me==null?void 0:me.country_name_zh)||""},fe=()=>{if(Number(q.value.CompanyMajor)==1)return q.value.CompanyMajor="0";let J=C.updatingServiceCenterCompanyMajorTitle(S.value);C.updateConfirmed(S.value,J)&&(q.value.CompanyMajor="1")},le=()=>{let me=Number(q.value.visibility);q.value.visibility=me=="1"?"0":"1"},ue=(me="")=>{if(!q.value[me])return;let J=Number(q.value[me]);q.value[me]=J=="1"?"0":"1"},ke=()=>{},xe=()=>b.$reset();return(me,J)=>{const ae=uc("font-awesome-icon");return Bt(),An("div",null,[Y("h2",gG,[Y("strong",null,Mt(me.$t("ServiceCenters.serviceCentersAdd")),1)]),pG,Y("div",hG,[Y("div",vG,[Y("div",null,[Y("p",null,Mt(me.$t("ServiceCenters.companyName")),1),Mn(Y("input",{type:"text",class:"input w-full","onUpdate:modelValue":J[0]||(J[0]=De=>q.value.CompanyName=De)},null,512),[[zn,q.value.CompanyName]])]),Y("div",bG,[Y("div",yG,[Y("p",null,Mt(me.$t("ServiceCenters.major")),1),Y("button",{class:ea([q.value.CompanyMajor=="1"?"greenCircleBtn text-white w-8 h-8":"grayCircleBtn text-black w-8 h-8"]),onClick:fe},[q.value.CompanyMajor=="1"?(Bt(),jr(ae,{key:0,icon:"fa-check"})):(Bt(),jr(ae,{key:1,icon:"fa-xmark"}))],2)]),Y("div",wG,[Y("p",null,Mt(me.$t("General.visible")),1),Y("button",{class:ea([q.value.visibility=="1"?"greenCircleBtn text-white w-8 h-8":"grayCircleBtn text-black w-8 h-8"]),onClick:le},[q.value.visibility=="1"?(Bt(),jr(ae,{key:0,icon:"fa-check"})):(Bt(),jr(ae,{key:1,icon:"fa-xmark"}))],2)])]),Y("div",null,[Y("p",null,Mt(me.$t("ServiceCenters.country")),1),Mn(Y("select",{class:"select","onUpdate:modelValue":J[1]||(J[1]=De=>q.value.Country_id=De),onChange:re},[xG,(Bt(!0),An(Pi,null,Ig(vo(M),(De,G)=>(Bt(),An("option",{key:"countries"+G,value:De.country_id},Mt(De[vo(I)]),9,_G))),128))],544),[[uN,q.value.Country_id]])]),Y("div",null,[Y("p",null,Mt(me.$t("ServiceCenters.contractPerson")),1),Mn(Y("input",{type:"text",class:"input w-full","onUpdate:modelValue":J[2]||(J[2]=De=>q.value.ContactPerson=De)},null,512),[[zn,q.value.ContactPerson]])]),Y("div",null,[Y("p",null,Mt(me.$t("ServiceCenters.address")),1),Mn(Y("input",{type:"text",class:"input w-full","onUpdate:modelValue":J[3]||(J[3]=De=>q.value.Address=De)},null,512),[[zn,q.value.Address]])]),Y("div",null,[Y("p",null,Mt(me.$t("ServiceCenters.telphone")),1),Mn(Y("input",{type:"text",class:"input w-full","onUpdate:modelValue":J[4]||(J[4]=De=>q.value.Tel=De)},null,512),[[zn,q.value.Tel]])]),Y("div",null,[Y("p",null,Mt(me.$t("ServiceCenters.email")),1),Mn(Y("input",{type:"text",class:"input w-full","onUpdate:modelValue":J[5]||(J[5]=De=>q.value.Email=De)},null,512),[[zn,q.value.Email]])]),Y("div",null,[Y("p",null,Mt(me.$t("ServiceCenters.mobile")),1),Mn(Y("input",{type:"text",class:"input w-full","onUpdate:modelValue":J[6]||(J[6]=De=>q.value.Mobile=De)},null,512),[[zn,q.value.Mobile]])]),Y("div",null,[Y("p",null,Mt(me.$t("ServiceCenters.fax")),1),Mn(Y("input",{type:"text",class:"input w-full","onUpdate:modelValue":J[7]||(J[7]=De=>q.value.Fax=De)},null,512),[[zn,q.value.Fax]])]),Y("div",null,[Y("p",null,Mt(me.$t("ServiceCenters.officeHour")),1),Mn(Y("input",{type:"text",class:"input w-full","onUpdate:modelValue":J[8]||(J[8]=De=>q.value.OfficeHour=De)},null,512),[[zn,q.value.OfficeHour]])])]),CG,Y("div",kG,[Y("div",null,[Y("p",{class:"flex items-center",onClick:J[9]||(J[9]=De=>ue("Twitter_Visibility"))},[Y("input",{type:"checkbox",class:"mr-1",checked:q.value.Twitter_Visibility=="1"},null,8,SG),EG]),Mn(Y("input",{type:"text",class:"input w-full","onUpdate:modelValue":J[10]||(J[10]=De=>q.value.Twitter=De)},null,512),[[zn,q.value.Twitter]])]),Y("div",null,[Y("p",{class:"flex items-center",onClick:J[11]||(J[11]=De=>ue("Facebook_Visibility"))},[Y("input",{type:"checkbox",class:"mr-1",checked:q.value.Facebook_Visibility=="1"},null,8,OG),TG]),Mn(Y("input",{type:"text",class:"input w-full","onUpdate:modelValue":J[12]||(J[12]=De=>q.value.Facebook=De)},null,512),[[zn,q.value.Facebook]])]),Y("div",null,[Y("p",{class:"flex items-center",onClick:J[13]||(J[13]=De=>ue("Instagram_Visibility"))},[Y("input",{type:"checkbox",class:"mr-1",checked:q.value.Instagram_Visibility=="1"},null,8,AG),NG]),Mn(Y("input",{type:"text",class:"input w-full","onUpdate:modelValue":J[14]||(J[14]=De=>q.value.Instagram=De)},null,512),[[zn,q.value.Instagram]])]),Y("div",null,[Y("p",{class:"flex items-center",onClick:J[15]||(J[15]=De=>ue("Linkedin_Visibility"))},[Y("input",{type:"checkbox",class:"mr-1",checked:q.value.Linkedin_Visibility=="1"},null,8,MG),RG]),Mn(Y("input",{type:"text",class:"input w-full","onUpdate:modelValue":J[16]||(J[16]=De=>q.value.Linkedin=De)},null,512),[[zn,q.value.Linkedin]])]),Y("div",null,[Y("p",{class:"flex items-center",onClick:J[17]||(J[17]=De=>ue("Skype_Visibility"))},[Y("input",{type:"checkbox",class:"mr-1",checked:q.value.Skype_Visibility=="1"},null,8,DG),IG]),Mn(Y("input",{type:"text",class:"input w-full","onUpdate:modelValue":J[18]||(J[18]=De=>q.value.Skype=De)},null,512),[[zn,q.value.Skype]])]),Y("div",null,[Y("p",{class:"flex items-center",onClick:J[19]||(J[19]=De=>ue("Line_Visibility"))},[Y("input",{type:"checkbox",class:"mr-1",checked:q.value.Line_Visibility=="1"},null,8,PG),LG]),Mn(Y("input",{type:"text",class:"input w-full","onUpdate:modelValue":J[20]||(J[20]=De=>q.value.Line=De)},null,512),[[zn,q.value.Line]])]),Y("div",null,[Y("p",{class:"flex items-center",onClick:J[21]||(J[21]=De=>ue("Youtube_Visibility"))},[Y("input",{type:"checkbox",class:"mr-1",checked:q.value.Youtube_Visibility=="1"},null,8,BG),FG]),Mn(Y("input",{type:"text",class:"input w-full","onUpdate:modelValue":J[22]||(J[22]=De=>q.value.Youtube=De)},null,512),[[zn,q.value.Youtube]])])]),Y("div",HG,[Y("button",{class:"grayBtn mr-2",onClick:xe},Mt(me.$t("General.close")),1),Y("button",{class:"blueBtn",onClick:ke},Mt(me.$t("General.save")),1)])])])}}};const VG=a=>(th("data-v-6b2972bc"),a=a(),nh(),a),$G={class:"popupTitle"},UG=VG(()=>Y("hr",{class:"popupHr"},null,-1)),jG={class:"popupContent"},ZG={class:"text-center"},WG={class:"grid grid-cols-1 gap-2 m-auto text-center relative"},GG=["src"],qG={class:"text-right"},KG={props:{data:Object},setup(a){var fe,le;const u=a;kl();const p=gl(),b=Li();bo(()=>p.globleInfos.serverURL||""),bo(()=>p.globleInfos.language||"en");const C=p.fileFolderPath.getUrl,S=$o({id:((fe=u.data)==null?void 0:fe.ID)||"",companyName:((le=u.data)==null?void 0:le.CompanyName)||"",picUrl:C("imgs",u.data.Image),picFile:null,isShowingDeleteIcon:!0}),M=async()=>{const{default:ue}=await pm(()=>import("./noImageAvailable.47d3e546.js"),[]);S.value.picUrl=ue,S.value.isShowingDeleteIcon=!1},D=ue=>{let ke=ue.target.files[0];if(!ke)return S.value.picFile=null;S.value.picFile=ke},I=()=>{},q=()=>{},re=()=>b.$reset();return(ue,ke)=>{const xe=uc("font-awesome-icon");return Bt(),An("div",null,[Y("h2",$G,[Y("strong",null,Mt(ue.$t("News.newsPicture")),1)]),UG,Y("div",jG,[Y("p",ZG,Mt(S.value.companyName),1),Y("div",WG,[S.value.isShowingDeleteIcon?(Bt(),An("button",{key:0,class:"py-1 px-2 absolute -top-4 -right-10 text-white bg-red-600 bg-opacity-20 hover:bg-opacity-100 rounded-full",onClick:I},[ta(xe,{icon:"fa-xmark",size:"xl"})])):gs("",!0),Y("img",{class:"w-full",src:S.value.picUrl,alt:"",onError:ke[0]||(ke[0]=me=>M())},null,40,GG),Y("input",{type:"file",accept:"image/*",onChange:D},null,32)]),Y("div",qG,[Y("button",{class:"grayBtn mr-2",onClick:re},Mt(ue.$t("General.close")),1),Y("button",{class:"blueBtn",onClick:q},Mt(ue.$t("General.save")),1)])])])}}};var YG=Cf(KG,[["__scopeId","data-v-6b2972bc"]]);const CB=a=>(th("data-v-34d98fe4"),a=a(),nh(),a),XG={class:"popupTitle"},JG=CB(()=>Y("hr",{class:"popupHr"},null,-1)),QG={class:"popupContent"},eq={class:"flex"},tq=CB(()=>Y("div",{class:"flex-grow border-b border-gray-400"},null,-1)),nq={class:"grid grid-cols-1 gap-2"},oq={key:0,class:"Tinymce"},rq={key:1,class:"Tinymce"},aq={class:"text-right"},sq={props:{data:Object},setup(a){var ke,xe,me,J,ae,De;const u=a;kl();const p=gl(),b=Li(),C=bo(()=>p.globleInfos.language||"en"),S=$o(C.value),M=G=>G&&(S.value=G),D=bo(()=>{let G=Ae=>Ae==S.value?"border border-b-0 rounded-t shadow":"border-b text-blue-500 cursor-pointer hover:shadow-md";return{zh:G("zh"),en:G("en")}}),I=$o({id:((ke=u.data)==null?void 0:ke.BI_ID)||"",title_zh:((xe=u.data)==null?void 0:xe.BI_Title_zh)||"",content_zh:((me=u.data)==null?void 0:me.BI_Content_zh)||"",title_en:((J=u.data)==null?void 0:J.BI_Title_en)||"",content_en:((ae=u.data)==null?void 0:ae.BI_Content_en)||"",sort:((De=u.data)==null?void 0:De.BI_Sort)||""}),q=$o(Number(I.value.sort)||1),re=()=>{let G=q.value;(!G||G<1||G==1/0)&&(G=1),q.value=G,I.value.sort=q.value.toString()},fe=G=>{let Ae=G==null?void 0:G.key;!Ae||!I.value.hasOwnProperty(Ae)||(I.value[Ae]=G==null?void 0:G.value)},le=()=>{},ue=()=>b.$reset();return(G,Ae)=>(Bt(),An("div",null,[Y("h2",XG,[Y("strong",null,Mt(G.$t("Banner.bannerEdit")),1)]),JG,Y("div",QG,[Y("div",null,[Y("p",null,Mt(G.$t("General.sort")),1),Mn(Y("input",{type:"number",min:"1",step:"1",class:"input w-full",onChange:re,"onUpdate:modelValue":Ae[0]||(Ae[0]=ye=>q.value=ye)},null,544),[[zn,q.value]])]),Y("div",eq,[Y("div",{class:ea(["border-gray-400 p-2",vo(D).zh]),onClick:Ae[1]||(Ae[1]=ye=>M("zh"))}," \u5E73\u9762\u5EE3\u544A(\u4E2D\u6587) ",2),Y("div",{class:ea(["border-gray-400 p-2",vo(D).en]),onClick:Ae[2]||(Ae[2]=ye=>M("en"))}," Banner(English) ",2),tq]),Y("div",nq,[Y("div",null,[Y("p",null,Mt(G.$t("General.title")),1),S.value=="zh"?Mn((Bt(),An("input",{key:0,type:"text",class:"input w-full","onUpdate:modelValue":Ae[3]||(Ae[3]=ye=>I.value.title_zh=ye)},null,512)),[[zn,I.value.title_zh]]):Mn((Bt(),An("input",{key:1,type:"text",class:"input w-full","onUpdate:modelValue":Ae[4]||(Ae[4]=ye=>I.value.title_en=ye)},null,512)),[[zn,I.value.title_en]])]),Y("div",null,[Y("p",null,Mt(G.$t("General.content")),1),S.value=="zh"?(Bt(),An("div",oq,[ta(eh,{data:I.value.content_zh,dataKey:"content_zh",onEditorChange:fe},null,8,["data"])])):(Bt(),An("div",rq,[ta(eh,{data:I.value.content_en,dataKey:"content_en",onEditorChange:fe},null,8,["data"])]))])]),Y("div",aq,[Y("button",{class:"grayBtn mr-2",onClick:ue},Mt(G.$t("General.close")),1),Y("button",{class:"blueBtn",onClick:le},Mt(G.$t("General.save")),1)])])]))}};var iq=Cf(sq,[["__scopeId","data-v-34d98fe4"]]);const kB=a=>(th("data-v-3d8521f0"),a=a(),nh(),a),lq={class:"popupTitle"},cq=kB(()=>Y("hr",{class:"popupHr"},null,-1)),uq={class:"popupContent"},dq={class:"flex gap-2"},mq={class:"w-10/12"},fq={class:"w-2/12 text-center"},gq={class:"flex"},pq=kB(()=>Y("div",{class:"flex-grow border-b border-gray-400"},null,-1)),hq={class:"grid grid-cols-1 gap-2"},vq={key:0,class:"Tinymce"},bq={key:1,class:"Tinymce"},yq={class:"text-right"},wq={setup(a){kl();const u=gl(),p=Li(),b=bo(()=>u.globleInfos.language||"en"),C=$o(b.value),S=xe=>xe&&(C.value=xe),M=bo(()=>{let xe=me=>me==C.value?"border border-b-0 rounded-t shadow":"border-b text-blue-500 cursor-pointer hover:shadow-md";return{zh:xe("zh"),en:xe("en")}}),D=$o({title_zh:"",content_zh:"",title_en:"",content_en:"",sort:"1",visible:"1",picFile:null}),I=$o(Number(D.value.sort)||1),q=()=>{let xe=I.value;(!xe||xe<1||xe==1/0)&&(xe=1),I.value=xe,D.value.sort=I.value.toString()},re=()=>{let xe=Number(D.value.visible);D.value.visible=xe=="1"?"0":"1"},fe=xe=>{let me=xe.target.files[0];if(!me)return D.value.picFile=null;D.value.picFile=me},le=xe=>{let me=xe==null?void 0:xe.key;!me||!D.value.hasOwnProperty(me)||(D.value[me]=xe==null?void 0:xe.value)},ue=()=>{},ke=()=>p.$reset();return(xe,me)=>{const J=uc("font-awesome-icon");return Bt(),An("div",null,[Y("h2",lq,[Y("strong",null,Mt(xe.$t("Banner.bannerAdd")),1)]),cq,Y("div",uq,[Y("div",dq,[Y("div",mq,[Y("p",null,Mt(xe.$t("General.sort")),1),Mn(Y("input",{type:"number",min:"1",step:"1",class:"input w-full",onChange:q,"onUpdate:modelValue":me[0]||(me[0]=ae=>I.value=ae)},null,544),[[zn,I.value]])]),Y("div",fq,[Y("p",null,Mt(xe.$t("General.visible")),1),Y("button",{class:ea([D.value.visible=="1"?"greenCircleBtn text-white w-8 h-8":"grayCircleBtn text-black w-8 h-8"]),onClick:re},[D.value.visible=="1"?(Bt(),jr(J,{key:0,icon:"fa-check"})):(Bt(),jr(J,{key:1,icon:"fa-xmark"}))],2)])]),Y("div",null,[Y("p",null,Mt(xe.$t("General.picture")),1),Y("input",{type:"file",accept:"image/*",onChange:fe},null,32)]),Y("div",gq,[Y("div",{class:ea(["border-gray-400 p-2",vo(M).zh]),onClick:me[1]||(me[1]=ae=>S("zh"))}," \u5E73\u9762\u5EE3\u544A(\u4E2D\u6587) ",2),Y("div",{class:ea(["border-gray-400 p-2",vo(M).en]),onClick:me[2]||(me[2]=ae=>S("en"))}," Banner(English) ",2),pq]),Y("div",hq,[Y("div",null,[Y("p",null,Mt(xe.$t("General.title")),1),C.value=="zh"?Mn((Bt(),An("input",{key:0,type:"text",class:"input w-full","onUpdate:modelValue":me[3]||(me[3]=ae=>D.value.title_zh=ae)},null,512)),[[zn,D.value.title_zh]]):Mn((Bt(),An("input",{key:1,type:"text",class:"input w-full","onUpdate:modelValue":me[4]||(me[4]=ae=>D.value.title_en=ae)},null,512)),[[zn,D.value.title_en]])]),Y("div",null,[Y("p",null,Mt(xe.$t("General.content")),1),C.value=="zh"?(Bt(),An("div",vq,[ta(eh,{data:D.value.content_zh,dataKey:"content_zh",onEditorChange:le},null,8,["data"])])):(Bt(),An("div",bq,[ta(eh,{data:D.value.content_en,dataKey:"content_en",onEditorChange:le},null,8,["data"])]))])]),Y("div",yq,[Y("button",{class:"grayBtn mr-2",onClick:ke},Mt(xe.$t("General.close")),1),Y("button",{class:"blueBtn",onClick:ue},Mt(xe.$t("General.save")),1)])])])}}};var xq=Cf(wq,[["__scopeId","data-v-3d8521f0"]]);const _q=a=>(th("data-v-8807ffc6"),a=a(),nh(),a),Cq={class:"popupTitle"},kq=_q(()=>Y("hr",{class:"popupHr"},null,-1)),Sq={class:"popupContent"},Eq={class:"text-center"},Oq={class:"w-11/12 grid grid-cols-1 gap-2 m-auto text-center relative"},Tq=["src"],Aq={class:"text-right"},Nq={props:{data:Object},setup(a){var ue,ke,xe;const u=a;kl();const p=gl(),b=Li();bo(()=>p.globleInfos.serverURL||"");const C=bo(()=>p.globleInfos.language||"en"),S=p.fileFolderPath.getUrl,M=$o({id:((ue=u.data)==null?void 0:ue.BI_ID)||"",title_zh:((ke=u.data)==null?void 0:ke.BI_Title_zh)||"",title_en:((xe=u.data)==null?void 0:xe.BI_Title_en)||"",picUrl:S("imgs",u.data.BI_Pic),picFile:null,isShowingDeleteIcon:!0}),D=bo(()=>{let me=`title_${C.value}`;return M.value[me]||M.value.title_en}),I=async()=>{const{default:me}=await pm(()=>import("./noImageAvailable.47d3e546.js"),[]);M.value.picUrl=me,M.value.isShowingDeleteIcon=!1},q=me=>{let J=me.target.files[0];if(!J)return M.value.picFile=null;M.value.picFile=J},re=()=>{},fe=()=>{},le=()=>b.$reset();return(me,J)=>{const ae=uc("font-awesome-icon");return Bt(),An("div",null,[Y("h2",Cq,[Y("strong",null,Mt(me.$t("Banner.bannerPicture")),1)]),kq,Y("div",Sq,[Y("p",Eq,Mt(vo(D)),1),Y("div",Oq,[M.value.isShowingDeleteIcon?(Bt(),An("button",{key:0,class:"py-1 px-2 absolute -top-4 -right-10 text-white bg-red-600 bg-opacity-20 hover:bg-opacity-100 rounded-full",onClick:re},[ta(ae,{icon:"fa-xmark",size:"xl"})])):gs("",!0),Y("img",{class:"w-full",src:M.value.picUrl,alt:"",onError:J[0]||(J[0]=De=>I())},null,40,Tq),Y("input",{type:"file",accept:"image/*",onChange:q},null,32)]),Y("div",Aq,[Y("button",{class:"grayBtn mr-2",onClick:le},Mt(me.$t("General.close")),1),Y("button",{class:"blueBtn",onClick:fe},Mt(me.$t("General.save")),1)])])])}}};var Mq=Cf(Nq,[["__scopeId","data-v-8807ffc6"]]);const Rq={class:"popupTitle"},Dq=Y("hr",{class:"popupHr"},null,-1),Iq={class:"popupContent"},Pq={class:"text-right"},Lq={props:{data:Object},setup(a){var q,re,fe;const u=a;kl();const p=gl(),b=Li();bo(()=>p.globleInfos.language||"en");const C=$o({Pa_ID:((q=u.data)==null?void 0:q.Pa_ID)||"",title:((re=u.data)==null?void 0:re.Pa_Title)||"",sort:((fe=u.data)==null?void 0:fe.sort)||""}),S=$o(Number(C.value.sort)||1),M=()=>{let le=S.value;(!le||le<1||le==1/0)&&(le=1),S.value=le,C.value.sort=S.value.toString()},D=()=>{},I=()=>b.$reset();return(le,ue)=>(Bt(),An("div",null,[Y("h2",Rq,[Y("strong",null,Mt(le.$t("Partners.partnersEdit")),1)]),Dq,Y("div",Iq,[Y("div",null,[Y("p",null,Mt(le.$t("General.sort")),1),Mn(Y("input",{type:"number",min:"1",step:"1",class:"input w-full",onChange:M,"onUpdate:modelValue":ue[0]||(ue[0]=ke=>S.value=ke)},null,544),[[zn,S.value]])]),Y("div",null,[Y("p",null,Mt(le.$t("General.name")),1),Mn(Y("input",{type:"text",class:"input w-full","onUpdate:modelValue":ue[1]||(ue[1]=ke=>C.value.title=ke)},null,512),[[zn,C.value.title]])]),Y("div",Pq,[Y("button",{class:"grayBtn mr-2",onClick:I},Mt(le.$t("General.close")),1),Y("button",{class:"blueBtn",onClick:D},Mt(le.$t("General.save")),1)])])]))}},Bq={class:"popupTitle"},Fq=Y("hr",{class:"popupHr"},null,-1),Hq={class:"popupContent"},zq={class:"flex gap-2"},Vq={class:"w-10/12"},$q={class:"w-2/12 text-center"},Uq={class:"text-right"},jq={setup(a){kl();const u=gl(),p=Li();bo(()=>u.globleInfos.language||"en");const b=$o({title:"",sort:"1",visibility:"1",picFile:null}),C=$o(Number(b.value.sort)||1),S=()=>{let re=C.value;(!re||re<1||re==1/0)&&(re=1),C.value=re,b.value.sort=C.value.toString()},M=()=>{let re=Number(b.value.visibility);b.value.visibility=re=="1"?"0":"1"},D=re=>{let fe=re.target.files[0];if(!fe)return b.value.picFile=null;b.value.picFile=fe},I=()=>{},q=()=>p.$reset();return(re,fe)=>{const le=uc("font-awesome-icon");return Bt(),An("div",null,[Y("h2",Bq,[Y("strong",null,Mt(re.$t("Partners.partnersAdd")),1)]),Fq,Y("div",Hq,[Y("div",zq,[Y("div",Vq,[Y("p",null,Mt(re.$t("General.sort")),1),Mn(Y("input",{type:"number",min:"1",step:"1",class:"input w-full",onChange:S,"onUpdate:modelValue":fe[0]||(fe[0]=ue=>C.value=ue)},null,544),[[zn,C.value]])]),Y("div",$q,[Y("p",null,Mt(re.$t("General.visible")),1),Y("button",{class:ea([b.value.visibility=="1"?"greenCircleBtn text-white w-8 h-8":"grayCircleBtn text-black w-8 h-8"]),onClick:M},[b.value.visibility=="1"?(Bt(),jr(le,{key:0,icon:"fa-check"})):(Bt(),jr(le,{key:1,icon:"fa-xmark"}))],2)])]),Y("div",null,[Y("p",null,Mt(re.$t("General.name")),1),Mn(Y("input",{type:"text",class:"input w-full","onUpdate:modelValue":fe[1]||(fe[1]=ue=>b.value.title=ue)},null,512),[[zn,b.value.title]])]),Y("div",null,[Y("p",null,Mt(re.$t("General.picture")),1),Y("input",{type:"file",accept:"image/*",onChange:D},null,32)]),Y("div",Uq,[Y("button",{class:"grayBtn mr-2",onClick:q},Mt(re.$t("General.close")),1),Y("button",{class:"blueBtn",onClick:I},Mt(re.$t("General.save")),1)])])])}}};const Zq=a=>(th("data-v-b4b3d8e2"),a=a(),nh(),a),Wq={class:"popupTitle"},Gq=Zq(()=>Y("hr",{class:"popupHr"},null,-1)),qq={class:"popupContent"},Kq={class:"text-center"},Yq={class:"grid grid-cols-1 gap-2 m-auto text-center relative"},Xq=["src"],Jq={class:"text-right"},Qq={props:{data:Object},setup(a){var fe,le;const u=a;kl();const p=gl(),b=Li();bo(()=>p.globleInfos.serverURL||""),bo(()=>p.globleInfos.language||"en");const C=p.fileFolderPath.getUrl,S=$o({id:((fe=u.data)==null?void 0:fe.Pa_ID)||"",title:((le=u.data)==null?void 0:le.Pa_Title)||"",picUrl:C("imgs",u.data.Pa_Pic),picFile:null,isShowingDeleteIcon:!0}),M=async()=>{const{default:ue}=await pm(()=>import("./noImageAvailable.47d3e546.js"),[]);S.value.picUrl=ue,S.value.isShowingDeleteIcon=!1},D=ue=>{let ke=ue.target.files[0];if(!ke)return S.value.picFile=null;S.value.picFile=ke},I=()=>{},q=()=>{},re=()=>b.$reset();return(ue,ke)=>{const xe=uc("font-awesome-icon");return Bt(),An("div",null,[Y("h2",Wq,[Y("strong",null,Mt(ue.$t("Partners.partnersPicture")),1)]),Gq,Y("div",qq,[Y("p",Kq,Mt(S.value.title),1),Y("div",Yq,[S.value.isShowingDeleteIcon?(Bt(),An("button",{key:0,class:"py-1 px-2 absolute -top-4 -right-10 text-white bg-red-600 bg-opacity-20 hover:bg-opacity-100 rounded-full",onClick:I},[ta(xe,{icon:"fa-xmark",size:"xl"})])):gs("",!0),Y("img",{class:"w-full",src:S.value.picUrl,alt:"",onError:ke[0]||(ke[0]=me=>M())},null,40,Xq),Y("input",{type:"file",accept:"image/*",onChange:D},null,32)]),Y("div",Jq,[Y("button",{class:"grayBtn mr-2",onClick:re},Mt(ue.$t("General.close")),1),Y("button",{class:"blueBtn",onClick:q},Mt(ue.$t("General.save")),1)])])])}}};var eK=Cf(Qq,[["__scopeId","data-v-b4b3d8e2"]]);const tK={class:"popupTitle"},nK=Y("hr",{class:"popupHr"},null,-1),oK={class:"popupContent"},rK={class:"flex"},aK=Y("div",{class:"flex-grow border-b border-gray-400"},null,-1),sK={class:"grid grid-cols-1 gap-2 text-sm"},iK={class:"bg-gray-400 dark:bg-gray-700 p-2 rounded-md"},lK=Y("p",{class:"text-blue-600 dark:text-blue-400 text-xl"},"01.",-1),cK={class:"bg-gray-400 dark:bg-gray-700 p-2 rounded-md"},uK=Y("p",{class:"text-blue-600 dark:text-blue-400 text-xl"},"02.",-1),dK={class:"bg-gray-400 dark:bg-gray-700 p-2 rounded-md"},mK=Y("p",{class:"text-blue-600 dark:text-blue-400 text-xl"},"03.",-1),fK={class:"bg-gray-400 dark:bg-gray-700 p-2 rounded-md"},gK=Y("p",{class:"text-blue-600 dark:text-blue-400 text-xl"},"04.",-1),pK={class:"text-right"},hK={props:{data:Object},setup(a){var ue,ke,xe,me,J,ae,De,G,Ae,ye,Pt,Ft,qn,wn,Ke,nn,H,it,kn,wt,cn,In,pn,Sn,Q;const u=a;kl();const p=gl(),b=Li(),C=bo(()=>p.globleInfos.language||"en"),S=$o(C.value),M=xn=>xn&&(S.value=xn),D=bo(()=>{let xn=et=>et==S.value?"border border-b-0 rounded-t shadow":"border-b text-blue-500 cursor-pointer hover:shadow-md";return{zh:xn("zh"),en:xn("en")}}),I=$o({id:((ue=u.data)==null?void 0:ue.At_ID)||"",subject_en:((ke=u.data)==null?void 0:ke.At_Subject_en)||"",subject_zh:((xe=u.data)==null?void 0:xe.At_Subject_zh)||"",subtopic_en:((me=u.data)==null?void 0:me.At_Subtopic_en)||"",subtopic_zh:((J=u.data)==null?void 0:J.At_Subtopic_zh)||"",message_en:((ae=u.data)==null?void 0:ae.At_Message_en)||"",message_zh:((De=u.data)==null?void 0:De.At_Message_zh)||"",sort:((G=u.data)==null?void 0:G.At_Sort)||"",youtube:((Ae=u.data)==null?void 0:Ae.At_Youtube)||"",title01_zh:((ye=u.data)==null?void 0:ye.At_Title01_zh)||"",title01_en:((Pt=u.data)==null?void 0:Pt.At_Title01_en)||"",intro01_zh:((Ft=u.data)==null?void 0:Ft.At_Intro01_zh)||"",intro01_en:((qn=u.data)==null?void 0:qn.At_Intro01_en)||"",title02_zh:((wn=u.data)==null?void 0:wn.At_Title02_zh)||"",title02_en:((Ke=u.data)==null?void 0:Ke.At_Title02_en)||"",intro02_zh:((nn=u.data)==null?void 0:nn.At_Intro02_zh)||"",intro02_en:((H=u.data)==null?void 0:H.At_Intro02_en)||"",title03_zh:((it=u.data)==null?void 0:it.At_Title03_zh)||"",title03_en:((kn=u.data)==null?void 0:kn.At_Title03_en)||"",intro03_zh:((wt=u.data)==null?void 0:wt.At_Intro03_zh)||"",intro03_en:((cn=u.data)==null?void 0:cn.At_Intro03_en)||"",title04_zh:((In=u.data)==null?void 0:In.At_Title04_zh)||"",title04_en:((pn=u.data)==null?void 0:pn.At_Title04_en)||"",intro04_zh:((Sn=u.data)==null?void 0:Sn.At_Intro04_zh)||"",intro04_en:((Q=u.data)==null?void 0:Q.At_Intro04_en)||""}),q=$o(Number(I.value.sort)||1),re=()=>{let xn=q.value;(!xn||xn<1||xn==1/0)&&(xn=1),q.value=xn,I.value.sort=q.value.toString()},fe=()=>{},le=()=>b.$reset();return(xn,et)=>(Bt(),An("div",null,[Y("h2",tK,[Y("strong",null,Mt(xn.$t("About.aboutEdit")),1)]),nK,Y("div",oK,[Y("div",null,[Y("p",null,Mt(xn.$t("General.sort")),1),Mn(Y("input",{type:"number",min:"1",step:"1",class:"input w-full",onChange:re,"onUpdate:modelValue":et[0]||(et[0]=_t=>q.value=_t)},null,544),[[zn,q.value]])]),Y("div",null,[Y("p",null,Mt(xn.$t("General.video")),1),Mn(Y("input",{type:"text",class:"input w-full","onUpdate:modelValue":et[1]||(et[1]=_t=>I.value.youtube=_t)},null,512),[[zn,I.value.youtube]])]),Y("div",rK,[Y("div",{class:ea(["border-gray-400 p-2",vo(D).zh]),onClick:et[2]||(et[2]=_t=>M("zh"))}," \u95DC\u65BC\u6211\u5011(\u4E2D\u6587) ",2),Y("div",{class:ea(["border-gray-400 p-2",vo(D).en]),onClick:et[3]||(et[3]=_t=>M("en"))}," About(English) ",2),aK]),Y("div",sK,[Y("div",null,[Y("p",null,Mt(xn.$t("General.title")),1),S.value=="zh"?Mn((Bt(),An("input",{key:0,type:"text",class:"input w-full","onUpdate:modelValue":et[4]||(et[4]=_t=>I.value.subject_zh=_t)},null,512)),[[zn,I.value.subject_zh]]):Mn((Bt(),An("input",{key:1,type:"text",class:"input w-full","onUpdate:modelValue":et[5]||(et[5]=_t=>I.value.subject_en=_t)},null,512)),[[zn,I.value.subject_en]])]),Y("div",null,[Y("p",null,Mt(xn.$t("About.subtopic")),1),S.value=="zh"?Mn((Bt(),An("input",{key:0,type:"text",class:"input w-full","onUpdate:modelValue":et[6]||(et[6]=_t=>I.value.subtopic_zh=_t)},null,512)),[[zn,I.value.subtopic_zh]]):Mn((Bt(),An("input",{key:1,type:"text",class:"input w-full","onUpdate:modelValue":et[7]||(et[7]=_t=>I.value.subtopic_en=_t)},null,512)),[[zn,I.value.subtopic_en]])]),Y("div",null,[Y("p",null,Mt(xn.$t("General.content")),1),S.value=="zh"?Mn((Bt(),An("input",{key:0,type:"text",class:"input w-full","onUpdate:modelValue":et[8]||(et[8]=_t=>I.value.message_zh=_t)},null,512)),[[zn,I.value.message_zh]]):Mn((Bt(),An("input",{key:1,type:"text",class:"input w-full","onUpdate:modelValue":et[9]||(et[9]=_t=>I.value.message_en=_t)},null,512)),[[zn,I.value.message_en]])]),Y("div",iK,[lK,Y("p",null,Mt(xn.$t("General.title")),1),S.value=="zh"?Mn((Bt(),An("input",{key:0,type:"text",class:"input w-full","onUpdate:modelValue":et[10]||(et[10]=_t=>I.value.title01_zh=_t)},null,512)),[[zn,I.value.title01_zh]]):Mn((Bt(),An("input",{key:1,type:"text",class:"input w-full","onUpdate:modelValue":et[11]||(et[11]=_t=>I.value.title01_en=_t)},null,512)),[[zn,I.value.title01_en]]),Y("p",null,Mt(xn.$t("General.content")),1),S.value=="zh"?Mn((Bt(),An("input",{key:2,type:"text",class:"input w-full","onUpdate:modelValue":et[12]||(et[12]=_t=>I.value.intro01_zh=_t)},null,512)),[[zn,I.value.intro01_zh]]):Mn((Bt(),An("input",{key:3,type:"text",class:"input w-full","onUpdate:modelValue":et[13]||(et[13]=_t=>I.value.intro01_en=_t)},null,512)),[[zn,I.value.intro01_en]])]),Y("div",cK,[uK,Y("p",null,Mt(xn.$t("General.title")),1),S.value=="zh"?Mn((Bt(),An("input",{key:0,type:"text",class:"input w-full","onUpdate:modelValue":et[14]||(et[14]=_t=>I.value.title02_zh=_t)},null,512)),[[zn,I.value.title02_zh]]):Mn((Bt(),An("input",{key:1,type:"text",class:"input w-full","onUpdate:modelValue":et[15]||(et[15]=_t=>I.value.title02_en=_t)},null,512)),[[zn,I.value.title02_en]]),Y("p",null,Mt(xn.$t("General.content")),1),S.value=="zh"?Mn((Bt(),An("input",{key:2,type:"text",class:"input w-full","onUpdate:modelValue":et[16]||(et[16]=_t=>I.value.intro02_zh=_t)},null,512)),[[zn,I.value.intro02_zh]]):Mn((Bt(),An("input",{key:3,type:"text",class:"input w-full","onUpdate:modelValue":et[17]||(et[17]=_t=>I.value.intro02_en=_t)},null,512)),[[zn,I.value.intro02_en]])]),Y("div",dK,[mK,Y("p",null,Mt(xn.$t("General.title")),1),S.value=="zh"?Mn((Bt(),An("input",{key:0,type:"text",class:"input w-full","onUpdate:modelValue":et[18]||(et[18]=_t=>I.value.title03_zh=_t)},null,512)),[[zn,I.value.title03_zh]]):Mn((Bt(),An("input",{key:1,type:"text",class:"input w-full","onUpdate:modelValue":et[19]||(et[19]=_t=>I.value.title03_en=_t)},null,512)),[[zn,I.value.title03_en]]),Y("p",null,Mt(xn.$t("General.content")),1),S.value=="zh"?Mn((Bt(),An("input",{key:2,type:"text",class:"input w-full","onUpdate:modelValue":et[20]||(et[20]=_t=>I.value.intro03_zh=_t)},null,512)),[[zn,I.value.intro03_zh]]):Mn((Bt(),An("input",{key:3,type:"text",class:"input w-full","onUpdate:modelValue":et[21]||(et[21]=_t=>I.value.intro03_en=_t)},null,512)),[[zn,I.value.intro03_en]])]),Y("div",fK,[gK,Y("p",null,Mt(xn.$t("General.title")),1),S.value=="zh"?Mn((Bt(),An("input",{key:0,type:"text",class:"input w-full","onUpdate:modelValue":et[22]||(et[22]=_t=>I.value.title04_zh=_t)},null,512)),[[zn,I.value.title04_zh]]):Mn((Bt(),An("input",{key:1,type:"text",class:"input w-full","onUpdate:modelValue":et[23]||(et[23]=_t=>I.value.title04_en=_t)},null,512)),[[zn,I.value.title04_en]]),Y("p",null,Mt(xn.$t("General.content")),1),S.value=="zh"?Mn((Bt(),An("input",{key:2,type:"text",class:"input w-full","onUpdate:modelValue":et[24]||(et[24]=_t=>I.value.intro04_zh=_t)},null,512)),[[zn,I.value.intro04_zh]]):Mn((Bt(),An("input",{key:3,type:"text",class:"input w-full","onUpdate:modelValue":et[25]||(et[25]=_t=>I.value.intro04_en=_t)},null,512)),[[zn,I.value.intro04_en]])])]),Y("div",pK,[Y("button",{class:"grayBtn mr-2",onClick:le},Mt(xn.$t("General.close")),1),Y("button",{class:"blueBtn",onClick:fe},Mt(xn.$t("General.save")),1)])])]))}},vK={class:"popupTitle"},bK=Y("hr",{class:"popupHr"},null,-1),yK={class:"popupContent"},wK={class:"flex gap-2"},xK={class:"w-10/12"},_K={class:"w-2/12 text-center"},CK={class:"flex"},kK=Y("div",{class:"flex-grow border-b border-gray-400"},null,-1),SK={class:"grid grid-cols-1 gap-2 text-sm"},EK={class:"bg-gray-400 dark:bg-gray-700 p-2 rounded-md"},OK=Y("p",{class:"text-blue-600 dark:text-blue-400 text-xl"},"01.",-1),TK={class:"bg-gray-400 dark:bg-gray-700 p-2 rounded-md"},AK=Y("p",{class:"text-blue-600 dark:text-blue-400 text-xl"},"02.",-1),NK={class:"bg-gray-400 dark:bg-gray-700 p-2 rounded-md"},MK=Y("p",{class:"text-blue-600 dark:text-blue-400 text-xl"},"03.",-1),RK={class:"bg-gray-400 dark:bg-gray-700 p-2 rounded-md"},DK=Y("p",{class:"text-blue-600 dark:text-blue-400 text-xl"},"04.",-1),IK={class:"text-right"},PK={setup(a){kl();const u=gl(),p=Li(),b=bo(()=>u.globleInfos.language||"en"),C=$o(b.value),S=ue=>ue&&(C.value=ue),M=bo(()=>{let ue=ke=>ke==C.value?"border border-b-0 rounded-t shadow":"border-b text-blue-500 cursor-pointer hover:shadow-md";return{zh:ue("zh"),en:ue("en")}}),D=$o({subject_en:"",subject_zh:"",subtopic_en:"",subtopic_zh:"",message_en:"",message_zh:"",sort:"1",visible:"0",youtube:"",title01_zh:"",title01_en:"",intro01_zh:"",intro01_en:"",title02_zh:"",title02_en:"",intro02_zh:"",intro02_en:"",title03_zh:"",title03_en:"",intro03_zh:"",intro03_en:"",title04_zh:"",title04_en:"",intro04_zh:"",intro04_en:""}),I=$o(Number(D.value.sort)||1),q=()=>{let ue=I.value;(!ue||ue<1||ue==1/0)&&(ue=1),I.value=ue,D.value.sort=I.value.toString()},re=()=>{let ue=Number(D.value.visible);D.value.visible=ue=="1"?"0":"1"},fe=()=>{},le=()=>p.$reset();return(ue,ke)=>{const xe=uc("font-awesome-icon");return Bt(),An("div",null,[Y("h2",vK,[Y("strong",null,Mt(ue.$t("About.aboutAdd")),1)]),bK,Y("div",yK,[Y("div",wK,[Y("div",xK,[Y("p",null,Mt(ue.$t("General.sort")),1),Mn(Y("input",{type:"number",min:"1",step:"1",class:"input w-full",onChange:q,"onUpdate:modelValue":ke[0]||(ke[0]=me=>I.value=me)},null,544),[[zn,I.value]])]),Y("div",_K,[Y("p",null,Mt(ue.$t("General.visible")),1),Y("button",{class:ea([D.value.visible=="1"?"greenCircleBtn text-white w-8 h-8":"grayCircleBtn text-black w-8 h-8"]),onClick:re},[D.value.visible=="1"?(Bt(),jr(xe,{key:0,icon:"fa-check"})):(Bt(),jr(xe,{key:1,icon:"fa-xmark"}))],2)])]),Y("div",null,[Y("p",null,Mt(ue.$t("General.video")),1),Mn(Y("input",{type:"text",class:"input w-full","onUpdate:modelValue":ke[1]||(ke[1]=me=>D.value.youtube=me)},null,512),[[zn,D.value.youtube]])]),Y("div",CK,[Y("div",{class:ea(["border-gray-400 p-2",vo(M).zh]),onClick:ke[2]||(ke[2]=me=>S("zh"))}," \u95DC\u65BC\u6211\u5011(\u4E2D\u6587) ",2),Y("div",{class:ea(["border-gray-400 p-2",vo(M).en]),onClick:ke[3]||(ke[3]=me=>S("en"))}," About(English) ",2),kK]),Y("div",SK,[Y("div",null,[Y("p",null,Mt(ue.$t("General.title")),1),C.value=="zh"?Mn((Bt(),An("input",{key:0,type:"text",class:"input w-full","onUpdate:modelValue":ke[4]||(ke[4]=me=>D.value.subject_zh=me)},null,512)),[[zn,D.value.subject_zh]]):Mn((Bt(),An("input",{key:1,type:"text",class:"input w-full","onUpdate:modelValue":ke[5]||(ke[5]=me=>D.value.subject_en=me)},null,512)),[[zn,D.value.subject_en]])]),Y("div",null,[Y("p",null,Mt(ue.$t("About.subtopic")),1),C.value=="zh"?Mn((Bt(),An("input",{key:0,type:"text",class:"input w-full","onUpdate:modelValue":ke[6]||(ke[6]=me=>D.value.subtopic_zh=me)},null,512)),[[zn,D.value.subtopic_zh]]):Mn((Bt(),An("input",{key:1,type:"text",class:"input w-full","onUpdate:modelValue":ke[7]||(ke[7]=me=>D.value.subtopic_en=me)},null,512)),[[zn,D.value.subtopic_en]])]),Y("div",null,[Y("p",null,Mt(ue.$t("General.content")),1),C.value=="zh"?Mn((Bt(),An("input",{key:0,type:"text",class:"input w-full","onUpdate:modelValue":ke[8]||(ke[8]=me=>D.value.message_zh=me)},null,512)),[[zn,D.value.message_zh]]):Mn((Bt(),An("input",{key:1,type:"text",class:"input w-full","onUpdate:modelValue":ke[9]||(ke[9]=me=>D.value.message_en=me)},null,512)),[[zn,D.value.message_en]])]),Y("div",EK,[OK,Y("p",null,Mt(ue.$t("General.title")),1),C.value=="zh"?Mn((Bt(),An("input",{key:0,type:"text",class:"input w-full","onUpdate:modelValue":ke[10]||(ke[10]=me=>D.value.title01_zh=me)},null,512)),[[zn,D.value.title01_zh]]):Mn((Bt(),An("input",{key:1,type:"text",class:"input w-full","onUpdate:modelValue":ke[11]||(ke[11]=me=>D.value.title01_en=me)},null,512)),[[zn,D.value.title01_en]]),Y("p",null,Mt(ue.$t("General.content")),1),C.value=="zh"?Mn((Bt(),An("input",{key:2,type:"text",class:"input w-full","onUpdate:modelValue":ke[12]||(ke[12]=me=>D.value.intro01_zh=me)},null,512)),[[zn,D.value.intro01_zh]]):Mn((Bt(),An("input",{key:3,type:"text",class:"input w-full","onUpdate:modelValue":ke[13]||(ke[13]=me=>D.value.intro01_en=me)},null,512)),[[zn,D.value.intro01_en]])]),Y("div",TK,[AK,Y("p",null,Mt(ue.$t("General.title")),1),C.value=="zh"?Mn((Bt(),An("input",{key:0,type:"text",class:"input w-full","onUpdate:modelValue":ke[14]||(ke[14]=me=>D.value.title02_zh=me)},null,512)),[[zn,D.value.title02_zh]]):Mn((Bt(),An("input",{key:1,type:"text",class:"input w-full","onUpdate:modelValue":ke[15]||(ke[15]=me=>D.value.title02_en=me)},null,512)),[[zn,D.value.title02_en]]),Y("p",null,Mt(ue.$t("General.content")),1),C.value=="zh"?Mn((Bt(),An("input",{key:2,type:"text",class:"input w-full","onUpdate:modelValue":ke[16]||(ke[16]=me=>D.value.intro02_zh=me)},null,512)),[[zn,D.value.intro02_zh]]):Mn((Bt(),An("input",{key:3,type:"text",class:"input w-full","onUpdate:modelValue":ke[17]||(ke[17]=me=>D.value.intro02_en=me)},null,512)),[[zn,D.value.intro02_en]])]),Y("div",NK,[MK,Y("p",null,Mt(ue.$t("General.title")),1),C.value=="zh"?Mn((Bt(),An("input",{key:0,type:"text",class:"input w-full","onUpdate:modelValue":ke[18]||(ke[18]=me=>D.value.title03_zh=me)},null,512)),[[zn,D.value.title03_zh]]):Mn((Bt(),An("input",{key:1,type:"text",class:"input w-full","onUpdate:modelValue":ke[19]||(ke[19]=me=>D.value.title03_en=me)},null,512)),[[zn,D.value.title03_en]]),Y("p",null,Mt(ue.$t("General.content")),1),C.value=="zh"?Mn((Bt(),An("input",{key:2,type:"text",class:"input w-full","onUpdate:modelValue":ke[20]||(ke[20]=me=>D.value.intro03_zh=me)},null,512)),[[zn,D.value.intro03_zh]]):Mn((Bt(),An("input",{key:3,type:"text",class:"input w-full","onUpdate:modelValue":ke[21]||(ke[21]=me=>D.value.intro03_en=me)},null,512)),[[zn,D.value.intro03_en]])]),Y("div",RK,[DK,Y("p",null,Mt(ue.$t("General.title")),1),C.value=="zh"?Mn((Bt(),An("input",{key:0,type:"text",class:"input w-full","onUpdate:modelValue":ke[22]||(ke[22]=me=>D.value.title04_zh=me)},null,512)),[[zn,D.value.title04_zh]]):Mn((Bt(),An("input",{key:1,type:"text",class:"input w-full","onUpdate:modelValue":ke[23]||(ke[23]=me=>D.value.title04_en=me)},null,512)),[[zn,D.value.title04_en]]),Y("p",null,Mt(ue.$t("General.content")),1),C.value=="zh"?Mn((Bt(),An("input",{key:2,type:"text",class:"input w-full","onUpdate:modelValue":ke[24]||(ke[24]=me=>D.value.intro04_zh=me)},null,512)),[[zn,D.value.intro04_zh]]):Mn((Bt(),An("input",{key:3,type:"text",class:"input w-full","onUpdate:modelValue":ke[25]||(ke[25]=me=>D.value.intro04_en=me)},null,512)),[[zn,D.value.intro04_en]])])]),Y("div",IK,[Y("button",{class:"grayBtn mr-2",onClick:le},Mt(ue.$t("General.close")),1),Y("button",{class:"blueBtn",onClick:fe},Mt(ue.$t("General.save")),1)])])])}}},SB=ub("routerSetting",()=>{const a="setUrlRouter=true",u="reSetUrlRouter=true",p=()=>{window.location.href.search(a)>0&&Li().popupFunction("setUrlRouter")},b=S=>{if(window.location.href.search(u)>0)try{vD().setLocalStorageData("pathName",""),gl().changingUrlSetting(),C(),alert("Reset localStorage successfully")}catch{alert("Reset localStorage failed")}},C=()=>{let M=window.location.href.split("?"),D=M[1];if(!D)return location.reload();let q=D.split("&").filter(le=>le!=a&&le!=u);if(q.length==0)return window.location.href=M[0],location.reload();let re=q.join("&"),fe=M[0]+"?"+re;window.location.href=fe,location.reload()};return{setUrlRouter:p,reSetUrlRouter:b,clearUrlRourer:C}}),LK=Y("h2",{class:"popupTitle"},[Y("strong",null,"\u8A2D\u5B9A\u5F8C\u7AEF\u8DEF\u5F91\u4F4D\u7F6E")],-1),BK=Y("hr",{class:"popupHr"},null,-1),FK={class:"popupContent"},HK={class:"flex gap-2"},zK={class:"w-10/12"},VK=Y("p",null,"\u5F8C\u7AEF\u8DEF\u5F91",-1),$K={class:"text-right"},UK={setup(a){const u=gl(),p=bD(),b=Li(),C=SB(),S=bo(()=>u.globleInfos.language||"en"),M=bo(()=>u.globleInfos.pathName),D=$o({url:M.value}),I=()=>{if(D.value.url)try{vD().setLocalStorageData("pathName",D.value.url),u.changingUrlSetting(),C.clearUrlRourer(),p.saveSuccess(S.value),q()}catch{alert("Set localStorage failed ")}},q=()=>b.$reset();return(re,fe)=>(Bt(),An("div",null,[LK,BK,Y("div",FK,[Y("div",HK,[Y("div",zK,[VK,Mn(Y("input",{type:"text",class:"input w-full","onUpdate:modelValue":fe[0]||(fe[0]=le=>D.value.url=le)},null,512),[[zn,D.value.url]])])]),Y("div",$K,[Y("button",{class:"grayBtn mr-2",onClick:q},Mt(re.$t("General.close")),1),Y("button",{class:"blueBtn",onClick:I},Mt(re.$t("General.save")),1)])])]))}};const jK={class:"Popup w-full h-full"},ZK={class:"popupSection relative"},WK=["onClick"],GK=["onClick"],qK={setup(a){const u=Li(),p=bo(()=>u.popupInfos.key),b=bo(()=>u.popupInfos.data),C=$o(!1),S=()=>u.$reset(),M=()=>{},D=()=>C.value&&u.$reset();return(I,q)=>{const re=uc("font-awesome-icon");return Bt(),An("aside",jK,[Y("div",{class:"pt-5 w-full h-full flex justify-center bg-gray-700 bg-opacity-80 overflow-scroll",onClick:D},[Y("div",ZK,[Y("button",{class:"absolute right-4 top-4 text-gray-500 hover:text-red-500 hover:animate-pulse",onClick:CP(S,["stop"])},[ta(re,{icon:"fa-xmark",size:"xl"})],8,WK),Y("div",{class:"popupComponent",onClick:CP(M,["stop"]),"data-aos":"fade-down"},[vo(p)=="newsEdit"?(Bt(),jr(oZ,{key:0,data:vo(b)},null,8,["data"])):gs("",!0),vo(p)=="newsAdd"?(Bt(),jr(vZ,{key:1})):gs("",!0),vo(p)=="newsPicture"?(Bt(),jr(AZ,{key:2,data:vo(b)},null,8,["data"])):gs("",!0),vo(p)=="categoryEdit"?(Bt(),jr(IZ,{key:3,data:vo(b)},null,8,["data"])):gs("",!0),vo(p)=="categoryAdd"?(Bt(),jr($Z,{key:4})):gs("",!0),vo(p)=="productListEdit"?(Bt(),jr(TW,{key:5,data:vo(b)},null,8,["data"])):gs("",!0),vo(p)=="productListAdd"?(Bt(),jr(lW,{key:6,data:vo(b)},null,8,["data"])):gs("",!0),vo(p)=="productListPicture"?(Bt(),jr(zW,{key:7,data:vo(b)},null,8,["data"])):gs("",!0),vo(p)=="serviceCentersEdit"?(Bt(),jr(zG,{key:8,data:vo(b)},null,8,["data"])):gs("",!0),vo(p)=="serviceCentersAdd"?(Bt(),jr(fG,{key:9,data:vo(b)},null,8,["data"])):gs("",!0),vo(p)=="serviceCentersPicture"?(Bt(),jr(YG,{key:10,data:vo(b)},null,8,["data"])):gs("",!0),vo(p)=="bannerEdit"?(Bt(),jr(iq,{key:11,data:vo(b)},null,8,["data"])):gs("",!0),vo(p)=="bannerAdd"?(Bt(),jr(xq,{key:12})):gs("",!0),vo(p)=="bannerPicture"?(Bt(),jr(Mq,{key:13,data:vo(b)},null,8,["data"])):gs("",!0),vo(p)=="partnersEdit"?(Bt(),jr(Lq,{key:14,data:vo(b)},null,8,["data"])):gs("",!0),vo(p)=="partnersAdd"?(Bt(),jr(jq,{key:15})):gs("",!0),vo(p)=="partnersPicture"?(Bt(),jr(eK,{key:16,data:vo(b)},null,8,["data"])):gs("",!0),vo(p)=="aboutEdit"?(Bt(),jr(hK,{key:17,data:vo(b)},null,8,["data"])):gs("",!0),vo(p)=="aboutAdd"?(Bt(),jr(PK,{key:18})):gs("",!0),vo(p)=="setUrlRouter"?(Bt(),jr(UK,{key:19})):gs("",!0)],8,GK)])])])}}};var KK=Cf(qK,[["__scopeId","data-v-7fc609cc"]]);const YK={class:"Main w-full bg-gray-200 dark:bg-opacity-90 dark:bg-black text-black dark:text-gray-200"},XK={setup(a){B$(re=>({"1a439bca":D.value,"2b0d8842":M.value,"621cd8b1":vo(I),"3af56ca7":vo(q)}));const u=Li(),p=SB(),b=bo(()=>u.popupInfos.isPopup),C=pD(),{isDisplayedMenu:S}=sB(C),M=$o("0.5rem"),D=$o("3.5rem"),I=bo(()=>S.value?"16rem":"3.5rem"),q=bo(()=>S.value?"block":"none");return p.setUrlRouter(),p.reSetUrlRouter(),window.addEventListener("resize",re=>{C.menuBestUIUXWhenScreenResize(window.innerWidth)}),(re,fe)=>{const le=uc("router-view");return Bt(),An("body",{class:ea(["Body w-full h-screen font-mono tracking-wide text-gray-200",[vo(b)?"overflow-hidden":""]])},[vo(b)?(Bt(),jr(KK,{key:0})):gs("",!0),ta(mU,{class:"Header bg-blue-basic dark:bg-black"}),ta(Mj,{class:"Menu bg-blue-light dark:bg-gray-800"}),Y("main",YK,[ta(le)])],2)}}};var JK=Cf(XK,[["__scopeId","data-v-e30105f2"]]);const EB=pj({history:MU(),routes:[{path:"/",component:()=>pm(()=>import("./Product.e6d7a314.js"),["assets/Product.e6d7a314.js","assets/index.7c535327.js"])},{path:"/product",component:()=>pm(()=>import("./Product.e6d7a314.js"),["assets/Product.e6d7a314.js","assets/index.7c535327.js"])},{path:"/news",component:()=>pm(()=>import("./News.99891b97.js"),["assets/News.99891b97.js","assets/index.7c535327.js"])},{path:"/serviceCenters",component:()=>pm(()=>import("./ServiceCenters.45c7e109.js"),["assets/ServiceCenters.45c7e109.js","assets/index.7c535327.js"])},{path:"/banner",component:()=>pm(()=>import("./Banner.8295dbff.js"),["assets/Banner.8295dbff.js","assets/index.7c535327.js"])},{path:"/feedback",component:()=>pm(()=>import("./Feedback.5178d444.js"),["assets/Feedback.5178d444.js","assets/Feedback.36a7f589.css","assets/index.7c535327.js"])},{path:"/partners",component:()=>pm(()=>import("./Partners.1e1ecc93.js"),["assets/Partners.1e1ecc93.js","assets/index.7c535327.js"])},{path:"/about",component:()=>pm(()=>import("./About.36efb1d0.js"),["assets/About.36efb1d0.js","assets/index.7c535327.js"])}]});/*!
  * @intlify/shared v9.1.9
  * (c) 2021 kazuya kawaguchi
  * Released under the MIT License.
  */const QK=typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol",j1=a=>QK?Symbol(a):a,eY=(a,u,p)=>tY({l:a,k:u,s:p}),tY=a=>JSON.stringify(a).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029").replace(/\u0027/g,"\\u0027"),ic=a=>typeof a=="number"&&isFinite(a),nY=a=>yD(a)==="[object Date]",ak=a=>yD(a)==="[object RegExp]",gN=a=>Qr(a)&&Object.keys(a).length===0;function oY(a,u){typeof console!="undefined"&&(console.warn("[intlify] "+a),u&&console.warn(u.stack))}const cc=Object.assign;let WP;const ZC=()=>WP||(WP=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:{});function GP(a){return a.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}const rY=Object.prototype.hasOwnProperty;function OB(a,u){return rY.call(a,u)}const Ji=Array.isArray,lc=a=>typeof a=="function",Wo=a=>typeof a=="string",hs=a=>typeof a=="boolean",Pc=a=>a!==null&&typeof a=="object",TB=Object.prototype.toString,yD=a=>TB.call(a),Qr=a=>yD(a)==="[object Object]",aY=a=>a==null?"":Ji(a)||Qr(a)&&a.toString===TB?JSON.stringify(a,null,2):String(a);function wD(){const a=new Map;return{events:a,on(p,b){const C=a.get(p);C&&C.push(b)||a.set(p,[b])},off(p,b){const C=a.get(p);C&&C.splice(C.indexOf(b)>>>0,1)},emit(p,b){(a.get(p)||[]).slice().map(C=>C(b)),(a.get("*")||[]).slice().map(C=>C(p,b))}}}/*!
  * @intlify/message-resolver v9.1.9
  * (c) 2021 kazuya kawaguchi
  * Released under the MIT License.
  */const sY=Object.prototype.hasOwnProperty;function iY(a,u){return sY.call(a,u)}const R6=a=>a!==null&&typeof a=="object",db=[];db[0]={w:[0],i:[3,0],["["]:[4],o:[7]};db[1]={w:[1],["."]:[2],["["]:[4],o:[7]};db[2]={w:[2],i:[3,0],[0]:[3,0]};db[3]={i:[3,0],[0]:[3,0],w:[1,1],["."]:[2,1],["["]:[4,1],o:[7,1]};db[4]={["'"]:[5,0],['"']:[6,0],["["]:[4,2],["]"]:[1,3],o:8,l:[4,0]};db[5]={["'"]:[4,0],o:8,l:[5,0]};db[6]={['"']:[4,0],o:8,l:[6,0]};const lY=/^\s?(?:true|false|-?[\d.]+|'[^']*'|"[^"]*")\s?$/;function cY(a){return lY.test(a)}function uY(a){const u=a.charCodeAt(0),p=a.charCodeAt(a.length-1);return u===p&&(u===34||u===39)?a.slice(1,-1):a}function dY(a){if(a==null)return"o";switch(a.charCodeAt(0)){case 91:case 93:case 46:case 34:case 39:return a;case 95:case 36:case 45:return"i";case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"w"}return"i"}function mY(a){const u=a.trim();return a.charAt(0)==="0"&&isNaN(parseInt(a))?!1:cY(u)?uY(u):"*"+u}function fY(a){const u=[];let p=-1,b=0,C=0,S,M,D,I,q,re,fe;const le=[];le[0]=()=>{M===void 0?M=D:M+=D},le[1]=()=>{M!==void 0&&(u.push(M),M=void 0)},le[2]=()=>{le[0](),C++},le[3]=()=>{if(C>0)C--,b=4,le[0]();else{if(C=0,M===void 0||(M=mY(M),M===!1))return!1;le[1]()}};function ue(){const ke=a[p+1];if(b===5&&ke==="'"||b===6&&ke==='"')return p++,D="\\"+ke,le[0](),!0}for(;b!==null;)if(p++,S=a[p],!(S==="\\"&&ue())){if(I=dY(S),fe=db[b],q=fe[I]||fe.l||8,q===8||(b=q[0],q[1]!==void 0&&(re=le[q[1]],re&&(D=S,re()===!1))))return;if(b===7)return u}}const qP=new Map;function Z6(a,u){if(!R6(a))return null;let p=qP.get(u);if(p||(p=fY(u),p&&qP.set(u,p)),!p)return null;const b=p.length;let C=a,S=0;for(;S<b;){const M=C[p[S]];if(M===void 0)return null;C=M,S++}return C}function CR(a){if(!R6(a))return a;for(const u in a)if(!!iY(a,u))if(!u.includes("."))R6(a[u])&&CR(a[u]);else{const p=u.split("."),b=p.length-1;let C=a;for(let S=0;S<b;S++)p[S]in C||(C[p[S]]={}),C=C[p[S]];C[p[b]]=a[u],delete a[u],R6(C[p[b]])&&CR(C[p[b]])}return a}/*!
  * @intlify/runtime v9.1.9
  * (c) 2021 kazuya kawaguchi
  * Released under the MIT License.
  */const gY=a=>a,pY=a=>"",hY="text",vY=a=>a.length===0?"":a.join(""),bY=aY;function KP(a,u){return a=Math.abs(a),u===2?a?a>1?1:0:1:a?Math.min(a,2):0}function yY(a){const u=ic(a.pluralIndex)?a.pluralIndex:-1;return a.named&&(ic(a.named.count)||ic(a.named.n))?ic(a.named.count)?a.named.count:ic(a.named.n)?a.named.n:u:u}function wY(a,u){u.count||(u.count=a),u.n||(u.n=a)}function xY(a={}){const u=a.locale,p=yY(a),b=Pc(a.pluralRules)&&Wo(u)&&lc(a.pluralRules[u])?a.pluralRules[u]:KP,C=Pc(a.pluralRules)&&Wo(u)&&lc(a.pluralRules[u])?KP:void 0,S=me=>me[b(p,me.length,C)],M=a.list||[],D=me=>M[me],I=a.named||{};ic(a.pluralIndex)&&wY(p,I);const q=me=>I[me];function re(me){const J=lc(a.messages)?a.messages(me):Pc(a.messages)?a.messages[me]:!1;return J||(a.parent?a.parent.message(me):pY)}const fe=me=>a.modifiers?a.modifiers[me]:gY,le=Qr(a.processor)&&lc(a.processor.normalize)?a.processor.normalize:vY,ue=Qr(a.processor)&&lc(a.processor.interpolate)?a.processor.interpolate:bY,ke=Qr(a.processor)&&Wo(a.processor.type)?a.processor.type:hY,xe={list:D,named:q,plural:S,linked:(me,J)=>{const ae=re(me)(xe);return Wo(J)?fe(J)(ae):ae},message:re,type:ke,interpolate:ue,normalize:le};return xe}/*!
  * @intlify/message-compiler v9.1.9
  * (c) 2021 kazuya kawaguchi
  * Released under the MIT License.
  */function pN(a,u,p={}){const{domain:b,messages:C,args:S}=p,M=a,D=new SyntaxError(String(M));return D.code=a,u&&(D.location=u),D.domain=b,D}function _Y(a){throw a}function CY(a,u,p){return{line:a,column:u,offset:p}}function kR(a,u,p){const b={start:a,end:u};return p!=null&&(b.source=p),b}const I1=" ",kY="\r",Iu=`
`,SY=String.fromCharCode(8232),EY=String.fromCharCode(8233);function OY(a){const u=a;let p=0,b=1,C=1,S=0;const M=Pt=>u[Pt]===kY&&u[Pt+1]===Iu,D=Pt=>u[Pt]===Iu,I=Pt=>u[Pt]===EY,q=Pt=>u[Pt]===SY,re=Pt=>M(Pt)||D(Pt)||I(Pt)||q(Pt),fe=()=>p,le=()=>b,ue=()=>C,ke=()=>S,xe=Pt=>M(Pt)||I(Pt)||q(Pt)?Iu:u[Pt],me=()=>xe(p),J=()=>xe(p+S);function ae(){return S=0,re(p)&&(b++,C=0),M(p)&&p++,p++,C++,u[p]}function De(){return M(p+S)&&S++,S++,u[p+S]}function G(){p=0,b=1,C=1,S=0}function Ae(Pt=0){S=Pt}function ye(){const Pt=p+S;for(;Pt!==p;)ae();S=0}return{index:fe,line:le,column:ue,peekOffset:ke,charAt:xe,currentChar:me,currentPeek:J,next:ae,peek:De,reset:G,resetPeek:Ae,skipToPeek:ye}}const Y0=void 0,YP="'",TY="tokenizer";function AY(a,u={}){const p=u.location!==!1,b=OY(a),C=()=>b.index(),S=()=>CY(b.line(),b.column(),b.index()),M=S(),D=C(),I={currentType:14,offset:D,startLoc:M,endLoc:M,lastType:14,lastOffset:D,lastStartLoc:M,lastEndLoc:M,braceNest:0,inLinked:!1,text:""},q=()=>I,{onError:re}=u;function fe(Be,ne,Oe,...Ve){const yt=q();if(ne.column+=Oe,ne.offset+=Oe,re){const Ct=kR(yt.startLoc,ne),rn=pN(Be,Ct,{domain:TY,args:Ve});re(rn)}}function le(Be,ne,Oe){Be.endLoc=S(),Be.currentType=ne;const Ve={type:ne};return p&&(Ve.loc=kR(Be.startLoc,Be.endLoc)),Oe!=null&&(Ve.value=Oe),Ve}const ue=Be=>le(Be,14);function ke(Be,ne){return Be.currentChar()===ne?(Be.next(),ne):(fe(0,S(),0,ne),"")}function xe(Be){let ne="";for(;Be.currentPeek()===I1||Be.currentPeek()===Iu;)ne+=Be.currentPeek(),Be.peek();return ne}function me(Be){const ne=xe(Be);return Be.skipToPeek(),ne}function J(Be){if(Be===Y0)return!1;const ne=Be.charCodeAt(0);return ne>=97&&ne<=122||ne>=65&&ne<=90||ne===95}function ae(Be){if(Be===Y0)return!1;const ne=Be.charCodeAt(0);return ne>=48&&ne<=57}function De(Be,ne){const{currentType:Oe}=ne;if(Oe!==2)return!1;xe(Be);const Ve=J(Be.currentPeek());return Be.resetPeek(),Ve}function G(Be,ne){const{currentType:Oe}=ne;if(Oe!==2)return!1;xe(Be);const Ve=Be.currentPeek()==="-"?Be.peek():Be.currentPeek(),yt=ae(Ve);return Be.resetPeek(),yt}function Ae(Be,ne){const{currentType:Oe}=ne;if(Oe!==2)return!1;xe(Be);const Ve=Be.currentPeek()===YP;return Be.resetPeek(),Ve}function ye(Be,ne){const{currentType:Oe}=ne;if(Oe!==8)return!1;xe(Be);const Ve=Be.currentPeek()===".";return Be.resetPeek(),Ve}function Pt(Be,ne){const{currentType:Oe}=ne;if(Oe!==9)return!1;xe(Be);const Ve=J(Be.currentPeek());return Be.resetPeek(),Ve}function Ft(Be,ne){const{currentType:Oe}=ne;if(!(Oe===8||Oe===12))return!1;xe(Be);const Ve=Be.currentPeek()===":";return Be.resetPeek(),Ve}function qn(Be,ne){const{currentType:Oe}=ne;if(Oe!==10)return!1;const Ve=()=>{const Ct=Be.currentPeek();return Ct==="{"?J(Be.peek()):Ct==="@"||Ct==="%"||Ct==="|"||Ct===":"||Ct==="."||Ct===I1||!Ct?!1:Ct===Iu?(Be.peek(),Ve()):J(Ct)},yt=Ve();return Be.resetPeek(),yt}function wn(Be){xe(Be);const ne=Be.currentPeek()==="|";return Be.resetPeek(),ne}function Ke(Be,ne=!0){const Oe=(yt=!1,Ct="",rn=!1)=>{const Un=Be.currentPeek();return Un==="{"?Ct==="%"?!1:yt:Un==="@"||!Un?Ct==="%"?!0:yt:Un==="%"?(Be.peek(),Oe(yt,"%",!0)):Un==="|"?Ct==="%"||rn?!0:!(Ct===I1||Ct===Iu):Un===I1?(Be.peek(),Oe(!0,I1,rn)):Un===Iu?(Be.peek(),Oe(!0,Iu,rn)):!0},Ve=Oe();return ne&&Be.resetPeek(),Ve}function nn(Be,ne){const Oe=Be.currentChar();return Oe===Y0?Y0:ne(Oe)?(Be.next(),Oe):null}function H(Be){return nn(Be,Oe=>{const Ve=Oe.charCodeAt(0);return Ve>=97&&Ve<=122||Ve>=65&&Ve<=90||Ve>=48&&Ve<=57||Ve===95||Ve===36})}function it(Be){return nn(Be,Oe=>{const Ve=Oe.charCodeAt(0);return Ve>=48&&Ve<=57})}function kn(Be){return nn(Be,Oe=>{const Ve=Oe.charCodeAt(0);return Ve>=48&&Ve<=57||Ve>=65&&Ve<=70||Ve>=97&&Ve<=102})}function wt(Be){let ne="",Oe="";for(;ne=it(Be);)Oe+=ne;return Oe}function cn(Be){let ne="";for(;;){const Oe=Be.currentChar();if(Oe==="{"||Oe==="}"||Oe==="@"||Oe==="|"||!Oe)break;if(Oe==="%")if(Ke(Be))ne+=Oe,Be.next();else break;else if(Oe===I1||Oe===Iu)if(Ke(Be))ne+=Oe,Be.next();else{if(wn(Be))break;ne+=Oe,Be.next()}else ne+=Oe,Be.next()}return ne}function In(Be){me(Be);let ne="",Oe="";for(;ne=H(Be);)Oe+=ne;return Be.currentChar()===Y0&&fe(6,S(),0),Oe}function pn(Be){me(Be);let ne="";return Be.currentChar()==="-"?(Be.next(),ne+=`-${wt(Be)}`):ne+=wt(Be),Be.currentChar()===Y0&&fe(6,S(),0),ne}function Sn(Be){me(Be),ke(Be,"'");let ne="",Oe="";const Ve=Ct=>Ct!==YP&&Ct!==Iu;for(;ne=nn(Be,Ve);)ne==="\\"?Oe+=Q(Be):Oe+=ne;const yt=Be.currentChar();return yt===Iu||yt===Y0?(fe(2,S(),0),yt===Iu&&(Be.next(),ke(Be,"'")),Oe):(ke(Be,"'"),Oe)}function Q(Be){const ne=Be.currentChar();switch(ne){case"\\":case"'":return Be.next(),`\\${ne}`;case"u":return xn(Be,ne,4);case"U":return xn(Be,ne,6);default:return fe(3,S(),0,ne),""}}function xn(Be,ne,Oe){ke(Be,ne);let Ve="";for(let yt=0;yt<Oe;yt++){const Ct=kn(Be);if(!Ct){fe(4,S(),0,`\\${ne}${Ve}${Be.currentChar()}`);break}Ve+=Ct}return`\\${ne}${Ve}`}function et(Be){me(Be);let ne="",Oe="";const Ve=yt=>yt!=="{"&&yt!=="}"&&yt!==I1&&yt!==Iu;for(;ne=nn(Be,Ve);)Oe+=ne;return Oe}function _t(Be){let ne="",Oe="";for(;ne=H(Be);)Oe+=ne;return Oe}function Sr(Be){const ne=(Oe=!1,Ve)=>{const yt=Be.currentChar();return yt==="{"||yt==="%"||yt==="@"||yt==="|"||!yt||yt===I1?Ve:yt===Iu?(Ve+=yt,Be.next(),ne(Oe,Ve)):(Ve+=yt,Be.next(),ne(!0,Ve))};return ne(!1,"")}function Ht(Be){me(Be);const ne=ke(Be,"|");return me(Be),ne}function dt(Be,ne){let Oe=null;switch(Be.currentChar()){case"{":return ne.braceNest>=1&&fe(8,S(),0),Be.next(),Oe=le(ne,2,"{"),me(Be),ne.braceNest++,Oe;case"}":return ne.braceNest>0&&ne.currentType===2&&fe(7,S(),0),Be.next(),Oe=le(ne,3,"}"),ne.braceNest--,ne.braceNest>0&&me(Be),ne.inLinked&&ne.braceNest===0&&(ne.inLinked=!1),Oe;case"@":return ne.braceNest>0&&fe(6,S(),0),Oe=Et(Be,ne)||ue(ne),ne.braceNest=0,Oe;default:let yt=!0,Ct=!0,rn=!0;if(wn(Be))return ne.braceNest>0&&fe(6,S(),0),Oe=le(ne,1,Ht(Be)),ne.braceNest=0,ne.inLinked=!1,Oe;if(ne.braceNest>0&&(ne.currentType===5||ne.currentType===6||ne.currentType===7))return fe(6,S(),0),ne.braceNest=0,ze(Be,ne);if(yt=De(Be,ne))return Oe=le(ne,5,In(Be)),me(Be),Oe;if(Ct=G(Be,ne))return Oe=le(ne,6,pn(Be)),me(Be),Oe;if(rn=Ae(Be,ne))return Oe=le(ne,7,Sn(Be)),me(Be),Oe;if(!yt&&!Ct&&!rn)return Oe=le(ne,13,et(Be)),fe(1,S(),0,Oe.value),me(Be),Oe;break}return Oe}function Et(Be,ne){const{currentType:Oe}=ne;let Ve=null;const yt=Be.currentChar();switch((Oe===8||Oe===9||Oe===12||Oe===10)&&(yt===Iu||yt===I1)&&fe(9,S(),0),yt){case"@":return Be.next(),Ve=le(ne,8,"@"),ne.inLinked=!0,Ve;case".":return me(Be),Be.next(),le(ne,9,".");case":":return me(Be),Be.next(),le(ne,10,":");default:return wn(Be)?(Ve=le(ne,1,Ht(Be)),ne.braceNest=0,ne.inLinked=!1,Ve):ye(Be,ne)||Ft(Be,ne)?(me(Be),Et(Be,ne)):Pt(Be,ne)?(me(Be),le(ne,12,_t(Be))):qn(Be,ne)?(me(Be),yt==="{"?dt(Be,ne)||Ve:le(ne,11,Sr(Be))):(Oe===8&&fe(9,S(),0),ne.braceNest=0,ne.inLinked=!1,ze(Be,ne))}}function ze(Be,ne){let Oe={type:14};if(ne.braceNest>0)return dt(Be,ne)||ue(ne);if(ne.inLinked)return Et(Be,ne)||ue(ne);const Ve=Be.currentChar();switch(Ve){case"{":return dt(Be,ne)||ue(ne);case"}":return fe(5,S(),0),Be.next(),le(ne,3,"}");case"@":return Et(Be,ne)||ue(ne);default:if(wn(Be))return Oe=le(ne,1,Ht(Be)),ne.braceNest=0,ne.inLinked=!1,Oe;if(Ke(Be))return le(ne,0,cn(Be));if(Ve==="%")return Be.next(),le(ne,4,"%");break}return Oe}function oo(){const{currentType:Be,offset:ne,startLoc:Oe,endLoc:Ve}=I;return I.lastType=Be,I.lastOffset=ne,I.lastStartLoc=Oe,I.lastEndLoc=Ve,I.offset=C(),I.startLoc=S(),b.currentChar()===Y0?le(I,14):ze(b,I)}return{nextToken:oo,currentOffset:C,currentPosition:S,context:q}}const NY="parser",MY=/(?:\\\\|\\'|\\u([0-9a-fA-F]{4})|\\U([0-9a-fA-F]{6}))/g;function RY(a,u,p){switch(a){case"\\\\":return"\\";case"\\'":return"'";default:{const b=parseInt(u||p,16);return b<=55295||b>=57344?String.fromCodePoint(b):"\uFFFD"}}}function DY(a={}){const u=a.location!==!1,{onError:p}=a;function b(J,ae,De,G,...Ae){const ye=J.currentPosition();if(ye.offset+=G,ye.column+=G,p){const Pt=kR(De,ye),Ft=pN(ae,Pt,{domain:NY,args:Ae});p(Ft)}}function C(J,ae,De){const G={type:J,start:ae,end:ae};return u&&(G.loc={start:De,end:De}),G}function S(J,ae,De,G){J.end=ae,G&&(J.type=G),u&&J.loc&&(J.loc.end=De)}function M(J,ae){const De=J.context(),G=C(3,De.offset,De.startLoc);return G.value=ae,S(G,J.currentOffset(),J.currentPosition()),G}function D(J,ae){const De=J.context(),{lastOffset:G,lastStartLoc:Ae}=De,ye=C(5,G,Ae);return ye.index=parseInt(ae,10),J.nextToken(),S(ye,J.currentOffset(),J.currentPosition()),ye}function I(J,ae){const De=J.context(),{lastOffset:G,lastStartLoc:Ae}=De,ye=C(4,G,Ae);return ye.key=ae,J.nextToken(),S(ye,J.currentOffset(),J.currentPosition()),ye}function q(J,ae){const De=J.context(),{lastOffset:G,lastStartLoc:Ae}=De,ye=C(9,G,Ae);return ye.value=ae.replace(MY,RY),J.nextToken(),S(ye,J.currentOffset(),J.currentPosition()),ye}function re(J){const ae=J.nextToken(),De=J.context(),{lastOffset:G,lastStartLoc:Ae}=De,ye=C(8,G,Ae);return ae.type!==12?(b(J,11,De.lastStartLoc,0),ye.value="",S(ye,G,Ae),{nextConsumeToken:ae,node:ye}):(ae.value==null&&b(J,13,De.lastStartLoc,0,Gp(ae)),ye.value=ae.value||"",S(ye,J.currentOffset(),J.currentPosition()),{node:ye})}function fe(J,ae){const De=J.context(),G=C(7,De.offset,De.startLoc);return G.value=ae,S(G,J.currentOffset(),J.currentPosition()),G}function le(J){const ae=J.context(),De=C(6,ae.offset,ae.startLoc);let G=J.nextToken();if(G.type===9){const Ae=re(J);De.modifier=Ae.node,G=Ae.nextConsumeToken||J.nextToken()}switch(G.type!==10&&b(J,13,ae.lastStartLoc,0,Gp(G)),G=J.nextToken(),G.type===2&&(G=J.nextToken()),G.type){case 11:G.value==null&&b(J,13,ae.lastStartLoc,0,Gp(G)),De.key=fe(J,G.value||"");break;case 5:G.value==null&&b(J,13,ae.lastStartLoc,0,Gp(G)),De.key=I(J,G.value||"");break;case 6:G.value==null&&b(J,13,ae.lastStartLoc,0,Gp(G)),De.key=D(J,G.value||"");break;case 7:G.value==null&&b(J,13,ae.lastStartLoc,0,Gp(G)),De.key=q(J,G.value||"");break;default:b(J,12,ae.lastStartLoc,0);const Ae=J.context(),ye=C(7,Ae.offset,Ae.startLoc);return ye.value="",S(ye,Ae.offset,Ae.startLoc),De.key=ye,S(De,Ae.offset,Ae.startLoc),{nextConsumeToken:G,node:De}}return S(De,J.currentOffset(),J.currentPosition()),{node:De}}function ue(J){const ae=J.context(),De=ae.currentType===1?J.currentOffset():ae.offset,G=ae.currentType===1?ae.endLoc:ae.startLoc,Ae=C(2,De,G);Ae.items=[];let ye=null;do{const qn=ye||J.nextToken();switch(ye=null,qn.type){case 0:qn.value==null&&b(J,13,ae.lastStartLoc,0,Gp(qn)),Ae.items.push(M(J,qn.value||""));break;case 6:qn.value==null&&b(J,13,ae.lastStartLoc,0,Gp(qn)),Ae.items.push(D(J,qn.value||""));break;case 5:qn.value==null&&b(J,13,ae.lastStartLoc,0,Gp(qn)),Ae.items.push(I(J,qn.value||""));break;case 7:qn.value==null&&b(J,13,ae.lastStartLoc,0,Gp(qn)),Ae.items.push(q(J,qn.value||""));break;case 8:const wn=le(J);Ae.items.push(wn.node),ye=wn.nextConsumeToken||null;break}}while(ae.currentType!==14&&ae.currentType!==1);const Pt=ae.currentType===1?ae.lastOffset:J.currentOffset(),Ft=ae.currentType===1?ae.lastEndLoc:J.currentPosition();return S(Ae,Pt,Ft),Ae}function ke(J,ae,De,G){const Ae=J.context();let ye=G.items.length===0;const Pt=C(1,ae,De);Pt.cases=[],Pt.cases.push(G);do{const Ft=ue(J);ye||(ye=Ft.items.length===0),Pt.cases.push(Ft)}while(Ae.currentType!==14);return ye&&b(J,10,De,0),S(Pt,J.currentOffset(),J.currentPosition()),Pt}function xe(J){const ae=J.context(),{offset:De,startLoc:G}=ae,Ae=ue(J);return ae.currentType===14?Ae:ke(J,De,G,Ae)}function me(J){const ae=AY(J,cc({},a)),De=ae.context(),G=C(0,De.offset,De.startLoc);return u&&G.loc&&(G.loc.source=J),G.body=xe(ae),De.currentType!==14&&b(ae,13,De.lastStartLoc,0,J[De.offset]||""),S(G,ae.currentOffset(),ae.currentPosition()),G}return{parse:me}}function Gp(a){if(a.type===14)return"EOF";const u=(a.value||"").replace(/\r?\n/gu,"\\n");return u.length>10?u.slice(0,9)+"\u2026":u}function IY(a,u={}){const p={ast:a,helpers:new Set};return{context:()=>p,helper:S=>(p.helpers.add(S),S)}}function XP(a,u){for(let p=0;p<a.length;p++)xD(a[p],u)}function xD(a,u){switch(a.type){case 1:XP(a.cases,u),u.helper("plural");break;case 2:XP(a.items,u);break;case 6:xD(a.key,u),u.helper("linked");break;case 5:u.helper("interpolate"),u.helper("list");break;case 4:u.helper("interpolate"),u.helper("named");break}}function PY(a,u={}){const p=IY(a);p.helper("normalize"),a.body&&xD(a.body,p);const b=p.context();a.helpers=Array.from(b.helpers)}function LY(a,u){const{sourceMap:p,filename:b,breakLineCode:C,needIndent:S}=u,M={source:a.loc.source,filename:b,code:"",column:1,line:1,offset:0,map:void 0,breakLineCode:C,needIndent:S,indentLevel:0},D=()=>M;function I(xe,me){M.code+=xe}function q(xe,me=!0){const J=me?C:"";I(S?J+"  ".repeat(xe):J)}function re(xe=!0){const me=++M.indentLevel;xe&&q(me)}function fe(xe=!0){const me=--M.indentLevel;xe&&q(me)}function le(){q(M.indentLevel)}return{context:D,push:I,indent:re,deindent:fe,newline:le,helper:xe=>`_${xe}`,needIndent:()=>M.needIndent}}function BY(a,u){const{helper:p}=a;a.push(`${p("linked")}(`),sk(a,u.key),u.modifier&&(a.push(", "),sk(a,u.modifier)),a.push(")")}function FY(a,u){const{helper:p,needIndent:b}=a;a.push(`${p("normalize")}([`),a.indent(b());const C=u.items.length;for(let S=0;S<C&&(sk(a,u.items[S]),S!==C-1);S++)a.push(", ");a.deindent(b()),a.push("])")}function HY(a,u){const{helper:p,needIndent:b}=a;if(u.cases.length>1){a.push(`${p("plural")}([`),a.indent(b());const C=u.cases.length;for(let S=0;S<C&&(sk(a,u.cases[S]),S!==C-1);S++)a.push(", ");a.deindent(b()),a.push("])")}}function zY(a,u){u.body?sk(a,u.body):a.push("null")}function sk(a,u){const{helper:p}=a;switch(u.type){case 0:zY(a,u);break;case 1:HY(a,u);break;case 2:FY(a,u);break;case 6:BY(a,u);break;case 8:a.push(JSON.stringify(u.value),u);break;case 7:a.push(JSON.stringify(u.value),u);break;case 5:a.push(`${p("interpolate")}(${p("list")}(${u.index}))`,u);break;case 4:a.push(`${p("interpolate")}(${p("named")}(${JSON.stringify(u.key)}))`,u);break;case 9:a.push(JSON.stringify(u.value),u);break;case 3:a.push(JSON.stringify(u.value),u);break}}const VY=(a,u={})=>{const p=Wo(u.mode)?u.mode:"normal",b=Wo(u.filename)?u.filename:"message.intl",C=!!u.sourceMap,S=u.breakLineCode!=null?u.breakLineCode:p==="arrow"?";":`
`,M=u.needIndent?u.needIndent:p!=="arrow",D=a.helpers||[],I=LY(a,{mode:p,filename:b,sourceMap:C,breakLineCode:S,needIndent:M});I.push(p==="normal"?"function __msg__ (ctx) {":"(ctx) => {"),I.indent(M),D.length>0&&(I.push(`const { ${D.map(fe=>`${fe}: _${fe}`).join(", ")} } = ctx`),I.newline()),I.push("return "),sk(I,a),I.deindent(M),I.push("}");const{code:q,map:re}=I.context();return{ast:a,code:q,map:re?re.toJSON():void 0}};function $Y(a,u={}){const p=cc({},u),C=DY(p).parse(a);return PY(C,p),VY(C,p)}/*!
  * @intlify/devtools-if v9.1.9
  * (c) 2021 kazuya kawaguchi
  * Released under the MIT License.
  */const AB={I18nInit:"i18n:init",FunctionTranslate:"function:translate"};/*!
  * @intlify/core-base v9.1.9
  * (c) 2021 kazuya kawaguchi
  * Released under the MIT License.
  */let x5=null;function UY(a){x5=a}function jY(a,u,p){x5&&x5.emit(AB.I18nInit,{timestamp:Date.now(),i18n:a,version:u,meta:p})}const ZY=WY(AB.FunctionTranslate);function WY(a){return u=>x5&&x5.emit(a,u)}const GY="9.1.9",hN=-1,JP="";function qY(){return{upper:a=>Wo(a)?a.toUpperCase():a,lower:a=>Wo(a)?a.toLowerCase():a,capitalize:a=>Wo(a)?`${a.charAt(0).toLocaleUpperCase()}${a.substr(1)}`:a}}let NB;function KY(a){NB=a}let MB=null;const QP=a=>{MB=a},YY=()=>MB;let eL=0;function XY(a={}){const u=Wo(a.version)?a.version:GY,p=Wo(a.locale)?a.locale:"en-US",b=Ji(a.fallbackLocale)||Qr(a.fallbackLocale)||Wo(a.fallbackLocale)||a.fallbackLocale===!1?a.fallbackLocale:p,C=Qr(a.messages)?a.messages:{[p]:{}},S=Qr(a.datetimeFormats)?a.datetimeFormats:{[p]:{}},M=Qr(a.numberFormats)?a.numberFormats:{[p]:{}},D=cc({},a.modifiers||{},qY()),I=a.pluralRules||{},q=lc(a.missing)?a.missing:null,re=hs(a.missingWarn)||ak(a.missingWarn)?a.missingWarn:!0,fe=hs(a.fallbackWarn)||ak(a.fallbackWarn)?a.fallbackWarn:!0,le=!!a.fallbackFormat,ue=!!a.unresolving,ke=lc(a.postTranslation)?a.postTranslation:null,xe=Qr(a.processor)?a.processor:null,me=hs(a.warnHtmlMessage)?a.warnHtmlMessage:!0,J=!!a.escapeParameter,ae=lc(a.messageCompiler)?a.messageCompiler:NB,De=lc(a.onWarn)?a.onWarn:oY,G=a,Ae=Pc(G.__datetimeFormatters)?G.__datetimeFormatters:new Map,ye=Pc(G.__numberFormatters)?G.__numberFormatters:new Map,Pt=Pc(G.__meta)?G.__meta:{};eL++;const Ft={version:u,cid:eL,locale:p,fallbackLocale:b,messages:C,datetimeFormats:S,numberFormats:M,modifiers:D,pluralRules:I,missing:q,missingWarn:re,fallbackWarn:fe,fallbackFormat:le,unresolving:ue,postTranslation:ke,processor:xe,warnHtmlMessage:me,escapeParameter:J,messageCompiler:ae,onWarn:De,__datetimeFormatters:Ae,__numberFormatters:ye,__meta:Pt};return __INTLIFY_PROD_DEVTOOLS__&&jY(Ft,u,Pt),Ft}function _D(a,u,p,b,C){const{missing:S,onWarn:M}=a;if(S!==null){const D=S(a,p,u,C);return Wo(D)?D:u}else return u}function N5(a,u,p){const b=a;b.__localeChainCache||(b.__localeChainCache=new Map);let C=b.__localeChainCache.get(p);if(!C){C=[];let S=[p];for(;Ji(S);)S=tL(C,S,u);const M=Ji(u)?u:Qr(u)?u.default?u.default:null:u;S=Wo(M)?[M]:M,Ji(S)&&tL(C,S,!1),b.__localeChainCache.set(p,C)}return C}function tL(a,u,p){let b=!0;for(let C=0;C<u.length&&hs(b);C++){const S=u[C];Wo(S)&&(b=JY(a,u[C],p))}return b}function JY(a,u,p){let b;const C=u.split("-");do{const S=C.join("-");b=QY(a,S,p),C.splice(-1,1)}while(C.length&&b===!0);return b}function QY(a,u,p){let b=!1;if(!a.includes(u)&&(b=!0,u)){b=u[u.length-1]!=="!";const C=u.replace(/!/g,"");a.push(C),(Ji(p)||Qr(p))&&p[C]&&(b=p[C])}return b}function t5(a,u,p){const b=a;b.__localeChainCache=new Map,N5(a,p,u)}const eX=a=>a;let nL=Object.create(null);function tX(a,u={}){{const b=(u.onCacheKey||eX)(a),C=nL[b];if(C)return C;let S=!1;const M=u.onError||_Y;u.onError=q=>{S=!0,M(q)};const{code:D}=$Y(a,u),I=new Function(`return ${D}`)();return S?I:nL[b]=I}}function WC(a){return pN(a,null,void 0)}const oL=()=>"",Yp=a=>lc(a);function rL(a,...u){const{fallbackFormat:p,postTranslation:b,unresolving:C,fallbackLocale:S,messages:M}=a,[D,I]=SR(...u),q=hs(I.missingWarn)?I.missingWarn:a.missingWarn,re=hs(I.fallbackWarn)?I.fallbackWarn:a.fallbackWarn,fe=hs(I.escapeParameter)?I.escapeParameter:a.escapeParameter,le=!!I.resolvedMessage,ue=Wo(I.default)||hs(I.default)?hs(I.default)?D:I.default:p?D:"",ke=p||ue!=="",xe=Wo(I.locale)?I.locale:a.locale;fe&&nX(I);let[me,J,ae]=le?[D,xe,M[xe]||{}]:oX(a,D,xe,S,re,q),De=D;if(!le&&!(Wo(me)||Yp(me))&&ke&&(me=ue,De=me),!le&&(!(Wo(me)||Yp(me))||!Wo(J)))return C?hN:D;let G=!1;const Ae=()=>{G=!0},ye=Yp(me)?me:RB(a,D,J,me,De,Ae);if(G)return me;const Pt=sX(a,J,ae,I),Ft=xY(Pt),qn=rX(a,ye,Ft),wn=b?b(qn):qn;if(__INTLIFY_PROD_DEVTOOLS__){const Ke={timestamp:Date.now(),key:Wo(D)?D:Yp(me)?me.key:"",locale:J||(Yp(me)?me.locale:""),format:Wo(me)?me:Yp(me)?me.source:"",message:wn};Ke.meta=cc({},a.__meta,YY()||{}),ZY(Ke)}return wn}function nX(a){Ji(a.list)?a.list=a.list.map(u=>Wo(u)?GP(u):u):Pc(a.named)&&Object.keys(a.named).forEach(u=>{Wo(a.named[u])&&(a.named[u]=GP(a.named[u]))})}function oX(a,u,p,b,C,S){const{messages:M,onWarn:D}=a,I=N5(a,b,p);let q={},re,fe=null;const le="translate";for(let ue=0;ue<I.length&&(re=I[ue],q=M[re]||{},(fe=Z6(q,u))===null&&(fe=q[u]),!(Wo(fe)||lc(fe)));ue++){const ke=_D(a,u,re,S,le);ke!==u&&(fe=ke)}return[fe,re,q]}function RB(a,u,p,b,C,S){const{messageCompiler:M,warnHtmlMessage:D}=a;if(Yp(b)){const q=b;return q.locale=q.locale||p,q.key=q.key||u,q}const I=M(b,aX(a,p,C,b,D,S));return I.locale=p,I.key=u,I.source=b,I}function rX(a,u,p){return u(p)}function SR(...a){const[u,p,b]=a,C={};if(!Wo(u)&&!ic(u)&&!Yp(u))throw WC(14);const S=ic(u)?String(u):(Yp(u),u);return ic(p)?C.plural=p:Wo(p)?C.default=p:Qr(p)&&!gN(p)?C.named=p:Ji(p)&&(C.list=p),ic(b)?C.plural=b:Wo(b)?C.default=b:Qr(b)&&cc(C,b),[S,C]}function aX(a,u,p,b,C,S){return{warnHtmlMessage:C,onError:M=>{throw S&&S(M),M},onCacheKey:M=>eY(u,p,M)}}function sX(a,u,p,b){const{modifiers:C,pluralRules:S}=a,D={locale:u,modifiers:C,pluralRules:S,messages:I=>{const q=Z6(p,I);if(Wo(q)){let re=!1;const le=RB(a,I,u,q,I,()=>{re=!0});return re?oL:le}else return Yp(q)?q:oL}};return a.processor&&(D.processor=a.processor),b.list&&(D.list=b.list),b.named&&(D.named=b.named),ic(b.plural)&&(D.pluralIndex=b.plural),D}function aL(a,...u){const{datetimeFormats:p,unresolving:b,fallbackLocale:C,onWarn:S}=a,{__datetimeFormatters:M}=a,[D,I,q,re]=ER(...u),fe=hs(q.missingWarn)?q.missingWarn:a.missingWarn;hs(q.fallbackWarn)?q.fallbackWarn:a.fallbackWarn;const le=!!q.part,ue=Wo(q.locale)?q.locale:a.locale,ke=N5(a,C,ue);if(!Wo(D)||D==="")return new Intl.DateTimeFormat(ue).format(I);let xe={},me,J=null;const ae="datetime format";for(let Ae=0;Ae<ke.length&&(me=ke[Ae],xe=p[me]||{},J=xe[D],!Qr(J));Ae++)_D(a,D,me,fe,ae);if(!Qr(J)||!Wo(me))return b?hN:D;let De=`${me}__${D}`;gN(re)||(De=`${De}__${JSON.stringify(re)}`);let G=M.get(De);return G||(G=new Intl.DateTimeFormat(me,cc({},J,re)),M.set(De,G)),le?G.formatToParts(I):G.format(I)}function ER(...a){const[u,p,b,C]=a;let S={},M={},D;if(Wo(u)){if(!/\d{4}-\d{2}-\d{2}(T.*)?/.test(u))throw WC(16);D=new Date(u);try{D.toISOString()}catch{throw WC(16)}}else if(nY(u)){if(isNaN(u.getTime()))throw WC(15);D=u}else if(ic(u))D=u;else throw WC(14);return Wo(p)?S.key=p:Qr(p)&&(S=p),Wo(b)?S.locale=b:Qr(b)&&(M=b),Qr(C)&&(M=C),[S.key||"",D,S,M]}function sL(a,u,p){const b=a;for(const C in p){const S=`${u}__${C}`;!b.__datetimeFormatters.has(S)||b.__datetimeFormatters.delete(S)}}function iL(a,...u){const{numberFormats:p,unresolving:b,fallbackLocale:C,onWarn:S}=a,{__numberFormatters:M}=a,[D,I,q,re]=OR(...u),fe=hs(q.missingWarn)?q.missingWarn:a.missingWarn;hs(q.fallbackWarn)?q.fallbackWarn:a.fallbackWarn;const le=!!q.part,ue=Wo(q.locale)?q.locale:a.locale,ke=N5(a,C,ue);if(!Wo(D)||D==="")return new Intl.NumberFormat(ue).format(I);let xe={},me,J=null;const ae="number format";for(let Ae=0;Ae<ke.length&&(me=ke[Ae],xe=p[me]||{},J=xe[D],!Qr(J));Ae++)_D(a,D,me,fe,ae);if(!Qr(J)||!Wo(me))return b?hN:D;let De=`${me}__${D}`;gN(re)||(De=`${De}__${JSON.stringify(re)}`);let G=M.get(De);return G||(G=new Intl.NumberFormat(me,cc({},J,re)),M.set(De,G)),le?G.formatToParts(I):G.format(I)}function OR(...a){const[u,p,b,C]=a;let S={},M={};if(!ic(u))throw WC(14);const D=u;return Wo(p)?S.key=p:Qr(p)&&(S=p),Wo(b)?S.locale=b:Qr(b)&&(M=b),Qr(C)&&(M=C),[S.key||"",D,S,M]}function lL(a,u,p){const b=a;for(const C in p){const S=`${u}__${C}`;!b.__numberFormatters.has(S)||b.__numberFormatters.delete(S)}}typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(ZC().__INTLIFY_PROD_DEVTOOLS__=!1);/*!
  * @intlify/vue-devtools v9.1.9
  * (c) 2021 kazuya kawaguchi
  * Released under the MIT License.
  */const W7={["vue-devtools-plugin-vue-i18n"]:"Vue I18n devtools",["vue-i18n-resource-inspector"]:"I18n Resources",["vue-i18n-timeline"]:"Vue I18n"},iX={["vue-i18n-resource-inspector"]:"Search for scopes ..."},lX={["vue-i18n-timeline"]:16764185};/*!
  * vue-i18n v9.1.9
  * (c) 2021 kazuya kawaguchi
  * Released under the MIT License.
  */const cX="9.1.9";function uX(){typeof __VUE_I18N_FULL_INSTALL__!="boolean"&&(ZC().__VUE_I18N_FULL_INSTALL__=!0),typeof __VUE_I18N_LEGACY_API__!="boolean"&&(ZC().__VUE_I18N_LEGACY_API__=!0),typeof __VUE_I18N_PROD_DEVTOOLS__!="boolean"&&(ZC().__VUE_I18N_PROD_DEVTOOLS__=!1),typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(ZC().__INTLIFY_PROD_DEVTOOLS__=!1)}function Ic(a,...u){return pN(a,null,void 0)}const G7="__INTLIFY_META__",TR=j1("__transrateVNode"),AR=j1("__datetimeParts"),NR=j1("__numberParts"),W6=j1("__enableEmitter"),cL=j1("__disableEmitter"),DB=j1("__setPluralRules");j1("__intlifyMeta");const IB=j1("__injectWithOption");let uL=0;function dL(a){return(u,p,b,C)=>a(p,b,cw()||void 0,C)}function CD(a,u){const{messages:p,__i18n:b}=u,C=Qr(p)?p:Ji(b)?{}:{[a]:{}};if(Ji(b)&&b.forEach(({locale:S,resource:M})=>{S?(C[S]=C[S]||{},G6(M,C[S])):G6(M,C)}),u.flatJson)for(const S in C)OB(C,S)&&CR(C[S]);return C}const h6=a=>!Pc(a)||Ji(a);function G6(a,u){if(h6(a)||h6(u))throw Ic(20);for(const p in a)OB(a,p)&&(h6(a[p])||h6(u[p])?u[p]=a[p]:G6(a[p],u[p]))}const dX=()=>{const a=cw();return a&&a.type[G7]?{[G7]:a.type[G7]}:null};function kD(a={}){const{__root:u}=a,p=u===void 0;let b=hs(a.inheritLocale)?a.inheritLocale:!0;const C=$o(u&&b?u.locale.value:Wo(a.locale)?a.locale:"en-US"),S=$o(u&&b?u.fallbackLocale.value:Wo(a.fallbackLocale)||Ji(a.fallbackLocale)||Qr(a.fallbackLocale)||a.fallbackLocale===!1?a.fallbackLocale:C.value),M=$o(CD(C.value,a)),D=$o(Qr(a.datetimeFormats)?a.datetimeFormats:{[C.value]:{}}),I=$o(Qr(a.numberFormats)?a.numberFormats:{[C.value]:{}});let q=u?u.missingWarn:hs(a.missingWarn)||ak(a.missingWarn)?a.missingWarn:!0,re=u?u.fallbackWarn:hs(a.fallbackWarn)||ak(a.fallbackWarn)?a.fallbackWarn:!0,fe=u?u.fallbackRoot:hs(a.fallbackRoot)?a.fallbackRoot:!0,le=!!a.fallbackFormat,ue=lc(a.missing)?a.missing:null,ke=lc(a.missing)?dL(a.missing):null,xe=lc(a.postTranslation)?a.postTranslation:null,me=hs(a.warnHtmlMessage)?a.warnHtmlMessage:!0,J=!!a.escapeParameter;const ae=u?u.modifiers:Qr(a.modifiers)?a.modifiers:{};let De=a.pluralRules||u&&u.pluralRules,G;function Ae(){return XY({version:cX,locale:C.value,fallbackLocale:S.value,messages:M.value,datetimeFormats:D.value,numberFormats:I.value,modifiers:ae,pluralRules:De,missing:ke===null?void 0:ke,missingWarn:q,fallbackWarn:re,fallbackFormat:le,unresolving:!0,postTranslation:xe===null?void 0:xe,warnHtmlMessage:me,escapeParameter:J,__datetimeFormatters:Qr(G)?G.__datetimeFormatters:void 0,__numberFormatters:Qr(G)?G.__numberFormatters:void 0,__v_emitter:Qr(G)?G.__v_emitter:void 0,__meta:{framework:"vue"}})}G=Ae(),t5(G,C.value,S.value);function ye(){return[C.value,S.value,M.value,D.value,I.value]}const Pt=bo({get:()=>C.value,set:Je=>{C.value=Je,G.locale=C.value}}),Ft=bo({get:()=>S.value,set:Je=>{S.value=Je,G.fallbackLocale=S.value,t5(G,C.value,Je)}}),qn=bo(()=>M.value),wn=bo(()=>D.value),Ke=bo(()=>I.value);function nn(){return lc(xe)?xe:null}function H(Je){xe=Je,G.postTranslation=Je}function it(){return ue}function kn(Je){Je!==null&&(ke=dL(Je)),ue=Je,G.missing=ke}function wt(Je,qt,Hn,Dn,Uo,Xn){ye();let so;if(__INTLIFY_PROD_DEVTOOLS__)try{QP(dX()),so=Je(G)}finally{QP(null)}else so=Je(G);if(ic(so)&&so===hN){const[So,Rr]=qt();return u&&fe?Dn(u):Uo(So)}else{if(Xn(so))return so;throw Ic(14)}}function cn(...Je){return wt(qt=>rL(qt,...Je),()=>SR(...Je),"translate",qt=>qt.t(...Je),qt=>qt,qt=>Wo(qt))}function In(...Je){const[qt,Hn,Dn]=Je;if(Dn&&!Pc(Dn))throw Ic(15);return cn(qt,Hn,cc({resolvedMessage:!0},Dn||{}))}function pn(...Je){return wt(qt=>aL(qt,...Je),()=>ER(...Je),"datetime format",qt=>qt.d(...Je),()=>JP,qt=>Wo(qt))}function Sn(...Je){return wt(qt=>iL(qt,...Je),()=>OR(...Je),"number format",qt=>qt.n(...Je),()=>JP,qt=>Wo(qt))}function Q(Je){return Je.map(qt=>Wo(qt)?ta(p5,null,qt,0):qt)}const et={normalize:Q,interpolate:Je=>Je,type:"vnode"};function _t(...Je){return wt(qt=>{let Hn;const Dn=qt;try{Dn.processor=et,Hn=rL(Dn,...Je)}finally{Dn.processor=null}return Hn},()=>SR(...Je),"translate",qt=>qt[TR](...Je),qt=>[ta(p5,null,qt,0)],qt=>Ji(qt))}function Sr(...Je){return wt(qt=>iL(qt,...Je),()=>OR(...Je),"number format",qt=>qt[NR](...Je),()=>[],qt=>Wo(qt)||Ji(qt))}function Ht(...Je){return wt(qt=>aL(qt,...Je),()=>ER(...Je),"datetime format",qt=>qt[AR](...Je),()=>[],qt=>Wo(qt)||Ji(qt))}function dt(Je){De=Je,G.pluralRules=De}function Et(Je,qt){const Hn=Wo(qt)?qt:C.value,Dn=Be(Hn);return Z6(Dn,Je)!==null}function ze(Je){let qt=null;const Hn=N5(G,S.value,C.value);for(let Dn=0;Dn<Hn.length;Dn++){const Uo=M.value[Hn[Dn]]||{},Xn=Z6(Uo,Je);if(Xn!=null){qt=Xn;break}}return qt}function oo(Je){const qt=ze(Je);return qt!=null?qt:u?u.tm(Je)||{}:{}}function Be(Je){return M.value[Je]||{}}function ne(Je,qt){M.value[Je]=qt,G.messages=M.value}function Oe(Je,qt){M.value[Je]=M.value[Je]||{},G6(qt,M.value[Je]),G.messages=M.value}function Ve(Je){return D.value[Je]||{}}function yt(Je,qt){D.value[Je]=qt,G.datetimeFormats=D.value,sL(G,Je,qt)}function Ct(Je,qt){D.value[Je]=cc(D.value[Je]||{},qt),G.datetimeFormats=D.value,sL(G,Je,qt)}function rn(Je){return I.value[Je]||{}}function Un(Je,qt){I.value[Je]=qt,G.numberFormats=I.value,lL(G,Je,qt)}function En(Je,qt){I.value[Je]=cc(I.value[Je]||{},qt),G.numberFormats=I.value,lL(G,Je,qt)}return uL++,u&&(xf(u.locale,Je=>{b&&(C.value=Je,G.locale=Je,t5(G,C.value,S.value))}),xf(u.fallbackLocale,Je=>{b&&(S.value=Je,G.fallbackLocale=Je,t5(G,C.value,S.value))})),{id:uL,locale:Pt,fallbackLocale:Ft,get inheritLocale(){return b},set inheritLocale(Je){b=Je,Je&&u&&(C.value=u.locale.value,S.value=u.fallbackLocale.value,t5(G,C.value,S.value))},get availableLocales(){return Object.keys(M.value).sort()},messages:qn,datetimeFormats:wn,numberFormats:Ke,get modifiers(){return ae},get pluralRules(){return De||{}},get isGlobal(){return p},get missingWarn(){return q},set missingWarn(Je){q=Je,G.missingWarn=q},get fallbackWarn(){return re},set fallbackWarn(Je){re=Je,G.fallbackWarn=re},get fallbackRoot(){return fe},set fallbackRoot(Je){fe=Je},get fallbackFormat(){return le},set fallbackFormat(Je){le=Je,G.fallbackFormat=le},get warnHtmlMessage(){return me},set warnHtmlMessage(Je){me=Je,G.warnHtmlMessage=Je},get escapeParameter(){return J},set escapeParameter(Je){J=Je,G.escapeParameter=Je},t:cn,rt:In,d:pn,n:Sn,te:Et,tm:oo,getLocaleMessage:Be,setLocaleMessage:ne,mergeLocaleMessage:Oe,getDateTimeFormat:Ve,setDateTimeFormat:yt,mergeDateTimeFormat:Ct,getNumberFormat:rn,setNumberFormat:Un,mergeNumberFormat:En,getPostTranslationHandler:nn,setPostTranslationHandler:H,getMissingHandler:it,setMissingHandler:kn,[TR]:_t,[NR]:Sr,[AR]:Ht,[DB]:dt,[IB]:a.__injectWithOption}}function mX(a){const u=Wo(a.locale)?a.locale:"en-US",p=Wo(a.fallbackLocale)||Ji(a.fallbackLocale)||Qr(a.fallbackLocale)||a.fallbackLocale===!1?a.fallbackLocale:u,b=lc(a.missing)?a.missing:void 0,C=hs(a.silentTranslationWarn)||ak(a.silentTranslationWarn)?!a.silentTranslationWarn:!0,S=hs(a.silentFallbackWarn)||ak(a.silentFallbackWarn)?!a.silentFallbackWarn:!0,M=hs(a.fallbackRoot)?a.fallbackRoot:!0,D=!!a.formatFallbackMessages,I=Qr(a.modifiers)?a.modifiers:{},q=a.pluralizationRules,re=lc(a.postTranslation)?a.postTranslation:void 0,fe=Wo(a.warnHtmlInMessage)?a.warnHtmlInMessage!=="off":!0,le=!!a.escapeParameterHtml,ue=hs(a.sync)?a.sync:!0;let ke=a.messages;if(Qr(a.sharedMessages)){const Ae=a.sharedMessages;ke=Object.keys(Ae).reduce((Pt,Ft)=>{const qn=Pt[Ft]||(Pt[Ft]={});return cc(qn,Ae[Ft]),Pt},ke||{})}const{__i18n:xe,__root:me,__injectWithOption:J}=a,ae=a.datetimeFormats,De=a.numberFormats,G=a.flatJson;return{locale:u,fallbackLocale:p,messages:ke,flatJson:G,datetimeFormats:ae,numberFormats:De,missing:b,missingWarn:C,fallbackWarn:S,fallbackRoot:M,fallbackFormat:D,modifiers:I,pluralRules:q,postTranslation:re,warnHtmlMessage:fe,escapeParameter:le,inheritLocale:ue,__i18n:xe,__root:me,__injectWithOption:J}}function MR(a={}){const u=kD(mX(a)),p={id:u.id,get locale(){return u.locale.value},set locale(b){u.locale.value=b},get fallbackLocale(){return u.fallbackLocale.value},set fallbackLocale(b){u.fallbackLocale.value=b},get messages(){return u.messages.value},get datetimeFormats(){return u.datetimeFormats.value},get numberFormats(){return u.numberFormats.value},get availableLocales(){return u.availableLocales},get formatter(){return{interpolate(){return[]}}},set formatter(b){},get missing(){return u.getMissingHandler()},set missing(b){u.setMissingHandler(b)},get silentTranslationWarn(){return hs(u.missingWarn)?!u.missingWarn:u.missingWarn},set silentTranslationWarn(b){u.missingWarn=hs(b)?!b:b},get silentFallbackWarn(){return hs(u.fallbackWarn)?!u.fallbackWarn:u.fallbackWarn},set silentFallbackWarn(b){u.fallbackWarn=hs(b)?!b:b},get modifiers(){return u.modifiers},get formatFallbackMessages(){return u.fallbackFormat},set formatFallbackMessages(b){u.fallbackFormat=b},get postTranslation(){return u.getPostTranslationHandler()},set postTranslation(b){u.setPostTranslationHandler(b)},get sync(){return u.inheritLocale},set sync(b){u.inheritLocale=b},get warnHtmlInMessage(){return u.warnHtmlMessage?"warn":"off"},set warnHtmlInMessage(b){u.warnHtmlMessage=b!=="off"},get escapeParameterHtml(){return u.escapeParameter},set escapeParameterHtml(b){u.escapeParameter=b},get preserveDirectiveContent(){return!0},set preserveDirectiveContent(b){},get pluralizationRules(){return u.pluralRules||{}},__composer:u,t(...b){const[C,S,M]=b,D={};let I=null,q=null;if(!Wo(C))throw Ic(15);const re=C;return Wo(S)?D.locale=S:Ji(S)?I=S:Qr(S)&&(q=S),Ji(M)?I=M:Qr(M)&&(q=M),u.t(re,I||q||{},D)},rt(...b){return u.rt(...b)},tc(...b){const[C,S,M]=b,D={plural:1};let I=null,q=null;if(!Wo(C))throw Ic(15);const re=C;return Wo(S)?D.locale=S:ic(S)?D.plural=S:Ji(S)?I=S:Qr(S)&&(q=S),Wo(M)?D.locale=M:Ji(M)?I=M:Qr(M)&&(q=M),u.t(re,I||q||{},D)},te(b,C){return u.te(b,C)},tm(b){return u.tm(b)},getLocaleMessage(b){return u.getLocaleMessage(b)},setLocaleMessage(b,C){u.setLocaleMessage(b,C)},mergeLocaleMessage(b,C){u.mergeLocaleMessage(b,C)},d(...b){return u.d(...b)},getDateTimeFormat(b){return u.getDateTimeFormat(b)},setDateTimeFormat(b,C){u.setDateTimeFormat(b,C)},mergeDateTimeFormat(b,C){u.mergeDateTimeFormat(b,C)},n(...b){return u.n(...b)},getNumberFormat(b){return u.getNumberFormat(b)},setNumberFormat(b,C){u.setNumberFormat(b,C)},mergeNumberFormat(b,C){u.mergeNumberFormat(b,C)},getChoiceIndex(b,C){return-1},__onComponentInstanceCreated(b){const{componentInstanceCreatedListener:C}=a;C&&C(b,p)}};return p}const SD={tag:{type:[String,Object]},locale:{type:String},scope:{type:String,validator:a=>a==="parent"||a==="global",default:"parent"},i18n:{type:Object}},mL={name:"i18n-t",props:cc({keypath:{type:String,required:!0},plural:{type:[Number,String],validator:a=>ic(a)||!isNaN(a)}},SD),setup(a,u){const{slots:p,attrs:b}=u,C=a.i18n||OD({useScope:a.scope,__useComponent:!0}),S=Object.keys(p).filter(M=>M!=="_");return()=>{const M={};a.locale&&(M.locale=a.locale),a.plural!==void 0&&(M.plural=Wo(a.plural)?+a.plural:a.plural);const D=fX(u,S),I=C[TR](a.keypath,D,M),q=cc({},b);return Wo(a.tag)||Pc(a.tag)?_f(a.tag,q,I):_f(Pi,q,I)}}};function fX({slots:a},u){return u.length===1&&u[0]==="default"?a.default?a.default():[]:u.reduce((p,b)=>{const C=a[b];return C&&(p[b]=C()),p},{})}function PB(a,u,p,b){const{slots:C,attrs:S}=u;return()=>{const M={part:!0};let D={};a.locale&&(M.locale=a.locale),Wo(a.format)?M.key=a.format:Pc(a.format)&&(Wo(a.format.key)&&(M.key=a.format.key),D=Object.keys(a.format).reduce((fe,le)=>p.includes(le)?cc({},fe,{[le]:a.format[le]}):fe,{}));const I=b(a.value,M,D);let q=[M.key];Ji(I)?q=I.map((fe,le)=>{const ue=C[fe.type];return ue?ue({[fe.type]:fe.value,index:le,parts:I}):[fe.value]}):Wo(I)&&(q=[I]);const re=cc({},S);return Wo(a.tag)||Pc(a.tag)?_f(a.tag,re,q):_f(Pi,re,q)}}const gX=["localeMatcher","style","unit","unitDisplay","currency","currencyDisplay","useGrouping","numberingSystem","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","notation","formatMatcher"],fL={name:"i18n-n",props:cc({value:{type:Number,required:!0},format:{type:[String,Object]}},SD),setup(a,u){const p=a.i18n||OD({useScope:"parent",__useComponent:!0});return PB(a,u,gX,(...b)=>p[NR](...b))}},pX=["dateStyle","timeStyle","fractionalSecondDigits","calendar","dayPeriod","numberingSystem","localeMatcher","timeZone","hour12","hourCycle","formatMatcher","weekday","era","year","month","day","hour","minute","second","timeZoneName"],gL={name:"i18n-d",props:cc({value:{type:[Number,Date],required:!0},format:{type:[String,Object]}},SD),setup(a,u){const p=a.i18n||OD({useScope:"parent",__useComponent:!0});return PB(a,u,pX,(...b)=>p[AR](...b))}};function hX(a,u){const p=a;if(a.mode==="composition")return p.__getInstance(u)||a.global;{const b=p.__getInstance(u);return b!=null?b.__composer:a.global.__composer}}function vX(a){const u=(p,{instance:b,value:C,modifiers:S})=>{if(!b||!b.$)throw Ic(22);const M=hX(a,b.$),D=bX(C);p.textContent=M.t(...yX(D))};return{beforeMount:u,beforeUpdate:u}}function bX(a){if(Wo(a))return{path:a};if(Qr(a)){if(!("path"in a))throw Ic(19,"path");return a}else throw Ic(20)}function yX(a){const{path:u,locale:p,args:b,choice:C,plural:S}=a,M={},D=b||{};return Wo(p)&&(M.locale=p),ic(C)&&(M.plural=C),ic(S)&&(M.plural=S),[u,D,M]}function wX(a,u,...p){const b=Qr(p[0])?p[0]:{},C=!!b.useI18nComponentName;(hs(b.globalInstall)?b.globalInstall:!0)&&(a.component(C?"i18n":mL.name,mL),a.component(fL.name,fL),a.component(gL.name,gL)),a.directive("t",vX(u))}const LB="vue-i18n: composer properties";let RR;async function xX(a,u){return new Promise((p,b)=>{try{eU({id:"vue-devtools-plugin-vue-i18n",label:W7["vue-devtools-plugin-vue-i18n"],packageName:"vue-i18n",homepage:"https://vue-i18n.intlify.dev",logo:"https://vue-i18n.intlify.dev/vue-i18n-devtools-logo.png",componentStateTypes:[LB],app:a},C=>{RR=C,C.on.visitComponentTree(({componentInstance:S,treeNode:M})=>{_X(S,M,u)}),C.on.inspectComponent(({componentInstance:S,instanceData:M})=>{S.vnode.el.__VUE_I18N__&&M&&(u.mode==="legacy"?S.vnode.el.__VUE_I18N__!==u.global.__composer&&pL(M,S.vnode.el.__VUE_I18N__):pL(M,S.vnode.el.__VUE_I18N__))}),C.addInspector({id:"vue-i18n-resource-inspector",label:W7["vue-i18n-resource-inspector"],icon:"language",treeFilterPlaceholder:iX["vue-i18n-resource-inspector"]}),C.on.getInspectorTree(S=>{S.app===a&&S.inspectorId==="vue-i18n-resource-inspector"&&OX(S,u)}),C.on.getInspectorState(S=>{S.app===a&&S.inspectorId==="vue-i18n-resource-inspector"&&TX(S,u)}),C.on.editInspectorState(S=>{S.app===a&&S.inspectorId==="vue-i18n-resource-inspector"&&NX(S,u)}),C.addTimelineLayer({id:"vue-i18n-timeline",label:W7["vue-i18n-timeline"],color:lX["vue-i18n-timeline"]}),p(!0)})}catch(C){console.error(C),b(!1)}})}function _X(a,u,p){const b=p.mode==="composition"?p.global:p.global.__composer;if(a&&a.vnode.el.__VUE_I18N__&&a.vnode.el.__VUE_I18N__!==b){const S={label:`i18n (${a.type.name||a.type.displayName||a.type.__file} Scope)`,textColor:0,backgroundColor:16764185};u.tags.push(S)}}function pL(a,u){const p=LB;a.state.push({type:p,key:"locale",editable:!0,value:u.locale.value}),a.state.push({type:p,key:"availableLocales",editable:!1,value:u.availableLocales}),a.state.push({type:p,key:"fallbackLocale",editable:!0,value:u.fallbackLocale.value}),a.state.push({type:p,key:"inheritLocale",editable:!0,value:u.inheritLocale}),a.state.push({type:p,key:"messages",editable:!1,value:ED(u.messages.value)}),a.state.push({type:p,key:"datetimeFormats",editable:!1,value:u.datetimeFormats.value}),a.state.push({type:p,key:"numberFormats",editable:!1,value:u.numberFormats.value})}function ED(a){const u={};return Object.keys(a).forEach(p=>{const b=a[p];lc(b)&&"source"in b?u[p]=EX(b):Pc(b)?u[p]=ED(b):u[p]=b}),u}const CX={"<":"&lt;",">":"&gt;",'"':"&quot;","&":"&amp;"};function kX(a){return a.replace(/[<>"&]/g,SX)}function SX(a){return CX[a]||a}function EX(a){const u=a.source?`("${kX(a.source)}")`:"(?)";return{_custom:{type:"function",display:`<span>\u0192</span> ${u}`}}}function OX(a,u){a.rootNodes.push({id:"global",label:"Global Scope"});const p=u.mode==="composition"?u.global:u.global.__composer;for(const[b,C]of u.__instances){const S=u.mode==="composition"?C:C.__composer;if(p===S)continue;const M=b.type.name||b.type.displayName||b.type.__file;a.rootNodes.push({id:S.id.toString(),label:`${M} Scope`})}}function BB(a,u){if(a==="global")return u.mode==="composition"?u.global:u.global.__composer;{const p=Array.from(u.__instances.values()).find(b=>b.id.toString()===a);return p?u.mode==="composition"?p:p.__composer:null}}function TX(a,u){const p=BB(a.nodeId,u);p&&(a.state=AX(p))}function AX(a){const u={},p="Locale related info",b=[{type:p,key:"locale",editable:!0,value:a.locale.value},{type:p,key:"fallbackLocale",editable:!0,value:a.fallbackLocale.value},{type:p,key:"availableLocales",editable:!1,value:a.availableLocales},{type:p,key:"inheritLocale",editable:!0,value:a.inheritLocale}];u[p]=b;const C="Locale messages info",S=[{type:C,key:"messages",editable:!1,value:ED(a.messages.value)}];u[C]=S;const M="Datetime formats info",D=[{type:M,key:"datetimeFormats",editable:!1,value:a.datetimeFormats.value}];u[M]=D;const I="Datetime formats info",q=[{type:I,key:"numberFormats",editable:!1,value:a.numberFormats.value}];return u[I]=q,u}function _5(a,u){if(RR){let p;u&&"groupId"in u&&(p=u.groupId,delete u.groupId),RR.addTimelineEvent({layerId:"vue-i18n-timeline",event:{title:a,groupId:p,time:Date.now(),meta:{},data:u||{},logType:a==="compile-error"?"error":a==="fallback"||a==="missing"?"warning":"default"}})}}function NX(a,u){const p=BB(a.nodeId,u);if(p){const[b]=a.path;b==="locale"&&Wo(a.state.value)?p.locale.value=a.state.value:b==="fallbackLocale"&&(Wo(a.state.value)||Ji(a.state.value)||Pc(a.state.value))?p.fallbackLocale.value=a.state.value:b==="inheritLocale"&&hs(a.state.value)&&(p.inheritLocale=a.state.value)}}function MX(a,u,p){return{beforeCreate(){const b=cw();if(!b)throw Ic(22);const C=this.$options;if(C.i18n){const S=C.i18n;C.__i18n&&(S.__i18n=C.__i18n),S.__root=u,this===this.$root?this.$i18n=hL(a,S):(S.__injectWithOption=!0,this.$i18n=MR(S))}else C.__i18n?this===this.$root?this.$i18n=hL(a,C):this.$i18n=MR({__i18n:C.__i18n,__injectWithOption:!0,__root:u}):this.$i18n=a;a.__onComponentInstanceCreated(this.$i18n),p.__setInstance(b,this.$i18n),this.$t=(...S)=>this.$i18n.t(...S),this.$rt=(...S)=>this.$i18n.rt(...S),this.$tc=(...S)=>this.$i18n.tc(...S),this.$te=(S,M)=>this.$i18n.te(S,M),this.$d=(...S)=>this.$i18n.d(...S),this.$n=(...S)=>this.$i18n.n(...S),this.$tm=S=>this.$i18n.tm(S)},mounted(){if(__VUE_I18N_PROD_DEVTOOLS__){this.$el.__VUE_I18N__=this.$i18n.__composer;const b=this.__v_emitter=wD(),C=this.$i18n;C.__enableEmitter&&C.__enableEmitter(b),b.on("*",_5)}},beforeUnmount(){const b=cw();if(!b)throw Ic(22);if(__VUE_I18N_PROD_DEVTOOLS__){this.__v_emitter&&(this.__v_emitter.off("*",_5),delete this.__v_emitter);const C=this.$i18n;C.__disableEmitter&&C.__disableEmitter(),delete this.$el.__VUE_I18N__}delete this.$t,delete this.$rt,delete this.$tc,delete this.$te,delete this.$d,delete this.$n,delete this.$tm,p.__deleteInstance(b),delete this.$i18n}}}function hL(a,u){a.locale=u.locale||a.locale,a.fallbackLocale=u.fallbackLocale||a.fallbackLocale,a.missing=u.missing||a.missing,a.silentTranslationWarn=u.silentTranslationWarn||a.silentFallbackWarn,a.silentFallbackWarn=u.silentFallbackWarn||a.silentFallbackWarn,a.formatFallbackMessages=u.formatFallbackMessages||a.formatFallbackMessages,a.postTranslation=u.postTranslation||a.postTranslation,a.warnHtmlInMessage=u.warnHtmlInMessage||a.warnHtmlInMessage,a.escapeParameterHtml=u.escapeParameterHtml||a.escapeParameterHtml,a.sync=u.sync||a.sync,a.__composer[DB](u.pluralizationRules||a.pluralizationRules);const p=CD(a.locale,{messages:u.messages,__i18n:u.__i18n});return Object.keys(p).forEach(b=>a.mergeLocaleMessage(b,p[b])),u.datetimeFormats&&Object.keys(u.datetimeFormats).forEach(b=>a.mergeDateTimeFormat(b,u.datetimeFormats[b])),u.numberFormats&&Object.keys(u.numberFormats).forEach(b=>a.mergeNumberFormat(b,u.numberFormats[b])),a}function RX(a={}){const u=__VUE_I18N_LEGACY_API__&&hs(a.legacy)?a.legacy:__VUE_I18N_LEGACY_API__,p=!!a.globalInjection,b=new Map,C=__VUE_I18N_LEGACY_API__&&u?MR(a):kD(a),S=j1(""),M={get mode(){return __VUE_I18N_LEGACY_API__&&u?"legacy":"composition"},async install(D,...I){if(__VUE_I18N_PROD_DEVTOOLS__&&(D.__VUE_I18N__=M),D.__VUE_I18N_SYMBOL__=S,D.provide(D.__VUE_I18N_SYMBOL__,M),!u&&p&&BX(D,M.global),__VUE_I18N_FULL_INSTALL__&&wX(D,M,...I),__VUE_I18N_LEGACY_API__&&u&&D.mixin(MX(C,C.__composer,M)),__VUE_I18N_PROD_DEVTOOLS__){if(!await xX(D,M))throw Ic(21);const re=wD();if(u){const fe=C;fe.__enableEmitter&&fe.__enableEmitter(re)}else{const fe=C;fe[W6]&&fe[W6](re)}re.on("*",_5)}},get global(){return C},__instances:b,__getInstance(D){return b.get(D)||null},__setInstance(D,I){b.set(D,I)},__deleteInstance(D){b.delete(D)}};return M}function OD(a={}){const u=cw();if(u==null)throw Ic(16);if(!u.appContext.app.__VUE_I18N_SYMBOL__)throw Ic(17);const p=Dg(u.appContext.app.__VUE_I18N_SYMBOL__);if(!p)throw Ic(22);const b=p.mode==="composition"?p.global:p.global.__composer,C=gN(a)?"__i18n"in u.type?"local":"global":a.useScope?a.useScope:"local";if(C==="global"){let D=Pc(a.messages)?a.messages:{};"__i18nGlobal"in u.type&&(D=CD(b.locale.value,{messages:D,__i18n:u.type.__i18nGlobal}));const I=Object.keys(D);if(I.length&&I.forEach(q=>{b.mergeLocaleMessage(q,D[q])}),Pc(a.datetimeFormats)){const q=Object.keys(a.datetimeFormats);q.length&&q.forEach(re=>{b.mergeDateTimeFormat(re,a.datetimeFormats[re])})}if(Pc(a.numberFormats)){const q=Object.keys(a.numberFormats);q.length&&q.forEach(re=>{b.mergeNumberFormat(re,a.numberFormats[re])})}return b}if(C==="parent"){let D=DX(p,u,a.__useComponent);return D==null&&(D=b),D}if(p.mode==="legacy")throw Ic(18);const S=p;let M=S.__getInstance(u);if(M==null){const D=u.type,I=cc({},a);D.__i18n&&(I.__i18n=D.__i18n),b&&(I.__root=b),M=kD(I),IX(S,u,M),S.__setInstance(u,M)}return M}function DX(a,u,p=!1){let b=null;const C=u.root;let S=u.parent;for(;S!=null;){const M=a;if(a.mode==="composition")b=M.__getInstance(S);else{const D=M.__getInstance(S);D!=null&&(b=D.__composer),p&&b&&!b[IB]&&(b=null)}if(b!=null||C===S)break;S=S.parent}return b}function IX(a,u,p){let b=null;A5(()=>{if(__VUE_I18N_PROD_DEVTOOLS__&&!0&&u.vnode.el){u.vnode.el.__VUE_I18N__=p,b=wD();const C=p;C[W6]&&C[W6](b),b.on("*",_5)}},u),iN(()=>{if(__VUE_I18N_PROD_DEVTOOLS__&&!0&&u.vnode.el&&u.vnode.el.__VUE_I18N__){b&&b.off("*",_5);const C=p;C[cL]&&C[cL](),delete u.vnode.el.__VUE_I18N__}a.__deleteInstance(u)},u)}const PX=["locale","fallbackLocale","availableLocales"],LX=["t","rt","d","n","tm"];function BX(a,u){const p=Object.create(null);PX.forEach(b=>{const C=Object.getOwnPropertyDescriptor(u,b);if(!C)throw Ic(22);const S=fl(C.value)?{get(){return C.value.value},set(M){C.value.value=M}}:{get(){return C.get&&C.get()}};Object.defineProperty(p,b,S)}),a.config.globalProperties.$i18n=p,LX.forEach(b=>{const C=Object.getOwnPropertyDescriptor(u,b);if(!C||!C.value)throw Ic(22);Object.defineProperty(a.config.globalProperties,`$${b}`,C)})}KY(tX);uX();if(__INTLIFY_PROD_DEVTOOLS__){const a=ZC();a.__INTLIFY__=!0,UY(a.__INTLIFY_DEVTOOLS_GLOBAL_HOOK__)}const FX={General:{add:"Add",save:"Save",close:"Close",delete:"Delete",title:"Title",content:"Content",date:"Date",sort:"Sort",visible:"Visible",edit:"Edit",picture:"Pic.",name:"Name",video:"Video"},Header:{darkMode:"Dark Mode"},Menu:{title:"CMS",version:"v1.0",userProfile:"User profile",settings:"Settings",logout:"Logout",product:"Product",news:"News",services:"Services",analytics:"Analytics",banner:"Banner",feedback:"Feedback",partners:"Partners",about:"About"},News:{newsEdit:"Edit news",newsAdd:"Add news",newsPicture:"Edit picture"},Product:{productList:"Product list",productCategory:"Product category",categoryName_zh:"Chinese name",categoryName_en:"English name",listPictureAndFile:"Photos/Catalogues",listUploadFile:"Upload file",listProductName:"Product name",listAdd:"Add product",listEdit:"Edit product",listOptions:"Options",listOptionNew:"New",listOptionHot:"Hot",listOptionRecommend:"Recommend",listEdit:"Edit product",listPictureAndFileEdit:"Edit photos/catalogues",listPic1:"Picture 1",listPic2:"Picture 2",listPic3:"Picture 3",listFile1:"Catalog"},ServiceCenters:{companyName:"Company name",country:"Country",major:"Corporate",contractPerson:"Contract person",telphone:"Telphone",address:"Address",email:"Email",mobile:"Mobile",fax:"Fax",officeHour:"Office hour",serviceCentersAdd:"Add service center",serviceCentersEdit:"Edit service center"},Banner:{bannerEdit:"Edit banner",bannerAdd:"Add banner",bannerPicture:"Edit picture"},Partners:{partnersAdd:"Add partner",partnersEdit:"Edit partner",partnersPicture:"Edit picture"},About:{aboutEdit:"Edit about",aboutAdd:"Add about",subtopic:"Subtopic"}},HX={General:{add:"\u65B0\u589E",save:"\u5132\u5B58",close:"\u95DC\u9589",delete:"\u522A\u9664",title:"\u6A19\u984C",content:"\u5167\u5BB9",date:"\u65E5\u671F",sort:"\u6392\u5E8F",visible:"\u986F\u793A",edit:"\u7DE8\u8F2F",picture:"\u5716\u7247",name:"\u540D\u7A31",video:"\u5F71\u7247"},Header:{darkMode:"\u6DF1\u8272\u6A21\u5F0F"},Menu:{title:"\u5F8C\u53F0\u7BA1\u7406\u7CFB\u7D71",version:"v1.0",userProfile:"\u4F7F\u7528\u8005\u914D\u7F6E\u6A94\u6848",settings:"\u8A2D\u5B9A",logout:"\u767B\u51FA",product:"\u7522\u54C1\u7BA1\u7406",news:"\u6700\u65B0\u6D88\u606F",services:"\u670D\u52D9\u4E2D\u5FC3",analytics:"Analytics\u7CFB\u7D71",banner:"\u5E73\u9762\u5EE3\u544A",feedback:"\u5BA2\u6236\u56DE\u994B",partners:"\u5408\u4F5C\u5925\u4F34",about:"\u95DC\u65BC\u6211\u5011"},News:{newsEdit:"\u7DE8\u8F2F\u6700\u65B0\u6D88\u606F",newsAdd:"\u65B0\u589E\u6700\u65B0\u6D88\u606F",newsPicture:"\u7DE8\u8F2F\u5716\u7247"},Product:{productList:"\u7522\u54C1\u5217\u8868",productCategory:"\u7522\u54C1\u5927\u9805",categoryName_zh:"\u4E2D\u6587\u540D\u7A31",categoryName_en:"\u82F1\u6587\u540D\u7A31",listPictureAndFile:"\u5716\u6A94/\u578B\u9304",listUploadFile:"\u4E0A\u50B3\u6A94\u6848",listProductName:"\u7522\u54C1\u540D\u7A31",listAdd:"\u65B0\u589E\u7522\u54C1",listEdit:"\u4FEE\u6539\u7522\u54C1",listOptions:"\u985E\u5225\u9078\u9805",listOptionNew:"\u65B0\u54C1",listOptionHot:"\u71B1\u9580",listOptionRecommend:"\u63A8\u85A6",listEdit:"\u4FEE\u6539\u7522\u54C1",listPictureAndFileEdit:"\u7DE8\u8F2F\u5716\u6A94/\u578B\u9304",listPic1:"\u5716\u72471",listPic2:"\u5716\u72472",listPic3:"\u5716\u72473",listFile1:"\u578B\u9304"},ServiceCenters:{companyName:"\u516C\u53F8\u540D\u7A31",country:"\u570B\u5BB6",major:"\u7E3D\u90E8",contractPerson:"\u806F\u7D61\u4EBA",telphone:"\u96FB\u8A71",address:"\u5730\u5740",email:"\u4FE1\u7BB1",mobile:"\u624B\u6A5F",fax:"\u50B3\u771F",officeHour:"\u4E0A\u73ED\u6642\u9593",serviceCentersAdd:"\u65B0\u589E\u670D\u52D9\u4E2D\u5FC3",serviceCentersEdit:"\u4FEE\u6539\u670D\u52D9\u4E2D\u5FC3"},Banner:{bannerEdit:"\u7DE8\u8F2F\u5E73\u9762\u5EE3\u544A",bannerAdd:"\u65B0\u589E\u5E73\u9762\u5EE3\u544A",bannerPicture:"\u7DE8\u8F2F\u5716\u7247"},Partners:{partnersAdd:"\u65B0\u589E\u5408\u4F5C\u5925\u4F34",partnersEdit:"\u7DE8\u8F2F\u5408\u4F5C\u5925\u4F34",partnersPicture:"\u7DE8\u8F2F\u5716\u7247"},About:{aboutEdit:"\u7DE8\u8F2F\u95DC\u65BC\u6211\u5011",aboutAdd:"\u65B0\u589E\u95DC\u65BC\u6211\u5011",subtopic:"\u526F\u6A19\u984C"}};let zX={en:FX,zh:HX};const VX=localStorage.getItem("language")||"zh",$X=RX({locale:VX,messages:zX});var ob=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},FB="Expected a function",vL=0/0,UX="[object Symbol]",jX=/^\s+|\s+$/g,ZX=/^[-+]0x[0-9a-f]+$/i,WX=/^0b[01]+$/i,GX=/^0o[0-7]+$/i,qX=parseInt,KX=typeof ob=="object"&&ob&&ob.Object===Object&&ob,YX=typeof self=="object"&&self&&self.Object===Object&&self,XX=KX||YX||Function("return this")(),JX=Object.prototype,QX=JX.toString,eJ=Math.max,tJ=Math.min,q7=function(){return XX.Date.now()};function nJ(a,u,p){var b,C,S,M,D,I,q=0,re=!1,fe=!1,le=!0;if(typeof a!="function")throw new TypeError(FB);u=bL(u)||0,q6(p)&&(re=!!p.leading,fe="maxWait"in p,S=fe?eJ(bL(p.maxWait)||0,u):S,le="trailing"in p?!!p.trailing:le);function ue(ye){var Pt=b,Ft=C;return b=C=void 0,q=ye,M=a.apply(Ft,Pt),M}function ke(ye){return q=ye,D=setTimeout(J,u),re?ue(ye):M}function xe(ye){var Pt=ye-I,Ft=ye-q,qn=u-Pt;return fe?tJ(qn,S-Ft):qn}function me(ye){var Pt=ye-I,Ft=ye-q;return I===void 0||Pt>=u||Pt<0||fe&&Ft>=S}function J(){var ye=q7();if(me(ye))return ae(ye);D=setTimeout(J,xe(ye))}function ae(ye){return D=void 0,le&&b?ue(ye):(b=C=void 0,M)}function De(){D!==void 0&&clearTimeout(D),q=0,b=I=C=D=void 0}function G(){return D===void 0?M:ae(q7())}function Ae(){var ye=q7(),Pt=me(ye);if(b=arguments,C=this,I=ye,Pt){if(D===void 0)return ke(I);if(fe)return D=setTimeout(J,u),ue(I)}return D===void 0&&(D=setTimeout(J,u)),M}return Ae.cancel=De,Ae.flush=G,Ae}function oJ(a,u,p){var b=!0,C=!0;if(typeof a!="function")throw new TypeError(FB);return q6(p)&&(b="leading"in p?!!p.leading:b,C="trailing"in p?!!p.trailing:C),nJ(a,u,{leading:b,maxWait:u,trailing:C})}function q6(a){var u=typeof a;return!!a&&(u=="object"||u=="function")}function rJ(a){return!!a&&typeof a=="object"}function aJ(a){return typeof a=="symbol"||rJ(a)&&QX.call(a)==UX}function bL(a){if(typeof a=="number")return a;if(aJ(a))return vL;if(q6(a)){var u=typeof a.valueOf=="function"?a.valueOf():a;a=q6(u)?u+"":u}if(typeof a!="string")return a===0?a:+a;a=a.replace(jX,"");var p=WX.test(a);return p||GX.test(a)?qX(a.slice(2),p?2:8):ZX.test(a)?vL:+a}var sJ=oJ,iJ="Expected a function",yL=0/0,lJ="[object Symbol]",cJ=/^\s+|\s+$/g,uJ=/^[-+]0x[0-9a-f]+$/i,dJ=/^0b[01]+$/i,mJ=/^0o[0-7]+$/i,fJ=parseInt,gJ=typeof ob=="object"&&ob&&ob.Object===Object&&ob,pJ=typeof self=="object"&&self&&self.Object===Object&&self,hJ=gJ||pJ||Function("return this")(),vJ=Object.prototype,bJ=vJ.toString,yJ=Math.max,wJ=Math.min,K7=function(){return hJ.Date.now()};function xJ(a,u,p){var b,C,S,M,D,I,q=0,re=!1,fe=!1,le=!0;if(typeof a!="function")throw new TypeError(iJ);u=wL(u)||0,DR(p)&&(re=!!p.leading,fe="maxWait"in p,S=fe?yJ(wL(p.maxWait)||0,u):S,le="trailing"in p?!!p.trailing:le);function ue(ye){var Pt=b,Ft=C;return b=C=void 0,q=ye,M=a.apply(Ft,Pt),M}function ke(ye){return q=ye,D=setTimeout(J,u),re?ue(ye):M}function xe(ye){var Pt=ye-I,Ft=ye-q,qn=u-Pt;return fe?wJ(qn,S-Ft):qn}function me(ye){var Pt=ye-I,Ft=ye-q;return I===void 0||Pt>=u||Pt<0||fe&&Ft>=S}function J(){var ye=K7();if(me(ye))return ae(ye);D=setTimeout(J,xe(ye))}function ae(ye){return D=void 0,le&&b?ue(ye):(b=C=void 0,M)}function De(){D!==void 0&&clearTimeout(D),q=0,b=I=C=D=void 0}function G(){return D===void 0?M:ae(K7())}function Ae(){var ye=K7(),Pt=me(ye);if(b=arguments,C=this,I=ye,Pt){if(D===void 0)return ke(I);if(fe)return D=setTimeout(J,u),ue(I)}return D===void 0&&(D=setTimeout(J,u)),M}return Ae.cancel=De,Ae.flush=G,Ae}function DR(a){var u=typeof a;return!!a&&(u=="object"||u=="function")}function _J(a){return!!a&&typeof a=="object"}function CJ(a){return typeof a=="symbol"||_J(a)&&bJ.call(a)==lJ}function wL(a){if(typeof a=="number")return a;if(CJ(a))return yL;if(DR(a)){var u=typeof a.valueOf=="function"?a.valueOf():a;a=DR(u)?u+"":u}if(typeof a!="string")return a===0?a:+a;a=a.replace(cJ,"");var p=dJ.test(a);return p||mJ.test(a)?fJ(a.slice(2),p?2:8):uJ.test(a)?yL:+a}var xL=xJ,HB=function(){};function zB(a){var u=void 0,p=void 0,b=void 0;for(u=0;u<a.length;u+=1)if(p=a[u],p.dataset&&p.dataset.aos||(b=p.children&&zB(p.children),b))return!0;return!1}function kJ(a){!a||a.forEach(function(u){var p=Array.prototype.slice.call(u.addedNodes),b=Array.prototype.slice.call(u.removedNodes),C=p.concat(b);if(zB(C))return HB()})}function VB(){return window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver}function SJ(){return!!VB()}function EJ(a,u){var p=window.document,b=VB(),C=new b(kJ);HB=u,C.observe(p.documentElement,{childList:!0,subtree:!0,removedNodes:!0})}var _L={isSupported:SJ,ready:EJ},OJ=function(a,u){if(!(a instanceof u))throw new TypeError("Cannot call a class as a function")},TJ=function(){function a(u,p){for(var b=0;b<p.length;b++){var C=p[b];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(u,C.key,C)}}return function(u,p,b){return p&&a(u.prototype,p),b&&a(u,b),u}}(),AJ=Object.assign||function(a){for(var u=1;u<arguments.length;u++){var p=arguments[u];for(var b in p)Object.prototype.hasOwnProperty.call(p,b)&&(a[b]=p[b])}return a},NJ=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i,MJ=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,RJ=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i,DJ=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i;function CL(){return navigator.userAgent||navigator.vendor||window.opera||""}var IJ=function(){function a(){OJ(this,a)}return TJ(a,[{key:"phone",value:function(){var p=CL();return!!(NJ.test(p)||MJ.test(p.substr(0,4)))}},{key:"mobile",value:function(){var p=CL();return!!(RJ.test(p)||DJ.test(p.substr(0,4)))}},{key:"tablet",value:function(){return this.mobile()&&!this.phone()}},{key:"ie11",value:function(){return"-ms-scroll-limit"in document.documentElement.style&&"-ms-ime-align"in document.documentElement.style}}]),a}(),D6=new IJ,PJ=function(u,p){return p&&p.forEach(function(b){return u.classList.add(b)})},LJ=function(u,p){return p&&p.forEach(function(b){return u.classList.remove(b)})},v6=function(u,p){var b=void 0;return D6.ie11()?(b=document.createEvent("CustomEvent"),b.initCustomEvent(u,!0,!0,{detail:p})):b=new CustomEvent(u,{detail:p}),document.dispatchEvent(b)},BJ=function(u,p){var b=u.options,C=u.position,S=u.node;u.data;var M=function(){!u.animated||(LJ(S,b.animatedClassNames),v6("aos:out",S),u.options.id&&v6("aos:in:"+u.options.id,S),u.animated=!1)},D=function(){u.animated||(PJ(S,b.animatedClassNames),v6("aos:in",S),u.options.id&&v6("aos:in:"+u.options.id,S),u.animated=!0)};b.mirror&&p>=C.out&&!b.once?M():p>=C.in?D():u.animated&&!b.once&&M()},kL=function(u){return u.forEach(function(p,b){return BJ(p,window.pageYOffset)})},$B=function(u){for(var p=0,b=0;u&&!isNaN(u.offsetLeft)&&!isNaN(u.offsetTop);)p+=u.offsetLeft-(u.tagName!="BODY"?u.scrollLeft:0),b+=u.offsetTop-(u.tagName!="BODY"?u.scrollTop:0),u=u.offsetParent;return{top:b,left:p}},ab=function(a,u,p){var b=a.getAttribute("data-aos-"+u);if(typeof b!="undefined"){if(b==="true")return!0;if(b==="false")return!1}return b||p},FJ=function(u,p,b){var C=window.innerHeight,S=ab(u,"anchor"),M=ab(u,"anchor-placement"),D=Number(ab(u,"offset",M?0:p)),I=M||b,q=u;S&&document.querySelectorAll(S)&&(q=document.querySelectorAll(S)[0]);var re=$B(q).top-C;switch(I){case"top-bottom":break;case"center-bottom":re+=q.offsetHeight/2;break;case"bottom-bottom":re+=q.offsetHeight;break;case"top-center":re+=C/2;break;case"center-center":re+=C/2+q.offsetHeight/2;break;case"bottom-center":re+=C/2+q.offsetHeight;break;case"top-top":re+=C;break;case"bottom-top":re+=C+q.offsetHeight;break;case"center-top":re+=C+q.offsetHeight/2;break}return re+D},HJ=function(u,p){var b=ab(u,"anchor"),C=ab(u,"offset",p),S=u;b&&document.querySelectorAll(b)&&(S=document.querySelectorAll(b)[0]);var M=$B(S).top;return M+S.offsetHeight-C},zJ=function(u,p){return u.forEach(function(b,C){var S=ab(b.node,"mirror",p.mirror),M=ab(b.node,"once",p.once),D=ab(b.node,"id"),I=p.useClassNames&&b.node.getAttribute("data-aos"),q=[p.animatedClassName].concat(I?I.split(" "):[]).filter(function(re){return typeof re=="string"});p.initClassName&&b.node.classList.add(p.initClassName),b.position={in:FJ(b.node,p.offset,p.anchorPlacement),out:S&&HJ(b.node,p.offset)},b.options={once:M,mirror:S,animatedClassNames:q,id:D}}),u},UB=function(){var a=document.querySelectorAll("[data-aos]");return Array.prototype.map.call(a,function(u){return{node:u}})},L1=[],SL=!1,Yi={offset:120,delay:0,easing:"ease",duration:400,disable:!1,once:!1,mirror:!1,anchorPlacement:"top-bottom",startEvent:"DOMContentLoaded",animatedClassName:"aos-animate",initClassName:"aos-init",useClassNames:!1,disableMutationObserver:!1,throttleDelay:99,debounceDelay:50},jB=function(){return document.all&&!window.atob},VJ=function(){return L1=zJ(L1,Yi),kL(L1),window.addEventListener("scroll",sJ(function(){kL(L1,Yi.once)},Yi.throttleDelay)),L1},ew=function(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;u&&(SL=!0),SL&&VJ()},ZB=function(){if(L1=UB(),GB(Yi.disable)||jB())return WB();ew()},WB=function(){L1.forEach(function(u,p){u.node.removeAttribute("data-aos"),u.node.removeAttribute("data-aos-easing"),u.node.removeAttribute("data-aos-duration"),u.node.removeAttribute("data-aos-delay"),Yi.initClassName&&u.node.classList.remove(Yi.initClassName),Yi.animatedClassName&&u.node.classList.remove(Yi.animatedClassName)})},GB=function(u){return u===!0||u==="mobile"&&D6.mobile()||u==="phone"&&D6.phone()||u==="tablet"&&D6.tablet()||typeof u=="function"&&u()===!0},$J=function(u){return Yi=AJ(Yi,u),L1=UB(),!Yi.disableMutationObserver&&!_L.isSupported()&&(console.info(`
      aos: MutationObserver is not supported on this browser,
      code mutations observing has been disabled.
      You may have to call "refreshHard()" by yourself.
    `),Yi.disableMutationObserver=!0),Yi.disableMutationObserver||_L.ready("[data-aos]",ZB),GB(Yi.disable)||jB()?WB():(document.querySelector("body").setAttribute("data-aos-easing",Yi.easing),document.querySelector("body").setAttribute("data-aos-duration",Yi.duration),document.querySelector("body").setAttribute("data-aos-delay",Yi.delay),["DOMContentLoaded","load"].indexOf(Yi.startEvent)===-1?document.addEventListener(Yi.startEvent,function(){ew(!0)}):window.addEventListener("load",function(){ew(!0)}),Yi.startEvent==="DOMContentLoaded"&&["complete","interactive"].indexOf(document.readyState)>-1&&ew(!0),window.addEventListener("resize",xL(ew,Yi.debounceDelay,!0)),window.addEventListener("orientationchange",xL(ew,Yi.debounceDelay,!0)),L1)},UJ={init:$J,refresh:ew,refreshHard:ZB};function EL(a,u){var p=Object.keys(a);if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(a);u&&(b=b.filter(function(C){return Object.getOwnPropertyDescriptor(a,C).enumerable})),p.push.apply(p,b)}return p}function Zo(a){for(var u=1;u<arguments.length;u++){var p=arguments[u]!=null?arguments[u]:{};u%2?EL(Object(p),!0).forEach(function(b){Fl(a,b,p[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(p)):EL(Object(p)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(p,b))})}return a}function K6(a){return K6=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},K6(a)}function jJ(a,u){if(!(a instanceof u))throw new TypeError("Cannot call a class as a function")}function OL(a,u){for(var p=0;p<u.length;p++){var b=u[p];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(a,b.key,b)}}function ZJ(a,u,p){return u&&OL(a.prototype,u),p&&OL(a,p),Object.defineProperty(a,"prototype",{writable:!1}),a}function Fl(a,u,p){return u in a?Object.defineProperty(a,u,{value:p,enumerable:!0,configurable:!0,writable:!0}):a[u]=p,a}function TD(a,u){return GJ(a)||KJ(a,u)||qB(a,u)||XJ()}function M5(a){return WJ(a)||qJ(a)||qB(a)||YJ()}function WJ(a){if(Array.isArray(a))return IR(a)}function GJ(a){if(Array.isArray(a))return a}function qJ(a){if(typeof Symbol!="undefined"&&a[Symbol.iterator]!=null||a["@@iterator"]!=null)return Array.from(a)}function KJ(a,u){var p=a==null?null:typeof Symbol!="undefined"&&a[Symbol.iterator]||a["@@iterator"];if(p!=null){var b=[],C=!0,S=!1,M,D;try{for(p=p.call(a);!(C=(M=p.next()).done)&&(b.push(M.value),!(u&&b.length===u));C=!0);}catch(I){S=!0,D=I}finally{try{!C&&p.return!=null&&p.return()}finally{if(S)throw D}}return b}}function qB(a,u){if(!!a){if(typeof a=="string")return IR(a,u);var p=Object.prototype.toString.call(a).slice(8,-1);if(p==="Object"&&a.constructor&&(p=a.constructor.name),p==="Map"||p==="Set")return Array.from(a);if(p==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(p))return IR(a,u)}}function IR(a,u){(u==null||u>a.length)&&(u=a.length);for(var p=0,b=new Array(u);p<u;p++)b[p]=a[p];return b}function YJ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function XJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var TL=function(){},AD={},KB={},YB=null,XB={mark:TL,measure:TL};try{typeof window!="undefined"&&(AD=window),typeof document!="undefined"&&(KB=document),typeof MutationObserver!="undefined"&&(YB=MutationObserver),typeof performance!="undefined"&&(XB=performance)}catch{}var JJ=AD.navigator||{},AL=JJ.userAgent,NL=AL===void 0?"":AL,ib=AD,fi=KB,ML=YB,b6=XB;ib.document;var Z1=!!fi.documentElement&&!!fi.head&&typeof fi.addEventListener=="function"&&typeof fi.createElement=="function",JB=~NL.indexOf("MSIE")||~NL.indexOf("Trident/"),y6,w6,x6,_6,C6,z1="___FONT_AWESOME___",PR=16,QB="fa",eF="svg-inline--fa",uw="data-fa-i2svg",LR="data-fa-pseudo-element",QJ="data-fa-pseudo-element-pending",ND="data-prefix",MD="data-icon",RL="fontawesome-i2svg",eQ="async",tQ=["HTML","HEAD","STYLE","SCRIPT"],tF=function(){try{return!0}catch{return!1}}(),mi="classic",Xi="sharp",RD=[mi,Xi];function R5(a){return new Proxy(a,{get:function(p,b){return b in p?p[b]:p[mi]}})}var C5=R5((y6={},Fl(y6,mi,{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fad:"duotone","fa-duotone":"duotone",fab:"brands","fa-brands":"brands",fak:"kit","fa-kit":"kit"}),Fl(y6,Xi,{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light"}),y6)),k5=R5((w6={},Fl(w6,mi,{solid:"fas",regular:"far",light:"fal",thin:"fat",duotone:"fad",brands:"fab",kit:"fak"}),Fl(w6,Xi,{solid:"fass",regular:"fasr",light:"fasl"}),w6)),S5=R5((x6={},Fl(x6,mi,{fab:"fa-brands",fad:"fa-duotone",fak:"fa-kit",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"}),Fl(x6,Xi,{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light"}),x6)),nQ=R5((_6={},Fl(_6,mi,{"fa-brands":"fab","fa-duotone":"fad","fa-kit":"fak","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"}),Fl(_6,Xi,{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl"}),_6)),oQ=/fa(s|r|l|t|d|b|k|ss|sr|sl)?[\-\ ]/,nF="fa-layers-text",rQ=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp|Kit)?.*/i,aQ=R5((C6={},Fl(C6,mi,{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"}),Fl(C6,Xi,{900:"fass",400:"fasr",300:"fasl"}),C6)),oF=[1,2,3,4,5,6,7,8,9,10],sQ=oF.concat([11,12,13,14,15,16,17,18,19,20]),iQ=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],nw={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},E5=new Set;Object.keys(k5[mi]).map(E5.add.bind(E5));Object.keys(k5[Xi]).map(E5.add.bind(E5));var lQ=[].concat(RD,M5(E5),["2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",nw.GROUP,nw.SWAP_OPACITY,nw.PRIMARY,nw.SECONDARY]).concat(oF.map(function(a){return"".concat(a,"x")})).concat(sQ.map(function(a){return"w-".concat(a)})),d5=ib.FontAwesomeConfig||{};function cQ(a){var u=fi.querySelector("script["+a+"]");if(u)return u.getAttribute(a)}function uQ(a){return a===""?!0:a==="false"?!1:a==="true"?!0:a}if(fi&&typeof fi.querySelector=="function"){var dQ=[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]];dQ.forEach(function(a){var u=TD(a,2),p=u[0],b=u[1],C=uQ(cQ(p));C!=null&&(d5[b]=C)})}var rF={styleDefault:"solid",familyDefault:"classic",cssPrefix:QB,replacementClass:eF,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};d5.familyPrefix&&(d5.cssPrefix=d5.familyPrefix);var ik=Zo(Zo({},rF),d5);ik.autoReplaceSvg||(ik.observeMutations=!1);var ar={};Object.keys(rF).forEach(function(a){Object.defineProperty(ar,a,{enumerable:!0,set:function(p){ik[a]=p,m5.forEach(function(b){return b(ar)})},get:function(){return ik[a]}})});Object.defineProperty(ar,"familyPrefix",{enumerable:!0,set:function(u){ik.cssPrefix=u,m5.forEach(function(p){return p(ar)})},get:function(){return ik.cssPrefix}});ib.FontAwesomeConfig=ar;var m5=[];function mQ(a){return m5.push(a),function(){m5.splice(m5.indexOf(a),1)}}var X0=PR,Xp={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function fQ(a){if(!(!a||!Z1)){var u=fi.createElement("style");u.setAttribute("type","text/css"),u.innerHTML=a;for(var p=fi.head.childNodes,b=null,C=p.length-1;C>-1;C--){var S=p[C],M=(S.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(M)>-1&&(b=S)}return fi.head.insertBefore(u,b),a}}var gQ="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function O5(){for(var a=12,u="";a-- >0;)u+=gQ[Math.random()*62|0];return u}function mk(a){for(var u=[],p=(a||[]).length>>>0;p--;)u[p]=a[p];return u}function DD(a){return a.classList?mk(a.classList):(a.getAttribute("class")||"").split(" ").filter(function(u){return u})}function aF(a){return"".concat(a).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function pQ(a){return Object.keys(a||{}).reduce(function(u,p){return u+"".concat(p,'="').concat(aF(a[p]),'" ')},"").trim()}function vN(a){return Object.keys(a||{}).reduce(function(u,p){return u+"".concat(p,": ").concat(a[p].trim(),";")},"")}function ID(a){return a.size!==Xp.size||a.x!==Xp.x||a.y!==Xp.y||a.rotate!==Xp.rotate||a.flipX||a.flipY}function hQ(a){var u=a.transform,p=a.containerWidth,b=a.iconWidth,C={transform:"translate(".concat(p/2," 256)")},S="translate(".concat(u.x*32,", ").concat(u.y*32,") "),M="scale(".concat(u.size/16*(u.flipX?-1:1),", ").concat(u.size/16*(u.flipY?-1:1),") "),D="rotate(".concat(u.rotate," 0 0)"),I={transform:"".concat(S," ").concat(M," ").concat(D)},q={transform:"translate(".concat(b/2*-1," -256)")};return{outer:C,inner:I,path:q}}function vQ(a){var u=a.transform,p=a.width,b=p===void 0?PR:p,C=a.height,S=C===void 0?PR:C,M=a.startCentered,D=M===void 0?!1:M,I="";return D&&JB?I+="translate(".concat(u.x/X0-b/2,"em, ").concat(u.y/X0-S/2,"em) "):D?I+="translate(calc(-50% + ".concat(u.x/X0,"em), calc(-50% + ").concat(u.y/X0,"em)) "):I+="translate(".concat(u.x/X0,"em, ").concat(u.y/X0,"em) "),I+="scale(".concat(u.size/X0*(u.flipX?-1:1),", ").concat(u.size/X0*(u.flipY?-1:1),") "),I+="rotate(".concat(u.rotate,"deg) "),I}var bQ=`:root, :host {
  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Solid";
  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Regular";
  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Light";
  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Thin";
  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";
  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";
  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";
}

svg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {
  overflow: visible;
  box-sizing: content-box;
}

.svg-inline--fa {
  display: var(--fa-display, inline-block);
  height: 1em;
  overflow: visible;
  vertical-align: -0.125em;
}
.svg-inline--fa.fa-2xs {
  vertical-align: 0.1em;
}
.svg-inline--fa.fa-xs {
  vertical-align: 0em;
}
.svg-inline--fa.fa-sm {
  vertical-align: -0.0714285705em;
}
.svg-inline--fa.fa-lg {
  vertical-align: -0.2em;
}
.svg-inline--fa.fa-xl {
  vertical-align: -0.25em;
}
.svg-inline--fa.fa-2xl {
  vertical-align: -0.3125em;
}
.svg-inline--fa.fa-pull-left {
  margin-right: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-pull-right {
  margin-left: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-li {
  width: var(--fa-li-width, 2em);
  top: 0.25em;
}
.svg-inline--fa.fa-fw {
  width: var(--fa-fw-width, 1.25em);
}

.fa-layers svg.svg-inline--fa {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
}

.fa-layers-counter, .fa-layers-text {
  display: inline-block;
  position: absolute;
  text-align: center;
}

.fa-layers {
  display: inline-block;
  height: 1em;
  position: relative;
  text-align: center;
  vertical-align: -0.125em;
  width: 1em;
}
.fa-layers svg.svg-inline--fa {
  -webkit-transform-origin: center center;
          transform-origin: center center;
}

.fa-layers-text {
  left: 50%;
  top: 50%;
  -webkit-transform: translate(-50%, -50%);
          transform: translate(-50%, -50%);
  -webkit-transform-origin: center center;
          transform-origin: center center;
}

.fa-layers-counter {
  background-color: var(--fa-counter-background-color, #ff253a);
  border-radius: var(--fa-counter-border-radius, 1em);
  box-sizing: border-box;
  color: var(--fa-inverse, #fff);
  line-height: var(--fa-counter-line-height, 1);
  max-width: var(--fa-counter-max-width, 5em);
  min-width: var(--fa-counter-min-width, 1.5em);
  overflow: hidden;
  padding: var(--fa-counter-padding, 0.25em 0.5em);
  right: var(--fa-right, 0);
  text-overflow: ellipsis;
  top: var(--fa-top, 0);
  -webkit-transform: scale(var(--fa-counter-scale, 0.25));
          transform: scale(var(--fa-counter-scale, 0.25));
  -webkit-transform-origin: top right;
          transform-origin: top right;
}

.fa-layers-bottom-right {
  bottom: var(--fa-bottom, 0);
  right: var(--fa-right, 0);
  top: auto;
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: bottom right;
          transform-origin: bottom right;
}

.fa-layers-bottom-left {
  bottom: var(--fa-bottom, 0);
  left: var(--fa-left, 0);
  right: auto;
  top: auto;
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: bottom left;
          transform-origin: bottom left;
}

.fa-layers-top-right {
  top: var(--fa-top, 0);
  right: var(--fa-right, 0);
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: top right;
          transform-origin: top right;
}

.fa-layers-top-left {
  left: var(--fa-left, 0);
  right: auto;
  top: var(--fa-top, 0);
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: top left;
          transform-origin: top left;
}

.fa-1x {
  font-size: 1em;
}

.fa-2x {
  font-size: 2em;
}

.fa-3x {
  font-size: 3em;
}

.fa-4x {
  font-size: 4em;
}

.fa-5x {
  font-size: 5em;
}

.fa-6x {
  font-size: 6em;
}

.fa-7x {
  font-size: 7em;
}

.fa-8x {
  font-size: 8em;
}

.fa-9x {
  font-size: 9em;
}

.fa-10x {
  font-size: 10em;
}

.fa-2xs {
  font-size: 0.625em;
  line-height: 0.1em;
  vertical-align: 0.225em;
}

.fa-xs {
  font-size: 0.75em;
  line-height: 0.0833333337em;
  vertical-align: 0.125em;
}

.fa-sm {
  font-size: 0.875em;
  line-height: 0.0714285718em;
  vertical-align: 0.0535714295em;
}

.fa-lg {
  font-size: 1.25em;
  line-height: 0.05em;
  vertical-align: -0.075em;
}

.fa-xl {
  font-size: 1.5em;
  line-height: 0.0416666682em;
  vertical-align: -0.125em;
}

.fa-2xl {
  font-size: 2em;
  line-height: 0.03125em;
  vertical-align: -0.1875em;
}

.fa-fw {
  text-align: center;
  width: 1.25em;
}

.fa-ul {
  list-style-type: none;
  margin-left: var(--fa-li-margin, 2.5em);
  padding-left: 0;
}
.fa-ul > li {
  position: relative;
}

.fa-li {
  left: calc(var(--fa-li-width, 2em) * -1);
  position: absolute;
  text-align: center;
  width: var(--fa-li-width, 2em);
  line-height: inherit;
}

.fa-border {
  border-color: var(--fa-border-color, #eee);
  border-radius: var(--fa-border-radius, 0.1em);
  border-style: var(--fa-border-style, solid);
  border-width: var(--fa-border-width, 0.08em);
  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);
}

.fa-pull-left {
  float: left;
  margin-right: var(--fa-pull-margin, 0.3em);
}

.fa-pull-right {
  float: right;
  margin-left: var(--fa-pull-margin, 0.3em);
}

.fa-beat {
  -webkit-animation-name: fa-beat;
          animation-name: fa-beat;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);
          animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-bounce {
  -webkit-animation-name: fa-bounce;
          animation-name: fa-bounce;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
}

.fa-fade {
  -webkit-animation-name: fa-fade;
          animation-name: fa-fade;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-beat-fade {
  -webkit-animation-name: fa-beat-fade;
          animation-name: fa-beat-fade;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-flip {
  -webkit-animation-name: fa-flip;
          animation-name: fa-flip;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);
          animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-shake {
  -webkit-animation-name: fa-shake;
          animation-name: fa-shake;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, linear);
          animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin {
  -webkit-animation-name: fa-spin;
          animation-name: fa-spin;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 2s);
          animation-duration: var(--fa-animation-duration, 2s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, linear);
          animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin-reverse {
  --fa-animation-direction: reverse;
}

.fa-pulse,
.fa-spin-pulse {
  -webkit-animation-name: fa-spin;
          animation-name: fa-spin;
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, steps(8));
          animation-timing-function: var(--fa-animation-timing, steps(8));
}

@media (prefers-reduced-motion: reduce) {
  .fa-beat,
.fa-bounce,
.fa-fade,
.fa-beat-fade,
.fa-flip,
.fa-pulse,
.fa-shake,
.fa-spin,
.fa-spin-pulse {
    -webkit-animation-delay: -1ms;
            animation-delay: -1ms;
    -webkit-animation-duration: 1ms;
            animation-duration: 1ms;
    -webkit-animation-iteration-count: 1;
            animation-iteration-count: 1;
    -webkit-transition-delay: 0s;
            transition-delay: 0s;
    -webkit-transition-duration: 0s;
            transition-duration: 0s;
  }
}
@-webkit-keyframes fa-beat {
  0%, 90% {
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  45% {
    -webkit-transform: scale(var(--fa-beat-scale, 1.25));
            transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@keyframes fa-beat {
  0%, 90% {
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  45% {
    -webkit-transform: scale(var(--fa-beat-scale, 1.25));
            transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@-webkit-keyframes fa-bounce {
  0% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  10% {
    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  100% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
}
@keyframes fa-bounce {
  0% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  10% {
    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  100% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
}
@-webkit-keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@-webkit-keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  50% {
    opacity: 1;
    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));
            transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  50% {
    opacity: 1;
    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));
            transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@-webkit-keyframes fa-flip {
  50% {
    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@keyframes fa-flip {
  50% {
    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@-webkit-keyframes fa-shake {
  0% {
    -webkit-transform: rotate(-15deg);
            transform: rotate(-15deg);
  }
  4% {
    -webkit-transform: rotate(15deg);
            transform: rotate(15deg);
  }
  8%, 24% {
    -webkit-transform: rotate(-18deg);
            transform: rotate(-18deg);
  }
  12%, 28% {
    -webkit-transform: rotate(18deg);
            transform: rotate(18deg);
  }
  16% {
    -webkit-transform: rotate(-22deg);
            transform: rotate(-22deg);
  }
  20% {
    -webkit-transform: rotate(22deg);
            transform: rotate(22deg);
  }
  32% {
    -webkit-transform: rotate(-12deg);
            transform: rotate(-12deg);
  }
  36% {
    -webkit-transform: rotate(12deg);
            transform: rotate(12deg);
  }
  40%, 100% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
}
@keyframes fa-shake {
  0% {
    -webkit-transform: rotate(-15deg);
            transform: rotate(-15deg);
  }
  4% {
    -webkit-transform: rotate(15deg);
            transform: rotate(15deg);
  }
  8%, 24% {
    -webkit-transform: rotate(-18deg);
            transform: rotate(-18deg);
  }
  12%, 28% {
    -webkit-transform: rotate(18deg);
            transform: rotate(18deg);
  }
  16% {
    -webkit-transform: rotate(-22deg);
            transform: rotate(-22deg);
  }
  20% {
    -webkit-transform: rotate(22deg);
            transform: rotate(22deg);
  }
  32% {
    -webkit-transform: rotate(-12deg);
            transform: rotate(-12deg);
  }
  36% {
    -webkit-transform: rotate(12deg);
            transform: rotate(12deg);
  }
  40%, 100% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
}
@-webkit-keyframes fa-spin {
  0% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
  100% {
    -webkit-transform: rotate(360deg);
            transform: rotate(360deg);
  }
}
@keyframes fa-spin {
  0% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
  100% {
    -webkit-transform: rotate(360deg);
            transform: rotate(360deg);
  }
}
.fa-rotate-90 {
  -webkit-transform: rotate(90deg);
          transform: rotate(90deg);
}

.fa-rotate-180 {
  -webkit-transform: rotate(180deg);
          transform: rotate(180deg);
}

.fa-rotate-270 {
  -webkit-transform: rotate(270deg);
          transform: rotate(270deg);
}

.fa-flip-horizontal {
  -webkit-transform: scale(-1, 1);
          transform: scale(-1, 1);
}

.fa-flip-vertical {
  -webkit-transform: scale(1, -1);
          transform: scale(1, -1);
}

.fa-flip-both,
.fa-flip-horizontal.fa-flip-vertical {
  -webkit-transform: scale(-1, -1);
          transform: scale(-1, -1);
}

.fa-rotate-by {
  -webkit-transform: rotate(var(--fa-rotate-angle, none));
          transform: rotate(var(--fa-rotate-angle, none));
}

.fa-stack {
  display: inline-block;
  vertical-align: middle;
  height: 2em;
  position: relative;
  width: 2.5em;
}

.fa-stack-1x,
.fa-stack-2x {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
  z-index: var(--fa-stack-z-index, auto);
}

.svg-inline--fa.fa-stack-1x {
  height: 1em;
  width: 1.25em;
}
.svg-inline--fa.fa-stack-2x {
  height: 2em;
  width: 2.5em;
}

.fa-inverse {
  color: var(--fa-inverse, #fff);
}

.sr-only,
.fa-sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.sr-only-focusable:not(:focus),
.fa-sr-only-focusable:not(:focus) {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.svg-inline--fa .fa-primary {
  fill: var(--fa-primary-color, currentColor);
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa .fa-secondary {
  fill: var(--fa-secondary-color, currentColor);
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-primary {
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-secondary {
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa mask .fa-primary,
.svg-inline--fa mask .fa-secondary {
  fill: black;
}

.fad.fa-inverse,
.fa-duotone.fa-inverse {
  color: var(--fa-inverse, #fff);
}`;function sF(){var a=QB,u=eF,p=ar.cssPrefix,b=ar.replacementClass,C=bQ;if(p!==a||b!==u){var S=new RegExp("\\.".concat(a,"\\-"),"g"),M=new RegExp("\\--".concat(a,"\\-"),"g"),D=new RegExp("\\.".concat(u),"g");C=C.replace(S,".".concat(p,"-")).replace(M,"--".concat(p,"-")).replace(D,".".concat(b))}return C}var DL=!1;function Y7(){ar.autoAddCss&&!DL&&(fQ(sF()),DL=!0)}var yQ={mixout:function(){return{dom:{css:sF,insertCss:Y7}}},hooks:function(){return{beforeDOMElementCreation:function(){Y7()},beforeI2svg:function(){Y7()}}}},V1=ib||{};V1[z1]||(V1[z1]={});V1[z1].styles||(V1[z1].styles={});V1[z1].hooks||(V1[z1].hooks={});V1[z1].shims||(V1[z1].shims=[]);var Rg=V1[z1],iF=[],wQ=function a(){fi.removeEventListener("DOMContentLoaded",a),Y6=1,iF.map(function(u){return u()})},Y6=!1;Z1&&(Y6=(fi.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(fi.readyState),Y6||fi.addEventListener("DOMContentLoaded",wQ));function xQ(a){!Z1||(Y6?setTimeout(a,0):iF.push(a))}function D5(a){var u=a.tag,p=a.attributes,b=p===void 0?{}:p,C=a.children,S=C===void 0?[]:C;return typeof a=="string"?aF(a):"<".concat(u," ").concat(pQ(b),">").concat(S.map(D5).join(""),"</").concat(u,">")}function IL(a,u,p){if(a&&a[u]&&a[u][p])return{prefix:u,iconName:p,icon:a[u][p]}}var _Q=function(u,p){return function(b,C,S,M){return u.call(p,b,C,S,M)}},X7=function(u,p,b,C){var S=Object.keys(u),M=S.length,D=C!==void 0?_Q(p,C):p,I,q,re;for(b===void 0?(I=1,re=u[S[0]]):(I=0,re=b);I<M;I++)q=S[I],re=D(re,u[q],q,u);return re};function CQ(a){for(var u=[],p=0,b=a.length;p<b;){var C=a.charCodeAt(p++);if(C>=55296&&C<=56319&&p<b){var S=a.charCodeAt(p++);(S&64512)==56320?u.push(((C&1023)<<10)+(S&1023)+65536):(u.push(C),p--)}else u.push(C)}return u}function BR(a){var u=CQ(a);return u.length===1?u[0].toString(16):null}function kQ(a,u){var p=a.length,b=a.charCodeAt(u),C;return b>=55296&&b<=56319&&p>u+1&&(C=a.charCodeAt(u+1),C>=56320&&C<=57343)?(b-55296)*1024+C-56320+65536:b}function PL(a){return Object.keys(a).reduce(function(u,p){var b=a[p],C=!!b.icon;return C?u[b.iconName]=b.icon:u[p]=b,u},{})}function FR(a,u){var p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},b=p.skipHooks,C=b===void 0?!1:b,S=PL(u);typeof Rg.hooks.addPack=="function"&&!C?Rg.hooks.addPack(a,PL(u)):Rg.styles[a]=Zo(Zo({},Rg.styles[a]||{}),S),a==="fas"&&FR("fa",u)}var k6,S6,E6,GC=Rg.styles,SQ=Rg.shims,EQ=(k6={},Fl(k6,mi,Object.values(S5[mi])),Fl(k6,Xi,Object.values(S5[Xi])),k6),PD=null,lF={},cF={},uF={},dF={},mF={},OQ=(S6={},Fl(S6,mi,Object.keys(C5[mi])),Fl(S6,Xi,Object.keys(C5[Xi])),S6);function TQ(a){return~lQ.indexOf(a)}function AQ(a,u){var p=u.split("-"),b=p[0],C=p.slice(1).join("-");return b===a&&C!==""&&!TQ(C)?C:null}var fF=function(){var u=function(S){return X7(GC,function(M,D,I){return M[I]=X7(D,S,{}),M},{})};lF=u(function(C,S,M){if(S[3]&&(C[S[3]]=M),S[2]){var D=S[2].filter(function(I){return typeof I=="number"});D.forEach(function(I){C[I.toString(16)]=M})}return C}),cF=u(function(C,S,M){if(C[M]=M,S[2]){var D=S[2].filter(function(I){return typeof I=="string"});D.forEach(function(I){C[I]=M})}return C}),mF=u(function(C,S,M){var D=S[2];return C[M]=M,D.forEach(function(I){C[I]=M}),C});var p="far"in GC||ar.autoFetchSvg,b=X7(SQ,function(C,S){var M=S[0],D=S[1],I=S[2];return D==="far"&&!p&&(D="fas"),typeof M=="string"&&(C.names[M]={prefix:D,iconName:I}),typeof M=="number"&&(C.unicodes[M.toString(16)]={prefix:D,iconName:I}),C},{names:{},unicodes:{}});uF=b.names,dF=b.unicodes,PD=bN(ar.styleDefault,{family:ar.familyDefault})};mQ(function(a){PD=bN(a.styleDefault,{family:ar.familyDefault})});fF();function LD(a,u){return(lF[a]||{})[u]}function NQ(a,u){return(cF[a]||{})[u]}function ow(a,u){return(mF[a]||{})[u]}function gF(a){return uF[a]||{prefix:null,iconName:null}}function MQ(a){var u=dF[a],p=LD("fas",a);return u||(p?{prefix:"fas",iconName:p}:null)||{prefix:null,iconName:null}}function lb(){return PD}var BD=function(){return{prefix:null,iconName:null,rest:[]}};function bN(a){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},p=u.family,b=p===void 0?mi:p,C=C5[b][a],S=k5[b][a]||k5[b][C],M=a in Rg.styles?a:null;return S||M||null}var LL=(E6={},Fl(E6,mi,Object.keys(S5[mi])),Fl(E6,Xi,Object.keys(S5[Xi])),E6);function yN(a){var u,p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},b=p.skipLookups,C=b===void 0?!1:b,S=(u={},Fl(u,mi,"".concat(ar.cssPrefix,"-").concat(mi)),Fl(u,Xi,"".concat(ar.cssPrefix,"-").concat(Xi)),u),M=null,D=mi;(a.includes(S[mi])||a.some(function(q){return LL[mi].includes(q)}))&&(D=mi),(a.includes(S[Xi])||a.some(function(q){return LL[Xi].includes(q)}))&&(D=Xi);var I=a.reduce(function(q,re){var fe=AQ(ar.cssPrefix,re);if(GC[re]?(re=EQ[D].includes(re)?nQ[D][re]:re,M=re,q.prefix=re):OQ[D].indexOf(re)>-1?(M=re,q.prefix=bN(re,{family:D})):fe?q.iconName=fe:re!==ar.replacementClass&&re!==S[mi]&&re!==S[Xi]&&q.rest.push(re),!C&&q.prefix&&q.iconName){var le=M==="fa"?gF(q.iconName):{},ue=ow(q.prefix,q.iconName);le.prefix&&(M=null),q.iconName=le.iconName||ue||q.iconName,q.prefix=le.prefix||q.prefix,q.prefix==="far"&&!GC.far&&GC.fas&&!ar.autoFetchSvg&&(q.prefix="fas")}return q},BD());return(a.includes("fa-brands")||a.includes("fab"))&&(I.prefix="fab"),(a.includes("fa-duotone")||a.includes("fad"))&&(I.prefix="fad"),!I.prefix&&D===Xi&&(GC.fass||ar.autoFetchSvg)&&(I.prefix="fass",I.iconName=ow(I.prefix,I.iconName)||I.iconName),(I.prefix==="fa"||M==="fa")&&(I.prefix=lb()||"fas"),I}var RQ=function(){function a(){jJ(this,a),this.definitions={}}return ZJ(a,[{key:"add",value:function(){for(var p=this,b=arguments.length,C=new Array(b),S=0;S<b;S++)C[S]=arguments[S];var M=C.reduce(this._pullDefinitions,{});Object.keys(M).forEach(function(D){p.definitions[D]=Zo(Zo({},p.definitions[D]||{}),M[D]),FR(D,M[D]);var I=S5[mi][D];I&&FR(I,M[D]),fF()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(p,b){var C=b.prefix&&b.iconName&&b.icon?{0:b}:b;return Object.keys(C).map(function(S){var M=C[S],D=M.prefix,I=M.iconName,q=M.icon,re=q[2];p[D]||(p[D]={}),re.length>0&&re.forEach(function(fe){typeof fe=="string"&&(p[D][fe]=q)}),p[D][I]=q}),p}}]),a}(),BL=[],qC={},JC={},DQ=Object.keys(JC);function IQ(a,u){var p=u.mixoutsTo;return BL=a,qC={},Object.keys(JC).forEach(function(b){DQ.indexOf(b)===-1&&delete JC[b]}),BL.forEach(function(b){var C=b.mixout?b.mixout():{};if(Object.keys(C).forEach(function(M){typeof C[M]=="function"&&(p[M]=C[M]),K6(C[M])==="object"&&Object.keys(C[M]).forEach(function(D){p[M]||(p[M]={}),p[M][D]=C[M][D]})}),b.hooks){var S=b.hooks();Object.keys(S).forEach(function(M){qC[M]||(qC[M]=[]),qC[M].push(S[M])})}b.provides&&b.provides(JC)}),p}function HR(a,u){for(var p=arguments.length,b=new Array(p>2?p-2:0),C=2;C<p;C++)b[C-2]=arguments[C];var S=qC[a]||[];return S.forEach(function(M){u=M.apply(null,[u].concat(b))}),u}function dw(a){for(var u=arguments.length,p=new Array(u>1?u-1:0),b=1;b<u;b++)p[b-1]=arguments[b];var C=qC[a]||[];C.forEach(function(S){S.apply(null,p)})}function $1(){var a=arguments[0],u=Array.prototype.slice.call(arguments,1);return JC[a]?JC[a].apply(null,u):void 0}function zR(a){a.prefix==="fa"&&(a.prefix="fas");var u=a.iconName,p=a.prefix||lb();if(!!u)return u=ow(p,u)||u,IL(pF.definitions,p,u)||IL(Rg.styles,p,u)}var pF=new RQ,PQ=function(){ar.autoReplaceSvg=!1,ar.observeMutations=!1,dw("noAuto")},LQ={i2svg:function(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Z1?(dw("beforeI2svg",u),$1("pseudoElements2svg",u),$1("i2svg",u)):Promise.reject("Operation requires a DOM of some kind.")},watch:function(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},p=u.autoReplaceSvgRoot;ar.autoReplaceSvg===!1&&(ar.autoReplaceSvg=!0),ar.observeMutations=!0,xQ(function(){FQ({autoReplaceSvgRoot:p}),dw("watch",u)})}},BQ={icon:function(u){if(u===null)return null;if(K6(u)==="object"&&u.prefix&&u.iconName)return{prefix:u.prefix,iconName:ow(u.prefix,u.iconName)||u.iconName};if(Array.isArray(u)&&u.length===2){var p=u[1].indexOf("fa-")===0?u[1].slice(3):u[1],b=bN(u[0]);return{prefix:b,iconName:ow(b,p)||p}}if(typeof u=="string"&&(u.indexOf("".concat(ar.cssPrefix,"-"))>-1||u.match(oQ))){var C=yN(u.split(" "),{skipLookups:!0});return{prefix:C.prefix||lb(),iconName:ow(C.prefix,C.iconName)||C.iconName}}if(typeof u=="string"){var S=lb();return{prefix:S,iconName:ow(S,u)||u}}}},ym={noAuto:PQ,config:ar,dom:LQ,parse:BQ,library:pF,findIconDefinition:zR,toHtml:D5},FQ=function(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},p=u.autoReplaceSvgRoot,b=p===void 0?fi:p;(Object.keys(Rg.styles).length>0||ar.autoFetchSvg)&&Z1&&ar.autoReplaceSvg&&ym.dom.i2svg({node:b})};function wN(a,u){return Object.defineProperty(a,"abstract",{get:u}),Object.defineProperty(a,"html",{get:function(){return a.abstract.map(function(b){return D5(b)})}}),Object.defineProperty(a,"node",{get:function(){if(!!Z1){var b=fi.createElement("div");return b.innerHTML=a.html,b.children}}}),a}function HQ(a){var u=a.children,p=a.main,b=a.mask,C=a.attributes,S=a.styles,M=a.transform;if(ID(M)&&p.found&&!b.found){var D=p.width,I=p.height,q={x:D/I/2,y:.5};C.style=vN(Zo(Zo({},S),{},{"transform-origin":"".concat(q.x+M.x/16,"em ").concat(q.y+M.y/16,"em")}))}return[{tag:"svg",attributes:C,children:u}]}function zQ(a){var u=a.prefix,p=a.iconName,b=a.children,C=a.attributes,S=a.symbol,M=S===!0?"".concat(u,"-").concat(ar.cssPrefix,"-").concat(p):S;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:Zo(Zo({},C),{},{id:M}),children:b}]}]}function FD(a){var u=a.icons,p=u.main,b=u.mask,C=a.prefix,S=a.iconName,M=a.transform,D=a.symbol,I=a.title,q=a.maskId,re=a.titleId,fe=a.extra,le=a.watchable,ue=le===void 0?!1:le,ke=b.found?b:p,xe=ke.width,me=ke.height,J=C==="fak",ae=[ar.replacementClass,S?"".concat(ar.cssPrefix,"-").concat(S):""].filter(function(qn){return fe.classes.indexOf(qn)===-1}).filter(function(qn){return qn!==""||!!qn}).concat(fe.classes).join(" "),De={children:[],attributes:Zo(Zo({},fe.attributes),{},{"data-prefix":C,"data-icon":S,class:ae,role:fe.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(xe," ").concat(me)})},G=J&&!~fe.classes.indexOf("fa-fw")?{width:"".concat(xe/me*16*.0625,"em")}:{};ue&&(De.attributes[uw]=""),I&&(De.children.push({tag:"title",attributes:{id:De.attributes["aria-labelledby"]||"title-".concat(re||O5())},children:[I]}),delete De.attributes.title);var Ae=Zo(Zo({},De),{},{prefix:C,iconName:S,main:p,mask:b,maskId:q,transform:M,symbol:D,styles:Zo(Zo({},G),fe.styles)}),ye=b.found&&p.found?$1("generateAbstractMask",Ae)||{children:[],attributes:{}}:$1("generateAbstractIcon",Ae)||{children:[],attributes:{}},Pt=ye.children,Ft=ye.attributes;return Ae.children=Pt,Ae.attributes=Ft,D?zQ(Ae):HQ(Ae)}function FL(a){var u=a.content,p=a.width,b=a.height,C=a.transform,S=a.title,M=a.extra,D=a.watchable,I=D===void 0?!1:D,q=Zo(Zo(Zo({},M.attributes),S?{title:S}:{}),{},{class:M.classes.join(" ")});I&&(q[uw]="");var re=Zo({},M.styles);ID(C)&&(re.transform=vQ({transform:C,startCentered:!0,width:p,height:b}),re["-webkit-transform"]=re.transform);var fe=vN(re);fe.length>0&&(q.style=fe);var le=[];return le.push({tag:"span",attributes:q,children:[u]}),S&&le.push({tag:"span",attributes:{class:"sr-only"},children:[S]}),le}function VQ(a){var u=a.content,p=a.title,b=a.extra,C=Zo(Zo(Zo({},b.attributes),p?{title:p}:{}),{},{class:b.classes.join(" ")}),S=vN(b.styles);S.length>0&&(C.style=S);var M=[];return M.push({tag:"span",attributes:C,children:[u]}),p&&M.push({tag:"span",attributes:{class:"sr-only"},children:[p]}),M}var J7=Rg.styles;function VR(a){var u=a[0],p=a[1],b=a.slice(4),C=TD(b,1),S=C[0],M=null;return Array.isArray(S)?M={tag:"g",attributes:{class:"".concat(ar.cssPrefix,"-").concat(nw.GROUP)},children:[{tag:"path",attributes:{class:"".concat(ar.cssPrefix,"-").concat(nw.SECONDARY),fill:"currentColor",d:S[0]}},{tag:"path",attributes:{class:"".concat(ar.cssPrefix,"-").concat(nw.PRIMARY),fill:"currentColor",d:S[1]}}]}:M={tag:"path",attributes:{fill:"currentColor",d:S}},{found:!0,width:u,height:p,icon:M}}var $Q={found:!1,width:512,height:512};function UQ(a,u){!tF&&!ar.showMissingIcons&&a&&console.error('Icon with name "'.concat(a,'" and prefix "').concat(u,'" is missing.'))}function $R(a,u){var p=u;return u==="fa"&&ar.styleDefault!==null&&(u=lb()),new Promise(function(b,C){if($1("missingIconAbstract"),p==="fa"){var S=gF(a)||{};a=S.iconName||a,u=S.prefix||u}if(a&&u&&J7[u]&&J7[u][a]){var M=J7[u][a];return b(VR(M))}UQ(a,u),b(Zo(Zo({},$Q),{},{icon:ar.showMissingIcons&&a?$1("missingIconAbstract")||{}:{}}))})}var HL=function(){},UR=ar.measurePerformance&&b6&&b6.mark&&b6.measure?b6:{mark:HL,measure:HL},r5='FA "6.4.0"',jQ=function(u){return UR.mark("".concat(r5," ").concat(u," begins")),function(){return hF(u)}},hF=function(u){UR.mark("".concat(r5," ").concat(u," ends")),UR.measure("".concat(r5," ").concat(u),"".concat(r5," ").concat(u," begins"),"".concat(r5," ").concat(u," ends"))},HD={begin:jQ,end:hF},I6=function(){};function zL(a){var u=a.getAttribute?a.getAttribute(uw):null;return typeof u=="string"}function ZQ(a){var u=a.getAttribute?a.getAttribute(ND):null,p=a.getAttribute?a.getAttribute(MD):null;return u&&p}function WQ(a){return a&&a.classList&&a.classList.contains&&a.classList.contains(ar.replacementClass)}function GQ(){if(ar.autoReplaceSvg===!0)return P6.replace;var a=P6[ar.autoReplaceSvg];return a||P6.replace}function qQ(a){return fi.createElementNS("http://www.w3.org/2000/svg",a)}function KQ(a){return fi.createElement(a)}function vF(a){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},p=u.ceFn,b=p===void 0?a.tag==="svg"?qQ:KQ:p;if(typeof a=="string")return fi.createTextNode(a);var C=b(a.tag);Object.keys(a.attributes||[]).forEach(function(M){C.setAttribute(M,a.attributes[M])});var S=a.children||[];return S.forEach(function(M){C.appendChild(vF(M,{ceFn:b}))}),C}function YQ(a){var u=" ".concat(a.outerHTML," ");return u="".concat(u,"Font Awesome fontawesome.com "),u}var P6={replace:function(u){var p=u[0];if(p.parentNode)if(u[1].forEach(function(C){p.parentNode.insertBefore(vF(C),p)}),p.getAttribute(uw)===null&&ar.keepOriginalSource){var b=fi.createComment(YQ(p));p.parentNode.replaceChild(b,p)}else p.remove()},nest:function(u){var p=u[0],b=u[1];if(~DD(p).indexOf(ar.replacementClass))return P6.replace(u);var C=new RegExp("".concat(ar.cssPrefix,"-.*"));if(delete b[0].attributes.id,b[0].attributes.class){var S=b[0].attributes.class.split(" ").reduce(function(D,I){return I===ar.replacementClass||I.match(C)?D.toSvg.push(I):D.toNode.push(I),D},{toNode:[],toSvg:[]});b[0].attributes.class=S.toSvg.join(" "),S.toNode.length===0?p.removeAttribute("class"):p.setAttribute("class",S.toNode.join(" "))}var M=b.map(function(D){return D5(D)}).join(`
`);p.setAttribute(uw,""),p.innerHTML=M}};function VL(a){a()}function bF(a,u){var p=typeof u=="function"?u:I6;if(a.length===0)p();else{var b=VL;ar.mutateApproach===eQ&&(b=ib.requestAnimationFrame||VL),b(function(){var C=GQ(),S=HD.begin("mutate");a.map(C),S(),p()})}}var zD=!1;function yF(){zD=!0}function jR(){zD=!1}var X6=null;function $L(a){if(!!ML&&!!ar.observeMutations){var u=a.treeCallback,p=u===void 0?I6:u,b=a.nodeCallback,C=b===void 0?I6:b,S=a.pseudoElementsCallback,M=S===void 0?I6:S,D=a.observeMutationsRoot,I=D===void 0?fi:D;X6=new ML(function(q){if(!zD){var re=lb();mk(q).forEach(function(fe){if(fe.type==="childList"&&fe.addedNodes.length>0&&!zL(fe.addedNodes[0])&&(ar.searchPseudoElements&&M(fe.target),p(fe.target)),fe.type==="attributes"&&fe.target.parentNode&&ar.searchPseudoElements&&M(fe.target.parentNode),fe.type==="attributes"&&zL(fe.target)&&~iQ.indexOf(fe.attributeName))if(fe.attributeName==="class"&&ZQ(fe.target)){var le=yN(DD(fe.target)),ue=le.prefix,ke=le.iconName;fe.target.setAttribute(ND,ue||re),ke&&fe.target.setAttribute(MD,ke)}else WQ(fe.target)&&C(fe.target)})}}),Z1&&X6.observe(I,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}}function XQ(){!X6||X6.disconnect()}function JQ(a){var u=a.getAttribute("style"),p=[];return u&&(p=u.split(";").reduce(function(b,C){var S=C.split(":"),M=S[0],D=S.slice(1);return M&&D.length>0&&(b[M]=D.join(":").trim()),b},{})),p}function QQ(a){var u=a.getAttribute("data-prefix"),p=a.getAttribute("data-icon"),b=a.innerText!==void 0?a.innerText.trim():"",C=yN(DD(a));return C.prefix||(C.prefix=lb()),u&&p&&(C.prefix=u,C.iconName=p),C.iconName&&C.prefix||(C.prefix&&b.length>0&&(C.iconName=NQ(C.prefix,a.innerText)||LD(C.prefix,BR(a.innerText))),!C.iconName&&ar.autoFetchSvg&&a.firstChild&&a.firstChild.nodeType===Node.TEXT_NODE&&(C.iconName=a.firstChild.data)),C}function eee(a){var u=mk(a.attributes).reduce(function(C,S){return C.name!=="class"&&C.name!=="style"&&(C[S.name]=S.value),C},{}),p=a.getAttribute("title"),b=a.getAttribute("data-fa-title-id");return ar.autoA11y&&(p?u["aria-labelledby"]="".concat(ar.replacementClass,"-title-").concat(b||O5()):(u["aria-hidden"]="true",u.focusable="false")),u}function tee(){return{iconName:null,title:null,titleId:null,prefix:null,transform:Xp,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}function UL(a){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{styleParser:!0},p=QQ(a),b=p.iconName,C=p.prefix,S=p.rest,M=eee(a),D=HR("parseNodeAttributes",{},a),I=u.styleParser?JQ(a):[];return Zo({iconName:b,title:a.getAttribute("title"),titleId:a.getAttribute("data-fa-title-id"),prefix:C,transform:Xp,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:S,styles:I,attributes:M}},D)}var nee=Rg.styles;function wF(a){var u=ar.autoReplaceSvg==="nest"?UL(a,{styleParser:!1}):UL(a);return~u.extra.classes.indexOf(nF)?$1("generateLayersText",a,u):$1("generateSvgReplacementMutation",a,u)}var cb=new Set;RD.map(function(a){cb.add("fa-".concat(a))});Object.keys(C5[mi]).map(cb.add.bind(cb));Object.keys(C5[Xi]).map(cb.add.bind(cb));cb=M5(cb);function jL(a){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!Z1)return Promise.resolve();var p=fi.documentElement.classList,b=function(fe){return p.add("".concat(RL,"-").concat(fe))},C=function(fe){return p.remove("".concat(RL,"-").concat(fe))},S=ar.autoFetchSvg?cb:RD.map(function(re){return"fa-".concat(re)}).concat(Object.keys(nee));S.includes("fa")||S.push("fa");var M=[".".concat(nF,":not([").concat(uw,"])")].concat(S.map(function(re){return".".concat(re,":not([").concat(uw,"])")})).join(", ");if(M.length===0)return Promise.resolve();var D=[];try{D=mk(a.querySelectorAll(M))}catch{}if(D.length>0)b("pending"),C("complete");else return Promise.resolve();var I=HD.begin("onTree"),q=D.reduce(function(re,fe){try{var le=wF(fe);le&&re.push(le)}catch(ue){tF||ue.name==="MissingIcon"&&console.error(ue)}return re},[]);return new Promise(function(re,fe){Promise.all(q).then(function(le){bF(le,function(){b("active"),b("complete"),C("pending"),typeof u=="function"&&u(),I(),re()})}).catch(function(le){I(),fe(le)})})}function oee(a){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;wF(a).then(function(p){p&&bF([p],u)})}function ree(a){return function(u){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},b=(u||{}).icon?u:zR(u||{}),C=p.mask;return C&&(C=(C||{}).icon?C:zR(C||{})),a(b,Zo(Zo({},p),{},{mask:C}))}}var aee=function(u){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},b=p.transform,C=b===void 0?Xp:b,S=p.symbol,M=S===void 0?!1:S,D=p.mask,I=D===void 0?null:D,q=p.maskId,re=q===void 0?null:q,fe=p.title,le=fe===void 0?null:fe,ue=p.titleId,ke=ue===void 0?null:ue,xe=p.classes,me=xe===void 0?[]:xe,J=p.attributes,ae=J===void 0?{}:J,De=p.styles,G=De===void 0?{}:De;if(!!u){var Ae=u.prefix,ye=u.iconName,Pt=u.icon;return wN(Zo({type:"icon"},u),function(){return dw("beforeDOMElementCreation",{iconDefinition:u,params:p}),ar.autoA11y&&(le?ae["aria-labelledby"]="".concat(ar.replacementClass,"-title-").concat(ke||O5()):(ae["aria-hidden"]="true",ae.focusable="false")),FD({icons:{main:VR(Pt),mask:I?VR(I.icon):{found:!1,width:null,height:null,icon:{}}},prefix:Ae,iconName:ye,transform:Zo(Zo({},Xp),C),symbol:M,title:le,maskId:re,titleId:ke,extra:{attributes:ae,styles:G,classes:me}})})}},see={mixout:function(){return{icon:ree(aee)}},hooks:function(){return{mutationObserverCallbacks:function(p){return p.treeCallback=jL,p.nodeCallback=oee,p}}},provides:function(u){u.i2svg=function(p){var b=p.node,C=b===void 0?fi:b,S=p.callback,M=S===void 0?function(){}:S;return jL(C,M)},u.generateSvgReplacementMutation=function(p,b){var C=b.iconName,S=b.title,M=b.titleId,D=b.prefix,I=b.transform,q=b.symbol,re=b.mask,fe=b.maskId,le=b.extra;return new Promise(function(ue,ke){Promise.all([$R(C,D),re.iconName?$R(re.iconName,re.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(function(xe){var me=TD(xe,2),J=me[0],ae=me[1];ue([p,FD({icons:{main:J,mask:ae},prefix:D,iconName:C,transform:I,symbol:q,maskId:fe,title:S,titleId:M,extra:le,watchable:!0})])}).catch(ke)})},u.generateAbstractIcon=function(p){var b=p.children,C=p.attributes,S=p.main,M=p.transform,D=p.styles,I=vN(D);I.length>0&&(C.style=I);var q;return ID(M)&&(q=$1("generateAbstractTransformGrouping",{main:S,transform:M,containerWidth:S.width,iconWidth:S.width})),b.push(q||S.icon),{children:b,attributes:C}}}},iee={mixout:function(){return{layer:function(p){var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},C=b.classes,S=C===void 0?[]:C;return wN({type:"layer"},function(){dw("beforeDOMElementCreation",{assembler:p,params:b});var M=[];return p(function(D){Array.isArray(D)?D.map(function(I){M=M.concat(I.abstract)}):M=M.concat(D.abstract)}),[{tag:"span",attributes:{class:["".concat(ar.cssPrefix,"-layers")].concat(M5(S)).join(" ")},children:M}]})}}}},lee={mixout:function(){return{counter:function(p){var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},C=b.title,S=C===void 0?null:C,M=b.classes,D=M===void 0?[]:M,I=b.attributes,q=I===void 0?{}:I,re=b.styles,fe=re===void 0?{}:re;return wN({type:"counter",content:p},function(){return dw("beforeDOMElementCreation",{content:p,params:b}),VQ({content:p.toString(),title:S,extra:{attributes:q,styles:fe,classes:["".concat(ar.cssPrefix,"-layers-counter")].concat(M5(D))}})})}}}},cee={mixout:function(){return{text:function(p){var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},C=b.transform,S=C===void 0?Xp:C,M=b.title,D=M===void 0?null:M,I=b.classes,q=I===void 0?[]:I,re=b.attributes,fe=re===void 0?{}:re,le=b.styles,ue=le===void 0?{}:le;return wN({type:"text",content:p},function(){return dw("beforeDOMElementCreation",{content:p,params:b}),FL({content:p,transform:Zo(Zo({},Xp),S),title:D,extra:{attributes:fe,styles:ue,classes:["".concat(ar.cssPrefix,"-layers-text")].concat(M5(q))}})})}}},provides:function(u){u.generateLayersText=function(p,b){var C=b.title,S=b.transform,M=b.extra,D=null,I=null;if(JB){var q=parseInt(getComputedStyle(p).fontSize,10),re=p.getBoundingClientRect();D=re.width/q,I=re.height/q}return ar.autoA11y&&!C&&(M.attributes["aria-hidden"]="true"),Promise.resolve([p,FL({content:p.innerHTML,width:D,height:I,transform:S,title:C,extra:M,watchable:!0})])}}},uee=new RegExp('"',"ug"),ZL=[1105920,1112319];function dee(a){var u=a.replace(uee,""),p=kQ(u,0),b=p>=ZL[0]&&p<=ZL[1],C=u.length===2?u[0]===u[1]:!1;return{value:BR(C?u[0]:u),isSecondary:b||C}}function WL(a,u){var p="".concat(QJ).concat(u.replace(":","-"));return new Promise(function(b,C){if(a.getAttribute(p)!==null)return b();var S=mk(a.children),M=S.filter(function(Pt){return Pt.getAttribute(LR)===u})[0],D=ib.getComputedStyle(a,u),I=D.getPropertyValue("font-family").match(rQ),q=D.getPropertyValue("font-weight"),re=D.getPropertyValue("content");if(M&&!I)return a.removeChild(M),b();if(I&&re!=="none"&&re!==""){var fe=D.getPropertyValue("content"),le=~["Sharp"].indexOf(I[2])?Xi:mi,ue=~["Solid","Regular","Light","Thin","Duotone","Brands","Kit"].indexOf(I[2])?k5[le][I[2].toLowerCase()]:aQ[le][q],ke=dee(fe),xe=ke.value,me=ke.isSecondary,J=I[0].startsWith("FontAwesome"),ae=LD(ue,xe),De=ae;if(J){var G=MQ(xe);G.iconName&&G.prefix&&(ae=G.iconName,ue=G.prefix)}if(ae&&!me&&(!M||M.getAttribute(ND)!==ue||M.getAttribute(MD)!==De)){a.setAttribute(p,De),M&&a.removeChild(M);var Ae=tee(),ye=Ae.extra;ye.attributes[LR]=u,$R(ae,ue).then(function(Pt){var Ft=FD(Zo(Zo({},Ae),{},{icons:{main:Pt,mask:BD()},prefix:ue,iconName:De,extra:ye,watchable:!0})),qn=fi.createElement("svg");u==="::before"?a.insertBefore(qn,a.firstChild):a.appendChild(qn),qn.outerHTML=Ft.map(function(wn){return D5(wn)}).join(`
`),a.removeAttribute(p),b()}).catch(C)}else b()}else b()})}function mee(a){return Promise.all([WL(a,"::before"),WL(a,"::after")])}function fee(a){return a.parentNode!==document.head&&!~tQ.indexOf(a.tagName.toUpperCase())&&!a.getAttribute(LR)&&(!a.parentNode||a.parentNode.tagName!=="svg")}function GL(a){if(!!Z1)return new Promise(function(u,p){var b=mk(a.querySelectorAll("*")).filter(fee).map(mee),C=HD.begin("searchPseudoElements");yF(),Promise.all(b).then(function(){C(),jR(),u()}).catch(function(){C(),jR(),p()})})}var gee={hooks:function(){return{mutationObserverCallbacks:function(p){return p.pseudoElementsCallback=GL,p}}},provides:function(u){u.pseudoElements2svg=function(p){var b=p.node,C=b===void 0?fi:b;ar.searchPseudoElements&&GL(C)}}},qL=!1,pee={mixout:function(){return{dom:{unwatch:function(){yF(),qL=!0}}}},hooks:function(){return{bootstrap:function(){$L(HR("mutationObserverCallbacks",{}))},noAuto:function(){XQ()},watch:function(p){var b=p.observeMutationsRoot;qL?jR():$L(HR("mutationObserverCallbacks",{observeMutationsRoot:b}))}}}},KL=function(u){var p={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return u.toLowerCase().split(" ").reduce(function(b,C){var S=C.toLowerCase().split("-"),M=S[0],D=S.slice(1).join("-");if(M&&D==="h")return b.flipX=!0,b;if(M&&D==="v")return b.flipY=!0,b;if(D=parseFloat(D),isNaN(D))return b;switch(M){case"grow":b.size=b.size+D;break;case"shrink":b.size=b.size-D;break;case"left":b.x=b.x-D;break;case"right":b.x=b.x+D;break;case"up":b.y=b.y-D;break;case"down":b.y=b.y+D;break;case"rotate":b.rotate=b.rotate+D;break}return b},p)},hee={mixout:function(){return{parse:{transform:function(p){return KL(p)}}}},hooks:function(){return{parseNodeAttributes:function(p,b){var C=b.getAttribute("data-fa-transform");return C&&(p.transform=KL(C)),p}}},provides:function(u){u.generateAbstractTransformGrouping=function(p){var b=p.main,C=p.transform,S=p.containerWidth,M=p.iconWidth,D={transform:"translate(".concat(S/2," 256)")},I="translate(".concat(C.x*32,", ").concat(C.y*32,") "),q="scale(".concat(C.size/16*(C.flipX?-1:1),", ").concat(C.size/16*(C.flipY?-1:1),") "),re="rotate(".concat(C.rotate," 0 0)"),fe={transform:"".concat(I," ").concat(q," ").concat(re)},le={transform:"translate(".concat(M/2*-1," -256)")},ue={outer:D,inner:fe,path:le};return{tag:"g",attributes:Zo({},ue.outer),children:[{tag:"g",attributes:Zo({},ue.inner),children:[{tag:b.icon.tag,children:b.icon.children,attributes:Zo(Zo({},b.icon.attributes),ue.path)}]}]}}}},Q7={x:0,y:0,width:"100%",height:"100%"};function YL(a){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return a.attributes&&(a.attributes.fill||u)&&(a.attributes.fill="black"),a}function vee(a){return a.tag==="g"?a.children:[a]}var bee={hooks:function(){return{parseNodeAttributes:function(p,b){var C=b.getAttribute("data-fa-mask"),S=C?yN(C.split(" ").map(function(M){return M.trim()})):BD();return S.prefix||(S.prefix=lb()),p.mask=S,p.maskId=b.getAttribute("data-fa-mask-id"),p}}},provides:function(u){u.generateAbstractMask=function(p){var b=p.children,C=p.attributes,S=p.main,M=p.mask,D=p.maskId,I=p.transform,q=S.width,re=S.icon,fe=M.width,le=M.icon,ue=hQ({transform:I,containerWidth:fe,iconWidth:q}),ke={tag:"rect",attributes:Zo(Zo({},Q7),{},{fill:"white"})},xe=re.children?{children:re.children.map(YL)}:{},me={tag:"g",attributes:Zo({},ue.inner),children:[YL(Zo({tag:re.tag,attributes:Zo(Zo({},re.attributes),ue.path)},xe))]},J={tag:"g",attributes:Zo({},ue.outer),children:[me]},ae="mask-".concat(D||O5()),De="clip-".concat(D||O5()),G={tag:"mask",attributes:Zo(Zo({},Q7),{},{id:ae,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[ke,J]},Ae={tag:"defs",children:[{tag:"clipPath",attributes:{id:De},children:vee(le)},G]};return b.push(Ae,{tag:"rect",attributes:Zo({fill:"currentColor","clip-path":"url(#".concat(De,")"),mask:"url(#".concat(ae,")")},Q7)}),{children:b,attributes:C}}}},yee={provides:function(u){var p=!1;ib.matchMedia&&(p=ib.matchMedia("(prefers-reduced-motion: reduce)").matches),u.missingIconAbstract=function(){var b=[],C={fill:"currentColor"},S={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};b.push({tag:"path",attributes:Zo(Zo({},C),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});var M=Zo(Zo({},S),{},{attributeName:"opacity"}),D={tag:"circle",attributes:Zo(Zo({},C),{},{cx:"256",cy:"364",r:"28"}),children:[]};return p||D.children.push({tag:"animate",attributes:Zo(Zo({},S),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:Zo(Zo({},M),{},{values:"1;0;1;1;0;1;"})}),b.push(D),b.push({tag:"path",attributes:Zo(Zo({},C),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:p?[]:[{tag:"animate",attributes:Zo(Zo({},M),{},{values:"1;0;0;0;0;1;"})}]}),p||b.push({tag:"path",attributes:Zo(Zo({},C),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:Zo(Zo({},M),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:b}}}},wee={hooks:function(){return{parseNodeAttributes:function(p,b){var C=b.getAttribute("data-fa-symbol"),S=C===null?!1:C===""?!0:C;return p.symbol=S,p}}}},xee=[yQ,see,iee,lee,cee,gee,pee,hee,bee,yee,wee];IQ(xee,{mixoutsTo:ym});ym.noAuto;var xF=ym.config,_ee=ym.library;ym.dom;var J6=ym.parse;ym.findIconDefinition;ym.toHtml;var Cee=ym.icon;ym.layer;var kee=ym.text;ym.counter;function XL(a,u){var p=Object.keys(a);if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(a);u&&(b=b.filter(function(C){return Object.getOwnPropertyDescriptor(a,C).enumerable})),p.push.apply(p,b)}return p}function Mg(a){for(var u=1;u<arguments.length;u++){var p=arguments[u]!=null?arguments[u]:{};u%2?XL(Object(p),!0).forEach(function(b){Cd(a,b,p[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(p)):XL(Object(p)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(p,b))})}return a}function Q6(a){return Q6=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},Q6(a)}function Cd(a,u,p){return u in a?Object.defineProperty(a,u,{value:p,enumerable:!0,configurable:!0,writable:!0}):a[u]=p,a}function See(a,u){if(a==null)return{};var p={},b=Object.keys(a),C,S;for(S=0;S<b.length;S++)C=b[S],!(u.indexOf(C)>=0)&&(p[C]=a[C]);return p}function Eee(a,u){if(a==null)return{};var p=See(a,u),b,C;if(Object.getOwnPropertySymbols){var S=Object.getOwnPropertySymbols(a);for(C=0;C<S.length;C++)b=S[C],!(u.indexOf(b)>=0)&&(!Object.prototype.propertyIsEnumerable.call(a,b)||(p[b]=a[b]))}return p}function ZR(a){return Oee(a)||Tee(a)||Aee(a)||Nee()}function Oee(a){if(Array.isArray(a))return WR(a)}function Tee(a){if(typeof Symbol!="undefined"&&a[Symbol.iterator]!=null||a["@@iterator"]!=null)return Array.from(a)}function Aee(a,u){if(!!a){if(typeof a=="string")return WR(a,u);var p=Object.prototype.toString.call(a).slice(8,-1);if(p==="Object"&&a.constructor&&(p=a.constructor.name),p==="Map"||p==="Set")return Array.from(a);if(p==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(p))return WR(a,u)}}function WR(a,u){(u==null||u>a.length)&&(u=a.length);for(var p=0,b=new Array(u);p<u;p++)b[p]=a[p];return b}function Nee(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Mee=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},_F={exports:{}};(function(a){(function(u){var p=function(J,ae,De){if(!q(ae)||fe(ae)||le(ae)||ue(ae)||I(ae))return ae;var G,Ae=0,ye=0;if(re(ae))for(G=[],ye=ae.length;Ae<ye;Ae++)G.push(p(J,ae[Ae],De));else{G={};for(var Pt in ae)Object.prototype.hasOwnProperty.call(ae,Pt)&&(G[J(Pt,De)]=p(J,ae[Pt],De))}return G},b=function(J,ae){ae=ae||{};var De=ae.separator||"_",G=ae.split||/(?=[A-Z])/;return J.split(G).join(De)},C=function(J){return ke(J)?J:(J=J.replace(/[\-_\s]+(.)?/g,function(ae,De){return De?De.toUpperCase():""}),J.substr(0,1).toLowerCase()+J.substr(1))},S=function(J){var ae=C(J);return ae.substr(0,1).toUpperCase()+ae.substr(1)},M=function(J,ae){return b(J,ae).toLowerCase()},D=Object.prototype.toString,I=function(J){return typeof J=="function"},q=function(J){return J===Object(J)},re=function(J){return D.call(J)=="[object Array]"},fe=function(J){return D.call(J)=="[object Date]"},le=function(J){return D.call(J)=="[object RegExp]"},ue=function(J){return D.call(J)=="[object Boolean]"},ke=function(J){return J=J-0,J===J},xe=function(J,ae){var De=ae&&"process"in ae?ae.process:ae;return typeof De!="function"?J:function(G,Ae){return De(G,J,Ae)}},me={camelize:C,decamelize:M,pascalize:S,depascalize:M,camelizeKeys:function(J,ae){return p(xe(C,ae),J)},decamelizeKeys:function(J,ae){return p(xe(M,ae),J,ae)},pascalizeKeys:function(J,ae){return p(xe(S,ae),J)},depascalizeKeys:function(){return this.decamelizeKeys.apply(this,arguments)}};a.exports?a.exports=me:u.humps=me})(Mee)})(_F);var Ree=_F.exports,Dee=["class","style"];function Iee(a){return a.split(";").map(function(u){return u.trim()}).filter(function(u){return u}).reduce(function(u,p){var b=p.indexOf(":"),C=Ree.camelize(p.slice(0,b)),S=p.slice(b+1).trim();return u[C]=S,u},{})}function Pee(a){return a.split(/\s+/).reduce(function(u,p){return u[p]=!0,u},{})}function VD(a){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof a=="string")return a;var b=(a.children||[]).map(function(I){return VD(I)}),C=Object.keys(a.attributes||{}).reduce(function(I,q){var re=a.attributes[q];switch(q){case"class":I.class=Pee(re);break;case"style":I.style=Iee(re);break;default:I.attrs[q]=re}return I},{attrs:{},class:{},style:{}});p.class;var S=p.style,M=S===void 0?{}:S,D=Eee(p,Dee);return _f(a.tag,Mg(Mg(Mg({},u),{},{class:C.class,style:Mg(Mg({},C.style),M)},C.attrs),D),b)}var CF=!1;try{CF=!0}catch{}function Lee(){if(!CF&&console&&typeof console.error=="function"){var a;(a=console).error.apply(a,arguments)}}function f5(a,u){return Array.isArray(u)&&u.length>0||!Array.isArray(u)&&u?Cd({},a,u):{}}function Bee(a){var u,p=(u={"fa-spin":a.spin,"fa-pulse":a.pulse,"fa-fw":a.fixedWidth,"fa-border":a.border,"fa-li":a.listItem,"fa-inverse":a.inverse,"fa-flip":a.flip===!0,"fa-flip-horizontal":a.flip==="horizontal"||a.flip==="both","fa-flip-vertical":a.flip==="vertical"||a.flip==="both"},Cd(u,"fa-".concat(a.size),a.size!==null),Cd(u,"fa-rotate-".concat(a.rotation),a.rotation!==null),Cd(u,"fa-pull-".concat(a.pull),a.pull!==null),Cd(u,"fa-swap-opacity",a.swapOpacity),Cd(u,"fa-bounce",a.bounce),Cd(u,"fa-shake",a.shake),Cd(u,"fa-beat",a.beat),Cd(u,"fa-fade",a.fade),Cd(u,"fa-beat-fade",a.beatFade),Cd(u,"fa-flash",a.flash),Cd(u,"fa-spin-pulse",a.spinPulse),Cd(u,"fa-spin-reverse",a.spinReverse),u);return Object.keys(p).map(function(b){return p[b]?b:null}).filter(function(b){return b})}function JL(a){if(a&&Q6(a)==="object"&&a.prefix&&a.iconName&&a.icon)return a;if(J6.icon)return J6.icon(a);if(a===null)return null;if(Q6(a)==="object"&&a.prefix&&a.iconName)return a;if(Array.isArray(a)&&a.length===2)return{prefix:a[0],iconName:a[1]};if(typeof a=="string")return{prefix:"fas",iconName:a}}var Fee=dk({name:"FontAwesomeIcon",props:{border:{type:Boolean,default:!1},fixedWidth:{type:Boolean,default:!1},flip:{type:[Boolean,String],default:!1,validator:function(u){return[!0,!1,"horizontal","vertical","both"].indexOf(u)>-1}},icon:{type:[Object,Array,String],required:!0},mask:{type:[Object,Array,String],default:null},listItem:{type:Boolean,default:!1},pull:{type:String,default:null,validator:function(u){return["right","left"].indexOf(u)>-1}},pulse:{type:Boolean,default:!1},rotation:{type:[String,Number],default:null,validator:function(u){return[90,180,270].indexOf(Number.parseInt(u,10))>-1}},swapOpacity:{type:Boolean,default:!1},size:{type:String,default:null,validator:function(u){return["2xs","xs","sm","lg","xl","2xl","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"].indexOf(u)>-1}},spin:{type:Boolean,default:!1},transform:{type:[String,Object],default:null},symbol:{type:[Boolean,String],default:!1},title:{type:String,default:null},inverse:{type:Boolean,default:!1},bounce:{type:Boolean,default:!1},shake:{type:Boolean,default:!1},beat:{type:Boolean,default:!1},fade:{type:Boolean,default:!1},beatFade:{type:Boolean,default:!1},flash:{type:Boolean,default:!1},spinPulse:{type:Boolean,default:!1},spinReverse:{type:Boolean,default:!1}},setup:function(u,p){var b=p.attrs,C=bo(function(){return JL(u.icon)}),S=bo(function(){return f5("classes",Bee(u))}),M=bo(function(){return f5("transform",typeof u.transform=="string"?J6.transform(u.transform):u.transform)}),D=bo(function(){return f5("mask",JL(u.mask))}),I=bo(function(){return Cee(C.value,Mg(Mg(Mg(Mg({},S.value),M.value),D.value),{},{symbol:u.symbol,title:u.title}))});xf(I,function(re){if(!re)return Lee("Could not find one or more icon(s)",C.value,D.value)},{immediate:!0});var q=bo(function(){return I.value?VD(I.value.abstract[0],{},b):null});return function(){return q.value}}});dk({name:"FontAwesomeLayers",props:{fixedWidth:{type:Boolean,default:!1}},setup:function(u,p){var b=p.slots,C=xF.familyPrefix,S=bo(function(){return["".concat(C,"-layers")].concat(ZR(u.fixedWidth?["".concat(C,"-fw")]:[]))});return function(){return _f("div",{class:S.value},b.default?b.default():[])}}});dk({name:"FontAwesomeLayersText",props:{value:{type:[String,Number],default:""},transform:{type:[String,Object],default:null},counter:{type:Boolean,default:!1},position:{type:String,default:null,validator:function(u){return["bottom-left","bottom-right","top-left","top-right"].indexOf(u)>-1}}},setup:function(u,p){var b=p.attrs,C=xF.familyPrefix,S=bo(function(){return f5("classes",[].concat(ZR(u.counter?["".concat(C,"-layers-counter")]:[]),ZR(u.position?["".concat(C,"-layers-").concat(u.position)]:[])))}),M=bo(function(){return f5("transform",typeof u.transform=="string"?J6.transform(u.transform):u.transform)}),D=bo(function(){var q=kee(u.value.toString(),Mg(Mg({},M.value),S.value)),re=q.abstract;return u.counter&&(re[0].attributes.class=re[0].attributes.class.replace("fa-layers-text","")),re[0]}),I=bo(function(){return VD(D.value,{},b)});return function(){return I.value}}});var Hee={prefix:"fas",iconName:"right-from-bracket",icon:[512,512,["sign-out-alt"],"f2f5","M377.9 105.9L500.7 228.7c7.2 7.2 11.3 17.1 11.3 27.3s-4.1 20.1-11.3 27.3L377.9 406.1c-6.4 6.4-15 9.9-24 9.9c-18.7 0-33.9-15.2-33.9-33.9l0-62.1-128 0c-17.7 0-32-14.3-32-32l0-64c0-17.7 14.3-32 32-32l128 0 0-62.1c0-18.7 15.2-33.9 33.9-33.9c9 0 17.6 3.6 24 9.9zM160 96L96 96c-17.7 0-32 14.3-32 32l0 256c0 17.7 14.3 32 32 32l64 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-64 0c-53 0-96-43-96-96L0 128C0 75 43 32 96 32l64 0c17.7 0 32 14.3 32 32s-14.3 32-32 32z"]},zee={prefix:"fas",iconName:"comments",icon:[640,512,[128490,61670],"f086","M208 352c114.9 0 208-78.8 208-176S322.9 0 208 0S0 78.8 0 176c0 38.6 14.7 74.3 39.6 103.4c-3.5 9.4-8.7 17.7-14.2 24.7c-4.8 6.2-9.7 11-13.3 14.3c-1.8 1.6-3.3 2.9-4.3 3.7c-.5 .4-.9 .7-1.1 .8l-.2 .2 0 0 0 0C1 327.2-1.4 334.4 .8 340.9S9.1 352 16 352c21.8 0 43.8-5.6 62.1-12.5c9.2-3.5 17.8-7.4 25.3-11.4C134.1 343.3 169.8 352 208 352zM448 176c0 112.3-99.1 196.9-216.5 207C255.8 457.4 336.4 512 432 512c38.2 0 73.9-8.7 104.7-23.9c7.5 4 16 7.9 25.2 11.4c18.3 6.9 40.3 12.5 62.1 12.5c6.9 0 13.1-4.5 15.2-11.1c2.1-6.6-.2-13.8-5.8-17.9l0 0 0 0-.2-.2c-.2-.2-.6-.4-1.1-.8c-1-.8-2.5-2-4.3-3.7c-3.6-3.3-8.5-8.1-13.3-14.3c-5.5-7-10.7-15.4-14.2-24.7c24.9-29 39.6-64.7 39.6-103.4c0-92.8-84.9-168.9-192.6-175.5c.4 5.1 .6 10.3 .6 15.5z"]},Vee={prefix:"fas",iconName:"bars",icon:[448,512,["navicon"],"f0c9","M0 96C0 78.3 14.3 64 32 64H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32C14.3 128 0 113.7 0 96zM0 256c0-17.7 14.3-32 32-32H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32c-17.7 0-32-14.3-32-32zM448 416c0 17.7-14.3 32-32 32H32c-17.7 0-32-14.3-32-32s14.3-32 32-32H416c17.7 0 32 14.3 32 32z"]},$ee={prefix:"fas",iconName:"sitemap",icon:[576,512,[],"f0e8","M208 80c0-26.5 21.5-48 48-48h64c26.5 0 48 21.5 48 48v64c0 26.5-21.5 48-48 48h-8v40H464c30.9 0 56 25.1 56 56v32h8c26.5 0 48 21.5 48 48v64c0 26.5-21.5 48-48 48H464c-26.5 0-48-21.5-48-48V368c0-26.5 21.5-48 48-48h8V288c0-4.4-3.6-8-8-8H312v40h8c26.5 0 48 21.5 48 48v64c0 26.5-21.5 48-48 48H256c-26.5 0-48-21.5-48-48V368c0-26.5 21.5-48 48-48h8V280H112c-4.4 0-8 3.6-8 8v32h8c26.5 0 48 21.5 48 48v64c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V368c0-26.5 21.5-48 48-48h8V288c0-30.9 25.1-56 56-56H264V192h-8c-26.5 0-48-21.5-48-48V80z"]},Uee={prefix:"fas",iconName:"user",icon:[448,512,[128100,62144],"f007","M224 256A128 128 0 1 0 224 0a128 128 0 1 0 0 256zm-45.7 48C79.8 304 0 383.8 0 482.3C0 498.7 13.3 512 29.7 512H418.3c16.4 0 29.7-13.3 29.7-29.7C448 383.8 368.2 304 269.7 304H178.3z"]},jee={prefix:"fas",iconName:"toggle-on",icon:[576,512,[],"f205","M192 64C86 64 0 150 0 256S86 448 192 448H384c106 0 192-86 192-192s-86-192-192-192H192zm192 96a96 96 0 1 1 0 192 96 96 0 1 1 0-192z"]},Zee={prefix:"fas",iconName:"handshake",icon:[640,512,[],"f2b5","M323.4 85.2l-96.8 78.4c-16.1 13-19.2 36.4-7 53.1c12.9 17.8 38 21.3 55.3 7.8l99.3-77.2c7-5.4 17-4.2 22.5 2.8s4.2 17-2.8 22.5l-20.9 16.2L512 316.8V128h-.7l-3.9-2.5L434.8 79c-15.3-9.8-33.2-15-51.4-15c-21.8 0-43 7.5-60 21.2zm22.8 124.4l-51.7 40.2C263 274.4 217.3 268 193.7 235.6c-22.2-30.5-16.6-73.1 12.7-96.8l83.2-67.3c-11.6-4.9-24.1-7.4-36.8-7.4C234 64 215.7 69.6 200 80l-72 48V352h28.2l91.4 83.4c19.6 17.9 49.9 16.5 67.8-3.1c5.5-6.1 9.2-13.2 11.1-20.6l17 15.6c19.5 17.9 49.9 16.6 67.8-2.9c4.5-4.9 7.8-10.6 9.9-16.5c19.4 13 45.8 10.3 62.1-7.5c17.9-19.5 16.6-49.9-2.9-67.8l-134.2-123zM16 128c-8.8 0-16 7.2-16 16V352c0 17.7 14.3 32 32 32H64c17.7 0 32-14.3 32-32V128H16zM48 320a16 16 0 1 1 0 32 16 16 0 1 1 0-32zM544 128V352c0 17.7 14.3 32 32 32h32c17.7 0 32-14.3 32-32V144c0-8.8-7.2-16-16-16H544zm32 208a16 16 0 1 1 32 0 16 16 0 1 1 -32 0z"]},Wee={prefix:"fas",iconName:"newspaper",icon:[512,512,[128240],"f1ea","M96 96c0-35.3 28.7-64 64-64H448c35.3 0 64 28.7 64 64V416c0 35.3-28.7 64-64 64H80c-44.2 0-80-35.8-80-80V128c0-17.7 14.3-32 32-32s32 14.3 32 32V400c0 8.8 7.2 16 16 16s16-7.2 16-16V96zm64 24v80c0 13.3 10.7 24 24 24H296c13.3 0 24-10.7 24-24V120c0-13.3-10.7-24-24-24H184c-13.3 0-24 10.7-24 24zm208-8c0 8.8 7.2 16 16 16h48c8.8 0 16-7.2 16-16s-7.2-16-16-16H384c-8.8 0-16 7.2-16 16zm0 96c0 8.8 7.2 16 16 16h48c8.8 0 16-7.2 16-16s-7.2-16-16-16H384c-8.8 0-16 7.2-16 16zM160 304c0 8.8 7.2 16 16 16H432c8.8 0 16-7.2 16-16s-7.2-16-16-16H176c-8.8 0-16 7.2-16 16zm0 96c0 8.8 7.2 16 16 16H432c8.8 0 16-7.2 16-16s-7.2-16-16-16H176c-8.8 0-16 7.2-16 16z"]},Gee={prefix:"fas",iconName:"rectangle-ad",icon:[576,512,["ad"],"f641","M64 32C28.7 32 0 60.7 0 96V416c0 35.3 28.7 64 64 64H512c35.3 0 64-28.7 64-64V96c0-35.3-28.7-64-64-64H64zM229.5 173.3l72 144c5.9 11.9 1.1 26.3-10.7 32.2s-26.3 1.1-32.2-10.7L253.2 328H162.8l-5.4 10.7c-5.9 11.9-20.3 16.7-32.2 10.7s-16.7-20.3-10.7-32.2l72-144c4.1-8.1 12.4-13.3 21.5-13.3s17.4 5.1 21.5 13.3zM208 237.7L186.8 280h42.3L208 237.7zM392 256a24 24 0 1 0 0 48 24 24 0 1 0 0-48zm24-43.9V184c0-13.3 10.7-24 24-24s24 10.7 24 24v96 48c0 13.3-10.7 24-24 24c-6.6 0-12.6-2.7-17-7c-9.4 4.5-19.9 7-31 7c-39.8 0-72-32.2-72-72s32.2-72 72-72c8.4 0 16.5 1.4 24 4.1z"]},qee={prefix:"fas",iconName:"magnifying-glass-chart",icon:[512,512,[],"e522","M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zm-312 8v64c0 13.3 10.7 24 24 24s24-10.7 24-24l0-64c0-13.3-10.7-24-24-24s-24 10.7-24 24zm80-96V280c0 13.3 10.7 24 24 24s24-10.7 24-24V120c0-13.3-10.7-24-24-24s-24 10.7-24 24zm80 64v96c0 13.3 10.7 24 24 24s24-10.7 24-24V184c0-13.3-10.7-24-24-24s-24 10.7-24 24z"]},Kee={prefix:"fas",iconName:"screwdriver-wrench",icon:[512,512,["tools"],"f7d9","M78.6 5C69.1-2.4 55.6-1.5 47 7L7 47c-8.5 8.5-9.4 22-2.1 31.6l80 104c4.5 5.9 11.6 9.4 19 9.4h54.1l109 109c-14.7 29-10 65.4 14.3 89.6l112 112c12.5 12.5 32.8 12.5 45.3 0l64-64c12.5-12.5 12.5-32.8 0-45.3l-112-112c-24.2-24.2-60.6-29-89.6-14.3l-109-109V104c0-7.5-3.5-14.5-9.4-19L78.6 5zM19.9 396.1C7.2 408.8 0 426.1 0 444.1C0 481.6 30.4 512 67.9 512c18 0 35.3-7.2 48-19.9L233.7 374.3c-7.8-20.9-9-43.6-3.6-65.1l-61.7-61.7L19.9 396.1zM512 144c0-10.5-1.1-20.7-3.2-30.5c-2.4-11.2-16.1-14.1-24.2-6l-63.9 63.9c-3 3-7.1 4.7-11.3 4.7H352c-8.8 0-16-7.2-16-16V102.6c0-4.2 1.7-8.3 4.7-11.3l63.9-63.9c8.1-8.1 5.2-21.8-6-24.2C388.7 1.1 378.5 0 368 0C288.5 0 224 64.5 224 144l0 .8 85.3 85.3c36-9.1 75.8 .5 104 28.7L429 274.5c49-23 83-72.8 83-130.5zM56 432a24 24 0 1 1 48 0 24 24 0 1 1 -48 0z"]},Yee={prefix:"fas",iconName:"circle-info",icon:[512,512,["info-circle"],"f05a","M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM216 336h24V272H216c-13.3 0-24-10.7-24-24s10.7-24 24-24h48c13.3 0 24 10.7 24 24v88h8c13.3 0 24 10.7 24 24s-10.7 24-24 24H216c-13.3 0-24-10.7-24-24s10.7-24 24-24zm40-208a32 32 0 1 1 0 64 32 32 0 1 1 0-64z"]},Xee={prefix:"fas",iconName:"gear",icon:[512,512,[9881,"cog"],"f013","M495.9 166.6c3.2 8.7 .5 18.4-6.4 24.6l-43.3 39.4c1.1 8.3 1.7 16.8 1.7 25.4s-.6 17.1-1.7 25.4l43.3 39.4c6.9 6.2 9.6 15.9 6.4 24.6c-4.4 11.9-9.7 23.3-15.8 34.3l-4.7 8.1c-6.6 11-14 21.4-22.1 31.2c-5.9 7.2-15.7 9.6-24.5 6.8l-55.7-17.7c-13.4 10.3-28.2 18.9-44 25.4l-12.5 57.1c-2 9.1-9 16.3-18.2 17.8c-13.8 2.3-28 3.5-42.5 3.5s-28.7-1.2-42.5-3.5c-9.2-1.5-16.2-8.7-18.2-17.8l-12.5-57.1c-15.8-6.5-30.6-15.1-44-25.4L83.1 425.9c-8.8 2.8-18.6 .3-24.5-6.8c-8.1-9.8-15.5-20.2-22.1-31.2l-4.7-8.1c-6.1-11-11.4-22.4-15.8-34.3c-3.2-8.7-.5-18.4 6.4-24.6l43.3-39.4C64.6 273.1 64 264.6 64 256s.6-17.1 1.7-25.4L22.4 191.2c-6.9-6.2-9.6-15.9-6.4-24.6c4.4-11.9 9.7-23.3 15.8-34.3l4.7-8.1c6.6-11 14-21.4 22.1-31.2c5.9-7.2 15.7-9.6 24.5-6.8l55.7 17.7c13.4-10.3 28.2-18.9 44-25.4l12.5-57.1c2-9.1 9-16.3 18.2-17.8C227.3 1.2 241.5 0 256 0s28.7 1.2 42.5 3.5c9.2 1.5 16.2 8.7 18.2 17.8l12.5 57.1c15.8 6.5 30.6 15.1 44 25.4l55.7-17.7c8.8-2.8 18.6-.3 24.5 6.8c8.1 9.8 15.5 20.2 22.1 31.2l4.7 8.1c6.1 11 11.4 22.4 15.8 34.3zM256 336a80 80 0 1 0 0-160 80 80 0 1 0 0 160z"]},Jee={prefix:"fas",iconName:"earth-americas",icon:[512,512,[127758,"earth","earth-america","globe-americas"],"f57d","M57.7 193l9.4 16.4c8.3 14.5 21.9 25.2 38 29.8L163 255.7c17.2 4.9 29 20.6 29 38.5v39.9c0 11 6.2 21 16 25.9s16 14.9 16 25.9v39c0 15.6 14.9 26.9 29.9 22.6c16.1-4.6 28.6-17.5 32.7-33.8l2.8-11.2c4.2-16.9 15.2-31.4 30.3-40l8.1-4.6c15-8.5 24.2-24.5 24.2-41.7v-8.3c0-12.7-5.1-24.9-14.1-33.9l-3.9-3.9c-9-9-21.2-14.1-33.9-14.1H257c-11.1 0-22.1-2.9-31.8-8.4l-34.5-19.7c-4.3-2.5-7.6-6.5-9.2-11.2c-3.2-9.6 1.1-20 10.2-24.5l5.9-3c6.6-3.3 14.3-3.9 21.3-1.5l23.2 7.7c8.2 2.7 17.2-.4 21.9-7.5c4.7-7 4.2-16.3-1.2-22.8l-13.6-16.3c-10-12-9.9-29.5 .3-41.3l15.7-18.3c8.8-10.3 10.2-25 3.5-36.7l-2.4-4.2c-3.5-.2-6.9-.3-10.4-.3C163.1 48 84.4 108.9 57.7 193zM464 256c0-36.8-9.6-71.4-26.4-101.5L412 164.8c-15.7 6.3-23.8 23.8-18.5 39.8l16.9 50.7c3.5 10.4 12 18.3 22.6 20.9l29.1 7.3c1.2-9 1.8-18.2 1.8-27.5zM0 256a256 256 0 1 1 512 0A256 256 0 1 1 0 256z"]},Qee=Jee,ete={prefix:"fas",iconName:"plus",icon:[448,512,[10133,61543,"add"],"2b","M256 80c0-17.7-14.3-32-32-32s-32 14.3-32 32V224H48c-17.7 0-32 14.3-32 32s14.3 32 32 32H192V432c0 17.7 14.3 32 32 32s32-14.3 32-32V288H400c17.7 0 32-14.3 32-32s-14.3-32-32-32H256V80z"]},tte={prefix:"fas",iconName:"xmark",icon:[384,512,[128473,10005,10006,10060,215,"close","multiply","remove","times"],"f00d","M342.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 210.7 86.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L146.7 256 41.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L192 301.3 297.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L237.3 256 342.6 150.6z"]},nte={prefix:"fas",iconName:"check",icon:[448,512,[10003,10004],"f00c","M438.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L160 338.7 393.4 105.4c12.5-12.5 32.8-12.5 45.3 0z"]};_ee.add(Uee,Xee,Hee,jee,Vee,Qee,$ee,Wee,Kee,qee,ete,nte,tte,Gee,zee,Zee,Yee);UJ.init();const ote=tU(),I5=j$(JK);I5.component("font-awesome-icon",Fee);I5.use(EB);I5.use(ote);I5.use($X);EB.isReady().then(()=>I5.mount("#app"));export{Pi as F,Cf as _,ate as a,Li as b,bo as c,uc as d,An as e,Y as f,ta as g,Bc as h,Ig as i,jr as j,vo as k,gs as l,bD as m,ea as n,Bt as o,$o as r,Mt as t,gl as u,xf as w};
